<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AscEmu: AscEmu/dep/StormLib/src/StormLib.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="AscEmu.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AscEmu
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('StormLib_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">StormLib.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="StormPort_8h_source.html">StormPort.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for StormLib.h:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h__incl.svg" width="100%" height="448"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h__dep__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="StormLib_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TMPQUserData.html">_TMPQUserData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TMPQHeader.html">_TMPQHeader</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TMPQHash.html">_TMPQHash</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TMPQBlock.html">_TMPQBlock</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TPatchInfo.html">_TPatchInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TFileEntry.html">_TFileEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TMPQExtHeader.html">_TMPQExtHeader</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TMPQHetHeader.html">_TMPQHetHeader</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TMPQBetHeader.html">_TMPQBetHeader</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TMPQHetTable.html">_TMPQHetTable</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TMPQBetTable.html">_TMPQBetTable</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TMPQNamePrefix.html">_TMPQNamePrefix</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TMPQNameCache.html">_TMPQNameCache</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TMPQArchive.html">_TMPQArchive</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TMPQFile.html">_TMPQFile</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__SFILE__FIND__DATA.html">_SFILE_FIND_DATA</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__SFILE__CREATE__MPQ.html">_SFILE_CREATE_MPQ</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__SFILE__MARKERS.html">_SFILE_MARKERS</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTStreamBitmap.html">TStreamBitmap</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a695ff4e42964a9bb25b146dbbfa930a5" id="r_a695ff4e42964a9bb25b146dbbfa930a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a695ff4e42964a9bb25b146dbbfa930a5">STORMLIB_NO_AUTO_LINK</a></td></tr>
<tr class="separator:a695ff4e42964a9bb25b146dbbfa930a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a031908fc3b54d00500f8beb205e7b62b" id="r_a031908fc3b54d00500f8beb205e7b62b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a031908fc3b54d00500f8beb205e7b62b">STORMLIB_VERSION</a>&#160;&#160;&#160;0x0918</td></tr>
<tr class="separator:a031908fc3b54d00500f8beb205e7b62b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de2eed879324d368864ee5c92724543" id="r_a7de2eed879324d368864ee5c92724543"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a7de2eed879324d368864ee5c92724543">STORMLIB_VERSION_STRING</a>&#160;&#160;&#160;&quot;9.24&quot;</td></tr>
<tr class="separator:a7de2eed879324d368864ee5c92724543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdeb8a7e9ccaca654f89d6ea624a296e" id="r_afdeb8a7e9ccaca654f89d6ea624a296e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#afdeb8a7e9ccaca654f89d6ea624a296e">ID_MPQ</a>&#160;&#160;&#160;0x1A51504D</td></tr>
<tr class="separator:afdeb8a7e9ccaca654f89d6ea624a296e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e2e3020558d60961dfcc8ef291b5a23" id="r_a4e2e3020558d60961dfcc8ef291b5a23"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a4e2e3020558d60961dfcc8ef291b5a23">ID_MPQ_USERDATA</a>&#160;&#160;&#160;0x1B51504D</td></tr>
<tr class="separator:a4e2e3020558d60961dfcc8ef291b5a23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe07659fac241778a323f2f9cfec7863" id="r_abe07659fac241778a323f2f9cfec7863"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#abe07659fac241778a323f2f9cfec7863">ID_MPK</a>&#160;&#160;&#160;0x1A4B504D</td></tr>
<tr class="separator:abe07659fac241778a323f2f9cfec7863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a1367b6d80332535b570badd03ef220" id="r_a5a1367b6d80332535b570badd03ef220"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a5a1367b6d80332535b570badd03ef220">ERROR_AVI_FILE</a>&#160;&#160;&#160;10000</td></tr>
<tr class="separator:a5a1367b6d80332535b570badd03ef220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2030502390a47def8b04f44cb34d3f9" id="r_aa2030502390a47def8b04f44cb34d3f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aa2030502390a47def8b04f44cb34d3f9">ERROR_UNKNOWN_FILE_KEY</a>&#160;&#160;&#160;10001</td></tr>
<tr class="separator:aa2030502390a47def8b04f44cb34d3f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f18b946c99fbbd49141142a3dfa7a06" id="r_a9f18b946c99fbbd49141142a3dfa7a06"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a9f18b946c99fbbd49141142a3dfa7a06">ERROR_CHECKSUM_ERROR</a>&#160;&#160;&#160;10002</td></tr>
<tr class="separator:a9f18b946c99fbbd49141142a3dfa7a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7683ee00dc0a85461bd66b9b11d729cf" id="r_a7683ee00dc0a85461bd66b9b11d729cf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a7683ee00dc0a85461bd66b9b11d729cf">ERROR_INTERNAL_FILE</a>&#160;&#160;&#160;10003</td></tr>
<tr class="separator:a7683ee00dc0a85461bd66b9b11d729cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6546324d17254e46a57699f7850c033a" id="r_a6546324d17254e46a57699f7850c033a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a6546324d17254e46a57699f7850c033a">ERROR_BASE_FILE_MISSING</a>&#160;&#160;&#160;10004</td></tr>
<tr class="separator:a6546324d17254e46a57699f7850c033a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45e7eb55f8eb0cc8a34abbe9af900f84" id="r_a45e7eb55f8eb0cc8a34abbe9af900f84"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a45e7eb55f8eb0cc8a34abbe9af900f84">ERROR_MARKED_FOR_DELETE</a>&#160;&#160;&#160;10005</td></tr>
<tr class="separator:a45e7eb55f8eb0cc8a34abbe9af900f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a647cc9f030c44bd40c5d8222b784647b" id="r_a647cc9f030c44bd40c5d8222b784647b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a647cc9f030c44bd40c5d8222b784647b">ERROR_FILE_INCOMPLETE</a>&#160;&#160;&#160;10006</td></tr>
<tr class="separator:a647cc9f030c44bd40c5d8222b784647b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f7555a5180c325aff07e8ff0253ece" id="r_a57f7555a5180c325aff07e8ff0253ece"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a57f7555a5180c325aff07e8ff0253ece">ERROR_UNKNOWN_FILE_NAMES</a>&#160;&#160;&#160;10007</td></tr>
<tr class="separator:a57f7555a5180c325aff07e8ff0253ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3cb06f73f06a81c44c08632c90b9c80" id="r_ab3cb06f73f06a81c44c08632c90b9c80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab3cb06f73f06a81c44c08632c90b9c80">ERROR_CANT_FIND_PATCH_PREFIX</a>&#160;&#160;&#160;10008</td></tr>
<tr class="separator:ab3cb06f73f06a81c44c08632c90b9c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5130639f290c0bd6cd90291d2e7bd68" id="r_ae5130639f290c0bd6cd90291d2e7bd68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ae5130639f290c0bd6cd90291d2e7bd68">ERROR_FAKE_MPQ_HEADER</a>&#160;&#160;&#160;10009</td></tr>
<tr class="separator:ae5130639f290c0bd6cd90291d2e7bd68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f4d36e2ffb81279193121e9024feb43" id="r_a0f4d36e2ffb81279193121e9024feb43"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a0f4d36e2ffb81279193121e9024feb43">HASH_TABLE_SIZE_MIN</a>&#160;&#160;&#160;0x00000004</td></tr>
<tr class="separator:a0f4d36e2ffb81279193121e9024feb43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8477ef59ba6aef774870885da4bc7c88" id="r_a8477ef59ba6aef774870885da4bc7c88"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a8477ef59ba6aef774870885da4bc7c88">HASH_TABLE_SIZE_DEFAULT</a>&#160;&#160;&#160;0x00001000</td></tr>
<tr class="separator:a8477ef59ba6aef774870885da4bc7c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedbee811ee259deb7cc5fff7cd360b46" id="r_aedbee811ee259deb7cc5fff7cd360b46"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aedbee811ee259deb7cc5fff7cd360b46">HASH_TABLE_SIZE_MAX</a>&#160;&#160;&#160;0x00080000</td></tr>
<tr class="separator:aedbee811ee259deb7cc5fff7cd360b46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad10ece6325386b986d99623ab34c3b59" id="r_ad10ece6325386b986d99623ab34c3b59"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ad10ece6325386b986d99623ab34c3b59">HASH_ENTRY_DELETED</a>&#160;&#160;&#160;0xFFFFFFFE</td></tr>
<tr class="separator:ad10ece6325386b986d99623ab34c3b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add57a74c393d7762e00da5327cff55b5" id="r_add57a74c393d7762e00da5327cff55b5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#add57a74c393d7762e00da5327cff55b5">HASH_ENTRY_FREE</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="separator:add57a74c393d7762e00da5327cff55b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52ceafc669c872d0d062c04b7331a715" id="r_a52ceafc669c872d0d062c04b7331a715"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a52ceafc669c872d0d062c04b7331a715">HET_ENTRY_DELETED</a>&#160;&#160;&#160;0x80</td></tr>
<tr class="separator:a52ceafc669c872d0d062c04b7331a715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f7b5a05f7a5af87e451d05194d530f" id="r_a93f7b5a05f7a5af87e451d05194d530f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a93f7b5a05f7a5af87e451d05194d530f">HET_ENTRY_FREE</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:a93f7b5a05f7a5af87e451d05194d530f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf527ede972721c283bacf8297d08228" id="r_aaf527ede972721c283bacf8297d08228"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aaf527ede972721c283bacf8297d08228">SFILE_OPEN_HARD_DISK_FILE</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:aaf527ede972721c283bacf8297d08228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb10f9714084ef0ac3eec153617138c" id="r_a5cb10f9714084ef0ac3eec153617138c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a5cb10f9714084ef0ac3eec153617138c">SFILE_OPEN_CDROM_FILE</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a5cb10f9714084ef0ac3eec153617138c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0487a431f6f1a0104457adccdff675f" id="r_aa0487a431f6f1a0104457adccdff675f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aa0487a431f6f1a0104457adccdff675f">SFILE_OPEN_FROM_MPQ</a>&#160;&#160;&#160;0x00000000</td></tr>
<tr class="separator:aa0487a431f6f1a0104457adccdff675f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05f421e24b84a6adf09346b8c023bfbf" id="r_a05f421e24b84a6adf09346b8c023bfbf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a05f421e24b84a6adf09346b8c023bfbf">SFILE_OPEN_CHECK_EXISTS</a>&#160;&#160;&#160;0xFFFFFFFC</td></tr>
<tr class="separator:a05f421e24b84a6adf09346b8c023bfbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1624257a38d19c0d19bb4af7edbec9c7" id="r_a1624257a38d19c0d19bb4af7edbec9c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a1624257a38d19c0d19bb4af7edbec9c7">SFILE_OPEN_BASE_FILE</a>&#160;&#160;&#160;0xFFFFFFFD</td></tr>
<tr class="separator:a1624257a38d19c0d19bb4af7edbec9c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2bfdfbe63dbc19f7c508d3eaebef8aa" id="r_ac2bfdfbe63dbc19f7c508d3eaebef8aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ac2bfdfbe63dbc19f7c508d3eaebef8aa">SFILE_OPEN_ANY_LOCALE</a>&#160;&#160;&#160;0xFFFFFFFE</td></tr>
<tr class="separator:ac2bfdfbe63dbc19f7c508d3eaebef8aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52c689d0a82d6fd9b5c71519d1ef95ea" id="r_a52c689d0a82d6fd9b5c71519d1ef95ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a52c689d0a82d6fd9b5c71519d1ef95ea">SFILE_OPEN_LOCAL_FILE</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="separator:a52c689d0a82d6fd9b5c71519d1ef95ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac79954b2e62ac6c6da211fc5c75973e4" id="r_ac79954b2e62ac6c6da211fc5c75973e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a>&#160;&#160;&#160;0x00000001</td></tr>
<tr class="separator:ac79954b2e62ac6c6da211fc5c75973e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c8ed28738e3f0f8fb54fbc395704613" id="r_a3c8ed28738e3f0f8fb54fbc395704613"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a3c8ed28738e3f0f8fb54fbc395704613">MPQ_FLAG_CHANGED</a>&#160;&#160;&#160;0x00000002</td></tr>
<tr class="separator:a3c8ed28738e3f0f8fb54fbc395704613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e78695275e602042f25c946a7a8fdb5" id="r_a4e78695275e602042f25c946a7a8fdb5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a4e78695275e602042f25c946a7a8fdb5">MPQ_FLAG_MALFORMED</a>&#160;&#160;&#160;0x00000004</td></tr>
<tr class="separator:a4e78695275e602042f25c946a7a8fdb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52801e7bcafa1210d50d7ae3adde08b7" id="r_a52801e7bcafa1210d50d7ae3adde08b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a52801e7bcafa1210d50d7ae3adde08b7">MPQ_FLAG_HASH_TABLE_CUT</a>&#160;&#160;&#160;0x00000008</td></tr>
<tr class="separator:a52801e7bcafa1210d50d7ae3adde08b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addbad71b1b3c0a952128de5e3cbd2ae7" id="r_addbad71b1b3c0a952128de5e3cbd2ae7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#addbad71b1b3c0a952128de5e3cbd2ae7">MPQ_FLAG_BLOCK_TABLE_CUT</a>&#160;&#160;&#160;0x00000010</td></tr>
<tr class="separator:addbad71b1b3c0a952128de5e3cbd2ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa95c447187bfeb909739ad2c64158d2e" id="r_aa95c447187bfeb909739ad2c64158d2e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aa95c447187bfeb909739ad2c64158d2e">MPQ_FLAG_CHECK_SECTOR_CRC</a>&#160;&#160;&#160;0x00000020</td></tr>
<tr class="separator:aa95c447187bfeb909739ad2c64158d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4acb2f84a836d801e0b5b663f8075d56" id="r_a4acb2f84a836d801e0b5b663f8075d56"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a4acb2f84a836d801e0b5b663f8075d56">MPQ_FLAG_SAVING_TABLES</a>&#160;&#160;&#160;0x00000040</td></tr>
<tr class="separator:a4acb2f84a836d801e0b5b663f8075d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2252bbf0465c58ef06b2dea7a5015b0d" id="r_a2252bbf0465c58ef06b2dea7a5015b0d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a2252bbf0465c58ef06b2dea7a5015b0d">MPQ_FLAG_PATCH</a>&#160;&#160;&#160;0x00000080</td></tr>
<tr class="separator:a2252bbf0465c58ef06b2dea7a5015b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22184fce52e714e8c5b81d6fd62742c" id="r_ab22184fce52e714e8c5b81d6fd62742c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab22184fce52e714e8c5b81d6fd62742c">MPQ_FLAG_WAR3_MAP</a>&#160;&#160;&#160;0x00000100</td></tr>
<tr class="separator:ab22184fce52e714e8c5b81d6fd62742c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abda1c3dc6af9ff2ad21e7baf0007e772" id="r_abda1c3dc6af9ff2ad21e7baf0007e772"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#abda1c3dc6af9ff2ad21e7baf0007e772">MPQ_FLAG_STARCRAFT_BETA</a>&#160;&#160;&#160;0x00000200</td></tr>
<tr class="separator:abda1c3dc6af9ff2ad21e7baf0007e772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ce12f91713bf164a65c77429ec519d7" id="r_a8ce12f91713bf164a65c77429ec519d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a8ce12f91713bf164a65c77429ec519d7">MPQ_FLAG_LISTFILE_NONE</a>&#160;&#160;&#160;0x00000400</td></tr>
<tr class="separator:a8ce12f91713bf164a65c77429ec519d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0170e1f41f3b3d32bbcdfd769f874f1" id="r_af0170e1f41f3b3d32bbcdfd769f874f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#af0170e1f41f3b3d32bbcdfd769f874f1">MPQ_FLAG_LISTFILE_NEW</a>&#160;&#160;&#160;0x00000800</td></tr>
<tr class="separator:af0170e1f41f3b3d32bbcdfd769f874f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1a56ed6868a60a65b59708c5b2c7d8" id="r_a0f1a56ed6868a60a65b59708c5b2c7d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a0f1a56ed6868a60a65b59708c5b2c7d8">MPQ_FLAG_LISTFILE_FORCE</a>&#160;&#160;&#160;0x00001000</td></tr>
<tr class="separator:a0f1a56ed6868a60a65b59708c5b2c7d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac254a5c8a6103f9164eaf9def02fc47" id="r_aac254a5c8a6103f9164eaf9def02fc47"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aac254a5c8a6103f9164eaf9def02fc47">MPQ_FLAG_ATTRIBUTES_NONE</a>&#160;&#160;&#160;0x00002000</td></tr>
<tr class="separator:aac254a5c8a6103f9164eaf9def02fc47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a8fb3f1968a9ff722f9ab904a3884a" id="r_a97a8fb3f1968a9ff722f9ab904a3884a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a97a8fb3f1968a9ff722f9ab904a3884a">MPQ_FLAG_ATTRIBUTES_NEW</a>&#160;&#160;&#160;0x00004000</td></tr>
<tr class="separator:a97a8fb3f1968a9ff722f9ab904a3884a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0d5a65742dfba15182b65f34921dad6" id="r_af0d5a65742dfba15182b65f34921dad6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#af0d5a65742dfba15182b65f34921dad6">MPQ_FLAG_SIGNATURE_NONE</a>&#160;&#160;&#160;0x00008000</td></tr>
<tr class="separator:af0d5a65742dfba15182b65f34921dad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8e3ca4aa697762957721160d94cca8" id="r_a4d8e3ca4aa697762957721160d94cca8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a4d8e3ca4aa697762957721160d94cca8">MPQ_FLAG_SIGNATURE_NEW</a>&#160;&#160;&#160;0x00010000</td></tr>
<tr class="separator:a4d8e3ca4aa697762957721160d94cca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e64f04d2a32d5aa33bcd8dba9b4826a" id="r_a6e64f04d2a32d5aa33bcd8dba9b4826a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a6e64f04d2a32d5aa33bcd8dba9b4826a">MPQ_SUBTYPE_MPQ</a>&#160;&#160;&#160;0x00000000</td></tr>
<tr class="separator:a6e64f04d2a32d5aa33bcd8dba9b4826a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad59731efb4497a04a008785e138dcb5f" id="r_ad59731efb4497a04a008785e138dcb5f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ad59731efb4497a04a008785e138dcb5f">MPQ_SUBTYPE_SQP</a>&#160;&#160;&#160;0x00000001</td></tr>
<tr class="separator:ad59731efb4497a04a008785e138dcb5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a651b9c2037d450d51b1a6926a074c216" id="r_a651b9c2037d450d51b1a6926a074c216"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a651b9c2037d450d51b1a6926a074c216">MPQ_SUBTYPE_MPK</a>&#160;&#160;&#160;0x00000002</td></tr>
<tr class="separator:a651b9c2037d450d51b1a6926a074c216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a022049f94d664793d5bdf9825b5dc368" id="r_a022049f94d664793d5bdf9825b5dc368"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a022049f94d664793d5bdf9825b5dc368">SFILE_INVALID_SIZE</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="separator:a022049f94d664793d5bdf9825b5dc368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b28e2af68b69ed953f40f888d3756d5" id="r_a4b28e2af68b69ed953f40f888d3756d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a4b28e2af68b69ed953f40f888d3756d5">SFILE_INVALID_POS</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="separator:a4b28e2af68b69ed953f40f888d3756d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e1878a70e0134ae5b02fcd4b31d317" id="r_aa4e1878a70e0134ae5b02fcd4b31d317"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aa4e1878a70e0134ae5b02fcd4b31d317">SFILE_INVALID_ATTRIBUTES</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="separator:aa4e1878a70e0134ae5b02fcd4b31d317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcf67b78a67069b1d79d2bb10247d985" id="r_adcf67b78a67069b1d79d2bb10247d985"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#adcf67b78a67069b1d79d2bb10247d985">MPQ_FILE_IMPLODE</a>&#160;&#160;&#160;0x00000100</td></tr>
<tr class="separator:adcf67b78a67069b1d79d2bb10247d985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05c0e6be65657562b772b5ca9b667f0b" id="r_a05c0e6be65657562b772b5ca9b667f0b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a05c0e6be65657562b772b5ca9b667f0b">MPQ_FILE_COMPRESS</a>&#160;&#160;&#160;0x00000200</td></tr>
<tr class="separator:a05c0e6be65657562b772b5ca9b667f0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08fa41196410aea4c03e8e9210cc6606" id="r_a08fa41196410aea4c03e8e9210cc6606"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a08fa41196410aea4c03e8e9210cc6606">MPQ_FILE_ENCRYPTED</a>&#160;&#160;&#160;0x00010000</td></tr>
<tr class="separator:a08fa41196410aea4c03e8e9210cc6606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e7165d33cb4239684eb19fe59f8a8d7" id="r_a0e7165d33cb4239684eb19fe59f8a8d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a0e7165d33cb4239684eb19fe59f8a8d7">MPQ_FILE_FIX_KEY</a>&#160;&#160;&#160;0x00020000</td></tr>
<tr class="separator:a0e7165d33cb4239684eb19fe59f8a8d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a437c4920546d0e3e3a7a4e040e9aef20" id="r_a437c4920546d0e3e3a7a4e040e9aef20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a437c4920546d0e3e3a7a4e040e9aef20">MPQ_FILE_PATCH_FILE</a>&#160;&#160;&#160;0x00100000</td></tr>
<tr class="separator:a437c4920546d0e3e3a7a4e040e9aef20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8b6a5c0f3a3c71f60202ba17b5210df" id="r_ad8b6a5c0f3a3c71f60202ba17b5210df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ad8b6a5c0f3a3c71f60202ba17b5210df">MPQ_FILE_SINGLE_UNIT</a>&#160;&#160;&#160;0x01000000</td></tr>
<tr class="separator:ad8b6a5c0f3a3c71f60202ba17b5210df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d72c520a6b4b501cb6459b9f5c88e6d" id="r_a3d72c520a6b4b501cb6459b9f5c88e6d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a3d72c520a6b4b501cb6459b9f5c88e6d">MPQ_FILE_DELETE_MARKER</a>&#160;&#160;&#160;0x02000000</td></tr>
<tr class="separator:a3d72c520a6b4b501cb6459b9f5c88e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a636264ae6b8299c2ad8bfcbf3d1c2e5f" id="r_a636264ae6b8299c2ad8bfcbf3d1c2e5f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a636264ae6b8299c2ad8bfcbf3d1c2e5f">MPQ_FILE_SECTOR_CRC</a>&#160;&#160;&#160;0x04000000</td></tr>
<tr class="separator:a636264ae6b8299c2ad8bfcbf3d1c2e5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e86598f61af3ffac4b9ed920cf1efab" id="r_a3e86598f61af3ffac4b9ed920cf1efab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a3e86598f61af3ffac4b9ed920cf1efab">MPQ_FILE_SIGNATURE</a>&#160;&#160;&#160;0x10000000</td></tr>
<tr class="separator:a3e86598f61af3ffac4b9ed920cf1efab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6f21d7e58bf7855583c8f9667467432" id="r_af6f21d7e58bf7855583c8f9667467432"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#af6f21d7e58bf7855583c8f9667467432">MPQ_FILE_EXISTS</a>&#160;&#160;&#160;0x80000000</td></tr>
<tr class="separator:af6f21d7e58bf7855583c8f9667467432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa273ca9983adfbfa82fe442303f27f32" id="r_aa273ca9983adfbfa82fe442303f27f32"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aa273ca9983adfbfa82fe442303f27f32">MPQ_FILE_REPLACEEXISTING</a>&#160;&#160;&#160;0x80000000</td></tr>
<tr class="separator:aa273ca9983adfbfa82fe442303f27f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16951666146d61c988c6d7155493be82" id="r_a16951666146d61c988c6d7155493be82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a16951666146d61c988c6d7155493be82">MPQ_FILE_COMPRESS_MASK</a>&#160;&#160;&#160;0x0000FF00</td></tr>
<tr class="separator:a16951666146d61c988c6d7155493be82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68eb00ea1d1dc41a4de2bba26a2315e0" id="r_a68eb00ea1d1dc41a4de2bba26a2315e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a68eb00ea1d1dc41a4de2bba26a2315e0">MPQ_FILE_DEFAULT_INTERNAL</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="separator:a68eb00ea1d1dc41a4de2bba26a2315e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30e8562440ee665b1e68625ce7bfc832" id="r_a30e8562440ee665b1e68625ce7bfc832"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a30e8562440ee665b1e68625ce7bfc832">MPQ_FILE_VALID_FLAGS</a></td></tr>
<tr class="separator:a30e8562440ee665b1e68625ce7bfc832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f6e8446dbab55c30403ac6ee444b22" id="r_af4f6e8446dbab55c30403ac6ee444b22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#af4f6e8446dbab55c30403ac6ee444b22">MPQ_FILE_VALID_FLAGS_W3X</a></td></tr>
<tr class="separator:af4f6e8446dbab55c30403ac6ee444b22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34930d66007b95e0d5b90a929cc7977f" id="r_a34930d66007b95e0d5b90a929cc7977f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a34930d66007b95e0d5b90a929cc7977f">MPQ_FILE_VALID_FLAGS_SCX</a></td></tr>
<tr class="separator:a34930d66007b95e0d5b90a929cc7977f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7aee560fb29050e6c7a2131279af2ba" id="r_ae7aee560fb29050e6c7a2131279af2ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ae7aee560fb29050e6c7a2131279af2ba">BLOCK_INDEX_MASK</a>&#160;&#160;&#160;0x0FFFFFFF</td></tr>
<tr class="separator:ae7aee560fb29050e6c7a2131279af2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af80d1aef7136d7c2c793a30c4048c1d9" id="r_af80d1aef7136d7c2c793a30c4048c1d9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#af80d1aef7136d7c2c793a30c4048c1d9">MPQ_BLOCK_INDEX</a>(pHash)&#160;&#160;&#160;((pHash)-&gt;dwBlockIndex &amp; <a class="el" href="StormLib_8h.html#ae7aee560fb29050e6c7a2131279af2ba">BLOCK_INDEX_MASK</a>)</td></tr>
<tr class="separator:af80d1aef7136d7c2c793a30c4048c1d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a505a02c8e15a72cf17ec5b1e3642ba7c" id="r_a505a02c8e15a72cf17ec5b1e3642ba7c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a505a02c8e15a72cf17ec5b1e3642ba7c">MPQ_COMPRESSION_HUFFMANN</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:a505a02c8e15a72cf17ec5b1e3642ba7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac70d5d9d0a9f5d020ba7c84b6d441edb" id="r_ac70d5d9d0a9f5d020ba7c84b6d441edb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ac70d5d9d0a9f5d020ba7c84b6d441edb">MPQ_COMPRESSION_ZLIB</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="separator:ac70d5d9d0a9f5d020ba7c84b6d441edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affcc96014fb0d52f7d555ea5729e526b" id="r_affcc96014fb0d52f7d555ea5729e526b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#affcc96014fb0d52f7d555ea5729e526b">MPQ_COMPRESSION_PKWARE</a>&#160;&#160;&#160;0x08</td></tr>
<tr class="separator:affcc96014fb0d52f7d555ea5729e526b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac44b18d438b10b9dab3e0097423248ad" id="r_ac44b18d438b10b9dab3e0097423248ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ac44b18d438b10b9dab3e0097423248ad">MPQ_COMPRESSION_BZIP2</a>&#160;&#160;&#160;0x10</td></tr>
<tr class="separator:ac44b18d438b10b9dab3e0097423248ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac85b92394ff58491ebaee0aff8e50169" id="r_ac85b92394ff58491ebaee0aff8e50169"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ac85b92394ff58491ebaee0aff8e50169">MPQ_COMPRESSION_SPARSE</a>&#160;&#160;&#160;0x20</td></tr>
<tr class="separator:ac85b92394ff58491ebaee0aff8e50169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c53d9ecdba00873daf8b8396ecf3d75" id="r_a1c53d9ecdba00873daf8b8396ecf3d75"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a1c53d9ecdba00873daf8b8396ecf3d75">MPQ_COMPRESSION_ADPCM_MONO</a>&#160;&#160;&#160;0x40</td></tr>
<tr class="separator:a1c53d9ecdba00873daf8b8396ecf3d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b1d4a7c8d9ccbdc02b748ab2fd4f882" id="r_a3b1d4a7c8d9ccbdc02b748ab2fd4f882"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a3b1d4a7c8d9ccbdc02b748ab2fd4f882">MPQ_COMPRESSION_ADPCM_STEREO</a>&#160;&#160;&#160;0x80</td></tr>
<tr class="separator:a3b1d4a7c8d9ccbdc02b748ab2fd4f882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e5be3b3c8663e78a6acdaa131c6e013" id="r_a8e5be3b3c8663e78a6acdaa131c6e013"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a8e5be3b3c8663e78a6acdaa131c6e013">MPQ_COMPRESSION_LZMA</a>&#160;&#160;&#160;0x12</td></tr>
<tr class="separator:a8e5be3b3c8663e78a6acdaa131c6e013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e8cd5068f8ae19c7af3b48bc505a25d" id="r_a7e8cd5068f8ae19c7af3b48bc505a25d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a7e8cd5068f8ae19c7af3b48bc505a25d">MPQ_COMPRESSION_NEXT_SAME</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="separator:a7e8cd5068f8ae19c7af3b48bc505a25d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed030ca83ebe6815790b05ae4b459cdc" id="r_aed030ca83ebe6815790b05ae4b459cdc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aed030ca83ebe6815790b05ae4b459cdc">MPQ_WAVE_QUALITY_HIGH</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:aed030ca83ebe6815790b05ae4b459cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec7980211792c800ab5d63ad1d9c9529" id="r_aec7980211792c800ab5d63ad1d9c9529"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aec7980211792c800ab5d63ad1d9c9529">MPQ_WAVE_QUALITY_MEDIUM</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aec7980211792c800ab5d63ad1d9c9529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a909bfc1dc91e7447f063552867ca64f7" id="r_a909bfc1dc91e7447f063552867ca64f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a909bfc1dc91e7447f063552867ca64f7">MPQ_WAVE_QUALITY_LOW</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a909bfc1dc91e7447f063552867ca64f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ca11d3a6a1b2a0c7e18961e6881af5a" id="r_a2ca11d3a6a1b2a0c7e18961e6881af5a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a2ca11d3a6a1b2a0c7e18961e6881af5a">HET_TABLE_SIGNATURE</a>&#160;&#160;&#160;0x1A544548</td></tr>
<tr class="separator:a2ca11d3a6a1b2a0c7e18961e6881af5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed26bd0c6cd280f2dffb483779b448f3" id="r_aed26bd0c6cd280f2dffb483779b448f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aed26bd0c6cd280f2dffb483779b448f3">BET_TABLE_SIGNATURE</a>&#160;&#160;&#160;0x1A544542</td></tr>
<tr class="separator:aed26bd0c6cd280f2dffb483779b448f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a49495e73433f2ed5692e36d5231337" id="r_a1a49495e73433f2ed5692e36d5231337"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a1a49495e73433f2ed5692e36d5231337">MPQ_KEY_HASH_TABLE</a>&#160;&#160;&#160;0xC3AF3770</td></tr>
<tr class="separator:a1a49495e73433f2ed5692e36d5231337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba8acbca4e801d8cd224cac146d1a78" id="r_a2ba8acbca4e801d8cd224cac146d1a78"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a2ba8acbca4e801d8cd224cac146d1a78">MPQ_KEY_BLOCK_TABLE</a>&#160;&#160;&#160;0xEC83B3A3</td></tr>
<tr class="separator:a2ba8acbca4e801d8cd224cac146d1a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac797c1c425d999b5bc992e2e39b4169e" id="r_ac797c1c425d999b5bc992e2e39b4169e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ac797c1c425d999b5bc992e2e39b4169e">LISTFILE_NAME</a>&#160;&#160;&#160;&quot;(listfile)&quot;</td></tr>
<tr class="separator:ac797c1c425d999b5bc992e2e39b4169e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9ccdfbc136fcd937541b27333e03159" id="r_ab9ccdfbc136fcd937541b27333e03159"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab9ccdfbc136fcd937541b27333e03159">SIGNATURE_NAME</a>&#160;&#160;&#160;&quot;(signature)&quot;</td></tr>
<tr class="separator:ab9ccdfbc136fcd937541b27333e03159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a4e12f2d4a5ad2426f3eb302db71feb" id="r_a5a4e12f2d4a5ad2426f3eb302db71feb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a5a4e12f2d4a5ad2426f3eb302db71feb">ATTRIBUTES_NAME</a>&#160;&#160;&#160;&quot;(attributes)&quot;</td></tr>
<tr class="separator:a5a4e12f2d4a5ad2426f3eb302db71feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72cafe8df240132c2f36cacb5952552c" id="r_a72cafe8df240132c2f36cacb5952552c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a72cafe8df240132c2f36cacb5952552c">PATCH_METADATA_NAME</a>&#160;&#160;&#160;&quot;(patch_metadata)&quot;</td></tr>
<tr class="separator:a72cafe8df240132c2f36cacb5952552c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa45e1b9993a87e5d6cb2adf3abb6e0c3" id="r_aa45e1b9993a87e5d6cb2adf3abb6e0c3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aa45e1b9993a87e5d6cb2adf3abb6e0c3">MPQ_FORMAT_VERSION_1</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:aa45e1b9993a87e5d6cb2adf3abb6e0c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b68734ff3ecc5d8ca7d4633f42cda4d" id="r_a9b68734ff3ecc5d8ca7d4633f42cda4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a9b68734ff3ecc5d8ca7d4633f42cda4d">MPQ_FORMAT_VERSION_2</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a9b68734ff3ecc5d8ca7d4633f42cda4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d56babfd44b33bc4b352006fa9c761" id="r_af9d56babfd44b33bc4b352006fa9c761"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#af9d56babfd44b33bc4b352006fa9c761">MPQ_FORMAT_VERSION_3</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:af9d56babfd44b33bc4b352006fa9c761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a35c4ad2d3b9ee964c96f325cf25c8f" id="r_a6a35c4ad2d3b9ee964c96f325cf25c8f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a6a35c4ad2d3b9ee964c96f325cf25c8f">MPQ_FORMAT_VERSION_4</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a6a35c4ad2d3b9ee964c96f325cf25c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac644a10d909d5d8dde26be2b4f4236e6" id="r_ac644a10d909d5d8dde26be2b4f4236e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ac644a10d909d5d8dde26be2b4f4236e6">MPQ_ATTRIBUTE_CRC32</a>&#160;&#160;&#160;0x00000001</td></tr>
<tr class="separator:ac644a10d909d5d8dde26be2b4f4236e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21c3706c1eaf54c3a548f3700fcfb99" id="r_ad21c3706c1eaf54c3a548f3700fcfb99"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ad21c3706c1eaf54c3a548f3700fcfb99">MPQ_ATTRIBUTE_FILETIME</a>&#160;&#160;&#160;0x00000002</td></tr>
<tr class="separator:ad21c3706c1eaf54c3a548f3700fcfb99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70410c678aa8ca095cf2c1291865165b" id="r_a70410c678aa8ca095cf2c1291865165b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a70410c678aa8ca095cf2c1291865165b">MPQ_ATTRIBUTE_MD5</a>&#160;&#160;&#160;0x00000004</td></tr>
<tr class="separator:a70410c678aa8ca095cf2c1291865165b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba5b235fec95d21fa0e31d3a177c532" id="r_a2ba5b235fec95d21fa0e31d3a177c532"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a2ba5b235fec95d21fa0e31d3a177c532">MPQ_ATTRIBUTE_PATCH_BIT</a>&#160;&#160;&#160;0x00000008</td></tr>
<tr class="separator:a2ba5b235fec95d21fa0e31d3a177c532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c71a04690bd449dc900b58111364c54" id="r_a0c71a04690bd449dc900b58111364c54"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a0c71a04690bd449dc900b58111364c54">MPQ_ATTRIBUTE_ALL</a>&#160;&#160;&#160;0x0000000F</td></tr>
<tr class="separator:a0c71a04690bd449dc900b58111364c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9600f76391ab7f6c162e5d634af73e7d" id="r_a9600f76391ab7f6c162e5d634af73e7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a9600f76391ab7f6c162e5d634af73e7d">MPQ_ATTRIBUTES_V1</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:a9600f76391ab7f6c162e5d634af73e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3773c068cc9e5acf2ef6a0fd9b4a534e" id="r_a3773c068cc9e5acf2ef6a0fd9b4a534e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a3773c068cc9e5acf2ef6a0fd9b4a534e">BASE_PROVIDER_FILE</a>&#160;&#160;&#160;0x00000000</td></tr>
<tr class="separator:a3773c068cc9e5acf2ef6a0fd9b4a534e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232c23ccf69f395a9edb5e6280b26513" id="r_a232c23ccf69f395a9edb5e6280b26513"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a232c23ccf69f395a9edb5e6280b26513">BASE_PROVIDER_MAP</a>&#160;&#160;&#160;0x00000001</td></tr>
<tr class="separator:a232c23ccf69f395a9edb5e6280b26513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a120d1199a5c9b89d84bd7d3cdacd6b68" id="r_a120d1199a5c9b89d84bd7d3cdacd6b68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a120d1199a5c9b89d84bd7d3cdacd6b68">BASE_PROVIDER_HTTP</a>&#160;&#160;&#160;0x00000002</td></tr>
<tr class="separator:a120d1199a5c9b89d84bd7d3cdacd6b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1838acaf14cde2205ad15734d17c6bd" id="r_aa1838acaf14cde2205ad15734d17c6bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aa1838acaf14cde2205ad15734d17c6bd">BASE_PROVIDER_MASK</a>&#160;&#160;&#160;0x0000000F</td></tr>
<tr class="separator:aa1838acaf14cde2205ad15734d17c6bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b6170ca9e7880848cdca068234d28c" id="r_a45b6170ca9e7880848cdca068234d28c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a45b6170ca9e7880848cdca068234d28c">STREAM_PROVIDER_FLAT</a>&#160;&#160;&#160;0x00000000</td></tr>
<tr class="separator:a45b6170ca9e7880848cdca068234d28c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b2a4fcc373340f8488b54729205c0df" id="r_a4b2a4fcc373340f8488b54729205c0df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a4b2a4fcc373340f8488b54729205c0df">STREAM_PROVIDER_PARTIAL</a>&#160;&#160;&#160;0x00000010</td></tr>
<tr class="separator:a4b2a4fcc373340f8488b54729205c0df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd4c9ef6f6e60b283469eb9aeebcd8e" id="r_aebd4c9ef6f6e60b283469eb9aeebcd8e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aebd4c9ef6f6e60b283469eb9aeebcd8e">STREAM_PROVIDER_MPQE</a>&#160;&#160;&#160;0x00000020</td></tr>
<tr class="separator:aebd4c9ef6f6e60b283469eb9aeebcd8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bbce6c9768ac7cbc1fb4541a2153758" id="r_a5bbce6c9768ac7cbc1fb4541a2153758"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a5bbce6c9768ac7cbc1fb4541a2153758">STREAM_PROVIDER_BLOCK4</a>&#160;&#160;&#160;0x00000030</td></tr>
<tr class="separator:a5bbce6c9768ac7cbc1fb4541a2153758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85f30debca5af9c69185146dda3eba18" id="r_a85f30debca5af9c69185146dda3eba18"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a85f30debca5af9c69185146dda3eba18">STREAM_PROVIDER_MASK</a>&#160;&#160;&#160;0x000000F0</td></tr>
<tr class="separator:a85f30debca5af9c69185146dda3eba18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdbbf06488f24699775afe6aadaeafc3" id="r_abdbbf06488f24699775afe6aadaeafc3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#abdbbf06488f24699775afe6aadaeafc3">STREAM_FLAG_READ_ONLY</a>&#160;&#160;&#160;0x00000100</td></tr>
<tr class="separator:abdbbf06488f24699775afe6aadaeafc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70f64cc8946e34d88ab1c2de9d76ba4c" id="r_a70f64cc8946e34d88ab1c2de9d76ba4c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a70f64cc8946e34d88ab1c2de9d76ba4c">STREAM_FLAG_WRITE_SHARE</a>&#160;&#160;&#160;0x00000200</td></tr>
<tr class="separator:a70f64cc8946e34d88ab1c2de9d76ba4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77521bc89504101b3294646ad1b462c0" id="r_a77521bc89504101b3294646ad1b462c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a77521bc89504101b3294646ad1b462c0">STREAM_FLAG_USE_BITMAP</a>&#160;&#160;&#160;0x00000400</td></tr>
<tr class="separator:a77521bc89504101b3294646ad1b462c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13ca5b98664197b09f6161b08bf02db3" id="r_a13ca5b98664197b09f6161b08bf02db3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a13ca5b98664197b09f6161b08bf02db3">STREAM_OPTIONS_MASK</a>&#160;&#160;&#160;0x0000FF00</td></tr>
<tr class="separator:a13ca5b98664197b09f6161b08bf02db3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07a964e92d9c6a64250c80b56e75c520" id="r_a07a964e92d9c6a64250c80b56e75c520"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a07a964e92d9c6a64250c80b56e75c520">STREAM_PROVIDERS_MASK</a>&#160;&#160;&#160;0x000000FF</td></tr>
<tr class="separator:a07a964e92d9c6a64250c80b56e75c520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f173a8fcf0edc58cb2f8a6d41739e86" id="r_a9f173a8fcf0edc58cb2f8a6d41739e86"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a9f173a8fcf0edc58cb2f8a6d41739e86">STREAM_FLAGS_MASK</a>&#160;&#160;&#160;0x0000FFFF</td></tr>
<tr class="separator:a9f173a8fcf0edc58cb2f8a6d41739e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c2a5d3970ee9739abd4ff3e2a737f5" id="r_ab0c2a5d3970ee9739abd4ff3e2a737f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab0c2a5d3970ee9739abd4ff3e2a737f5">MPQ_OPEN_NO_LISTFILE</a>&#160;&#160;&#160;0x00010000</td></tr>
<tr class="separator:ab0c2a5d3970ee9739abd4ff3e2a737f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a018cad433037d094e4b7284bcb5b3592" id="r_a018cad433037d094e4b7284bcb5b3592"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a018cad433037d094e4b7284bcb5b3592">MPQ_OPEN_NO_ATTRIBUTES</a>&#160;&#160;&#160;0x00020000</td></tr>
<tr class="separator:a018cad433037d094e4b7284bcb5b3592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a1921f8ee78b95d6c06042f1f8b6e9" id="r_a09a1921f8ee78b95d6c06042f1f8b6e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a09a1921f8ee78b95d6c06042f1f8b6e9">MPQ_OPEN_NO_HEADER_SEARCH</a>&#160;&#160;&#160;0x00040000</td></tr>
<tr class="separator:a09a1921f8ee78b95d6c06042f1f8b6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1fb88a688d62bd6c515533a783f484" id="r_abc1fb88a688d62bd6c515533a783f484"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#abc1fb88a688d62bd6c515533a783f484">MPQ_OPEN_FORCE_MPQ_V1</a>&#160;&#160;&#160;0x00080000</td></tr>
<tr class="separator:abc1fb88a688d62bd6c515533a783f484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a24865bfa8b31f56ed8ebc558f2677" id="r_a67a24865bfa8b31f56ed8ebc558f2677"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a67a24865bfa8b31f56ed8ebc558f2677">MPQ_OPEN_CHECK_SECTOR_CRC</a>&#160;&#160;&#160;0x00100000</td></tr>
<tr class="separator:a67a24865bfa8b31f56ed8ebc558f2677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02144c034d87bb5bfa9c49eb78eea3cb" id="r_a02144c034d87bb5bfa9c49eb78eea3cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a02144c034d87bb5bfa9c49eb78eea3cb">MPQ_OPEN_PATCH</a>&#160;&#160;&#160;0x00200000</td></tr>
<tr class="separator:a02144c034d87bb5bfa9c49eb78eea3cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a436029ad0d396c529d41a8c9f4bd70a4" id="r_a436029ad0d396c529d41a8c9f4bd70a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a436029ad0d396c529d41a8c9f4bd70a4">MPQ_OPEN_FORCE_LISTFILE</a>&#160;&#160;&#160;0x00400000</td></tr>
<tr class="separator:a436029ad0d396c529d41a8c9f4bd70a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf19ed8ad3e0e1c2c57c5b614e73323f" id="r_adf19ed8ad3e0e1c2c57c5b614e73323f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#adf19ed8ad3e0e1c2c57c5b614e73323f">MPQ_OPEN_READ_ONLY</a>&#160;&#160;&#160;<a class="el" href="StormLib_8h.html#abdbbf06488f24699775afe6aadaeafc3">STREAM_FLAG_READ_ONLY</a></td></tr>
<tr class="separator:adf19ed8ad3e0e1c2c57c5b614e73323f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a720c79849591bfbef1d676d52da477ab" id="r_a720c79849591bfbef1d676d52da477ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a720c79849591bfbef1d676d52da477ab">MPQ_CREATE_LISTFILE</a>&#160;&#160;&#160;0x00100000</td></tr>
<tr class="separator:a720c79849591bfbef1d676d52da477ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a604f97b6d0427af5441baa5b91fc86ad" id="r_a604f97b6d0427af5441baa5b91fc86ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a604f97b6d0427af5441baa5b91fc86ad">MPQ_CREATE_ATTRIBUTES</a>&#160;&#160;&#160;0x00200000</td></tr>
<tr class="separator:a604f97b6d0427af5441baa5b91fc86ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0efd6f8e9cb2a9c3943dc955a083f4e" id="r_af0efd6f8e9cb2a9c3943dc955a083f4e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#af0efd6f8e9cb2a9c3943dc955a083f4e">MPQ_CREATE_SIGNATURE</a>&#160;&#160;&#160;0x00400000</td></tr>
<tr class="separator:af0efd6f8e9cb2a9c3943dc955a083f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af5ec64d857d1f53d34f23bc0aacfde" id="r_a2af5ec64d857d1f53d34f23bc0aacfde"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a2af5ec64d857d1f53d34f23bc0aacfde">MPQ_CREATE_ARCHIVE_V1</a>&#160;&#160;&#160;0x00000000</td></tr>
<tr class="separator:a2af5ec64d857d1f53d34f23bc0aacfde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7ab2d885ce56ca4269b6c1500f1e3c2" id="r_ae7ab2d885ce56ca4269b6c1500f1e3c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ae7ab2d885ce56ca4269b6c1500f1e3c2">MPQ_CREATE_ARCHIVE_V2</a>&#160;&#160;&#160;0x01000000</td></tr>
<tr class="separator:ae7ab2d885ce56ca4269b6c1500f1e3c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62d64df7b96b62259f995a1553953ee4" id="r_a62d64df7b96b62259f995a1553953ee4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a62d64df7b96b62259f995a1553953ee4">MPQ_CREATE_ARCHIVE_V3</a>&#160;&#160;&#160;0x02000000</td></tr>
<tr class="separator:a62d64df7b96b62259f995a1553953ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bf1cc015cc917d3d72751933a3c3cd1" id="r_a5bf1cc015cc917d3d72751933a3c3cd1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a5bf1cc015cc917d3d72751933a3c3cd1">MPQ_CREATE_ARCHIVE_V4</a>&#160;&#160;&#160;0x03000000</td></tr>
<tr class="separator:a5bf1cc015cc917d3d72751933a3c3cd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0397d4d1250c2fb4bb49e456e14c5ec" id="r_ab0397d4d1250c2fb4bb49e456e14c5ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab0397d4d1250c2fb4bb49e456e14c5ec">MPQ_CREATE_ARCHIVE_VMASK</a>&#160;&#160;&#160;0x0F000000</td></tr>
<tr class="separator:ab0397d4d1250c2fb4bb49e456e14c5ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad47fff8ab312819b1ea232ef14539bc5" id="r_ad47fff8ab312819b1ea232ef14539bc5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ad47fff8ab312819b1ea232ef14539bc5">FLAGS_TO_FORMAT_SHIFT</a>&#160;&#160;&#160;24</td></tr>
<tr class="separator:ad47fff8ab312819b1ea232ef14539bc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3c4cf9a4e9de88c777c100090b2e5e4" id="r_ae3c4cf9a4e9de88c777c100090b2e5e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ae3c4cf9a4e9de88c777c100090b2e5e4">SFILE_VERIFY_SECTOR_CRC</a>&#160;&#160;&#160;0x00000001</td></tr>
<tr class="separator:ae3c4cf9a4e9de88c777c100090b2e5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecbacf5da4f209745e3e4a29b6acbcb1" id="r_aecbacf5da4f209745e3e4a29b6acbcb1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aecbacf5da4f209745e3e4a29b6acbcb1">SFILE_VERIFY_FILE_CRC</a>&#160;&#160;&#160;0x00000002</td></tr>
<tr class="separator:aecbacf5da4f209745e3e4a29b6acbcb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aad6c57f5c8791e70fd964a4856308d" id="r_a3aad6c57f5c8791e70fd964a4856308d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a3aad6c57f5c8791e70fd964a4856308d">SFILE_VERIFY_FILE_MD5</a>&#160;&#160;&#160;0x00000004</td></tr>
<tr class="separator:a3aad6c57f5c8791e70fd964a4856308d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1102b943ca7cca8f441becd2e62ab74" id="r_aa1102b943ca7cca8f441becd2e62ab74"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aa1102b943ca7cca8f441becd2e62ab74">SFILE_VERIFY_RAW_MD5</a>&#160;&#160;&#160;0x00000008</td></tr>
<tr class="separator:aa1102b943ca7cca8f441becd2e62ab74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa59d60c28005937abdd26374e5413ab9" id="r_aa59d60c28005937abdd26374e5413ab9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aa59d60c28005937abdd26374e5413ab9">SFILE_VERIFY_ALL</a>&#160;&#160;&#160;0x0000000F</td></tr>
<tr class="separator:aa59d60c28005937abdd26374e5413ab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60289c353e19b4b9f094c08c16c203a1" id="r_a60289c353e19b4b9f094c08c16c203a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a60289c353e19b4b9f094c08c16c203a1">VERIFY_OPEN_ERROR</a>&#160;&#160;&#160;0x0001</td></tr>
<tr class="separator:a60289c353e19b4b9f094c08c16c203a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09dc4931e2293affb99c2b608f7ac5c6" id="r_a09dc4931e2293affb99c2b608f7ac5c6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a09dc4931e2293affb99c2b608f7ac5c6">VERIFY_READ_ERROR</a>&#160;&#160;&#160;0x0002</td></tr>
<tr class="separator:a09dc4931e2293affb99c2b608f7ac5c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0452ff667b8f6c27f6836b3d3e078f7" id="r_af0452ff667b8f6c27f6836b3d3e078f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#af0452ff667b8f6c27f6836b3d3e078f7">VERIFY_FILE_HAS_SECTOR_CRC</a>&#160;&#160;&#160;0x0004</td></tr>
<tr class="separator:af0452ff667b8f6c27f6836b3d3e078f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a934b5a56633ef30f63cd3731767d7e69" id="r_a934b5a56633ef30f63cd3731767d7e69"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a934b5a56633ef30f63cd3731767d7e69">VERIFY_FILE_SECTOR_CRC_ERROR</a>&#160;&#160;&#160;0x0008</td></tr>
<tr class="separator:a934b5a56633ef30f63cd3731767d7e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a650e382f930af554af46e681bc2a3f07" id="r_a650e382f930af554af46e681bc2a3f07"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a650e382f930af554af46e681bc2a3f07">VERIFY_FILE_HAS_CHECKSUM</a>&#160;&#160;&#160;0x0010</td></tr>
<tr class="separator:a650e382f930af554af46e681bc2a3f07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a230cb606fc96bdc818bcfbab5048b77e" id="r_a230cb606fc96bdc818bcfbab5048b77e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a230cb606fc96bdc818bcfbab5048b77e">VERIFY_FILE_CHECKSUM_ERROR</a>&#160;&#160;&#160;0x0020</td></tr>
<tr class="separator:a230cb606fc96bdc818bcfbab5048b77e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb51ab95f1d38e53b7bdc018f85bcc0c" id="r_adb51ab95f1d38e53b7bdc018f85bcc0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#adb51ab95f1d38e53b7bdc018f85bcc0c">VERIFY_FILE_HAS_MD5</a>&#160;&#160;&#160;0x0040</td></tr>
<tr class="separator:adb51ab95f1d38e53b7bdc018f85bcc0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94636e6914fe491c599855f865a17de1" id="r_a94636e6914fe491c599855f865a17de1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a94636e6914fe491c599855f865a17de1">VERIFY_FILE_MD5_ERROR</a>&#160;&#160;&#160;0x0080</td></tr>
<tr class="separator:a94636e6914fe491c599855f865a17de1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c32306540a4843c10d65c13d0ed0ba" id="r_af9c32306540a4843c10d65c13d0ed0ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#af9c32306540a4843c10d65c13d0ed0ba">VERIFY_FILE_HAS_RAW_MD5</a>&#160;&#160;&#160;0x0100</td></tr>
<tr class="separator:af9c32306540a4843c10d65c13d0ed0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29975425d21cdc11f9559439b08e20b9" id="r_a29975425d21cdc11f9559439b08e20b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a29975425d21cdc11f9559439b08e20b9">VERIFY_FILE_RAW_MD5_ERROR</a>&#160;&#160;&#160;0x0200</td></tr>
<tr class="separator:a29975425d21cdc11f9559439b08e20b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8206034be7a98f99549fab9ce2e2aef8" id="r_a8206034be7a98f99549fab9ce2e2aef8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a8206034be7a98f99549fab9ce2e2aef8">VERIFY_FILE_ERROR_MASK</a>&#160;&#160;&#160;(<a class="el" href="StormLib_8h.html#a60289c353e19b4b9f094c08c16c203a1">VERIFY_OPEN_ERROR</a> | <a class="el" href="StormLib_8h.html#a09dc4931e2293affb99c2b608f7ac5c6">VERIFY_READ_ERROR</a> | <a class="el" href="StormLib_8h.html#a934b5a56633ef30f63cd3731767d7e69">VERIFY_FILE_SECTOR_CRC_ERROR</a> | <a class="el" href="StormLib_8h.html#a230cb606fc96bdc818bcfbab5048b77e">VERIFY_FILE_CHECKSUM_ERROR</a> | <a class="el" href="StormLib_8h.html#a94636e6914fe491c599855f865a17de1">VERIFY_FILE_MD5_ERROR</a> | <a class="el" href="StormLib_8h.html#a29975425d21cdc11f9559439b08e20b9">VERIFY_FILE_RAW_MD5_ERROR</a>)</td></tr>
<tr class="separator:a8206034be7a98f99549fab9ce2e2aef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adadd6810c67c668a700defc285863d61" id="r_adadd6810c67c668a700defc285863d61"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#adadd6810c67c668a700defc285863d61">SFILE_VERIFY_MPQ_HEADER</a>&#160;&#160;&#160;0x0001</td></tr>
<tr class="separator:adadd6810c67c668a700defc285863d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3917b61fcb966ea779d4eb7e78f6f615" id="r_a3917b61fcb966ea779d4eb7e78f6f615"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a3917b61fcb966ea779d4eb7e78f6f615">SFILE_VERIFY_HET_TABLE</a>&#160;&#160;&#160;0x0002</td></tr>
<tr class="separator:a3917b61fcb966ea779d4eb7e78f6f615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb5281c0e786bb605747f2fb4e2d9ca5" id="r_afb5281c0e786bb605747f2fb4e2d9ca5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#afb5281c0e786bb605747f2fb4e2d9ca5">SFILE_VERIFY_BET_TABLE</a>&#160;&#160;&#160;0x0003</td></tr>
<tr class="separator:afb5281c0e786bb605747f2fb4e2d9ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000fbd39696b31da38961ae3cf41091a" id="r_a000fbd39696b31da38961ae3cf41091a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a000fbd39696b31da38961ae3cf41091a">SFILE_VERIFY_HASH_TABLE</a>&#160;&#160;&#160;0x0004</td></tr>
<tr class="separator:a000fbd39696b31da38961ae3cf41091a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cd4ed2f493ee43df89028627339d7dc" id="r_a5cd4ed2f493ee43df89028627339d7dc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a5cd4ed2f493ee43df89028627339d7dc">SFILE_VERIFY_BLOCK_TABLE</a>&#160;&#160;&#160;0x0005</td></tr>
<tr class="separator:a5cd4ed2f493ee43df89028627339d7dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1a3a6643170e969d6ddaf049fdc8c7" id="r_abc1a3a6643170e969d6ddaf049fdc8c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#abc1a3a6643170e969d6ddaf049fdc8c7">SFILE_VERIFY_HIBLOCK_TABLE</a>&#160;&#160;&#160;0x0006</td></tr>
<tr class="separator:abc1a3a6643170e969d6ddaf049fdc8c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf09fd72b7b52b78debe67c4553f955" id="r_aecf09fd72b7b52b78debe67c4553f955"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aecf09fd72b7b52b78debe67c4553f955">SFILE_VERIFY_FILE</a>&#160;&#160;&#160;0x0007</td></tr>
<tr class="separator:aecf09fd72b7b52b78debe67c4553f955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a963e3c2877d3c9d08737ce2e901cb17f" id="r_a963e3c2877d3c9d08737ce2e901cb17f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a963e3c2877d3c9d08737ce2e901cb17f">SIGNATURE_TYPE_NONE</a>&#160;&#160;&#160;0x0000</td></tr>
<tr class="separator:a963e3c2877d3c9d08737ce2e901cb17f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cac1edf4a3101da9c369e81fd7c0908" id="r_a4cac1edf4a3101da9c369e81fd7c0908"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a4cac1edf4a3101da9c369e81fd7c0908">SIGNATURE_TYPE_WEAK</a>&#160;&#160;&#160;0x0001</td></tr>
<tr class="separator:a4cac1edf4a3101da9c369e81fd7c0908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab77da79e415e52afa44cb2a346bc55c7" id="r_ab77da79e415e52afa44cb2a346bc55c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab77da79e415e52afa44cb2a346bc55c7">SIGNATURE_TYPE_STRONG</a>&#160;&#160;&#160;0x0002</td></tr>
<tr class="separator:ab77da79e415e52afa44cb2a346bc55c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfaf1c7907e9a9602946ef99b826bba" id="r_a4cfaf1c7907e9a9602946ef99b826bba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a4cfaf1c7907e9a9602946ef99b826bba">ERROR_NO_SIGNATURE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a4cfaf1c7907e9a9602946ef99b826bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80c17a568554b991f15c75f4ad29c3c1" id="r_a80c17a568554b991f15c75f4ad29c3c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a80c17a568554b991f15c75f4ad29c3c1">ERROR_VERIFY_FAILED</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a80c17a568554b991f15c75f4ad29c3c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10a8149306a6a8e578dc12543410c379" id="r_a10a8149306a6a8e578dc12543410c379"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a10a8149306a6a8e578dc12543410c379">ERROR_WEAK_SIGNATURE_OK</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a10a8149306a6a8e578dc12543410c379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65e69300ff2f38e008b5777aff4ddbaf" id="r_a65e69300ff2f38e008b5777aff4ddbaf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a65e69300ff2f38e008b5777aff4ddbaf">ERROR_WEAK_SIGNATURE_ERROR</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a65e69300ff2f38e008b5777aff4ddbaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab10c6f68d647bc434f3b6064f52e7482" id="r_ab10c6f68d647bc434f3b6064f52e7482"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab10c6f68d647bc434f3b6064f52e7482">ERROR_STRONG_SIGNATURE_OK</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:ab10c6f68d647bc434f3b6064f52e7482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3188fa17a746b41f2e88467d795611b" id="r_ad3188fa17a746b41f2e88467d795611b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ad3188fa17a746b41f2e88467d795611b">ERROR_STRONG_SIGNATURE_ERROR</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:ad3188fa17a746b41f2e88467d795611b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86b38d6ab14e243543904e30f26bed2" id="r_ad86b38d6ab14e243543904e30f26bed2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ad86b38d6ab14e243543904e30f26bed2">MD5_DIGEST_SIZE</a>&#160;&#160;&#160;0x10</td></tr>
<tr class="separator:ad86b38d6ab14e243543904e30f26bed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba9296b223f1b3c710d6b812fd860e8" id="r_a3ba9296b223f1b3c710d6b812fd860e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a3ba9296b223f1b3c710d6b812fd860e8">SHA1_DIGEST_SIZE</a>&#160;&#160;&#160;0x14</td></tr>
<tr class="separator:a3ba9296b223f1b3c710d6b812fd860e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e2d59a08fba74a56a63865a6001cdfc" id="r_a1e2d59a08fba74a56a63865a6001cdfc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a1e2d59a08fba74a56a63865a6001cdfc">LANG_NEUTRAL</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:a1e2d59a08fba74a56a63865a6001cdfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ffa50e63fc72ab47e6b1d087fc3b21" id="r_ad7ffa50e63fc72ab47e6b1d087fc3b21"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ad7ffa50e63fc72ab47e6b1d087fc3b21">CCB_CHECKING_FILES</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ad7ffa50e63fc72ab47e6b1d087fc3b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a427b681997ab8ad945bc7de89636989c" id="r_a427b681997ab8ad945bc7de89636989c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a427b681997ab8ad945bc7de89636989c">CCB_CHECKING_HASH_TABLE</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a427b681997ab8ad945bc7de89636989c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17cc018bb22fca30c4198d9e1933f3e7" id="r_a17cc018bb22fca30c4198d9e1933f3e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a17cc018bb22fca30c4198d9e1933f3e7">CCB_COPYING_NON_MPQ_DATA</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a17cc018bb22fca30c4198d9e1933f3e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65304f71ca9a3f181511f124cb5b10cd" id="r_a65304f71ca9a3f181511f124cb5b10cd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a65304f71ca9a3f181511f124cb5b10cd">CCB_COMPACTING_FILES</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a65304f71ca9a3f181511f124cb5b10cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3f24feed60dcab56fc348d8c6e3bc42" id="r_ab3f24feed60dcab56fc348d8c6e3bc42"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab3f24feed60dcab56fc348d8c6e3bc42">CCB_CLOSING_ARCHIVE</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:ab3f24feed60dcab56fc348d8c6e3bc42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae490c625dc0aa427dcb416343535962f" id="r_ae490c625dc0aa427dcb416343535962f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ae490c625dc0aa427dcb416343535962f">MPQ_HEADER_SIZE_V1</a>&#160;&#160;&#160;0x20</td></tr>
<tr class="separator:ae490c625dc0aa427dcb416343535962f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f7c58508f7acb3c43b26d26e42b815" id="r_a24f7c58508f7acb3c43b26d26e42b815"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a24f7c58508f7acb3c43b26d26e42b815">MPQ_HEADER_SIZE_V2</a>&#160;&#160;&#160;0x2C</td></tr>
<tr class="separator:a24f7c58508f7acb3c43b26d26e42b815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd750fe0d2b6602260de86343be8a87" id="r_a0fd750fe0d2b6602260de86343be8a87"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a0fd750fe0d2b6602260de86343be8a87">MPQ_HEADER_SIZE_V3</a>&#160;&#160;&#160;0x44</td></tr>
<tr class="separator:a0fd750fe0d2b6602260de86343be8a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34534a41943b28cb7855dd59db96166e" id="r_a34534a41943b28cb7855dd59db96166e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a34534a41943b28cb7855dd59db96166e">MPQ_HEADER_SIZE_V4</a>&#160;&#160;&#160;0xD0</td></tr>
<tr class="separator:a34534a41943b28cb7855dd59db96166e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af15a614080a5231006e0381b3c715760" id="r_af15a614080a5231006e0381b3c715760"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#af15a614080a5231006e0381b3c715760">MPQ_HEADER_DWORDS</a>&#160;&#160;&#160;(<a class="el" href="StormLib_8h.html#a34534a41943b28cb7855dd59db96166e">MPQ_HEADER_SIZE_V4</a> / 0x04)</td></tr>
<tr class="separator:af15a614080a5231006e0381b3c715760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac5d37546e56cecc39acc9223a466f74" id="r_aac5d37546e56cecc39acc9223a466f74"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aac5d37546e56cecc39acc9223a466f74">SFILE_MAKE_LCID</a>(locale,  platform)&#160;&#160;&#160;((<a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>)(<a class="el" href="StormPort_8h.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a>)locale | (<a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>)(<a class="el" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>)platform &lt;&lt; 0x10)</td></tr>
<tr class="separator:aac5d37546e56cecc39acc9223a466f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a333d1f8448f3052fcba766be325c6ca3" id="r_a333d1f8448f3052fcba766be325c6ca3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a333d1f8448f3052fcba766be325c6ca3">SFILE_LOCALE</a>(lcFileLocale)&#160;&#160;&#160;(<a class="el" href="StormPort_8h.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a>)(lcFileLocale &amp; 0xFFFF)</td></tr>
<tr class="separator:a333d1f8448f3052fcba766be325c6ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf4be5d17b5f6632333c12ddd17d4ff5" id="r_adf4be5d17b5f6632333c12ddd17d4ff5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#adf4be5d17b5f6632333c12ddd17d4ff5">SFILE_PLATFORM</a>(lcFileLocale)&#160;&#160;&#160;(<a class="el" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>)(lcFileLocale &gt;&gt; 0x10)</td></tr>
<tr class="separator:adf4be5d17b5f6632333c12ddd17d4ff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:afcb16e96c8708fd0d9ff12d058076fdc" id="r_afcb16e96c8708fd0d9ff12d058076fdc"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#afcb16e96c8708fd0d9ff12d058076fdc">HASH_STRING</a>) (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szFileName, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwHashType)</td></tr>
<tr class="separator:afcb16e96c8708fd0d9ff12d058076fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d641b05043414b7c8efe066af79bf3" id="r_a67d641b05043414b7c8efe066af79bf3"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3">_SFileInfoClass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a67d641b05043414b7c8efe066af79bf3">SFileInfoClass</a></td></tr>
<tr class="separator:a67d641b05043414b7c8efe066af79bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec85f6efb05064d79de5e05fff77c639" id="r_aec85f6efb05064d79de5e05fff77c639"><td class="memItemLeft" align="right" valign="top">typedef void(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aec85f6efb05064d79de5e05fff77c639">SFILE_DOWNLOAD_CALLBACK</a>) (void *pvUserData, <a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> ByteOffset, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwTotalBytes)</td></tr>
<tr class="separator:aec85f6efb05064d79de5e05fff77c639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e310b34dc27b4b6bfc6c0ccc4c725f4" id="r_a8e310b34dc27b4b6bfc6c0ccc4c725f4"><td class="memItemLeft" align="right" valign="top">typedef void(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a8e310b34dc27b4b6bfc6c0ccc4c725f4">SFILE_ADDFILE_CALLBACK</a>) (void *pvUserData, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesWritten, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwTotalBytes, <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> bFinalCall)</td></tr>
<tr class="separator:a8e310b34dc27b4b6bfc6c0ccc4c725f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accf539777d623a74eb6b4394dd7fd6a1" id="r_accf539777d623a74eb6b4394dd7fd6a1"><td class="memItemLeft" align="right" valign="top">typedef void(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#accf539777d623a74eb6b4394dd7fd6a1">SFILE_COMPACT_CALLBACK</a>) (void *pvUserData, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwWorkType, <a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> BytesProcessed, <a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> TotalBytes)</td></tr>
<tr class="separator:accf539777d623a74eb6b4394dd7fd6a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597f09cfd154b67f349544673729ce0f" id="r_a597f09cfd154b67f349544673729ce0f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structTFileStream.html">TFileStream</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a597f09cfd154b67f349544673729ce0f">TFileStream</a></td></tr>
<tr class="separator:a597f09cfd154b67f349544673729ce0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5718a859878facc9396eee7be40784cc" id="r_a5718a859878facc9396eee7be40784cc"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structTMPQBits.html">TMPQBits</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a5718a859878facc9396eee7be40784cc">TMPQBits</a></td></tr>
<tr class="separator:a5718a859878facc9396eee7be40784cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b4d9eaf2101262ff0f76475beda0a2c" id="r_a9b4d9eaf2101262ff0f76475beda0a2c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TMPQUserData.html">_TMPQUserData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a9b4d9eaf2101262ff0f76475beda0a2c">TMPQUserData</a></td></tr>
<tr class="separator:a9b4d9eaf2101262ff0f76475beda0a2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3ada5322cf6ba1694cef8ee03e219d7" id="r_ad3ada5322cf6ba1694cef8ee03e219d7"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TMPQHeader.html">_TMPQHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ad3ada5322cf6ba1694cef8ee03e219d7">TMPQHeader</a></td></tr>
<tr class="separator:ad3ada5322cf6ba1694cef8ee03e219d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3931032d33f7a8276dd15d842b04ce0c" id="r_a3931032d33f7a8276dd15d842b04ce0c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TMPQHash.html">_TMPQHash</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a3931032d33f7a8276dd15d842b04ce0c">TMPQHash</a></td></tr>
<tr class="separator:a3931032d33f7a8276dd15d842b04ce0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac024b00ba02354b5d3d5d0c594359207" id="r_ac024b00ba02354b5d3d5d0c594359207"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TMPQBlock.html">_TMPQBlock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ac024b00ba02354b5d3d5d0c594359207">TMPQBlock</a></td></tr>
<tr class="separator:ac024b00ba02354b5d3d5d0c594359207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9be9da8f2fbea3f051a845b1a5813180" id="r_a9be9da8f2fbea3f051a845b1a5813180"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TPatchInfo.html">_TPatchInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a9be9da8f2fbea3f051a845b1a5813180">TPatchInfo</a></td></tr>
<tr class="separator:a9be9da8f2fbea3f051a845b1a5813180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07781c6d52e586d0221f86c84211ab71" id="r_a07781c6d52e586d0221f86c84211ab71"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TFileEntry.html">_TFileEntry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a07781c6d52e586d0221f86c84211ab71">TFileEntry</a></td></tr>
<tr class="separator:a07781c6d52e586d0221f86c84211ab71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba4abe40715e1c52321a4d8f0fa41e0" id="r_a7ba4abe40715e1c52321a4d8f0fa41e0"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TMPQExtHeader.html">_TMPQExtHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a7ba4abe40715e1c52321a4d8f0fa41e0">TMPQExtHeader</a></td></tr>
<tr class="separator:a7ba4abe40715e1c52321a4d8f0fa41e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf59a724fa8f6597589b656d6f206277" id="r_acf59a724fa8f6597589b656d6f206277"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TMPQHetHeader.html">_TMPQHetHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#acf59a724fa8f6597589b656d6f206277">TMPQHetHeader</a></td></tr>
<tr class="separator:acf59a724fa8f6597589b656d6f206277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e520bfaca46f55ce915af6df9dd265" id="r_a44e520bfaca46f55ce915af6df9dd265"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TMPQBetHeader.html">_TMPQBetHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a44e520bfaca46f55ce915af6df9dd265">TMPQBetHeader</a></td></tr>
<tr class="separator:a44e520bfaca46f55ce915af6df9dd265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a227ee271f86d0309e4659aefc3211a06" id="r_a227ee271f86d0309e4659aefc3211a06"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TMPQHetTable.html">_TMPQHetTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a227ee271f86d0309e4659aefc3211a06">TMPQHetTable</a></td></tr>
<tr class="separator:a227ee271f86d0309e4659aefc3211a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88d0d33a9ef1ba07b984d0666575478f" id="r_a88d0d33a9ef1ba07b984d0666575478f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TMPQBetTable.html">_TMPQBetTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a88d0d33a9ef1ba07b984d0666575478f">TMPQBetTable</a></td></tr>
<tr class="separator:a88d0d33a9ef1ba07b984d0666575478f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d4029547e1c3655efaffdcaf68da030" id="r_a3d4029547e1c3655efaffdcaf68da030"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TMPQNamePrefix.html">_TMPQNamePrefix</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a3d4029547e1c3655efaffdcaf68da030">TMPQNamePrefix</a></td></tr>
<tr class="separator:a3d4029547e1c3655efaffdcaf68da030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b41c22eea22b7910d3cb8558e5c6c3" id="r_a32b41c22eea22b7910d3cb8558e5c6c3"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TMPQNameCache.html">_TMPQNameCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a32b41c22eea22b7910d3cb8558e5c6c3">TMPQNameCache</a></td></tr>
<tr class="separator:a32b41c22eea22b7910d3cb8558e5c6c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b98dca19d4c344762c4dde4d810a5a9" id="r_a0b98dca19d4c344762c4dde4d810a5a9"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TMPQArchive.html">_TMPQArchive</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a0b98dca19d4c344762c4dde4d810a5a9">TMPQArchive</a></td></tr>
<tr class="separator:a0b98dca19d4c344762c4dde4d810a5a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab00c160cef535493ec7dab495f8feece" id="r_ab00c160cef535493ec7dab495f8feece"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__TMPQFile.html">_TMPQFile</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab00c160cef535493ec7dab495f8feece">TMPQFile</a></td></tr>
<tr class="separator:ab00c160cef535493ec7dab495f8feece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac80854a06a92ee69e22c1d2c1fc5b5b9" id="r_ac80854a06a92ee69e22c1d2c1fc5b5b9"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__SFILE__FIND__DATA.html">_SFILE_FIND_DATA</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ac80854a06a92ee69e22c1d2c1fc5b5b9">SFILE_FIND_DATA</a></td></tr>
<tr class="separator:ac80854a06a92ee69e22c1d2c1fc5b5b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a868c53c463cdc7f0bf83c41993c5eb54" id="r_a868c53c463cdc7f0bf83c41993c5eb54"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__SFILE__FIND__DATA.html">_SFILE_FIND_DATA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a868c53c463cdc7f0bf83c41993c5eb54">PSFILE_FIND_DATA</a></td></tr>
<tr class="separator:a868c53c463cdc7f0bf83c41993c5eb54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a404dcd27c577084df5f075ab2bb87a6c" id="r_a404dcd27c577084df5f075ab2bb87a6c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__SFILE__CREATE__MPQ.html">_SFILE_CREATE_MPQ</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a404dcd27c577084df5f075ab2bb87a6c">SFILE_CREATE_MPQ</a></td></tr>
<tr class="separator:a404dcd27c577084df5f075ab2bb87a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97df30ed85f80d5c8fe560750b3efe4a" id="r_a97df30ed85f80d5c8fe560750b3efe4a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__SFILE__CREATE__MPQ.html">_SFILE_CREATE_MPQ</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a97df30ed85f80d5c8fe560750b3efe4a">PSFILE_CREATE_MPQ</a></td></tr>
<tr class="separator:a97df30ed85f80d5c8fe560750b3efe4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8286cb2a0f0d778bc75196a08e7a242f" id="r_a8286cb2a0f0d778bc75196a08e7a242f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__SFILE__MARKERS.html">_SFILE_MARKERS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a8286cb2a0f0d778bc75196a08e7a242f">SFILE_MARKERS</a></td></tr>
<tr class="separator:a8286cb2a0f0d778bc75196a08e7a242f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ff5e95dd1385dd48527ff9a2c66c425" id="r_a9ff5e95dd1385dd48527ff9a2c66c425"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__SFILE__MARKERS.html">_SFILE_MARKERS</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a9ff5e95dd1385dd48527ff9a2c66c425">PSFILE_MARKERS</a></td></tr>
<tr class="separator:a9ff5e95dd1385dd48527ff9a2c66c425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada41f29620f00972c7a75a67a5becec8" id="r_ada41f29620f00972c7a75a67a5becec8"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ada41f29620f00972c7a75a67a5becec8">SFILESETLOCALE</a>) (<a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>)</td></tr>
<tr class="separator:ada41f29620f00972c7a75a67a5becec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5785fec88675e850361edc91fa6af74" id="r_aa5785fec88675e850361edc91fa6af74"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aa5785fec88675e850361edc91fa6af74">SFILEOPENARCHIVE</a>) (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>, <a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *)</td></tr>
<tr class="separator:aa5785fec88675e850361edc91fa6af74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c2499655dbb0a1dbdaf1829003648e" id="r_a37c2499655dbb0a1dbdaf1829003648e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a37c2499655dbb0a1dbdaf1829003648e">SFILECLOSEARCHIVE</a>) (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>)</td></tr>
<tr class="separator:a37c2499655dbb0a1dbdaf1829003648e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe944956d84d84b97973d07d20b55dae" id="r_afe944956d84d84b97973d07d20b55dae"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#afe944956d84d84b97973d07d20b55dae">SFILEOPENFILEEX</a>) (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>, <a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *)</td></tr>
<tr class="separator:afe944956d84d84b97973d07d20b55dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add642a1497e31540d395dd47df3ead44" id="r_add642a1497e31540d395dd47df3ead44"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#add642a1497e31540d395dd47df3ead44">SFILECLOSEFILE</a>) (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>)</td></tr>
<tr class="separator:add642a1497e31540d395dd47df3ead44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c360bd9a936cf231e971655d4852c9" id="r_a30c360bd9a936cf231e971655d4852c9"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a30c360bd9a936cf231e971655d4852c9">SFILEGETFILESIZE</a>) (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>)</td></tr>
<tr class="separator:a30c360bd9a936cf231e971655d4852c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e81800ce08c5f313d17089a36533ceb" id="r_a7e81800ce08c5f313d17089a36533ceb"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a7e81800ce08c5f313d17089a36533ceb">SFILESETFILEPOINTER</a>) (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <a class="el" href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a>, <a class="el" href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a> *, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)</td></tr>
<tr class="separator:a7e81800ce08c5f313d17089a36533ceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90590797535b0f68c71bfab2cdf17f70" id="r_a90590797535b0f68c71bfab2cdf17f70"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a90590797535b0f68c71bfab2cdf17f70">SFILEREADFILE</a>) (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, void *, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>, <a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>, <a class="el" href="StormPort_8h.html#adfd8166ccad505199a5bf3b5fb0ec8d8">LPOVERLAPPED</a>)</td></tr>
<tr class="separator:a90590797535b0f68c71bfab2cdf17f70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a90f178cc391e156ead40ea74dc0414d3" id="r_a90f178cc391e156ead40ea74dc0414d3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3">_SFileInfoClass</a> { <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a6f586faa00c75a8cdad953e5efde6286">SFileMpqFileName</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a16b9fe55c427a5197e7a74440c639f6d">SFileMpqStreamBitmap</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ab6ac50d041070ae4b65f53681f0854e9">SFileMpqUserDataOffset</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a13361d2361f48e8b52f78f132027f4ae">SFileMpqUserDataHeader</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3adc9d2e7fb46b5897767196d43b4e383f">SFileMpqUserData</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae9b6712848b58355a408f3daab83f96e">SFileMpqHeaderOffset</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a2c89240e1cb6ab15bd904d349454aa28">SFileMpqHeaderSize</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3abf8849fd539c2b9ef471ed7dc7fd2db1">SFileMpqHeader</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a476e6fcb3d5f43970f887ac598556585">SFileMpqHetTableOffset</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a55c455cf9a5ed02df0394977077a9f49">SFileMpqHetTableSize</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3fd7de9c4ab74548e75dee295e81fd52">SFileMpqHetHeader</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a97a82d443138c8cc728c481e10432325">SFileMpqHetTable</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aa4f4b7d0ffa6370a0422aa549f5e3bac">SFileMpqBetTableOffset</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af4b818adfb2d7cfa16ff245a18338eb5">SFileMpqBetTableSize</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a105f024e278c43445c1c5ff1f8ea1f1b">SFileMpqBetHeader</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ab0cb978f8746ea272bbe0ac9878b43a0">SFileMpqBetTable</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a6315b32e12c8d68c3e7e0e6be68cd3db">SFileMpqHashTableOffset</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ad90a58ed8a272c3f31ddd666113e3b1b">SFileMpqHashTableSize64</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a1d751d6d4f05c1b5f8b5c4767948aa06">SFileMpqHashTableSize</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3ff802559cd74fa3f55ef039630f4d88">SFileMpqHashTable</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a167d10513bfa74b57afd388de41c7fd4">SFileMpqBlockTableOffset</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af39f8a570fbe2e3b3adb8ed81711680f">SFileMpqBlockTableSize64</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aaa004bf74465d3053cf255a8ce621a43">SFileMpqBlockTableSize</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae59d94899507065297ca567a4c2d0655">SFileMpqBlockTable</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5b738a9c20b08546c02eed33084401c8">SFileMpqHiBlockTableOffset</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5e7fe06d85cb8e4bab77e9cc35e8d354">SFileMpqHiBlockTableSize64</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a65ed9eb773b2039af8bf641c88c527c0">SFileMpqHiBlockTable</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a2f12ee38d1f1fe0cf8adc58f36cabacd">SFileMpqSignatures</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a23f3df00ce3c24ce8803771624604c00">SFileMpqStrongSignatureOffset</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af011be22f9762d226813819a20241305">SFileMpqStrongSignatureSize</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aedae906162459673c4cbeebd17bad09b">SFileMpqStrongSignature</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a4d0e602be713ff6a1d1d8e348360f42d">SFileMpqArchiveSize64</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a9a16252d9bbd2c2e670ea78d6a054491">SFileMpqArchiveSize</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a4ef6ceed6897535cbce154d7d5edc1b3">SFileMpqMaxFileCount</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a274c6fef3d8e74a8f82ac86bc9fb2924">SFileMpqFileTableSize</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5a11b123a8517ce48f7afa1a393b8e19">SFileMpqSectorSize</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a53b7024d554b409bd22e0ad589964cf4">SFileMpqNumberOfFiles</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae4553d5ac5e1229fc6ef79e5e87041fe">SFileMpqRawChunkSize</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a61467b9f7e76bde17f3f83f4fbd6b73e">SFileMpqStreamFlags</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8f7439fddc4f1798c92b1fa35d25074c">SFileMpqFlags</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3abd4bc7d7c777f43efb5f22680b6f852d">SFileInfoPatchChain</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a142ae8882ece33970ef1b984fc4e3cbf">SFileInfoFileEntry</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a820fd5371b151b244ffd08393f8877e9">SFileInfoHashEntry</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3acc9cd4f89a71bf69a6a70fe45b9a9ecf">SFileInfoHashIndex</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ac63b8edf2c463ee184a571071c84abd3">SFileInfoNameHash1</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8e337bfdf364a4c3a253a9e80c5a5cdc">SFileInfoNameHash2</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5e0fdb5a3e5f95a0bce6b86916bcea56">SFileInfoNameHash3</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a891d6032f0a540a2fed2021fa80f0376">SFileInfoLocale</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ac31921058e9e17c0901d2938abda5312">SFileInfoFileIndex</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a72601c2519d44d5dee8b069dacd51964">SFileInfoByteOffset</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8b376a37df412d4aa5f983a2f6211fcf">SFileInfoFileTime</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3726b227a14fe257ae8aeb7be7d83437">SFileInfoFileSize</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3afe2e60dff9fc8f6c6103e5697739229c">SFileInfoCompressedSize</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae19e7046a1be4813d81eeeaba366b582">SFileInfoFlags</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a74e085d098861aeebebff5d863f2ff83">SFileInfoEncryptionKey</a>
, <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a944e704c35366e96a180762c0efcc24e">SFileInfoEncryptionKeyRaw</a>
, <br />
&#160;&#160;<a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3acb29b757e6456e144941098494558ea0">SFileInfoCRC32</a>
<br />
 }</td></tr>
<tr class="separator:a90f178cc391e156ead40ea74dc0414d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaf8a10729f0ed9e7b0043818be7b5c5e" id="r_aaf8a10729f0ed9e7b0043818be7b5c5e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aaf8a10729f0ed9e7b0043818be7b5c5e">GetMPQBits</a> (<a class="el" href="structTMPQBits.html">TMPQBits</a> *pBits, unsigned int nBitPosition, unsigned int nBitLength, void *pvBuffer, int nResultByteSize)</td></tr>
<tr class="separator:aaf8a10729f0ed9e7b0043818be7b5c5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba1ffb5ec458bc89519a891e28ab10e" id="r_aaba1ffb5ec458bc89519a891e28ab10e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aaba1ffb5ec458bc89519a891e28ab10e">FileStream_CreateFile</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szFileName, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwStreamFlags)</td></tr>
<tr class="separator:aaba1ffb5ec458bc89519a891e28ab10e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a702003c1930c608961b812259bd9dc22" id="r_a702003c1930c608961b812259bd9dc22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a702003c1930c608961b812259bd9dc22">FileStream_OpenFile</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szFileName, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwStreamFlags)</td></tr>
<tr class="separator:a702003c1930c608961b812259bd9dc22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac8a29e50fd6c047ee9288073b54804e" id="r_aac8a29e50fd6c047ee9288073b54804e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aac8a29e50fd6c047ee9288073b54804e">FileStream_GetFileName</a> (<a class="el" href="structTFileStream.html">TFileStream</a> *pStream)</td></tr>
<tr class="separator:aac8a29e50fd6c047ee9288073b54804e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2107608d75af5dc5674f69c84637e22" id="r_aa2107608d75af5dc5674f69c84637e22"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aa2107608d75af5dc5674f69c84637e22">FileStream_Prefix</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szFileName, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *pdwProvider)</td></tr>
<tr class="separator:aa2107608d75af5dc5674f69c84637e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae33c8e38a5379adbbe49471f8d0ca5af" id="r_ae33c8e38a5379adbbe49471f8d0ca5af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ae33c8e38a5379adbbe49471f8d0ca5af">FileStream_SetCallback</a> (<a class="el" href="structTFileStream.html">TFileStream</a> *pStream, <a class="el" href="StormLib_8h.html#aec85f6efb05064d79de5e05fff77c639">SFILE_DOWNLOAD_CALLBACK</a> pfnCallback, void *pvUserData)</td></tr>
<tr class="separator:ae33c8e38a5379adbbe49471f8d0ca5af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a079730e5345bc1141a1057d4e13e95ac" id="r_a079730e5345bc1141a1057d4e13e95ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a079730e5345bc1141a1057d4e13e95ac">FileStream_GetBitmap</a> (<a class="el" href="structTFileStream.html">TFileStream</a> *pStream, void *pvBitmap, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> cbBitmap, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *pcbLengthNeeded)</td></tr>
<tr class="separator:a079730e5345bc1141a1057d4e13e95ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a593f3b1416f7497c28fa5552cd1b3003" id="r_a593f3b1416f7497c28fa5552cd1b3003"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a593f3b1416f7497c28fa5552cd1b3003">FileStream_Read</a> (<a class="el" href="structTFileStream.html">TFileStream</a> *pStream, <a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *pByteOffset, void *pvBuffer, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesToRead)</td></tr>
<tr class="separator:a593f3b1416f7497c28fa5552cd1b3003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36307955e8de92f5ea26be07ea3b9cb4" id="r_a36307955e8de92f5ea26be07ea3b9cb4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a36307955e8de92f5ea26be07ea3b9cb4">FileStream_Write</a> (<a class="el" href="structTFileStream.html">TFileStream</a> *pStream, <a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *pByteOffset, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> void *pvBuffer, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesToWrite)</td></tr>
<tr class="separator:a36307955e8de92f5ea26be07ea3b9cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc0fbb4156c7eef2e3162841ffb0d74a" id="r_abc0fbb4156c7eef2e3162841ffb0d74a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#abc0fbb4156c7eef2e3162841ffb0d74a">FileStream_SetSize</a> (<a class="el" href="structTFileStream.html">TFileStream</a> *pStream, <a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> NewFileSize)</td></tr>
<tr class="separator:abc0fbb4156c7eef2e3162841ffb0d74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af505319882f0f4aaf396b6d061a2275b" id="r_af505319882f0f4aaf396b6d061a2275b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#af505319882f0f4aaf396b6d061a2275b">FileStream_GetSize</a> (<a class="el" href="structTFileStream.html">TFileStream</a> *pStream, <a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *pFileSize)</td></tr>
<tr class="separator:af505319882f0f4aaf396b6d061a2275b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cda734fc220ab4b32e1f2bf9b5446fc" id="r_a4cda734fc220ab4b32e1f2bf9b5446fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a4cda734fc220ab4b32e1f2bf9b5446fc">FileStream_GetPos</a> (<a class="el" href="structTFileStream.html">TFileStream</a> *pStream, <a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *pByteOffset)</td></tr>
<tr class="separator:a4cda734fc220ab4b32e1f2bf9b5446fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f0259d13a55ebc3c146603b6a38073" id="r_a81f0259d13a55ebc3c146603b6a38073"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a81f0259d13a55ebc3c146603b6a38073">FileStream_GetTime</a> (<a class="el" href="structTFileStream.html">TFileStream</a> *pStream, <a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *pFT)</td></tr>
<tr class="separator:a81f0259d13a55ebc3c146603b6a38073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b0eb2320c6401f6f1b5a92e53bc57dd" id="r_a3b0eb2320c6401f6f1b5a92e53bc57dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a3b0eb2320c6401f6f1b5a92e53bc57dd">FileStream_GetFlags</a> (<a class="el" href="structTFileStream.html">TFileStream</a> *pStream, <a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> pdwStreamFlags)</td></tr>
<tr class="separator:a3b0eb2320c6401f6f1b5a92e53bc57dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf883cb4bc8ff873bb286e8f7bf5002" id="r_afcf883cb4bc8ff873bb286e8f7bf5002"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#afcf883cb4bc8ff873bb286e8f7bf5002">FileStream_Replace</a> (<a class="el" href="structTFileStream.html">TFileStream</a> *pStream, <a class="el" href="structTFileStream.html">TFileStream</a> *pNewStream)</td></tr>
<tr class="separator:afcf883cb4bc8ff873bb286e8f7bf5002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8b75c4797726e9c5ee0b4b03bf31442" id="r_ae8b75c4797726e9c5ee0b4b03bf31442"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ae8b75c4797726e9c5ee0b4b03bf31442">FileStream_Close</a> (<a class="el" href="structTFileStream.html">TFileStream</a> *pStream)</td></tr>
<tr class="separator:ae8b75c4797726e9c5ee0b4b03bf31442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31e25aa9964041a88acc6a37b84b93f8" id="r_a31e25aa9964041a88acc6a37b84b93f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a31e25aa9964041a88acc6a37b84b93f8">SFileSetArchiveMarkers</a> (<a class="el" href="StormLib_8h.html#a9ff5e95dd1385dd48527ff9a2c66c425">PSFILE_MARKERS</a> pMarkers)</td></tr>
<tr class="separator:a31e25aa9964041a88acc6a37b84b93f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c9950c2f8316507888d5b1245e7bebc" id="r_a2c9950c2f8316507888d5b1245e7bebc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a2c9950c2f8316507888d5b1245e7bebc">SFileGetLocale</a> ()</td></tr>
<tr class="separator:a2c9950c2f8316507888d5b1245e7bebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0683c4b0bbf74b521c9f382b51b6e23" id="r_ab0683c4b0bbf74b521c9f382b51b6e23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab0683c4b0bbf74b521c9f382b51b6e23">SFileSetLocale</a> (<a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a> lcFileLocale)</td></tr>
<tr class="separator:ab0683c4b0bbf74b521c9f382b51b6e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b031afa4f88b4b3705c274a0b5b4f73" id="r_a8b031afa4f88b4b3705c274a0b5b4f73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a8b031afa4f88b4b3705c274a0b5b4f73">SFileOpenArchive</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szMpqName, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwPriority, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags, <a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *phMpq)</td></tr>
<tr class="separator:a8b031afa4f88b4b3705c274a0b5b4f73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11342f379ed88e7b54873f1f53feb773" id="r_a11342f379ed88e7b54873f1f53feb773"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a11342f379ed88e7b54873f1f53feb773">SFileCreateArchive</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szMpqName, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwCreateFlags, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwMaxFileCount, <a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *phMpq)</td></tr>
<tr class="separator:a11342f379ed88e7b54873f1f53feb773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2b6fa8f16b5ac42868c546533fe26ce" id="r_aa2b6fa8f16b5ac42868c546533fe26ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aa2b6fa8f16b5ac42868c546533fe26ce">SFileCreateArchive2</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szMpqName, <a class="el" href="StormLib_8h.html#a97df30ed85f80d5c8fe560750b3efe4a">PSFILE_CREATE_MPQ</a> pCreateInfo, <a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *phMpq)</td></tr>
<tr class="separator:aa2b6fa8f16b5ac42868c546533fe26ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32a52c97aba08f40e5a2933d66cceb02" id="r_a32a52c97aba08f40e5a2933d66cceb02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a32a52c97aba08f40e5a2933d66cceb02">SFileSetDownloadCallback</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_8h.html#aec85f6efb05064d79de5e05fff77c639">SFILE_DOWNLOAD_CALLBACK</a> DownloadCB, void *pvUserData)</td></tr>
<tr class="separator:a32a52c97aba08f40e5a2933d66cceb02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f3daefb5c0d87a791fcc42ec40714d2" id="r_a5f3daefb5c0d87a791fcc42ec40714d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a5f3daefb5c0d87a791fcc42ec40714d2">SFileFlushArchive</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq)</td></tr>
<tr class="separator:a5f3daefb5c0d87a791fcc42ec40714d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe1ae9917ea665286bffd1524561fceb" id="r_abe1ae9917ea665286bffd1524561fceb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#abe1ae9917ea665286bffd1524561fceb">SFileCloseArchive</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq)</td></tr>
<tr class="separator:abe1ae9917ea665286bffd1524561fceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab699405208db728f480c491831904e36" id="r_ab699405208db728f480c491831904e36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab699405208db728f480c491831904e36">SFileAddListFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szListFile)</td></tr>
<tr class="separator:ab699405208db728f480c491831904e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ce517e65659cbcf058b5574e950162" id="r_a15ce517e65659cbcf058b5574e950162"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a15ce517e65659cbcf058b5574e950162">SFileSetCompactCallback</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_8h.html#accf539777d623a74eb6b4394dd7fd6a1">SFILE_COMPACT_CALLBACK</a> CompactCB, void *pvUserData)</td></tr>
<tr class="separator:a15ce517e65659cbcf058b5574e950162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad7f5afb2f094ca2ef8af9acb893e1b" id="r_acad7f5afb2f094ca2ef8af9acb893e1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#acad7f5afb2f094ca2ef8af9acb893e1b">SFileCompactArchive</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szListFile, <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> bReserved)</td></tr>
<tr class="separator:acad7f5afb2f094ca2ef8af9acb893e1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e66295252e3b1f4b36a010941127f8" id="r_a04e66295252e3b1f4b36a010941127f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a04e66295252e3b1f4b36a010941127f8">SFileGetMaxFileCount</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq)</td></tr>
<tr class="separator:a04e66295252e3b1f4b36a010941127f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0066fc17b79fdbd976230a7d395d731" id="r_aa0066fc17b79fdbd976230a7d395d731"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aa0066fc17b79fdbd976230a7d395d731">SFileSetMaxFileCount</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwMaxFileCount)</td></tr>
<tr class="separator:aa0066fc17b79fdbd976230a7d395d731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae189da614befca23b053c36b9f93f460" id="r_ae189da614befca23b053c36b9f93f460"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ae189da614befca23b053c36b9f93f460">SFileGetAttributes</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq)</td></tr>
<tr class="separator:ae189da614befca23b053c36b9f93f460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8c8767ef66fc69dad98bd3a88f67def" id="r_ad8c8767ef66fc69dad98bd3a88f67def"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ad8c8767ef66fc69dad98bd3a88f67def">SFileSetAttributes</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags)</td></tr>
<tr class="separator:ad8c8767ef66fc69dad98bd3a88f67def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f66db40266cb2d78416b2f9cc2804ba" id="r_a7f66db40266cb2d78416b2f9cc2804ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a7f66db40266cb2d78416b2f9cc2804ba">SFileUpdateFileAttributes</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szFileName)</td></tr>
<tr class="separator:a7f66db40266cb2d78416b2f9cc2804ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6daebdc66320d44284e960bbff33e886" id="r_a6daebdc66320d44284e960bbff33e886"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a6daebdc66320d44284e960bbff33e886">SFileOpenPatchArchive</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szPatchMpqName, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szPatchPathPrefix, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags)</td></tr>
<tr class="separator:a6daebdc66320d44284e960bbff33e886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485461c38e347d9f3de4348e81bca043" id="r_a485461c38e347d9f3de4348e81bca043"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a485461c38e347d9f3de4348e81bca043">SFileIsPatchedArchive</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq)</td></tr>
<tr class="separator:a485461c38e347d9f3de4348e81bca043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb756b76326ffec7dbe07e4167490c0" id="r_a7fb756b76326ffec7dbe07e4167490c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a7fb756b76326ffec7dbe07e4167490c0">SFileHasFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szFileName)</td></tr>
<tr class="separator:a7fb756b76326ffec7dbe07e4167490c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9090bd528ef09a1c58bdb3931be5ec3" id="r_af9090bd528ef09a1c58bdb3931be5ec3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#af9090bd528ef09a1c58bdb3931be5ec3">SFileOpenFileEx</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szFileName, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwSearchScope, <a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *phFile)</td></tr>
<tr class="separator:af9090bd528ef09a1c58bdb3931be5ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d30c5a49fb9c1c1669884646282e4d3" id="r_a1d30c5a49fb9c1c1669884646282e4d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a1d30c5a49fb9c1c1669884646282e4d3">SFileGetFileSize</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile, <a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> pdwFileSizeHigh)</td></tr>
<tr class="separator:a1d30c5a49fb9c1c1669884646282e4d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e34d029cecd26331b44985dd5622927" id="r_a6e34d029cecd26331b44985dd5622927"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a6e34d029cecd26331b44985dd5622927">SFileSetFilePointer</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile, <a class="el" href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a> lFilePos, <a class="el" href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a> *plFilePosHigh, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwMoveMethod)</td></tr>
<tr class="separator:a6e34d029cecd26331b44985dd5622927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add9a438b42fbf4c132990d61bd2b6347" id="r_add9a438b42fbf4c132990d61bd2b6347"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#add9a438b42fbf4c132990d61bd2b6347">SFileReadFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile, void *lpBuffer, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwToRead, <a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> pdwRead, <a class="el" href="StormPort_8h.html#adfd8166ccad505199a5bf3b5fb0ec8d8">LPOVERLAPPED</a> lpOverlapped)</td></tr>
<tr class="separator:add9a438b42fbf4c132990d61bd2b6347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a09a38e6dc3b1afd95163a1c9052c6" id="r_a49a09a38e6dc3b1afd95163a1c9052c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a49a09a38e6dc3b1afd95163a1c9052c6">SFileCloseFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile)</td></tr>
<tr class="separator:a49a09a38e6dc3b1afd95163a1c9052c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65c5c13489a621c481282da76b101e16" id="r_a65c5c13489a621c481282da76b101e16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a65c5c13489a621c481282da76b101e16">SFileGetFileInfo</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpqOrFile, <a class="el" href="StormLib_8h.html#a67d641b05043414b7c8efe066af79bf3">SFileInfoClass</a> InfoClass, void *pvFileInfo, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> cbFileInfo, <a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> pcbLengthNeeded)</td></tr>
<tr class="separator:a65c5c13489a621c481282da76b101e16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3909beee4f92f439ad52faef54a6a296" id="r_a3909beee4f92f439ad52faef54a6a296"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a3909beee4f92f439ad52faef54a6a296">SFileGetFileName</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile, char *szFileName)</td></tr>
<tr class="separator:a3909beee4f92f439ad52faef54a6a296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ebf606a756cf0bbd7c3670ac7d0b7f" id="r_ae8ebf606a756cf0bbd7c3670ac7d0b7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ae8ebf606a756cf0bbd7c3670ac7d0b7f">SFileFreeFileInfo</a> (void *pvFileInfo, <a class="el" href="StormLib_8h.html#a67d641b05043414b7c8efe066af79bf3">SFileInfoClass</a> InfoClass)</td></tr>
<tr class="separator:ae8ebf606a756cf0bbd7c3670ac7d0b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25532910e8392ffc4b5fd57878d67316" id="r_a25532910e8392ffc4b5fd57878d67316"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a25532910e8392ffc4b5fd57878d67316">SFileExtractFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szToExtract, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szExtracted, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwSearchScope)</td></tr>
<tr class="separator:a25532910e8392ffc4b5fd57878d67316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dd23cd4dc08bc726ec9d4a41152b6ec" id="r_a2dd23cd4dc08bc726ec9d4a41152b6ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a2dd23cd4dc08bc726ec9d4a41152b6ec">SFileGetFileChecksums</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szFileName, <a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> pdwCrc32, char *pMD5)</td></tr>
<tr class="separator:a2dd23cd4dc08bc726ec9d4a41152b6ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb21d44888e21c7525298bbfcef1ba2" id="r_a1bb21d44888e21c7525298bbfcef1ba2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a1bb21d44888e21c7525298bbfcef1ba2">SFileVerifyFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szFileName, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags)</td></tr>
<tr class="separator:a1bb21d44888e21c7525298bbfcef1ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6dba58ed9a37a2871771b7e493e3f4a" id="r_ae6dba58ed9a37a2871771b7e493e3f4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ae6dba58ed9a37a2871771b7e493e3f4a">SFileVerifyRawData</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwWhatToVerify, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szFileName)</td></tr>
<tr class="separator:ae6dba58ed9a37a2871771b7e493e3f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0bc747dfb565ea0ac3a10eaa77e1c31" id="r_ab0bc747dfb565ea0ac3a10eaa77e1c31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab0bc747dfb565ea0ac3a10eaa77e1c31">SFileSignArchive</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwSignatureType)</td></tr>
<tr class="separator:ab0bc747dfb565ea0ac3a10eaa77e1c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d1f891bd3e6c98a94a13cc5745ae6f4" id="r_a5d1f891bd3e6c98a94a13cc5745ae6f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a5d1f891bd3e6c98a94a13cc5745ae6f4">SFileVerifyArchive</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq)</td></tr>
<tr class="separator:a5d1f891bd3e6c98a94a13cc5745ae6f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d4954b949694dc170b05364c2add5cd" id="r_a0d4954b949694dc170b05364c2add5cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a0d4954b949694dc170b05364c2add5cd">SFileFindFirstFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szMask, <a class="el" href="StormLib_8h.html#ac80854a06a92ee69e22c1d2c1fc5b5b9">SFILE_FIND_DATA</a> *lpFindFileData, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szListFile)</td></tr>
<tr class="separator:a0d4954b949694dc170b05364c2add5cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a04c684ebc812ab085d9615d1bce183" id="r_a9a04c684ebc812ab085d9615d1bce183"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a9a04c684ebc812ab085d9615d1bce183">SFileFindNextFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFind, <a class="el" href="StormLib_8h.html#ac80854a06a92ee69e22c1d2c1fc5b5b9">SFILE_FIND_DATA</a> *lpFindFileData)</td></tr>
<tr class="separator:a9a04c684ebc812ab085d9615d1bce183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ff6856104b147ef82a90e86699ca15" id="r_a33ff6856104b147ef82a90e86699ca15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a33ff6856104b147ef82a90e86699ca15">SFileFindClose</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFind)</td></tr>
<tr class="separator:a33ff6856104b147ef82a90e86699ca15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba1c9038ee83a8240402172dbab5ff30" id="r_aba1c9038ee83a8240402172dbab5ff30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aba1c9038ee83a8240402172dbab5ff30">SListFileFindFirstFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szListFile, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szMask, <a class="el" href="StormLib_8h.html#ac80854a06a92ee69e22c1d2c1fc5b5b9">SFILE_FIND_DATA</a> *lpFindFileData)</td></tr>
<tr class="separator:aba1c9038ee83a8240402172dbab5ff30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a391fb032f484224b1aa8989663f9357a" id="r_a391fb032f484224b1aa8989663f9357a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a391fb032f484224b1aa8989663f9357a">SListFileFindNextFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFind, <a class="el" href="StormLib_8h.html#ac80854a06a92ee69e22c1d2c1fc5b5b9">SFILE_FIND_DATA</a> *lpFindFileData)</td></tr>
<tr class="separator:a391fb032f484224b1aa8989663f9357a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c9b409ac37f567dd42aed8be7dee6eb" id="r_a7c9b409ac37f567dd42aed8be7dee6eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a7c9b409ac37f567dd42aed8be7dee6eb">SListFileFindClose</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFind)</td></tr>
<tr class="separator:a7c9b409ac37f567dd42aed8be7dee6eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a186cae4ee63830bb2fec5a2e8b24e626" id="r_a186cae4ee63830bb2fec5a2e8b24e626"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a186cae4ee63830bb2fec5a2e8b24e626">SFileEnumLocales</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szFileName, <a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a> *PtrFileLocales, <a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> PtrMaxLocales, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwSearchScope)</td></tr>
<tr class="separator:a186cae4ee63830bb2fec5a2e8b24e626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85f3b458be41b77c6b6d26f5d09c2bad" id="r_a85f3b458be41b77c6b6d26f5d09c2bad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a85f3b458be41b77c6b6d26f5d09c2bad">SFileCreateFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szArchivedName, <a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> FileTime, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFileSize, <a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a> lcFileLocale, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags, <a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *phFile)</td></tr>
<tr class="separator:a85f3b458be41b77c6b6d26f5d09c2bad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c78df25d758e53550021e82078352e" id="r_a70c78df25d758e53550021e82078352e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a70c78df25d758e53550021e82078352e">SFileWriteFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> void *pvData, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwSize, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwCompression)</td></tr>
<tr class="separator:a70c78df25d758e53550021e82078352e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7829275dccf80bbf47758ebd5515349a" id="r_a7829275dccf80bbf47758ebd5515349a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a7829275dccf80bbf47758ebd5515349a">SFileFinishFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile)</td></tr>
<tr class="separator:a7829275dccf80bbf47758ebd5515349a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d092079ada150e05bfed5a26e65e184" id="r_a9d092079ada150e05bfed5a26e65e184"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a9d092079ada150e05bfed5a26e65e184">SFileAddFileEx</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szFileName, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szArchivedName, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwCompression, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwCompressionNext)</td></tr>
<tr class="separator:a9d092079ada150e05bfed5a26e65e184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6184a31092ac5364a8746b1fca3a822" id="r_ab6184a31092ac5364a8746b1fca3a822"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab6184a31092ac5364a8746b1fca3a822">SFileAddFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szFileName, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szArchivedName, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags)</td></tr>
<tr class="separator:ab6184a31092ac5364a8746b1fca3a822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cc5ee53bb9a41f91d71a0be809ede22" id="r_a4cc5ee53bb9a41f91d71a0be809ede22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a4cc5ee53bb9a41f91d71a0be809ede22">SFileAddWave</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szFileName, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szArchivedName, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwQuality)</td></tr>
<tr class="separator:a4cc5ee53bb9a41f91d71a0be809ede22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b84dd7671288c4fa62d0ae748b831d" id="r_a78b84dd7671288c4fa62d0ae748b831d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a78b84dd7671288c4fa62d0ae748b831d">SFileRemoveFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szFileName, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwSearchScope)</td></tr>
<tr class="separator:a78b84dd7671288c4fa62d0ae748b831d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf315c2be57e5ebb9790cf84fe88ef03" id="r_abf315c2be57e5ebb9790cf84fe88ef03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#abf315c2be57e5ebb9790cf84fe88ef03">SFileRenameFile</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szOldFileName, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szNewFileName)</td></tr>
<tr class="separator:abf315c2be57e5ebb9790cf84fe88ef03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b5145c080be1df3647b57e93454a7fb" id="r_a7b5145c080be1df3647b57e93454a7fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a7b5145c080be1df3647b57e93454a7fb">SFileSetFileLocale</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile, <a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a> lcNewLocale)</td></tr>
<tr class="separator:a7b5145c080be1df3647b57e93454a7fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a9149a71da405f906dd388f77ceb0c" id="r_ab8a9149a71da405f906dd388f77ceb0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab8a9149a71da405f906dd388f77ceb0c">SFileSetDataCompression</a> (<a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> DataCompression)</td></tr>
<tr class="separator:ab8a9149a71da405f906dd388f77ceb0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a680ef09a7f9c363c2373b822152ab6b6" id="r_a680ef09a7f9c363c2373b822152ab6b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a680ef09a7f9c363c2373b822152ab6b6">SFileSetAddFileCallback</a> (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="el" href="StormLib_8h.html#a8e310b34dc27b4b6bfc6c0ccc4c725f4">SFILE_ADDFILE_CALLBACK</a> AddFileCB, void *pvUserData)</td></tr>
<tr class="separator:a680ef09a7f9c363c2373b822152ab6b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a430149429a94672d6363426736e6371f" id="r_a430149429a94672d6363426736e6371f"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a430149429a94672d6363426736e6371f">SCompImplode</a> (void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</td></tr>
<tr class="separator:a430149429a94672d6363426736e6371f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef9de212ebb17b38d8c1efbbdfeafac4" id="r_aef9de212ebb17b38d8c1efbbdfeafac4"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#aef9de212ebb17b38d8c1efbbdfeafac4">SCompExplode</a> (void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</td></tr>
<tr class="separator:aef9de212ebb17b38d8c1efbbdfeafac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a309e1b309f67df0c6d12e6df83a4219a" id="r_a309e1b309f67df0c6d12e6df83a4219a"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a309e1b309f67df0c6d12e6df83a4219a">SCompCompress</a> (void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer, unsigned uCompressionMask, int nCmpType, int nCmpLevel)</td></tr>
<tr class="separator:a309e1b309f67df0c6d12e6df83a4219a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6039b3fb0d4ac8ff528aaa7fcdbb5328" id="r_a6039b3fb0d4ac8ff528aaa7fcdbb5328"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a6039b3fb0d4ac8ff528aaa7fcdbb5328">SCompDecompress</a> (void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</td></tr>
<tr class="separator:a6039b3fb0d4ac8ff528aaa7fcdbb5328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4be5c65706a57411d71edd72bd91e06" id="r_ad4be5c65706a57411d71edd72bd91e06"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ad4be5c65706a57411d71edd72bd91e06">SCompDecompress2</a> (void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</td></tr>
<tr class="separator:ad4be5c65706a57411d71edd72bd91e06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab19c5156a7ff6aea3714bb75a38e9535" id="r_ab19c5156a7ff6aea3714bb75a38e9535"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ab19c5156a7ff6aea3714bb75a38e9535">SCompDecompress_SC1B</a> (void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</td></tr>
<tr class="separator:ab19c5156a7ff6aea3714bb75a38e9535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65dd8d3e416ffbd6ac5f468c6bdccac9" id="r_a65dd8d3e416ffbd6ac5f468c6bdccac9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a> (<a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode)</td></tr>
<tr class="separator:a65dd8d3e416ffbd6ac5f468c6bdccac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f1ed530318d4f8cecb3dfb53e15b0a" id="r_ad0f1ed530318d4f8cecb3dfb53e15b0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="StormLib_8h.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a> ()</td></tr>
<tr class="separator:ad0f1ed530318d4f8cecb3dfb53e15b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5a4e12f2d4a5ad2426f3eb302db71feb" name="a5a4e12f2d4a5ad2426f3eb302db71feb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a4e12f2d4a5ad2426f3eb302db71feb">&#9670;&#160;</a></span>ATTRIBUTES_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ATTRIBUTES_NAME&#160;&#160;&#160;&quot;(attributes)&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00292">292</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a3773c068cc9e5acf2ef6a0fd9b4a534e" name="a3773c068cc9e5acf2ef6a0fd9b4a534e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3773c068cc9e5acf2ef6a0fd9b4a534e">&#9670;&#160;</a></span>BASE_PROVIDER_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BASE_PROVIDER_FILE&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00310">310</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a120d1199a5c9b89d84bd7d3cdacd6b68" name="a120d1199a5c9b89d84bd7d3cdacd6b68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a120d1199a5c9b89d84bd7d3cdacd6b68">&#9670;&#160;</a></span>BASE_PROVIDER_HTTP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BASE_PROVIDER_HTTP&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00312">312</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a232c23ccf69f395a9edb5e6280b26513" name="a232c23ccf69f395a9edb5e6280b26513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a232c23ccf69f395a9edb5e6280b26513">&#9670;&#160;</a></span>BASE_PROVIDER_MAP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BASE_PROVIDER_MAP&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00311">311</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aa1838acaf14cde2205ad15734d17c6bd" name="aa1838acaf14cde2205ad15734d17c6bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1838acaf14cde2205ad15734d17c6bd">&#9670;&#160;</a></span>BASE_PROVIDER_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BASE_PROVIDER_MASK&#160;&#160;&#160;0x0000000F</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00313">313</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aed26bd0c6cd280f2dffb483779b448f3" name="aed26bd0c6cd280f2dffb483779b448f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed26bd0c6cd280f2dffb483779b448f3">&#9670;&#160;</a></span>BET_TABLE_SIGNATURE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BET_TABLE_SIGNATURE&#160;&#160;&#160;0x1A544542</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00284">284</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ae7aee560fb29050e6c7a2131279af2ba" name="ae7aee560fb29050e6c7a2131279af2ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7aee560fb29050e6c7a2131279af2ba">&#9670;&#160;</a></span>BLOCK_INDEX_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLOCK_INDEX_MASK&#160;&#160;&#160;0x0FFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00263">263</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ad7ffa50e63fc72ab47e6b1d087fc3b21" name="ad7ffa50e63fc72ab47e6b1d087fc3b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7ffa50e63fc72ab47e6b1d087fc3b21">&#9670;&#160;</a></span>CCB_CHECKING_FILES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCB_CHECKING_FILES&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00478">478</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a427b681997ab8ad945bc7de89636989c" name="a427b681997ab8ad945bc7de89636989c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a427b681997ab8ad945bc7de89636989c">&#9670;&#160;</a></span>CCB_CHECKING_HASH_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCB_CHECKING_HASH_TABLE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00479">479</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ab3f24feed60dcab56fc348d8c6e3bc42" name="ab3f24feed60dcab56fc348d8c6e3bc42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3f24feed60dcab56fc348d8c6e3bc42">&#9670;&#160;</a></span>CCB_CLOSING_ARCHIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCB_CLOSING_ARCHIVE&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00482">482</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a65304f71ca9a3f181511f124cb5b10cd" name="a65304f71ca9a3f181511f124cb5b10cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65304f71ca9a3f181511f124cb5b10cd">&#9670;&#160;</a></span>CCB_COMPACTING_FILES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCB_COMPACTING_FILES&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00481">481</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a17cc018bb22fca30c4198d9e1933f3e7" name="a17cc018bb22fca30c4198d9e1933f3e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17cc018bb22fca30c4198d9e1933f3e7">&#9670;&#160;</a></span>CCB_COPYING_NON_MPQ_DATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCB_COPYING_NON_MPQ_DATA&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00480">480</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a5a1367b6d80332535b570badd03ef220" name="a5a1367b6d80332535b570badd03ef220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a1367b6d80332535b570badd03ef220">&#9670;&#160;</a></span>ERROR_AVI_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_AVI_FILE&#160;&#160;&#160;10000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00153">153</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a6546324d17254e46a57699f7850c033a" name="a6546324d17254e46a57699f7850c033a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6546324d17254e46a57699f7850c033a">&#9670;&#160;</a></span>ERROR_BASE_FILE_MISSING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_BASE_FILE_MISSING&#160;&#160;&#160;10004</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00157">157</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ab3cb06f73f06a81c44c08632c90b9c80" name="ab3cb06f73f06a81c44c08632c90b9c80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3cb06f73f06a81c44c08632c90b9c80">&#9670;&#160;</a></span>ERROR_CANT_FIND_PATCH_PREFIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_CANT_FIND_PATCH_PREFIX&#160;&#160;&#160;10008</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00161">161</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a9f18b946c99fbbd49141142a3dfa7a06" name="a9f18b946c99fbbd49141142a3dfa7a06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f18b946c99fbbd49141142a3dfa7a06">&#9670;&#160;</a></span>ERROR_CHECKSUM_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_CHECKSUM_ERROR&#160;&#160;&#160;10002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00155">155</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ae5130639f290c0bd6cd90291d2e7bd68" name="ae5130639f290c0bd6cd90291d2e7bd68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5130639f290c0bd6cd90291d2e7bd68">&#9670;&#160;</a></span>ERROR_FAKE_MPQ_HEADER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_FAKE_MPQ_HEADER&#160;&#160;&#160;10009</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00162">162</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a647cc9f030c44bd40c5d8222b784647b" name="a647cc9f030c44bd40c5d8222b784647b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a647cc9f030c44bd40c5d8222b784647b">&#9670;&#160;</a></span>ERROR_FILE_INCOMPLETE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_FILE_INCOMPLETE&#160;&#160;&#160;10006</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00159">159</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a7683ee00dc0a85461bd66b9b11d729cf" name="a7683ee00dc0a85461bd66b9b11d729cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7683ee00dc0a85461bd66b9b11d729cf">&#9670;&#160;</a></span>ERROR_INTERNAL_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_INTERNAL_FILE&#160;&#160;&#160;10003</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00156">156</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a45e7eb55f8eb0cc8a34abbe9af900f84" name="a45e7eb55f8eb0cc8a34abbe9af900f84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45e7eb55f8eb0cc8a34abbe9af900f84">&#9670;&#160;</a></span>ERROR_MARKED_FOR_DELETE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_MARKED_FOR_DELETE&#160;&#160;&#160;10005</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00158">158</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a4cfaf1c7907e9a9602946ef99b826bba" name="a4cfaf1c7907e9a9602946ef99b826bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cfaf1c7907e9a9602946ef99b826bba">&#9670;&#160;</a></span>ERROR_NO_SIGNATURE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_NO_SIGNATURE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00385">385</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ad3188fa17a746b41f2e88467d795611b" name="ad3188fa17a746b41f2e88467d795611b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3188fa17a746b41f2e88467d795611b">&#9670;&#160;</a></span>ERROR_STRONG_SIGNATURE_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_STRONG_SIGNATURE_ERROR&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00390">390</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ab10c6f68d647bc434f3b6064f52e7482" name="ab10c6f68d647bc434f3b6064f52e7482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab10c6f68d647bc434f3b6064f52e7482">&#9670;&#160;</a></span>ERROR_STRONG_SIGNATURE_OK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_STRONG_SIGNATURE_OK&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00389">389</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aa2030502390a47def8b04f44cb34d3f9" name="aa2030502390a47def8b04f44cb34d3f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2030502390a47def8b04f44cb34d3f9">&#9670;&#160;</a></span>ERROR_UNKNOWN_FILE_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_UNKNOWN_FILE_KEY&#160;&#160;&#160;10001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00154">154</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a57f7555a5180c325aff07e8ff0253ece" name="a57f7555a5180c325aff07e8ff0253ece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57f7555a5180c325aff07e8ff0253ece">&#9670;&#160;</a></span>ERROR_UNKNOWN_FILE_NAMES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_UNKNOWN_FILE_NAMES&#160;&#160;&#160;10007</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00160">160</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a80c17a568554b991f15c75f4ad29c3c1" name="a80c17a568554b991f15c75f4ad29c3c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80c17a568554b991f15c75f4ad29c3c1">&#9670;&#160;</a></span>ERROR_VERIFY_FAILED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_VERIFY_FAILED&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00386">386</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a65e69300ff2f38e008b5777aff4ddbaf" name="a65e69300ff2f38e008b5777aff4ddbaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65e69300ff2f38e008b5777aff4ddbaf">&#9670;&#160;</a></span>ERROR_WEAK_SIGNATURE_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_WEAK_SIGNATURE_ERROR&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00388">388</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a10a8149306a6a8e578dc12543410c379" name="a10a8149306a6a8e578dc12543410c379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10a8149306a6a8e578dc12543410c379">&#9670;&#160;</a></span>ERROR_WEAK_SIGNATURE_OK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_WEAK_SIGNATURE_OK&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00387">387</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ad47fff8ab312819b1ea232ef14539bc5" name="ad47fff8ab312819b1ea232ef14539bc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad47fff8ab312819b1ea232ef14539bc5">&#9670;&#160;</a></span>FLAGS_TO_FORMAT_SHIFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLAGS_TO_FORMAT_SHIFT&#160;&#160;&#160;24</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00348">348</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ad10ece6325386b986d99623ab34c3b59" name="ad10ece6325386b986d99623ab34c3b59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad10ece6325386b986d99623ab34c3b59">&#9670;&#160;</a></span>HASH_ENTRY_DELETED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HASH_ENTRY_DELETED&#160;&#160;&#160;0xFFFFFFFE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00169">169</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="add57a74c393d7762e00da5327cff55b5" name="add57a74c393d7762e00da5327cff55b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add57a74c393d7762e00da5327cff55b5">&#9670;&#160;</a></span>HASH_ENTRY_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HASH_ENTRY_FREE&#160;&#160;&#160;0xFFFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00170">170</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a8477ef59ba6aef774870885da4bc7c88" name="a8477ef59ba6aef774870885da4bc7c88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8477ef59ba6aef774870885da4bc7c88">&#9670;&#160;</a></span>HASH_TABLE_SIZE_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HASH_TABLE_SIZE_DEFAULT&#160;&#160;&#160;0x00001000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00166">166</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aedbee811ee259deb7cc5fff7cd360b46" name="aedbee811ee259deb7cc5fff7cd360b46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedbee811ee259deb7cc5fff7cd360b46">&#9670;&#160;</a></span>HASH_TABLE_SIZE_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HASH_TABLE_SIZE_MAX&#160;&#160;&#160;0x00080000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00167">167</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a0f4d36e2ffb81279193121e9024feb43" name="a0f4d36e2ffb81279193121e9024feb43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f4d36e2ffb81279193121e9024feb43">&#9670;&#160;</a></span>HASH_TABLE_SIZE_MIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HASH_TABLE_SIZE_MIN&#160;&#160;&#160;0x00000004</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00165">165</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a52ceafc669c872d0d062c04b7331a715" name="a52ceafc669c872d0d062c04b7331a715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52ceafc669c872d0d062c04b7331a715">&#9670;&#160;</a></span>HET_ENTRY_DELETED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HET_ENTRY_DELETED&#160;&#160;&#160;0x80</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00172">172</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a93f7b5a05f7a5af87e451d05194d530f" name="a93f7b5a05f7a5af87e451d05194d530f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93f7b5a05f7a5af87e451d05194d530f">&#9670;&#160;</a></span>HET_ENTRY_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HET_ENTRY_FREE&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00173">173</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a2ca11d3a6a1b2a0c7e18961e6881af5a" name="a2ca11d3a6a1b2a0c7e18961e6881af5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ca11d3a6a1b2a0c7e18961e6881af5a">&#9670;&#160;</a></span>HET_TABLE_SIGNATURE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HET_TABLE_SIGNATURE&#160;&#160;&#160;0x1A544548</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00283">283</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="abe07659fac241778a323f2f9cfec7863" name="abe07659fac241778a323f2f9cfec7863"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe07659fac241778a323f2f9cfec7863">&#9670;&#160;</a></span>ID_MPK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ID_MPK&#160;&#160;&#160;0x1A4B504D</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00151">151</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="afdeb8a7e9ccaca654f89d6ea624a296e" name="afdeb8a7e9ccaca654f89d6ea624a296e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdeb8a7e9ccaca654f89d6ea624a296e">&#9670;&#160;</a></span>ID_MPQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ID_MPQ&#160;&#160;&#160;0x1A51504D</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00149">149</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a4e2e3020558d60961dfcc8ef291b5a23" name="a4e2e3020558d60961dfcc8ef291b5a23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e2e3020558d60961dfcc8ef291b5a23">&#9670;&#160;</a></span>ID_MPQ_USERDATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ID_MPQ_USERDATA&#160;&#160;&#160;0x1B51504D</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00150">150</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a1e2d59a08fba74a56a63865a6001cdfc" name="a1e2d59a08fba74a56a63865a6001cdfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e2d59a08fba74a56a63865a6001cdfc">&#9670;&#160;</a></span>LANG_NEUTRAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LANG_NEUTRAL&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00401">401</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ac797c1c425d999b5bc992e2e39b4169e" name="ac797c1c425d999b5bc992e2e39b4169e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac797c1c425d999b5bc992e2e39b4169e">&#9670;&#160;</a></span>LISTFILE_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LISTFILE_NAME&#160;&#160;&#160;&quot;(listfile)&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00290">290</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ad86b38d6ab14e243543904e30f26bed2" name="ad86b38d6ab14e243543904e30f26bed2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad86b38d6ab14e243543904e30f26bed2">&#9670;&#160;</a></span>MD5_DIGEST_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MD5_DIGEST_SIZE&#160;&#160;&#160;0x10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00393">393</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a0c71a04690bd449dc900b58111364c54" name="a0c71a04690bd449dc900b58111364c54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c71a04690bd449dc900b58111364c54">&#9670;&#160;</a></span>MPQ_ATTRIBUTE_ALL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_ATTRIBUTE_ALL&#160;&#160;&#160;0x0000000F</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00305">305</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ac644a10d909d5d8dde26be2b4f4236e6" name="ac644a10d909d5d8dde26be2b4f4236e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac644a10d909d5d8dde26be2b4f4236e6">&#9670;&#160;</a></span>MPQ_ATTRIBUTE_CRC32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_ATTRIBUTE_CRC32&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00301">301</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ad21c3706c1eaf54c3a548f3700fcfb99" name="ad21c3706c1eaf54c3a548f3700fcfb99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad21c3706c1eaf54c3a548f3700fcfb99">&#9670;&#160;</a></span>MPQ_ATTRIBUTE_FILETIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_ATTRIBUTE_FILETIME&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00302">302</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a70410c678aa8ca095cf2c1291865165b" name="a70410c678aa8ca095cf2c1291865165b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70410c678aa8ca095cf2c1291865165b">&#9670;&#160;</a></span>MPQ_ATTRIBUTE_MD5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_ATTRIBUTE_MD5&#160;&#160;&#160;0x00000004</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00303">303</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a2ba5b235fec95d21fa0e31d3a177c532" name="a2ba5b235fec95d21fa0e31d3a177c532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ba5b235fec95d21fa0e31d3a177c532">&#9670;&#160;</a></span>MPQ_ATTRIBUTE_PATCH_BIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_ATTRIBUTE_PATCH_BIT&#160;&#160;&#160;0x00000008</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00304">304</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a9600f76391ab7f6c162e5d634af73e7d" name="a9600f76391ab7f6c162e5d634af73e7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9600f76391ab7f6c162e5d634af73e7d">&#9670;&#160;</a></span>MPQ_ATTRIBUTES_V1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_ATTRIBUTES_V1&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00307">307</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="af80d1aef7136d7c2c793a30c4048c1d9" name="af80d1aef7136d7c2c793a30c4048c1d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af80d1aef7136d7c2c793a30c4048c1d9">&#9670;&#160;</a></span>MPQ_BLOCK_INDEX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_BLOCK_INDEX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pHash</td><td>)</td>
          <td>&#160;&#160;&#160;((pHash)-&gt;dwBlockIndex &amp; <a class="el" href="StormLib_8h.html#ae7aee560fb29050e6c7a2131279af2ba">BLOCK_INDEX_MASK</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00264">264</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a1c53d9ecdba00873daf8b8396ecf3d75" name="a1c53d9ecdba00873daf8b8396ecf3d75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c53d9ecdba00873daf8b8396ecf3d75">&#9670;&#160;</a></span>MPQ_COMPRESSION_ADPCM_MONO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_COMPRESSION_ADPCM_MONO&#160;&#160;&#160;0x40</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00272">272</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a3b1d4a7c8d9ccbdc02b748ab2fd4f882" name="a3b1d4a7c8d9ccbdc02b748ab2fd4f882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b1d4a7c8d9ccbdc02b748ab2fd4f882">&#9670;&#160;</a></span>MPQ_COMPRESSION_ADPCM_STEREO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_COMPRESSION_ADPCM_STEREO&#160;&#160;&#160;0x80</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00273">273</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ac44b18d438b10b9dab3e0097423248ad" name="ac44b18d438b10b9dab3e0097423248ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac44b18d438b10b9dab3e0097423248ad">&#9670;&#160;</a></span>MPQ_COMPRESSION_BZIP2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_COMPRESSION_BZIP2&#160;&#160;&#160;0x10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00270">270</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a505a02c8e15a72cf17ec5b1e3642ba7c" name="a505a02c8e15a72cf17ec5b1e3642ba7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a505a02c8e15a72cf17ec5b1e3642ba7c">&#9670;&#160;</a></span>MPQ_COMPRESSION_HUFFMANN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_COMPRESSION_HUFFMANN&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00267">267</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a8e5be3b3c8663e78a6acdaa131c6e013" name="a8e5be3b3c8663e78a6acdaa131c6e013"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e5be3b3c8663e78a6acdaa131c6e013">&#9670;&#160;</a></span>MPQ_COMPRESSION_LZMA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_COMPRESSION_LZMA&#160;&#160;&#160;0x12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00274">274</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a7e8cd5068f8ae19c7af3b48bc505a25d" name="a7e8cd5068f8ae19c7af3b48bc505a25d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e8cd5068f8ae19c7af3b48bc505a25d">&#9670;&#160;</a></span>MPQ_COMPRESSION_NEXT_SAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_COMPRESSION_NEXT_SAME&#160;&#160;&#160;0xFFFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00275">275</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="affcc96014fb0d52f7d555ea5729e526b" name="affcc96014fb0d52f7d555ea5729e526b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affcc96014fb0d52f7d555ea5729e526b">&#9670;&#160;</a></span>MPQ_COMPRESSION_PKWARE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_COMPRESSION_PKWARE&#160;&#160;&#160;0x08</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00269">269</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ac85b92394ff58491ebaee0aff8e50169" name="ac85b92394ff58491ebaee0aff8e50169"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac85b92394ff58491ebaee0aff8e50169">&#9670;&#160;</a></span>MPQ_COMPRESSION_SPARSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_COMPRESSION_SPARSE&#160;&#160;&#160;0x20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00271">271</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ac70d5d9d0a9f5d020ba7c84b6d441edb" name="ac70d5d9d0a9f5d020ba7c84b6d441edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac70d5d9d0a9f5d020ba7c84b6d441edb">&#9670;&#160;</a></span>MPQ_COMPRESSION_ZLIB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_COMPRESSION_ZLIB&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00268">268</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a2af5ec64d857d1f53d34f23bc0aacfde" name="a2af5ec64d857d1f53d34f23bc0aacfde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2af5ec64d857d1f53d34f23bc0aacfde">&#9670;&#160;</a></span>MPQ_CREATE_ARCHIVE_V1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_CREATE_ARCHIVE_V1&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00342">342</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ae7ab2d885ce56ca4269b6c1500f1e3c2" name="ae7ab2d885ce56ca4269b6c1500f1e3c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7ab2d885ce56ca4269b6c1500f1e3c2">&#9670;&#160;</a></span>MPQ_CREATE_ARCHIVE_V2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_CREATE_ARCHIVE_V2&#160;&#160;&#160;0x01000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00343">343</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a62d64df7b96b62259f995a1553953ee4" name="a62d64df7b96b62259f995a1553953ee4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62d64df7b96b62259f995a1553953ee4">&#9670;&#160;</a></span>MPQ_CREATE_ARCHIVE_V3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_CREATE_ARCHIVE_V3&#160;&#160;&#160;0x02000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00344">344</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a5bf1cc015cc917d3d72751933a3c3cd1" name="a5bf1cc015cc917d3d72751933a3c3cd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bf1cc015cc917d3d72751933a3c3cd1">&#9670;&#160;</a></span>MPQ_CREATE_ARCHIVE_V4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_CREATE_ARCHIVE_V4&#160;&#160;&#160;0x03000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00345">345</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ab0397d4d1250c2fb4bb49e456e14c5ec" name="ab0397d4d1250c2fb4bb49e456e14c5ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0397d4d1250c2fb4bb49e456e14c5ec">&#9670;&#160;</a></span>MPQ_CREATE_ARCHIVE_VMASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_CREATE_ARCHIVE_VMASK&#160;&#160;&#160;0x0F000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00346">346</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a604f97b6d0427af5441baa5b91fc86ad" name="a604f97b6d0427af5441baa5b91fc86ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a604f97b6d0427af5441baa5b91fc86ad">&#9670;&#160;</a></span>MPQ_CREATE_ATTRIBUTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_CREATE_ATTRIBUTES&#160;&#160;&#160;0x00200000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00340">340</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a720c79849591bfbef1d676d52da477ab" name="a720c79849591bfbef1d676d52da477ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a720c79849591bfbef1d676d52da477ab">&#9670;&#160;</a></span>MPQ_CREATE_LISTFILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_CREATE_LISTFILE&#160;&#160;&#160;0x00100000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00339">339</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="af0efd6f8e9cb2a9c3943dc955a083f4e" name="af0efd6f8e9cb2a9c3943dc955a083f4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0efd6f8e9cb2a9c3943dc955a083f4e">&#9670;&#160;</a></span>MPQ_CREATE_SIGNATURE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_CREATE_SIGNATURE&#160;&#160;&#160;0x00400000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00341">341</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a05c0e6be65657562b772b5ca9b667f0b" name="a05c0e6be65657562b772b5ca9b667f0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05c0e6be65657562b772b5ca9b667f0b">&#9670;&#160;</a></span>MPQ_FILE_COMPRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_COMPRESS&#160;&#160;&#160;0x00000200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00217">217</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a16951666146d61c988c6d7155493be82" name="a16951666146d61c988c6d7155493be82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16951666146d61c988c6d7155493be82">&#9670;&#160;</a></span>MPQ_FILE_COMPRESS_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_COMPRESS_MASK&#160;&#160;&#160;0x0000FF00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00229">229</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a68eb00ea1d1dc41a4de2bba26a2315e0" name="a68eb00ea1d1dc41a4de2bba26a2315e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68eb00ea1d1dc41a4de2bba26a2315e0">&#9670;&#160;</a></span>MPQ_FILE_DEFAULT_INTERNAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_DEFAULT_INTERNAL&#160;&#160;&#160;0xFFFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00231">231</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a3d72c520a6b4b501cb6459b9f5c88e6d" name="a3d72c520a6b4b501cb6459b9f5c88e6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d72c520a6b4b501cb6459b9f5c88e6d">&#9670;&#160;</a></span>MPQ_FILE_DELETE_MARKER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_DELETE_MARKER&#160;&#160;&#160;0x02000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00222">222</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a08fa41196410aea4c03e8e9210cc6606" name="a08fa41196410aea4c03e8e9210cc6606"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08fa41196410aea4c03e8e9210cc6606">&#9670;&#160;</a></span>MPQ_FILE_ENCRYPTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_ENCRYPTED&#160;&#160;&#160;0x00010000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00218">218</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="af6f21d7e58bf7855583c8f9667467432" name="af6f21d7e58bf7855583c8f9667467432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6f21d7e58bf7855583c8f9667467432">&#9670;&#160;</a></span>MPQ_FILE_EXISTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_EXISTS&#160;&#160;&#160;0x80000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00226">226</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a0e7165d33cb4239684eb19fe59f8a8d7" name="a0e7165d33cb4239684eb19fe59f8a8d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e7165d33cb4239684eb19fe59f8a8d7">&#9670;&#160;</a></span>MPQ_FILE_FIX_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_FIX_KEY&#160;&#160;&#160;0x00020000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00219">219</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="adcf67b78a67069b1d79d2bb10247d985" name="adcf67b78a67069b1d79d2bb10247d985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcf67b78a67069b1d79d2bb10247d985">&#9670;&#160;</a></span>MPQ_FILE_IMPLODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_IMPLODE&#160;&#160;&#160;0x00000100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00216">216</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a437c4920546d0e3e3a7a4e040e9aef20" name="a437c4920546d0e3e3a7a4e040e9aef20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a437c4920546d0e3e3a7a4e040e9aef20">&#9670;&#160;</a></span>MPQ_FILE_PATCH_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_PATCH_FILE&#160;&#160;&#160;0x00100000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00220">220</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aa273ca9983adfbfa82fe442303f27f32" name="aa273ca9983adfbfa82fe442303f27f32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa273ca9983adfbfa82fe442303f27f32">&#9670;&#160;</a></span>MPQ_FILE_REPLACEEXISTING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_REPLACEEXISTING&#160;&#160;&#160;0x80000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00227">227</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a636264ae6b8299c2ad8bfcbf3d1c2e5f" name="a636264ae6b8299c2ad8bfcbf3d1c2e5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a636264ae6b8299c2ad8bfcbf3d1c2e5f">&#9670;&#160;</a></span>MPQ_FILE_SECTOR_CRC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_SECTOR_CRC&#160;&#160;&#160;0x04000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00223">223</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a3e86598f61af3ffac4b9ed920cf1efab" name="a3e86598f61af3ffac4b9ed920cf1efab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e86598f61af3ffac4b9ed920cf1efab">&#9670;&#160;</a></span>MPQ_FILE_SIGNATURE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_SIGNATURE&#160;&#160;&#160;0x10000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00225">225</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ad8b6a5c0f3a3c71f60202ba17b5210df" name="ad8b6a5c0f3a3c71f60202ba17b5210df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8b6a5c0f3a3c71f60202ba17b5210df">&#9670;&#160;</a></span>MPQ_FILE_SINGLE_UNIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_SINGLE_UNIT&#160;&#160;&#160;0x01000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00221">221</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a30e8562440ee665b1e68625ce7bfc832" name="a30e8562440ee665b1e68625ce7bfc832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30e8562440ee665b1e68625ce7bfc832">&#9670;&#160;</a></span>MPQ_FILE_VALID_FLAGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_VALID_FLAGS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                                  (<a class="code hl_define" href="StormLib_8h.html#adcf67b78a67069b1d79d2bb10247d985">MPQ_FILE_IMPLODE</a>       |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a05c0e6be65657562b772b5ca9b667f0b">MPQ_FILE_COMPRESS</a>      |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a08fa41196410aea4c03e8e9210cc6606">MPQ_FILE_ENCRYPTED</a>     |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a0e7165d33cb4239684eb19fe59f8a8d7">MPQ_FILE_FIX_KEY</a>       |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a437c4920546d0e3e3a7a4e040e9aef20">MPQ_FILE_PATCH_FILE</a>    |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#ad8b6a5c0f3a3c71f60202ba17b5210df">MPQ_FILE_SINGLE_UNIT</a>   |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a3d72c520a6b4b501cb6459b9f5c88e6d">MPQ_FILE_DELETE_MARKER</a> |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a636264ae6b8299c2ad8bfcbf3d1c2e5f">MPQ_FILE_SECTOR_CRC</a>    |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a3e86598f61af3ffac4b9ed920cf1efab">MPQ_FILE_SIGNATURE</a>     |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#af6f21d7e58bf7855583c8f9667467432">MPQ_FILE_EXISTS</a>)</div>
<div class="ttc" id="aStormLib_8h_html_a05c0e6be65657562b772b5ca9b667f0b"><div class="ttname"><a href="StormLib_8h.html#a05c0e6be65657562b772b5ca9b667f0b">MPQ_FILE_COMPRESS</a></div><div class="ttdeci">#define MPQ_FILE_COMPRESS</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00217">StormLib.h:217</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a08fa41196410aea4c03e8e9210cc6606"><div class="ttname"><a href="StormLib_8h.html#a08fa41196410aea4c03e8e9210cc6606">MPQ_FILE_ENCRYPTED</a></div><div class="ttdeci">#define MPQ_FILE_ENCRYPTED</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00218">StormLib.h:218</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a0e7165d33cb4239684eb19fe59f8a8d7"><div class="ttname"><a href="StormLib_8h.html#a0e7165d33cb4239684eb19fe59f8a8d7">MPQ_FILE_FIX_KEY</a></div><div class="ttdeci">#define MPQ_FILE_FIX_KEY</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00219">StormLib.h:219</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a3d72c520a6b4b501cb6459b9f5c88e6d"><div class="ttname"><a href="StormLib_8h.html#a3d72c520a6b4b501cb6459b9f5c88e6d">MPQ_FILE_DELETE_MARKER</a></div><div class="ttdeci">#define MPQ_FILE_DELETE_MARKER</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00222">StormLib.h:222</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a3e86598f61af3ffac4b9ed920cf1efab"><div class="ttname"><a href="StormLib_8h.html#a3e86598f61af3ffac4b9ed920cf1efab">MPQ_FILE_SIGNATURE</a></div><div class="ttdeci">#define MPQ_FILE_SIGNATURE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00225">StormLib.h:225</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a437c4920546d0e3e3a7a4e040e9aef20"><div class="ttname"><a href="StormLib_8h.html#a437c4920546d0e3e3a7a4e040e9aef20">MPQ_FILE_PATCH_FILE</a></div><div class="ttdeci">#define MPQ_FILE_PATCH_FILE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00220">StormLib.h:220</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a636264ae6b8299c2ad8bfcbf3d1c2e5f"><div class="ttname"><a href="StormLib_8h.html#a636264ae6b8299c2ad8bfcbf3d1c2e5f">MPQ_FILE_SECTOR_CRC</a></div><div class="ttdeci">#define MPQ_FILE_SECTOR_CRC</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00223">StormLib.h:223</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ad8b6a5c0f3a3c71f60202ba17b5210df"><div class="ttname"><a href="StormLib_8h.html#ad8b6a5c0f3a3c71f60202ba17b5210df">MPQ_FILE_SINGLE_UNIT</a></div><div class="ttdeci">#define MPQ_FILE_SINGLE_UNIT</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00221">StormLib.h:221</a></div></div>
<div class="ttc" id="aStormLib_8h_html_adcf67b78a67069b1d79d2bb10247d985"><div class="ttname"><a href="StormLib_8h.html#adcf67b78a67069b1d79d2bb10247d985">MPQ_FILE_IMPLODE</a></div><div class="ttdeci">#define MPQ_FILE_IMPLODE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00216">StormLib.h:216</a></div></div>
<div class="ttc" id="aStormLib_8h_html_af6f21d7e58bf7855583c8f9667467432"><div class="ttname"><a href="StormLib_8h.html#af6f21d7e58bf7855583c8f9667467432">MPQ_FILE_EXISTS</a></div><div class="ttdeci">#define MPQ_FILE_EXISTS</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00226">StormLib.h:226</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00233">233</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  410</span>{</div>
<div class="line"><span class="lineno">  411</span>    <span class="comment">// Info classes for archives</span></div>
<div class="line"><span class="lineno">  412</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a6f586faa00c75a8cdad953e5efde6286">SFileMpqFileName</a>,                       <span class="comment">// Name of the archive file (TCHAR [])</span></div>
<div class="line"><span class="lineno">  413</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a16b9fe55c427a5197e7a74440c639f6d">SFileMpqStreamBitmap</a>,                   <span class="comment">// Array of bits, each bit means availability of one block (BYTE [])</span></div>
<div class="line"><span class="lineno">  414</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ab6ac50d041070ae4b65f53681f0854e9">SFileMpqUserDataOffset</a>,                 <span class="comment">// Offset of the user data header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  415</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a13361d2361f48e8b52f78f132027f4ae">SFileMpqUserDataHeader</a>,                 <span class="comment">// Raw (unfixed) user data header (TMPQUserData)</span></div>
<div class="line"><span class="lineno">  416</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3adc9d2e7fb46b5897767196d43b4e383f">SFileMpqUserData</a>,                       <span class="comment">// MPQ USer data, without the header (BYTE [])</span></div>
<div class="line"><span class="lineno">  417</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae9b6712848b58355a408f3daab83f96e">SFileMpqHeaderOffset</a>,                   <span class="comment">// Offset of the MPQ header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  418</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a2c89240e1cb6ab15bd904d349454aa28">SFileMpqHeaderSize</a>,                     <span class="comment">// Fixed size of the MPQ header</span></div>
<div class="line"><span class="lineno">  419</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3abf8849fd539c2b9ef471ed7dc7fd2db1">SFileMpqHeader</a>,                         <span class="comment">// Raw (unfixed) archive header (TMPQHeader)</span></div>
<div class="line"><span class="lineno">  420</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a476e6fcb3d5f43970f887ac598556585">SFileMpqHetTableOffset</a>,                 <span class="comment">// Offset of the HET table, relative to MPQ header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  421</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a55c455cf9a5ed02df0394977077a9f49">SFileMpqHetTableSize</a>,                   <span class="comment">// Compressed size of the HET table (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  422</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3fd7de9c4ab74548e75dee295e81fd52">SFileMpqHetHeader</a>,                      <span class="comment">// HET table header (TMPQHetHeader)</span></div>
<div class="line"><span class="lineno">  423</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a97a82d443138c8cc728c481e10432325">SFileMpqHetTable</a>,                       <span class="comment">// HET table as pointer. Must be freed using SFileFreeFileInfo</span></div>
<div class="line"><span class="lineno">  424</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aa4f4b7d0ffa6370a0422aa549f5e3bac">SFileMpqBetTableOffset</a>,                 <span class="comment">// Offset of the BET table, relative to MPQ header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  425</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af4b818adfb2d7cfa16ff245a18338eb5">SFileMpqBetTableSize</a>,                   <span class="comment">// Compressed size of the BET table (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  426</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a105f024e278c43445c1c5ff1f8ea1f1b">SFileMpqBetHeader</a>,                      <span class="comment">// BET table header, followed by the flags (TMPQBetHeader + DWORD[])</span></div>
<div class="line"><span class="lineno">  427</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ab0cb978f8746ea272bbe0ac9878b43a0">SFileMpqBetTable</a>,                       <span class="comment">// BET table as pointer. Must be freed using SFileFreeFileInfo</span></div>
<div class="line"><span class="lineno">  428</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a6315b32e12c8d68c3e7e0e6be68cd3db">SFileMpqHashTableOffset</a>,                <span class="comment">// Hash table offset, relative to MPQ header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  429</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ad90a58ed8a272c3f31ddd666113e3b1b">SFileMpqHashTableSize64</a>,                <span class="comment">// Compressed size of the hash table (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  430</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a1d751d6d4f05c1b5f8b5c4767948aa06">SFileMpqHashTableSize</a>,                  <span class="comment">// Size of the hash table, in entries (DWORD)</span></div>
<div class="line"><span class="lineno">  431</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3ff802559cd74fa3f55ef039630f4d88">SFileMpqHashTable</a>,                      <span class="comment">// Raw (unfixed) hash table (TMPQBlock [])</span></div>
<div class="line"><span class="lineno">  432</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a167d10513bfa74b57afd388de41c7fd4">SFileMpqBlockTableOffset</a>,               <span class="comment">// Block table offset, relative to MPQ header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  433</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af39f8a570fbe2e3b3adb8ed81711680f">SFileMpqBlockTableSize64</a>,               <span class="comment">// Compressed size of the block table (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  434</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aaa004bf74465d3053cf255a8ce621a43">SFileMpqBlockTableSize</a>,                 <span class="comment">// Size of the block table, in entries (DWORD)</span></div>
<div class="line"><span class="lineno">  435</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae59d94899507065297ca567a4c2d0655">SFileMpqBlockTable</a>,                     <span class="comment">// Raw (unfixed) block table (TMPQBlock [])</span></div>
<div class="line"><span class="lineno">  436</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5b738a9c20b08546c02eed33084401c8">SFileMpqHiBlockTableOffset</a>,             <span class="comment">// Hi-block table offset, relative to MPQ header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  437</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5e7fe06d85cb8e4bab77e9cc35e8d354">SFileMpqHiBlockTableSize64</a>,             <span class="comment">// Compressed size of the hi-block table (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  438</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a65ed9eb773b2039af8bf641c88c527c0">SFileMpqHiBlockTable</a>,                   <span class="comment">// The hi-block table (USHORT [])</span></div>
<div class="line"><span class="lineno">  439</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a2f12ee38d1f1fe0cf8adc58f36cabacd">SFileMpqSignatures</a>,                     <span class="comment">// Signatures present in the MPQ (DWORD)</span></div>
<div class="line"><span class="lineno">  440</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a23f3df00ce3c24ce8803771624604c00">SFileMpqStrongSignatureOffset</a>,          <span class="comment">// Byte offset of the strong signature, relative to begin of the file (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  441</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af011be22f9762d226813819a20241305">SFileMpqStrongSignatureSize</a>,            <span class="comment">// Size of the strong signature (DWORD)</span></div>
<div class="line"><span class="lineno">  442</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aedae906162459673c4cbeebd17bad09b">SFileMpqStrongSignature</a>,                <span class="comment">// The strong signature (BYTE [])</span></div>
<div class="line"><span class="lineno">  443</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a4d0e602be713ff6a1d1d8e348360f42d">SFileMpqArchiveSize64</a>,                  <span class="comment">// Archive size from the header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  444</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a9a16252d9bbd2c2e670ea78d6a054491">SFileMpqArchiveSize</a>,                    <span class="comment">// Archive size from the header (DWORD)</span></div>
<div class="line"><span class="lineno">  445</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a4ef6ceed6897535cbce154d7d5edc1b3">SFileMpqMaxFileCount</a>,                   <span class="comment">// Max number of files in the archive (DWORD)</span></div>
<div class="line"><span class="lineno">  446</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a274c6fef3d8e74a8f82ac86bc9fb2924">SFileMpqFileTableSize</a>,                  <span class="comment">// Number of entries in the file table (DWORD)</span></div>
<div class="line"><span class="lineno">  447</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5a11b123a8517ce48f7afa1a393b8e19">SFileMpqSectorSize</a>,                     <span class="comment">// Sector size (DWORD)</span></div>
<div class="line"><span class="lineno">  448</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a53b7024d554b409bd22e0ad589964cf4">SFileMpqNumberOfFiles</a>,                  <span class="comment">// Number of files (DWORD)</span></div>
<div class="line"><span class="lineno">  449</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae4553d5ac5e1229fc6ef79e5e87041fe">SFileMpqRawChunkSize</a>,                   <span class="comment">// Size of the raw data chunk for MD5</span></div>
<div class="line"><span class="lineno">  450</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a61467b9f7e76bde17f3f83f4fbd6b73e">SFileMpqStreamFlags</a>,                    <span class="comment">// Stream flags (DWORD)</span></div>
<div class="line"><span class="lineno">  451</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8f7439fddc4f1798c92b1fa35d25074c">SFileMpqFlags</a>,                          <span class="comment">// Nonzero if the MPQ is read only (DWORD)</span></div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>    <span class="comment">// Info classes for files</span></div>
<div class="line"><span class="lineno">  454</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3abd4bc7d7c777f43efb5f22680b6f852d">SFileInfoPatchChain</a>,                    <span class="comment">// Chain of patches where the file is (TCHAR [])</span></div>
<div class="line"><span class="lineno">  455</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a142ae8882ece33970ef1b984fc4e3cbf">SFileInfoFileEntry</a>,                     <span class="comment">// The file entry for the file (TFileEntry)</span></div>
<div class="line"><span class="lineno">  456</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a820fd5371b151b244ffd08393f8877e9">SFileInfoHashEntry</a>,                     <span class="comment">// Hash table entry for the file (TMPQHash)</span></div>
<div class="line"><span class="lineno">  457</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3acc9cd4f89a71bf69a6a70fe45b9a9ecf">SFileInfoHashIndex</a>,                     <span class="comment">// Index of the hash table entry (DWORD)</span></div>
<div class="line"><span class="lineno">  458</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ac63b8edf2c463ee184a571071c84abd3">SFileInfoNameHash1</a>,                     <span class="comment">// The first name hash in the hash table (DWORD)</span></div>
<div class="line"><span class="lineno">  459</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8e337bfdf364a4c3a253a9e80c5a5cdc">SFileInfoNameHash2</a>,                     <span class="comment">// The second name hash in the hash table (DWORD)</span></div>
<div class="line"><span class="lineno">  460</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5e0fdb5a3e5f95a0bce6b86916bcea56">SFileInfoNameHash3</a>,                     <span class="comment">// 64-bit file name hash for the HET/BET tables (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  461</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a891d6032f0a540a2fed2021fa80f0376">SFileInfoLocale</a>,                        <span class="comment">// File locale (DWORD)</span></div>
<div class="line"><span class="lineno">  462</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ac31921058e9e17c0901d2938abda5312">SFileInfoFileIndex</a>,                     <span class="comment">// Block index (DWORD)</span></div>
<div class="line"><span class="lineno">  463</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a72601c2519d44d5dee8b069dacd51964">SFileInfoByteOffset</a>,                    <span class="comment">// File position in the archive (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  464</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8b376a37df412d4aa5f983a2f6211fcf">SFileInfoFileTime</a>,                      <span class="comment">// File time (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  465</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3726b227a14fe257ae8aeb7be7d83437">SFileInfoFileSize</a>,                      <span class="comment">// Size of the file (DWORD)</span></div>
<div class="line"><span class="lineno">  466</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3afe2e60dff9fc8f6c6103e5697739229c">SFileInfoCompressedSize</a>,                <span class="comment">// Compressed file size (DWORD)</span></div>
<div class="line"><span class="lineno">  467</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae19e7046a1be4813d81eeeaba366b582">SFileInfoFlags</a>,                         <span class="comment">// File flags from (DWORD)</span></div>
<div class="line"><span class="lineno">  468</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a74e085d098861aeebebff5d863f2ff83">SFileInfoEncryptionKey</a>,                 <span class="comment">// File encryption key</span></div>
<div class="line"><span class="lineno">  469</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a944e704c35366e96a180762c0efcc24e">SFileInfoEncryptionKeyRaw</a>,              <span class="comment">// Unfixed value of the file key</span></div>
<div class="line"><span class="lineno">  470</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3acb29b757e6456e144941098494558ea0">SFileInfoCRC32</a>,                         <span class="comment">// CRC32 of the file</span></div>
<div class="line"><span class="lineno">  471</span>} <a class="code hl_typedef" href="StormLib_8h.html#a67d641b05043414b7c8efe066af79bf3">SFileInfoClass</a>;</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  474</span><span class="comment">// Callback functions</span></div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span><span class="comment">// Values for compact callback</span></div>
<div class="line"><span class="lineno">  477</span><span class="preprocessor">#define CCB_CHECKING_FILES                  1   </span><span class="comment">// Checking archive (dwParam1 = current, dwParam2 = total)</span></div>
<div class="line"><span class="lineno">  478</span><span class="preprocessor">#define CCB_CHECKING_HASH_TABLE             2   </span><span class="comment">// Checking hash table (dwParam1 = current, dwParam2 = total)</span></div>
<div class="line"><span class="lineno">  479</span><span class="preprocessor">#define CCB_COPYING_NON_MPQ_DATA            3   </span><span class="comment">// Copying non-MPQ data: No params used</span></div>
<div class="line"><span class="lineno">  480</span><span class="preprocessor">#define CCB_COMPACTING_FILES                4   </span><span class="comment">// Compacting archive (dwParam1 = current, dwParam2 = total)</span></div>
<div class="line"><span class="lineno">  481</span><span class="preprocessor">#define CCB_CLOSING_ARCHIVE                 5   </span><span class="comment">// Closing archive: No params used</span></div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span><span class="keyword">typedef</span> void (<a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * <a class="code hl_typedef" href="StormLib_8h.html#aec85f6efb05064d79de5e05fff77c639">SFILE_DOWNLOAD_CALLBACK</a>)(<span class="keywordtype">void</span> * pvUserData, <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> ByteOffset, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwTotalBytes);</div>
<div class="line"><span class="lineno">  484</span><span class="keyword">typedef</span> void (<a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * <a class="code hl_typedef" href="StormLib_8h.html#a8e310b34dc27b4b6bfc6c0ccc4c725f4">SFILE_ADDFILE_CALLBACK</a>)(<span class="keywordtype">void</span> * pvUserData, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesWritten, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwTotalBytes, <span class="keywordtype">bool</span> bFinalCall);</div>
<div class="line"><span class="lineno">  485</span><span class="keyword">typedef</span> void (<a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * <a class="code hl_typedef" href="StormLib_8h.html#accf539777d623a74eb6b4394dd7fd6a1">SFILE_COMPACT_CALLBACK</a>)(<span class="keywordtype">void</span> * pvUserData, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwWorkType, <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> BytesProcessed, <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> TotalBytes);</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="structTFileStream.html">TFileStream</a> <a class="code hl_struct" href="structTFileStream.html">TFileStream</a>;</div>
<div class="line"><span class="lineno">  488</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="structTMPQBits.html">TMPQBits</a> <a class="code hl_struct" href="structTMPQBits.html">TMPQBits</a>;</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  491</span><span class="comment">// Structures related to MPQ format</span></div>
<div class="line"><span class="lineno">  492</span><span class="comment">//</span></div>
<div class="line"><span class="lineno">  493</span><span class="comment">// Note: All structures in this header file are supposed to remain private</span></div>
<div class="line"><span class="lineno">  494</span><span class="comment">// to StormLib. The structures may (and will) change over time, as the MPQ</span></div>
<div class="line"><span class="lineno">  495</span><span class="comment">// file format evolves. Programmers directly using these structures need to</span></div>
<div class="line"><span class="lineno">  496</span><span class="comment">// be aware of this. And the last, but not least, NEVER do any modifications</span></div>
<div class="line"><span class="lineno">  497</span><span class="comment">// to those structures directly, always use SFile* functions.</span></div>
<div class="line"><span class="lineno">  498</span><span class="comment">//</span></div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span><span class="preprocessor">#define MPQ_HEADER_SIZE_V1    0x20</span></div>
<div class="line"><span class="lineno">  501</span><span class="preprocessor">#define MPQ_HEADER_SIZE_V2    0x2C</span></div>
<div class="line"><span class="lineno">  502</span><span class="preprocessor">#define MPQ_HEADER_SIZE_V3    0x44</span></div>
<div class="line"><span class="lineno">  503</span><span class="preprocessor">#define MPQ_HEADER_SIZE_V4    0xD0</span></div>
<div class="line"><span class="lineno">  504</span><span class="preprocessor">#define MPQ_HEADER_DWORDS     (MPQ_HEADER_SIZE_V4 / 0x04)</span></div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQUserData.html">_TMPQUserData</a></div>
<div class="line"><span class="lineno">  507</span>{</div>
<div class="line"><span class="lineno">  508</span>    <span class="comment">// The ID_MPQ_USERDATA (&#39;MPQ\x1B&#39;) signature</span></div>
<div class="line"><span class="lineno">  509</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQUserData.html#a20555748138f5e58cd38f6dd7fa3a5f1">dwID</a>;</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>    <span class="comment">// Maximum size of the user data</span></div>
<div class="line"><span class="lineno">  512</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQUserData.html#a77cc17fb272f95a626ff0358215d614d">cbUserDataSize</a>;</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>    <span class="comment">// Offset of the MPQ header, relative to the begin of this header</span></div>
<div class="line"><span class="lineno">  515</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQUserData.html#a120d3541bbc5279d8121bcb958ffac43">dwHeaderOffs</a>;</div>
<div class="line"><span class="lineno">  516</span> </div>
<div class="line"><span class="lineno">  517</span>    <span class="comment">// Appears to be size of user data header (Starcraft II maps)</span></div>
<div class="line"><span class="lineno">  518</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQUserData.html#a8c5ab8213401a02bd752f77609bea504">cbUserDataHeader</a>;</div>
<div class="line"><span class="lineno">  519</span>} <a class="code hl_typedef" href="StormLib_8h.html#a9b4d9eaf2101262ff0f76475beda0a2c">TMPQUserData</a>;</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span><span class="comment">// MPQ file header</span></div>
<div class="line"><span class="lineno">  522</span><span class="comment">//</span></div>
<div class="line"><span class="lineno">  523</span><span class="comment">// We have to make sure that the header is packed OK.</span></div>
<div class="line"><span class="lineno">  524</span><span class="comment">// Reason: A 64-bit integer at the beginning of 3.0 part,</span></div>
<div class="line"><span class="lineno">  525</span><span class="comment">// which is offset 0x2C</span></div>
<div class="line"><span class="lineno">  526</span><span class="preprocessor">#pragma pack(push, 1)</span></div>
<div class="line"><span class="lineno">  527</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQHeader.html">_TMPQHeader</a></div>
<div class="line"><span class="lineno">  528</span>{</div>
<div class="line"><span class="lineno">  529</span>    <span class="comment">// The ID_MPQ (&#39;MPQ\x1A&#39;) signature</span></div>
<div class="line"><span class="lineno">  530</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHeader.html#ae383ee3cfeac2520be29344bae32e94c">dwID</a>;</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>    <span class="comment">// Size of the archive header</span></div>
<div class="line"><span class="lineno">  533</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHeader.html#a2243a0f4cd3bfcf873062421b063781a">dwHeaderSize</a>;</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>    <span class="comment">// 32-bit size of MPQ archive</span></div>
<div class="line"><span class="lineno">  536</span>    <span class="comment">// This field is deprecated in the Burning Crusade MoPaQ format, and the size of the archive</span></div>
<div class="line"><span class="lineno">  537</span>    <span class="comment">// is calculated as the size from the beginning of the archive to the end of the hash table,</span></div>
<div class="line"><span class="lineno">  538</span>    <span class="comment">// block table, or hi-block table (whichever is largest).</span></div>
<div class="line"><span class="lineno">  539</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHeader.html#a4557744f91726c1d4f7f8a3db05ee3e0">dwArchiveSize</a>;</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>    <span class="comment">// 0 = Format 1 (up to The Burning Crusade)</span></div>
<div class="line"><span class="lineno">  542</span>    <span class="comment">// 1 = Format 2 (The Burning Crusade and newer)</span></div>
<div class="line"><span class="lineno">  543</span>    <span class="comment">// 2 = Format 3 (WoW - Cataclysm beta or newer)</span></div>
<div class="line"><span class="lineno">  544</span>    <span class="comment">// 3 = Format 4 (WoW - Cataclysm beta or newer)</span></div>
<div class="line"><span class="lineno">  545</span>    <a class="code hl_typedef" href="StormPort_8h.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code hl_variable" href="struct__TMPQHeader.html#a26c350cb08d35f2ffc4e75c380ed7901">wFormatVersion</a>;</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>    <span class="comment">// Power of two exponent specifying the number of 512-byte disk sectors in each file sector</span></div>
<div class="line"><span class="lineno">  548</span>    <span class="comment">// in the archive. The size of each file sector in the archive is 512 * 2 ^ wSectorSize.</span></div>
<div class="line"><span class="lineno">  549</span>    <a class="code hl_typedef" href="StormPort_8h.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code hl_variable" href="struct__TMPQHeader.html#aa6c9ec440342dfb5ab49bb0d0de3be19">wSectorSize</a>;</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>    <span class="comment">// Offset to the beginning of the hash table, relative to the beginning of the archive.</span></div>
<div class="line"><span class="lineno">  552</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHeader.html#acc150d84abed1f5c39b08e518fa9d7e7">dwHashTablePos</a>;</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>    <span class="comment">// Offset to the beginning of the block table, relative to the beginning of the archive.</span></div>
<div class="line"><span class="lineno">  555</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHeader.html#ac0cd7ad2175e7713f1ab6e652c305f9d">dwBlockTablePos</a>;</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>    <span class="comment">// Number of entries in the hash table. Must be a power of two, and must be less than 2^16 for</span></div>
<div class="line"><span class="lineno">  558</span>    <span class="comment">// the original MoPaQ format, or less than 2^20 for the Burning Crusade format.</span></div>
<div class="line"><span class="lineno">  559</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHeader.html#a67f1869dadee712c8210f77ce69cbfa9">dwHashTableSize</a>;</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>    <span class="comment">// Number of entries in the block table</span></div>
<div class="line"><span class="lineno">  562</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHeader.html#ad63fd2d3c6c0d1e67d4023c92b130b3b">dwBlockTableSize</a>;</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>    <span class="comment">//-- MPQ HEADER v 2 -------------------------------------------</span></div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>    <span class="comment">// Offset to the beginning of array of 16-bit high parts of file offsets.</span></div>
<div class="line"><span class="lineno">  567</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> <a class="code hl_variable" href="struct__TMPQHeader.html#ac22724a3b16bc3352a0dff72495d39a6">HiBlockTablePos64</a>;</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>    <span class="comment">// High 16 bits of the hash table offset for large archives.</span></div>
<div class="line"><span class="lineno">  570</span>    <a class="code hl_typedef" href="StormPort_8h.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code hl_variable" href="struct__TMPQHeader.html#aa11ca5528aff4f3901967ea28919d3ee">wHashTablePosHi</a>;</div>
<div class="line"><span class="lineno">  571</span> </div>
<div class="line"><span class="lineno">  572</span>    <span class="comment">// High 16 bits of the block table offset for large archives.</span></div>
<div class="line"><span class="lineno">  573</span>    <a class="code hl_typedef" href="StormPort_8h.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code hl_variable" href="struct__TMPQHeader.html#a5b94172d822a2348f6952a900c9a67b6">wBlockTablePosHi</a>;</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>    <span class="comment">//-- MPQ HEADER v 3 -------------------------------------------</span></div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>    <span class="comment">// 64-bit version of the archive size</span></div>
<div class="line"><span class="lineno">  578</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> <a class="code hl_variable" href="struct__TMPQHeader.html#a41fd63853e752056e6928d90e76e2299">ArchiveSize64</a>;</div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>    <span class="comment">// 64-bit position of the BET table</span></div>
<div class="line"><span class="lineno">  581</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> <a class="code hl_variable" href="struct__TMPQHeader.html#a6b14b9ec494cc3ecff09bfec81a41bca">BetTablePos64</a>;</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>    <span class="comment">// 64-bit position of the HET table</span></div>
<div class="line"><span class="lineno">  584</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> <a class="code hl_variable" href="struct__TMPQHeader.html#a2bde025233503af80b7adb206a2c7c5f">HetTablePos64</a>;</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>    <span class="comment">//-- MPQ HEADER v 4 -------------------------------------------</span></div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>    <span class="comment">// Compressed size of the hash table</span></div>
<div class="line"><span class="lineno">  589</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> <a class="code hl_variable" href="struct__TMPQHeader.html#aacaa38b5b060df20bd8185fbbcbb2c05">HashTableSize64</a>;</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>    <span class="comment">// Compressed size of the block table</span></div>
<div class="line"><span class="lineno">  592</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> <a class="code hl_variable" href="struct__TMPQHeader.html#a49a8c685ecb568b7cc34a7d869d9eb36">BlockTableSize64</a>;</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>    <span class="comment">// Compressed size of the hi-block table</span></div>
<div class="line"><span class="lineno">  595</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> <a class="code hl_variable" href="struct__TMPQHeader.html#ab94daea97aa276ddda65853f8713b281">HiBlockTableSize64</a>;</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>    <span class="comment">// Compressed size of the HET block</span></div>
<div class="line"><span class="lineno">  598</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> <a class="code hl_variable" href="struct__TMPQHeader.html#a55ca5cca128bc0f3a19963f584ee21ea">HetTableSize64</a>;</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>    <span class="comment">// Compressed size of the BET block</span></div>
<div class="line"><span class="lineno">  601</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> <a class="code hl_variable" href="struct__TMPQHeader.html#a3e0f089c07641c31742d8003a018e4d9">BetTableSize64</a>;</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>    <span class="comment">// Size of raw data chunk to calculate MD5.</span></div>
<div class="line"><span class="lineno">  604</span>    <span class="comment">// MD5 of each data chunk follows the raw file data.</span></div>
<div class="line"><span class="lineno">  605</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHeader.html#a0885c9723a608bc143ebe2f4bbac15de">dwRawChunkSize</a>;</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>    <span class="comment">// MD5 of MPQ tables</span></div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="struct__TMPQHeader.html#a94b84810438ca81a47e4d76161c69982">MD5_BlockTable</a>[<a class="code hl_define" href="StormLib_8h.html#ad86b38d6ab14e243543904e30f26bed2">MD5_DIGEST_SIZE</a>];      <span class="comment">// MD5 of the block table before decryption</span></div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="struct__TMPQHeader.html#a15584082486c95a8a276f11db3d7d925">MD5_HashTable</a>[<a class="code hl_define" href="StormLib_8h.html#ad86b38d6ab14e243543904e30f26bed2">MD5_DIGEST_SIZE</a>];       <span class="comment">// MD5 of the hash table before decryption</span></div>
<div class="line"><span class="lineno">  610</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="struct__TMPQHeader.html#a6e4123be184f03b07805173246f86fe4">MD5_HiBlockTable</a>[<a class="code hl_define" href="StormLib_8h.html#ad86b38d6ab14e243543904e30f26bed2">MD5_DIGEST_SIZE</a>];    <span class="comment">// MD5 of the hi-block table</span></div>
<div class="line"><span class="lineno">  611</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="struct__TMPQHeader.html#a1cbd9da1bd31e2b87e7c9f0a77d20c12">MD5_BetTable</a>[<a class="code hl_define" href="StormLib_8h.html#ad86b38d6ab14e243543904e30f26bed2">MD5_DIGEST_SIZE</a>];        <span class="comment">// MD5 of the BET table before decryption</span></div>
<div class="line"><span class="lineno">  612</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="struct__TMPQHeader.html#aabcf5d5db0341098e25ec822f734a5fb">MD5_HetTable</a>[<a class="code hl_define" href="StormLib_8h.html#ad86b38d6ab14e243543904e30f26bed2">MD5_DIGEST_SIZE</a>];        <span class="comment">// MD5 of the HET table before decryption</span></div>
<div class="line"><span class="lineno">  613</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="struct__TMPQHeader.html#a427cddb81d036d81c4b97198c79d7db4">MD5_MpqHeader</a>[<a class="code hl_define" href="StormLib_8h.html#ad86b38d6ab14e243543904e30f26bed2">MD5_DIGEST_SIZE</a>];       <span class="comment">// MD5 of the MPQ header from signature to (including) MD5_HetTable</span></div>
<div class="line"><span class="lineno">  614</span>} <a class="code hl_typedef" href="StormLib_8h.html#ad3ada5322cf6ba1694cef8ee03e219d7">TMPQHeader</a>;</div>
<div class="line"><span class="lineno">  615</span><span class="preprocessor">#pragma pack(pop)</span></div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span><span class="comment">// Hash table entry. All files in the archive are searched by their hashes.</span></div>
<div class="line"><span class="lineno">  618</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQHash.html">_TMPQHash</a></div>
<div class="line"><span class="lineno">  619</span>{</div>
<div class="line"><span class="lineno">  620</span>    <span class="comment">// The hash of the file path, using method A.</span></div>
<div class="line"><span class="lineno">  621</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHash.html#a696c4e84a6fe64e4307dac7e06a1c907">dwName1</a>;</div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>    <span class="comment">// The hash of the file path, using method B.</span></div>
<div class="line"><span class="lineno">  624</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHash.html#ad005ba7c70d25b34c5756db9ce29c304">dwName2</a>;</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span><span class="preprocessor">#ifdef STORMLIB_LITTLE_ENDIAN</span></div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>    <span class="comment">// The language of the file. This is a Windows LANGID data type, and uses the same values.</span></div>
<div class="line"><span class="lineno">  629</span>    <span class="comment">// 0 indicates the default language (American English), or that the file is language-neutral.</span></div>
<div class="line"><span class="lineno">  630</span>    <a class="code hl_typedef" href="StormPort_8h.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code hl_variable" href="struct__TMPQHash.html#a739c78235438c89d2cd6e6c0d44402ce">Locale</a>;</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>    <span class="comment">// The platform the file is used for. 0 indicates the default platform.</span></div>
<div class="line"><span class="lineno">  633</span>    <span class="comment">// No other values have been observed.</span></div>
<div class="line"><span class="lineno">  634</span>    <a class="code hl_typedef" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>   <a class="code hl_variable" href="struct__TMPQHash.html#a8712ff7211834dfc7314c5d682866d88">Platform</a>;</div>
<div class="line"><span class="lineno">  635</span>    <a class="code hl_typedef" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>   <a class="code hl_variable" href="struct__TMPQHash.html#a01c0f1e07232d15b0d22d294ae7e8b25">Reserved</a>;</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>    <a class="code hl_typedef" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>   <a class="code hl_variable" href="struct__TMPQHash.html#a01c0f1e07232d15b0d22d294ae7e8b25">Reserved</a>;</div>
<div class="line"><span class="lineno">  640</span>    <a class="code hl_typedef" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>   <a class="code hl_variable" href="struct__TMPQHash.html#a8712ff7211834dfc7314c5d682866d88">Platform</a>;</div>
<div class="line"><span class="lineno">  641</span>    <a class="code hl_typedef" href="StormPort_8h.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code hl_variable" href="struct__TMPQHash.html#a739c78235438c89d2cd6e6c0d44402ce">Locale</a>;</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>    <span class="comment">// If the hash table entry is valid, this is the index into the block table of the file.</span></div>
<div class="line"><span class="lineno">  646</span>    <span class="comment">// Otherwise, one of the following two values:</span></div>
<div class="line"><span class="lineno">  647</span>    <span class="comment">//  - FFFFFFFFh: Hash table entry is empty, and has always been empty.</span></div>
<div class="line"><span class="lineno">  648</span>    <span class="comment">//               Terminates searches for a given file.</span></div>
<div class="line"><span class="lineno">  649</span>    <span class="comment">//  - FFFFFFFEh: Hash table entry is empty, but was valid at some point (a deleted file).</span></div>
<div class="line"><span class="lineno">  650</span>    <span class="comment">//               Does not terminate searches for a given file.</span></div>
<div class="line"><span class="lineno">  651</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHash.html#adf2f532039f9b29034477e04a71be3af">dwBlockIndex</a>;</div>
<div class="line"><span class="lineno">  652</span>} <a class="code hl_typedef" href="StormLib_8h.html#a3931032d33f7a8276dd15d842b04ce0c">TMPQHash</a>;</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span><span class="comment">// File description block contains informations about the file</span></div>
<div class="line"><span class="lineno">  655</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQBlock.html">_TMPQBlock</a></div>
<div class="line"><span class="lineno">  656</span>{</div>
<div class="line"><span class="lineno">  657</span>    <span class="comment">// Offset of the beginning of the file, relative to the beginning of the archive.</span></div>
<div class="line"><span class="lineno">  658</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBlock.html#ab975905909e2e0e7d38cc7d2379c5167">dwFilePos</a>;</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>    <span class="comment">// Compressed file size</span></div>
<div class="line"><span class="lineno">  661</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBlock.html#acac231ce29cb58e76c6394787e318548">dwCSize</a>;</div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span>    <span class="comment">// Only valid if the block is a file; otherwise meaningless, and should be 0.</span></div>
<div class="line"><span class="lineno">  664</span>    <span class="comment">// If the file is compressed, this is the size of the uncompressed file data.</span></div>
<div class="line"><span class="lineno">  665</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBlock.html#ab91379a7a2d1e9c47221406b7342b41e">dwFSize</a>;</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>    <span class="comment">// Flags for the file. See MPQ_FILE_XXXX constants</span></div>
<div class="line"><span class="lineno">  668</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBlock.html#a01ac2a8413155b8cfeaf70451cd957c6">dwFlags</a>;</div>
<div class="line"><span class="lineno">  669</span>} <a class="code hl_typedef" href="StormLib_8h.html#ac024b00ba02354b5d3d5d0c594359207">TMPQBlock</a>;</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span><span class="comment">// Patch file information, preceding the sector offset table</span></div>
<div class="line"><span class="lineno">  672</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TPatchInfo.html">_TPatchInfo</a></div>
<div class="line"><span class="lineno">  673</span>{</div>
<div class="line"><span class="lineno">  674</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TPatchInfo.html#ab2bbce2ef9bd815274d9c638b27858c0">dwLength</a>;                             <span class="comment">// Length of patch info header, in bytes</span></div>
<div class="line"><span class="lineno">  675</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TPatchInfo.html#acd63852613db8c0c20fe6a9f93ec3ced">dwFlags</a>;                              <span class="comment">// Flags. 0x80000000 = MD5 (?)</span></div>
<div class="line"><span class="lineno">  676</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TPatchInfo.html#a9ae819807f601644d5b8207906e5aaa2">dwDataSize</a>;                           <span class="comment">// Uncompressed size of the patch file</span></div>
<div class="line"><span class="lineno">  677</span>    <a class="code hl_typedef" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>  <a class="code hl_variable" href="struct__TPatchInfo.html#ac5bc9cd5608eb5235e0ccf412d2b573e">md5</a>[0x10];                            <span class="comment">// MD5 of the entire patch file after decompression</span></div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span>    <span class="comment">// Followed by the sector table (variable length)</span></div>
<div class="line"><span class="lineno">  680</span>} <a class="code hl_typedef" href="StormLib_8h.html#a9be9da8f2fbea3f051a845b1a5813180">TPatchInfo</a>;</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span><span class="comment">// This is the combined file entry for maintaining file list in the MPQ.</span></div>
<div class="line"><span class="lineno">  683</span><span class="comment">// This structure is combined from block table, hi-block table,</span></div>
<div class="line"><span class="lineno">  684</span><span class="comment">// (attributes) file and from (listfile).</span></div>
<div class="line"><span class="lineno">  685</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TFileEntry.html">_TFileEntry</a></div>
<div class="line"><span class="lineno">  686</span>{</div>
<div class="line"><span class="lineno">  687</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> <a class="code hl_variable" href="struct__TFileEntry.html#a0813b376166461382eb1e86784cdc8cc">FileNameHash</a>;                     <span class="comment">// Jenkins hash of the file name. Only used when the MPQ has BET table.</span></div>
<div class="line"><span class="lineno">  688</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> <a class="code hl_variable" href="struct__TFileEntry.html#a4aa00b411c027d71b59b61d31025397a">ByteOffset</a>;                       <span class="comment">// Position of the file content in the MPQ, relative to the MPQ header</span></div>
<div class="line"><span class="lineno">  689</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> <a class="code hl_variable" href="struct__TFileEntry.html#a642c4c57f60732e0daef2343acd443f5">FileTime</a>;                         <span class="comment">// FileTime from the (attributes) file. 0 if not present.</span></div>
<div class="line"><span class="lineno">  690</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>     <a class="code hl_variable" href="struct__TFileEntry.html#ac1d03293cafba09c581d1ce3b20cce11">dwFileSize</a>;                       <span class="comment">// Decompressed size of the file</span></div>
<div class="line"><span class="lineno">  691</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>     <a class="code hl_variable" href="struct__TFileEntry.html#af0800e75c1cfe47b9fdab963b33c003d">dwCmpSize</a>;                        <span class="comment">// Compressed size of the file (i.e., size of the file data in the MPQ)</span></div>
<div class="line"><span class="lineno">  692</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>     <a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a>;                          <span class="comment">// File flags (from block table)</span></div>
<div class="line"><span class="lineno">  693</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>     <a class="code hl_variable" href="struct__TFileEntry.html#a06fcb7c74ebf45703eed4543dc1593fc">dwCrc32</a>;                          <span class="comment">// CRC32 from (attributes) file. 0 if not present.</span></div>
<div class="line"><span class="lineno">  694</span>    <a class="code hl_typedef" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>      <a class="code hl_variable" href="struct__TFileEntry.html#ab1d1decddc482561a60752168238a9c4">md5</a>[<a class="code hl_define" href="StormLib_8h.html#ad86b38d6ab14e243543904e30f26bed2">MD5_DIGEST_SIZE</a>];             <span class="comment">// File MD5 from the (attributes) file. 0 if not present.</span></div>
<div class="line"><span class="lineno">  695</span>    <span class="keywordtype">char</span> * <a class="code hl_variable" href="struct__TFileEntry.html#aa00a675cf553d128b1e3b5fdd9cdca0e">szFileName</a>;                          <span class="comment">// File name. NULL if not known.</span></div>
<div class="line"><span class="lineno">  696</span>} <a class="code hl_typedef" href="StormLib_8h.html#a07781c6d52e586d0221f86c84211ab71">TFileEntry</a>;</div>
<div class="line"><span class="lineno">  697</span> </div>
<div class="line"><span class="lineno">  698</span><span class="comment">// Common header for HET and BET tables</span></div>
<div class="line"><span class="lineno">  699</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQExtHeader.html">_TMPQExtHeader</a></div>
<div class="line"><span class="lineno">  700</span>{</div>
<div class="line"><span class="lineno">  701</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQExtHeader.html#a1ba930aaf941619d6e7fea914d42c680">dwSignature</a>;                          <span class="comment">// &#39;HET\x1A&#39; or &#39;BET\x1A&#39;</span></div>
<div class="line"><span class="lineno">  702</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQExtHeader.html#a4a08afaf17aa96f9902f9c1d57d585de">dwVersion</a>;                            <span class="comment">// Version. Seems to be always 1</span></div>
<div class="line"><span class="lineno">  703</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQExtHeader.html#ab9eb2f6f05fc9177061a7a89e1eed4c5">dwDataSize</a>;                           <span class="comment">// Size of the contained table</span></div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>    <span class="comment">// Followed by the table header</span></div>
<div class="line"><span class="lineno">  706</span>    <span class="comment">// Followed by the table data</span></div>
<div class="line"><span class="lineno">  707</span> </div>
<div class="line"><span class="lineno">  708</span>} <a class="code hl_typedef" href="StormLib_8h.html#a7ba4abe40715e1c52321a4d8f0fa41e0">TMPQExtHeader</a>;</div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span><span class="comment">// Structure for HET table header</span></div>
<div class="line"><span class="lineno">  711</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQHetHeader.html">_TMPQHetHeader</a></div>
<div class="line"><span class="lineno">  712</span>{</div>
<div class="line"><span class="lineno">  713</span>    <a class="code hl_struct" href="struct__TMPQExtHeader.html">TMPQExtHeader</a> <a class="code hl_variable" href="struct__TMPQHetHeader.html#a90acf1785cd6e6712eb966faaad03b66">ExtHdr</a>;</div>
<div class="line"><span class="lineno">  714</span> </div>
<div class="line"><span class="lineno">  715</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHetHeader.html#a22b15b95d8d8e4a9a1f5aa9316a7a208">dwTableSize</a>;                          <span class="comment">// Size of the entire HET table, including HET_TABLE_HEADER (in bytes)</span></div>
<div class="line"><span class="lineno">  716</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHetHeader.html#a4b2b4a294b28b2792bee351a92581240">dwEntryCount</a>;                         <span class="comment">// Number of occupied entries in the HET table</span></div>
<div class="line"><span class="lineno">  717</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHetHeader.html#ac4fff37e7f0d034afa7d0b62efae97ad">dwTotalCount</a>;                         <span class="comment">// Total number of entries in the HET table</span></div>
<div class="line"><span class="lineno">  718</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHetHeader.html#abb7873980191b9efa3df3800b1da9598">dwNameHashBitSize</a>;                    <span class="comment">// Size of the name hash entry (in bits)</span></div>
<div class="line"><span class="lineno">  719</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHetHeader.html#a43f32164cb9ff78490e212b2dfc1ffe5">dwIndexSizeTotal</a>;                     <span class="comment">// Total size of file index (in bits)</span></div>
<div class="line"><span class="lineno">  720</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHetHeader.html#a31b9f42a1884d9d0116f827d2ebdff3a">dwIndexSizeExtra</a>;                     <span class="comment">// Extra bits in the file index</span></div>
<div class="line"><span class="lineno">  721</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHetHeader.html#af7ac693981d260a8d68702e945d9561e">dwIndexSize</a>;                          <span class="comment">// Effective size of the file index (in bits)</span></div>
<div class="line"><span class="lineno">  722</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQHetHeader.html#a33f17be1cef184a7281b4d7473d64449">dwIndexTableSize</a>;                     <span class="comment">// Size of the block index subtable (in bytes)</span></div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>} <a class="code hl_typedef" href="StormLib_8h.html#acf59a724fa8f6597589b656d6f206277">TMPQHetHeader</a>;</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span><span class="comment">// Structure for BET table header</span></div>
<div class="line"><span class="lineno">  727</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQBetHeader.html">_TMPQBetHeader</a></div>
<div class="line"><span class="lineno">  728</span>{</div>
<div class="line"><span class="lineno">  729</span>    <a class="code hl_struct" href="struct__TMPQExtHeader.html">TMPQExtHeader</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a6553e272cc50294e5a2c3d28a11d8f7d">ExtHdr</a>;</div>
<div class="line"><span class="lineno">  730</span> </div>
<div class="line"><span class="lineno">  731</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#ae43cc1bb24c43f2827644d1802667b5d">dwTableSize</a>;                          <span class="comment">// Size of the entire BET table, including the header (in bytes)</span></div>
<div class="line"><span class="lineno">  732</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a41c718e0dd2c3301ac16438f87c47ed3">dwEntryCount</a>;                         <span class="comment">// Number of entries in the BET table. Must match HET_TABLE_HEADER::dwEntryCount</span></div>
<div class="line"><span class="lineno">  733</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a9fe0d26ac67b3dc0d012b10063bec6ba">dwUnknown08</a>;</div>
<div class="line"><span class="lineno">  734</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a959598371e5300f0d6720e5a5d6162b1">dwTableEntrySize</a>;                     <span class="comment">// Size of one table entry (in bits)</span></div>
<div class="line"><span class="lineno">  735</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a1472dc6aba761ab36bc22eafa555e2fb">dwBitIndex_FilePos</a>;                   <span class="comment">// Bit index of the file position (within the entry record)</span></div>
<div class="line"><span class="lineno">  736</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a0ab3bd38b9b5d5e134b72aa65952b03d">dwBitIndex_FileSize</a>;                  <span class="comment">// Bit index of the file size (within the entry record)</span></div>
<div class="line"><span class="lineno">  737</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a878139d8289bee10e485c678599e3bf7">dwBitIndex_CmpSize</a>;                   <span class="comment">// Bit index of the compressed size (within the entry record)</span></div>
<div class="line"><span class="lineno">  738</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a56acf59fff9d287a1e46ed8faaa20e5e">dwBitIndex_FlagIndex</a>;                 <span class="comment">// Bit index of the flag index (within the entry record)</span></div>
<div class="line"><span class="lineno">  739</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a2133dda67e0c52a1f38310b6b2f0320b">dwBitIndex_Unknown</a>;                   <span class="comment">// Bit index of the ??? (within the entry record)</span></div>
<div class="line"><span class="lineno">  740</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a7efe69205250b2ca05a315600bc934b7">dwBitCount_FilePos</a>;                   <span class="comment">// Bit size of file position (in the entry record)</span></div>
<div class="line"><span class="lineno">  741</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a479473ff6857586c8476fe2924ea0f42">dwBitCount_FileSize</a>;                  <span class="comment">// Bit size of file size (in the entry record)</span></div>
<div class="line"><span class="lineno">  742</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a1aafb4eb559ea6a9c554b618e40977a0">dwBitCount_CmpSize</a>;                   <span class="comment">// Bit size of compressed file size (in the entry record)</span></div>
<div class="line"><span class="lineno">  743</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a2682616c3545c6f8065eb6d8b03fa19d">dwBitCount_FlagIndex</a>;                 <span class="comment">// Bit size of flags index (in the entry record)</span></div>
<div class="line"><span class="lineno">  744</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a564af4977dac0c03a44b99fe622ce25d">dwBitCount_Unknown</a>;                   <span class="comment">// Bit size of ??? (in the entry record)</span></div>
<div class="line"><span class="lineno">  745</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a3f2fc842f62b63f5373d6fc792911ae5">dwBitTotal_NameHash2</a>;                 <span class="comment">// Total bit size of the NameHash2</span></div>
<div class="line"><span class="lineno">  746</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a7aa87ddb5653b9a5522a2ef1a77f548b">dwBitExtra_NameHash2</a>;                 <span class="comment">// Extra bits in the NameHash2</span></div>
<div class="line"><span class="lineno">  747</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a8a40f51a8979f1da34088bab7a1188ef">dwBitCount_NameHash2</a>;                 <span class="comment">// Effective size of NameHash2 (in bits)</span></div>
<div class="line"><span class="lineno">  748</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#aa85e220f76f26f1f407ceb5dda854929">dwNameHashArraySize</a>;                  <span class="comment">// Size of NameHash2 table, in bytes</span></div>
<div class="line"><span class="lineno">  749</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetHeader.html#a84be7e0ef64caf29adebdbb0f1a484b9">dwFlagCount</a>;                          <span class="comment">// Number of flags in the following array</span></div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>} <a class="code hl_typedef" href="StormLib_8h.html#a44e520bfaca46f55ce915af6df9dd265">TMPQBetHeader</a>;</div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span><span class="comment">// Structure for parsed HET table</span></div>
<div class="line"><span class="lineno">  754</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQHetTable.html">_TMPQHetTable</a></div>
<div class="line"><span class="lineno">  755</span>{</div>
<div class="line"><span class="lineno">  756</span>    <a class="code hl_struct" href="structTMPQBits.html">TMPQBits</a> * <a class="code hl_variable" href="struct__TMPQHetTable.html#ae4c4270ebada8781cb22ea2e4866ebeb">pBetIndexes</a>;                     <span class="comment">// Bit array of FileIndex values</span></div>
<div class="line"><span class="lineno">  757</span>    <a class="code hl_typedef" href="StormPort_8h.html#ac2d3fb16b5b34c1e6ab80014309020eb">LPBYTE</a>     <a class="code hl_variable" href="struct__TMPQHetTable.html#ae932645bfbeb008ccaa9d2523d352ec4">pNameHashes</a>;                     <span class="comment">// Array of NameHash1 values (NameHash1 = upper 8 bits of FileName hashe)</span></div>
<div class="line"><span class="lineno">  758</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>  <a class="code hl_variable" href="struct__TMPQHetTable.html#acb0d375cf300a908b7f68ae7273686eb">AndMask64</a>;                       <span class="comment">// AND mask used for calculating file name hash</span></div>
<div class="line"><span class="lineno">  759</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>  <a class="code hl_variable" href="struct__TMPQHetTable.html#a576fe2014aa1728d97a4cb2ccc6fae92">OrMask64</a>;                        <span class="comment">// OR mask used for setting the highest bit of the file name hash</span></div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>      <a class="code hl_variable" href="struct__TMPQHetTable.html#a2665ff9c158bcc7c40283f543f25d0ef">dwEntryCount</a>;                    <span class="comment">// Number of occupied entries in the HET table</span></div>
<div class="line"><span class="lineno">  762</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>      <a class="code hl_variable" href="struct__TMPQHetTable.html#a1a41b8ec2d6869cbe7971d8400f29e42">dwTotalCount</a>;                    <span class="comment">// Number of entries in both NameHash and FileIndex table</span></div>
<div class="line"><span class="lineno">  763</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>      <a class="code hl_variable" href="struct__TMPQHetTable.html#a187695205d5281f1213239379dd34017">dwNameHashBitSize</a>;               <span class="comment">// Size of the name hash entry (in bits)</span></div>
<div class="line"><span class="lineno">  764</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>      <a class="code hl_variable" href="struct__TMPQHetTable.html#ae6ce8986147611bceb9119ba1c5244e0">dwIndexSizeTotal</a>;                <span class="comment">// Total size of one entry in pBetIndexes (in bits)</span></div>
<div class="line"><span class="lineno">  765</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>      <a class="code hl_variable" href="struct__TMPQHetTable.html#a301d2237de2b14edd6d62f7251e8c5a1">dwIndexSizeExtra</a>;                <span class="comment">// Extra bits in the entry in pBetIndexes</span></div>
<div class="line"><span class="lineno">  766</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>      <a class="code hl_variable" href="struct__TMPQHetTable.html#a31710d22bc6664b9ac1d24ef7568dff3">dwIndexSize</a>;                     <span class="comment">// Effective size of one entry in pBetIndexes (in bits)</span></div>
<div class="line"><span class="lineno">  767</span>} <a class="code hl_typedef" href="StormLib_8h.html#a227ee271f86d0309e4659aefc3211a06">TMPQHetTable</a>;</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span><span class="comment">// Structure for parsed BET table</span></div>
<div class="line"><span class="lineno">  770</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQBetTable.html">_TMPQBetTable</a></div>
<div class="line"><span class="lineno">  771</span>{</div>
<div class="line"><span class="lineno">  772</span>    <a class="code hl_struct" href="structTMPQBits.html">TMPQBits</a> * <a class="code hl_variable" href="struct__TMPQBetTable.html#a434d0b14a2c641742ffb76d716902371">pNameHashes</a>;                     <span class="comment">// Array of NameHash2 entries (lower 24 bits of FileName hash)</span></div>
<div class="line"><span class="lineno">  773</span>    <a class="code hl_struct" href="structTMPQBits.html">TMPQBits</a> * <a class="code hl_variable" href="struct__TMPQBetTable.html#ab67de6fee5720fd99605c430d622d502">pFileTable</a>;                      <span class="comment">// Bit-based file table</span></div>
<div class="line"><span class="lineno">  774</span>    <a class="code hl_typedef" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#ad1b572faf10140931aaccd7871c5b2a3">pFileFlags</a>;                         <span class="comment">// Array of file flags</span></div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#a88f9182086767fcdd5ae3926f4034005">dwTableEntrySize</a>;                     <span class="comment">// Size of one table entry, in bits</span></div>
<div class="line"><span class="lineno">  777</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#aacc4ba36bd2ca4224a94eb7dee860ab9">dwBitIndex_FilePos</a>;                   <span class="comment">// Bit index of the file position in the table entry</span></div>
<div class="line"><span class="lineno">  778</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#ad48286a9615f15ed471a253c94e2d312">dwBitIndex_FileSize</a>;                  <span class="comment">// Bit index of the file size in the table entry</span></div>
<div class="line"><span class="lineno">  779</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#acc49c58de74d42be5043e5ddcbad24a7">dwBitIndex_CmpSize</a>;                   <span class="comment">// Bit index of the compressed size in the table entry</span></div>
<div class="line"><span class="lineno">  780</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#a09b52e501e2c30419d7555e10981c0f3">dwBitIndex_FlagIndex</a>;                 <span class="comment">// Bit index of the flag index in the table entry</span></div>
<div class="line"><span class="lineno">  781</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#a4e304351219cbc19f9116994d3f6e076">dwBitIndex_Unknown</a>;                   <span class="comment">// Bit index of ??? in the table entry</span></div>
<div class="line"><span class="lineno">  782</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#ac8c14b6ef6e32aff186e417091735634">dwBitCount_FilePos</a>;                   <span class="comment">// Size of file offset (in bits) within table entry</span></div>
<div class="line"><span class="lineno">  783</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#a94ddd806b5eaf4473d8b4cd36f2f06da">dwBitCount_FileSize</a>;                  <span class="comment">// Size of file size (in bits) within table entry</span></div>
<div class="line"><span class="lineno">  784</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#a5d2fabd3f7d394831d3ea346ac459b10">dwBitCount_CmpSize</a>;                   <span class="comment">// Size of compressed file size (in bits) within table entry</span></div>
<div class="line"><span class="lineno">  785</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#a6e3f96f932ff9f63f01806fcabfcdd84">dwBitCount_FlagIndex</a>;                 <span class="comment">// Size of flag index (in bits) within table entry</span></div>
<div class="line"><span class="lineno">  786</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#aefd753201b79225c4010bf2c65b9248c">dwBitCount_Unknown</a>;                   <span class="comment">// Size of ??? (in bits) within table entry</span></div>
<div class="line"><span class="lineno">  787</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#a577b3d75ba0d567ec8f9cd494469eafb">dwBitTotal_NameHash2</a>;                 <span class="comment">// Total size of the NameHash2</span></div>
<div class="line"><span class="lineno">  788</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#af2869eabbac4663a209bc5769be145aa">dwBitExtra_NameHash2</a>;                 <span class="comment">// Extra bits in the NameHash2</span></div>
<div class="line"><span class="lineno">  789</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#af5375d55ffabe40391a6376515205c03">dwBitCount_NameHash2</a>;                 <span class="comment">// Effective size of the NameHash2</span></div>
<div class="line"><span class="lineno">  790</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#a66a80bba649704c56659f38ba249ec6c">dwEntryCount</a>;                         <span class="comment">// Number of entries</span></div>
<div class="line"><span class="lineno">  791</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQBetTable.html#a4673f19f0bb126847be370849743b7f1">dwFlagCount</a>;                          <span class="comment">// Number of file flags in pFileFlags</span></div>
<div class="line"><span class="lineno">  792</span>} <a class="code hl_typedef" href="StormLib_8h.html#a88d0d33a9ef1ba07b984d0666575478f">TMPQBetTable</a>;</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span><span class="comment">// Structure for patch prefix</span></div>
<div class="line"><span class="lineno">  795</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQNamePrefix.html">_TMPQNamePrefix</a></div>
<div class="line"><span class="lineno">  796</span>{</div>
<div class="line"><span class="lineno">  797</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="struct__TMPQNamePrefix.html#a9b9249401510b3bf766f8d20e716fd67">nLength</a>;                             <span class="comment">// Length of this patch prefix. Can be 0</span></div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="struct__TMPQNamePrefix.html#ae18ce7c7a179a2f3b8c7edfdf1079bb1">szPatchPrefix</a>[1];                      <span class="comment">// Patch name prefix (variable length). If not empty, it always starts with backslash.</span></div>
<div class="line"><span class="lineno">  799</span>} <a class="code hl_typedef" href="StormLib_8h.html#a3d4029547e1c3655efaffdcaf68da030">TMPQNamePrefix</a>;</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span><span class="comment">// Structure for name cache</span></div>
<div class="line"><span class="lineno">  802</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQNameCache.html">_TMPQNameCache</a></div>
<div class="line"><span class="lineno">  803</span>{</div>
<div class="line"><span class="lineno">  804</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQNameCache.html#a303c7f1b988895efb4e5606e64cedc2d">FirstNameOffset</a>;                      <span class="comment">// Offset of the first name in the name list (in bytes)</span></div>
<div class="line"><span class="lineno">  805</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQNameCache.html#a7829c6ec44cf00726179eff7aa1b454f">FreeSpaceOffset</a>;                      <span class="comment">// Offset of the first free byte in the name cache (in bytes)</span></div>
<div class="line"><span class="lineno">  806</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQNameCache.html#a6aeb1c2bbd4cb67eb924dd6e15af48fc">TotalCacheSize</a>;                       <span class="comment">// Size, in bytes, of the cache. Includes wildcard</span></div>
<div class="line"><span class="lineno">  807</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__TMPQNameCache.html#a92d52b61baddf361d9f4178c4e1ee299">SearchOffset</a>;                         <span class="comment">// Used by SListFileFindFirstFile</span></div>
<div class="line"><span class="lineno">  808</span> </div>
<div class="line"><span class="lineno">  809</span>    <span class="comment">// Followed by search mask (ASCIIZ, &#39;\0&#39; if none)</span></div>
<div class="line"><span class="lineno">  810</span>    <span class="comment">// Followed by name cache (ANSI multistring)</span></div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>} <a class="code hl_typedef" href="StormLib_8h.html#a32b41c22eea22b7910d3cb8558e5c6c3">TMPQNameCache</a>;</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span><span class="comment">// Archive handle structure</span></div>
<div class="line"><span class="lineno">  815</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQArchive.html">_TMPQArchive</a></div>
<div class="line"><span class="lineno">  816</span>{</div>
<div class="line"><span class="lineno">  817</span>    <a class="code hl_struct" href="structTFileStream.html">TFileStream</a>  * <a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>;                     <span class="comment">// Open stream for the MPQ</span></div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>      <a class="code hl_variable" href="struct__TMPQArchive.html#a43334c6a178fc02023a7412d9319136c">UserDataPos</a>;                 <span class="comment">// Position of user data (relative to the begin of the file)</span></div>
<div class="line"><span class="lineno">  820</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>      <a class="code hl_variable" href="struct__TMPQArchive.html#a146dee965bc1cb34e569e3637b6e5c82">MpqPos</a>;                      <span class="comment">// MPQ header offset (relative to the begin of the file)</span></div>
<div class="line"><span class="lineno">  821</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>      <a class="code hl_variable" href="struct__TMPQArchive.html#a98a7c7bef18769c1ff4a9ea917a4e4a4">FileSize</a>;                    <span class="comment">// Size of the file at the moment of file open</span></div>
<div class="line"><span class="lineno">  822</span> </div>
<div class="line"><span class="lineno">  823</span>    <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQArchive.html">_TMPQArchive</a> * <a class="code hl_variable" href="struct__TMPQArchive.html#aa2646402b5718a74c1908745ea6a46cd">haPatch</a>;              <span class="comment">// Pointer to patch archive, if any</span></div>
<div class="line"><span class="lineno">  824</span>    <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQArchive.html">_TMPQArchive</a> * <a class="code hl_variable" href="struct__TMPQArchive.html#a6e455bdb9e81a614ed10d954ee846293">haBase</a>;               <span class="comment">// Pointer to base (&quot;previous version&quot;) archive, if any</span></div>
<div class="line"><span class="lineno">  825</span>    <a class="code hl_struct" href="struct__TMPQNamePrefix.html">TMPQNamePrefix</a> * <a class="code hl_variable" href="struct__TMPQArchive.html#a751b7e69dec82e5c9657080c8148e5e3">pPatchPrefix</a>;              <span class="comment">// Patch prefix to precede names of patch files</span></div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>    <a class="code hl_struct" href="struct__TMPQUserData.html">TMPQUserData</a> * <a class="code hl_variable" href="struct__TMPQArchive.html#a7583a5113bdd4a857a71bbd92c86eb6e">pUserData</a>;                   <span class="comment">// MPQ user data (NULL if not present in the file)</span></div>
<div class="line"><span class="lineno">  828</span>    <a class="code hl_struct" href="struct__TMPQHeader.html">TMPQHeader</a>   * <a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>;                     <span class="comment">// MPQ file header</span></div>
<div class="line"><span class="lineno">  829</span>    <a class="code hl_struct" href="struct__TMPQHash.html">TMPQHash</a>     * <a class="code hl_variable" href="struct__TMPQArchive.html#ad3ec9127fcae2cd440073adbc3f21fba">pHashTable</a>;                  <span class="comment">// Hash table</span></div>
<div class="line"><span class="lineno">  830</span>    <a class="code hl_struct" href="struct__TMPQHetTable.html">TMPQHetTable</a> * <a class="code hl_variable" href="struct__TMPQArchive.html#a964afcb85acb567a58ef4066b579fd51">pHetTable</a>;                   <span class="comment">// HET table</span></div>
<div class="line"><span class="lineno">  831</span>    <a class="code hl_struct" href="struct__TFileEntry.html">TFileEntry</a>   * <a class="code hl_variable" href="struct__TMPQArchive.html#a82a7283606d9775df50cb1c683280db1">pFileTable</a>;                  <span class="comment">// File table</span></div>
<div class="line"><span class="lineno">  832</span>    <a class="code hl_typedef" href="StormLib_8h.html#afcb16e96c8708fd0d9ff12d058076fdc">HASH_STRING</a>    <a class="code hl_variable" href="struct__TMPQArchive.html#a5075170ac14f68563fd5548ad332fe38">pfnHashString</a>;               <span class="comment">// Hashing function that will convert the file name into hash</span></div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>    <a class="code hl_struct" href="struct__TMPQUserData.html">TMPQUserData</a>   <a class="code hl_variable" href="struct__TMPQArchive.html#adc3931555ea4e7dd2b1e4858eee48c0a">UserData</a>;                    <span class="comment">// MPQ user data. Valid only when ID_MPQ_USERDATA has been found</span></div>
<div class="line"><span class="lineno">  835</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#a515bd4fb99f5bacb557725b71c3ee3b2">HeaderData</a>[<a class="code hl_define" href="StormLib_8h.html#af15a614080a5231006e0381b3c715760">MPQ_HEADER_DWORDS</a>];  <span class="comment">// Storage for MPQ header</span></div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#a870f83350a4a4fa805ee3858ea4bd7f5">dwHETBlockSize</a>;</div>
<div class="line"><span class="lineno">  838</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#a7416d94c8570654cf371c4f265735a57">dwBETBlockSize</a>;</div>
<div class="line"><span class="lineno">  839</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#aefc10ddd33bc3158c683cba1eab71c38">dwMaxFileCount</a>;              <span class="comment">// Maximum number of files in the MPQ. Also total size of the file table.</span></div>
<div class="line"><span class="lineno">  840</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#aae2b6f26cfc5d09d2fc734947c82aabe">dwFileTableSize</a>;             <span class="comment">// Current size of the file table, e.g. index of the entry past the last occupied one</span></div>
<div class="line"><span class="lineno">  841</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#a9eae90efbf3e52b5bb0b400eb157547e">dwReservedFiles</a>;             <span class="comment">// Number of entries reserved for internal MPQ files (listfile, attributes)</span></div>
<div class="line"><span class="lineno">  842</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#a3f3661fec3d00a1e93ba3c2212a2e703">dwSectorSize</a>;                <span class="comment">// Default size of one file sector</span></div>
<div class="line"><span class="lineno">  843</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#af277e7bdab70f04a3019a18ef37a701a">dwFileFlags1</a>;                <span class="comment">// Flags for (listfile)</span></div>
<div class="line"><span class="lineno">  844</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#ae2a681db2717763a2908943706839a61">dwFileFlags2</a>;                <span class="comment">// Flags for (attributes)</span></div>
<div class="line"><span class="lineno">  845</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#ae523b14433e4a9071469133f67c3ac52">dwFileFlags3</a>;                <span class="comment">// Flags for (signature)</span></div>
<div class="line"><span class="lineno">  846</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#ad2519a9b6b0657a19176bbe5d2e5651e">dwAttrFlags</a>;                 <span class="comment">// Flags for the (attributes) file, see MPQ_ATTRIBUTE_XXX</span></div>
<div class="line"><span class="lineno">  847</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#ad49b63dce2ee9c6f774c69f22732c8b7">dwValidFileFlags</a>;            <span class="comment">// Valid flags for the current MPQ</span></div>
<div class="line"><span class="lineno">  848</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#aaa60e129a442934c74e6097c59b8b00f">dwRealHashTableSize</a>;         <span class="comment">// Real size of the hash table, if MPQ_FLAG_HASH_TABLE_CUT is zet in dwFlags</span></div>
<div class="line"><span class="lineno">  849</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a>;                     <span class="comment">// See MPQ_FLAG_XXXXX</span></div>
<div class="line"><span class="lineno">  850</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQArchive.html#adfa7731ad54c7b934ed2e8f590b41958">dwSubType</a>;                   <span class="comment">// See MPQ_SUBTYPE_XXX</span></div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span>    <a class="code hl_typedef" href="StormLib_8h.html#a8e310b34dc27b4b6bfc6c0ccc4c725f4">SFILE_ADDFILE_CALLBACK</a> <a class="code hl_variable" href="struct__TMPQArchive.html#ae614bf73548639003f8243f437ba9624">pfnAddFileCB</a>;        <span class="comment">// Callback function for adding files</span></div>
<div class="line"><span class="lineno">  853</span>    <span class="keywordtype">void</span>         * <a class="code hl_variable" href="struct__TMPQArchive.html#a1bb84be2781abcca46fd31c542260430">pvAddFileUserData</a>;           <span class="comment">// User data thats passed to the callback</span></div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>    <a class="code hl_typedef" href="StormLib_8h.html#accf539777d623a74eb6b4394dd7fd6a1">SFILE_COMPACT_CALLBACK</a> <a class="code hl_variable" href="struct__TMPQArchive.html#a77480124f58b4f0314768510471cf62d">pfnCompactCB</a>;        <span class="comment">// Callback function for compacting the archive</span></div>
<div class="line"><span class="lineno">  856</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>      <a class="code hl_variable" href="struct__TMPQArchive.html#a36bdadf2b67eb194aa5c7ef1399e02b8">CompactBytesProcessed</a>;       <span class="comment">// Amount of bytes that have been processed during a particular compact call</span></div>
<div class="line"><span class="lineno">  857</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>      <a class="code hl_variable" href="struct__TMPQArchive.html#a00401a81d010165ab945fcf29a1d686e">CompactTotalBytes</a>;           <span class="comment">// Total amount of bytes to be compacted</span></div>
<div class="line"><span class="lineno">  858</span>    <span class="keywordtype">void</span>         * <a class="code hl_variable" href="struct__TMPQArchive.html#aa67fc1ad0359ad11f58c31187100a4f7">pvCompactUserData</a>;           <span class="comment">// User data thats passed to the callback</span></div>
<div class="line"><span class="lineno">  859</span>} <a class="code hl_typedef" href="StormLib_8h.html#a0b98dca19d4c344762c4dde4d810a5a9">TMPQArchive</a>;</div>
<div class="line"><span class="lineno">  860</span> </div>
<div class="line"><span class="lineno">  861</span><span class="comment">// File handle structure</span></div>
<div class="line"><span class="lineno">  862</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQFile.html">_TMPQFile</a></div>
<div class="line"><span class="lineno">  863</span>{</div>
<div class="line"><span class="lineno">  864</span>    <a class="code hl_struct" href="structTFileStream.html">TFileStream</a>  * <a class="code hl_variable" href="struct__TMPQFile.html#a8c3a90e5d6abcbc6757bf7fdae94a5d9">pStream</a>;                     <span class="comment">// File stream. Only used on local files</span></div>
<div class="line"><span class="lineno">  865</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a>  * <a class="code hl_variable" href="struct__TMPQFile.html#a3d3e5acf9eea51e01ee22aa9c64d75a8">ha</a>;                          <span class="comment">// Archive handle</span></div>
<div class="line"><span class="lineno">  866</span>    <a class="code hl_struct" href="struct__TMPQHash.html">TMPQHash</a>     * <a class="code hl_variable" href="struct__TMPQFile.html#ac47b0ac68412a48e7f22fcb0257ba3b9">pHashEntry</a>;                  <span class="comment">// Pointer to hash table entry, if the file was open using hash table</span></div>
<div class="line"><span class="lineno">  867</span>    <a class="code hl_struct" href="struct__TFileEntry.html">TFileEntry</a>   * <a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>;                  <span class="comment">// File entry for the file</span></div>
<div class="line"><span class="lineno">  868</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>      <a class="code hl_variable" href="struct__TMPQFile.html#a4d5c4f69a005314e25206e1d4db79092">RawFilePos</a>;                  <span class="comment">// Offset in MPQ archive (relative to file begin)</span></div>
<div class="line"><span class="lineno">  869</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>      <a class="code hl_variable" href="struct__TMPQFile.html#aa3f1dd4380ab784cf651b5191573cc26">MpqFilePos</a>;                  <span class="comment">// Offset in MPQ archive (relative to MPQ header)</span></div>
<div class="line"><span class="lineno">  870</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQFile.html#adaf88b7bacc3eb11f3fe7b9fb53c73af">dwHashIndex</a>;                 <span class="comment">// Hash table index (0xFFFFFFFF if not used)</span></div>
<div class="line"><span class="lineno">  871</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQFile.html#a8ab42b6a429f382c93bb79b413541ab6">dwFileKey</a>;                   <span class="comment">// Decryption key</span></div>
<div class="line"><span class="lineno">  872</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQFile.html#acc7d222ba9bf68719f415e433dc8694c">dwFilePos</a>;                   <span class="comment">// Current file position</span></div>
<div class="line"><span class="lineno">  873</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQFile.html#a9956b4f56e1632d344d412cb9ce0b73d">dwMagic</a>;                     <span class="comment">// &#39;FILE&#39;</span></div>
<div class="line"><span class="lineno">  874</span> </div>
<div class="line"><span class="lineno">  875</span>    <span class="keyword">struct </span><a class="code hl_struct" href="struct__TMPQFile.html">_TMPQFile</a> * <a class="code hl_variable" href="struct__TMPQFile.html#add8833bffe289c96c79f641789a9743b">hfPatch</a>;                 <span class="comment">// Pointer to opened patch file</span></div>
<div class="line"><span class="lineno">  876</span> </div>
<div class="line"><span class="lineno">  877</span>    <a class="code hl_struct" href="struct__TPatchInfo.html">TPatchInfo</a>   * <a class="code hl_variable" href="struct__TMPQFile.html#a1aa2c25c7ff34803ce1c5086fe3422a3">pPatchInfo</a>;                  <span class="comment">// Patch info block, preceding the sector table</span></div>
<div class="line"><span class="lineno">  878</span>    <a class="code hl_typedef" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>        <a class="code hl_variable" href="struct__TMPQFile.html#a36f01d863578c4aafa5e2ff29c5f9f4f">SectorOffsets</a>;               <span class="comment">// Position of each file sector, relative to the begin of the file. Only for compressed files.</span></div>
<div class="line"><span class="lineno">  879</span>    <a class="code hl_typedef" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>        <a class="code hl_variable" href="struct__TMPQFile.html#ac113ba3edb83c0e09883276ec25dcd8a">SectorChksums</a>;               <span class="comment">// Array of sector checksums (either ADLER32 or MD5) values for each file sector</span></div>
<div class="line"><span class="lineno">  880</span>    <a class="code hl_typedef" href="StormPort_8h.html#ac2d3fb16b5b34c1e6ab80014309020eb">LPBYTE</a>         <a class="code hl_variable" href="struct__TMPQFile.html#a89a99d0fe6fa09e6749f6770db52077c">pbFileData</a>;                  <span class="comment">// Data of the file (single unit files, patched files)</span></div>
<div class="line"><span class="lineno">  881</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQFile.html#a78857e841d77f560e3a25360fb8967d8">cbFileData</a>;                  <span class="comment">// Size of file data</span></div>
<div class="line"><span class="lineno">  882</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQFile.html#abf6d716abdd4200f5d8c521037426952">dwCompression0</a>;              <span class="comment">// Compression that will be used on the first file sector</span></div>
<div class="line"><span class="lineno">  883</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQFile.html#a71eea3bbb14cc14292d50a9da9c9fc80">dwSectorCount</a>;               <span class="comment">// Number of sectors in the file</span></div>
<div class="line"><span class="lineno">  884</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQFile.html#a4cb27c05051717b4126465a9383ed482">dwPatchedFileSize</a>;           <span class="comment">// Size of patched file. Used when saving patch file to the MPQ</span></div>
<div class="line"><span class="lineno">  885</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQFile.html#abb13213fd24c430f1910a8309fa13111">dwDataSize</a>;                  <span class="comment">// Size of data in the file (on patch files, this differs from file size in block table entry)</span></div>
<div class="line"><span class="lineno">  886</span> </div>
<div class="line"><span class="lineno">  887</span>    <a class="code hl_typedef" href="StormPort_8h.html#ac2d3fb16b5b34c1e6ab80014309020eb">LPBYTE</a>         <a class="code hl_variable" href="struct__TMPQFile.html#a7cc2d099a8ce390671c648a0f74c7ad5">pbFileSector</a>;                <span class="comment">// Last loaded file sector. For single unit files, entire file content</span></div>
<div class="line"><span class="lineno">  888</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQFile.html#afd85541201e196d52db12d77cfd87d4b">dwSectorOffs</a>;                <span class="comment">// File position of currently loaded file sector</span></div>
<div class="line"><span class="lineno">  889</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQFile.html#a25acde42740bb870757bceb889bdaa25">dwSectorSize</a>;                <span class="comment">// Size of the file sector. For single unit files, this is equal to the file size</span></div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>    <span class="keywordtype">void</span>         * <a class="code hl_variable" href="struct__TMPQFile.html#a1c0d9aa0be96435b8032a9b7ce93a6e3">hctx</a>;                        <span class="comment">// Hash state for MD5. Used when saving file to MPQ</span></div>
<div class="line"><span class="lineno">  892</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQFile.html#a16220616feed0b396742fe1feecb4d21">dwCrc32</a>;                     <span class="comment">// CRC32 value, used when saving file to MPQ</span></div>
<div class="line"><span class="lineno">  893</span> </div>
<div class="line"><span class="lineno">  894</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>          <a class="code hl_variable" href="struct__TMPQFile.html#a65f617f2c58ff5cb394e72dab7758466">dwAddFileError</a>;              <span class="comment">// Result of the &quot;Add File&quot; operations</span></div>
<div class="line"><span class="lineno">  895</span> </div>
<div class="line"><span class="lineno">  896</span>    <span class="keywordtype">bool</span>           <a class="code hl_variable" href="struct__TMPQFile.html#a300988418ccd5a80767b9d8fab012230">bLoadedSectorCRCs</a>;           <span class="comment">// If true, we already tried to load sector CRCs</span></div>
<div class="line"><span class="lineno">  897</span>    <span class="keywordtype">bool</span>           <a class="code hl_variable" href="struct__TMPQFile.html#a7c3ebe367c666981a04423d16c28ef2a">bCheckSectorCRCs</a>;            <span class="comment">// If true, then SFileReadFile will check sector CRCs when reading the file</span></div>
<div class="line"><span class="lineno">  898</span>    <span class="keywordtype">bool</span>           <a class="code hl_variable" href="struct__TMPQFile.html#aab3e91574271fd7c8df43361fe74a4be">bIsWriteHandle</a>;              <span class="comment">// If true, this handle has been created by SFileCreateFile</span></div>
<div class="line"><span class="lineno">  899</span>} <a class="code hl_typedef" href="StormLib_8h.html#ab00c160cef535493ec7dab495f8feece">TMPQFile</a>;</div>
<div class="line"><span class="lineno">  900</span> </div>
<div class="line"><span class="lineno">  901</span><span class="comment">// Structure for SFileFindFirstFile and SFileFindNextFile</span></div>
<div class="line"><span class="lineno">  902</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__SFILE__FIND__DATA.html">_SFILE_FIND_DATA</a></div>
<div class="line"><span class="lineno">  903</span>{</div>
<div class="line"><span class="lineno">  904</span>    <span class="keywordtype">char</span>   <a class="code hl_variable" href="struct__SFILE__FIND__DATA.html#a9ae6998520897bcbbb9fd9971bce2d1e">cFileName</a>[<a class="code hl_define" href="StormPort_8h.html#ab99ded389af74001a6298fc9e44e74e5">MAX_PATH</a>];                 <span class="comment">// Full name of the found file</span></div>
<div class="line"><span class="lineno">  905</span>    <span class="keywordtype">char</span> * <a class="code hl_variable" href="struct__SFILE__FIND__DATA.html#acad9ea60b6c9fd4f11b2d61a7c0f6c44">szPlainName</a>;                         <span class="comment">// Plain name of the found file</span></div>
<div class="line"><span class="lineno">  906</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_variable" href="struct__SFILE__FIND__DATA.html#a49c3c9ed799f0d23ea79af3970f80d09">dwHashIndex</a>;                         <span class="comment">// Hash table index for the file (HAH_ENTRY_FREE if no hash table)</span></div>
<div class="line"><span class="lineno">  907</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_variable" href="struct__SFILE__FIND__DATA.html#aceb44de563a1ba438b152c907f221e7e">dwBlockIndex</a>;                        <span class="comment">// Block table index for the file</span></div>
<div class="line"><span class="lineno">  908</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_variable" href="struct__SFILE__FIND__DATA.html#a29ea5967ac3e3ea1b26bf1d096a47bd8">dwFileSize</a>;                          <span class="comment">// File size in bytes</span></div>
<div class="line"><span class="lineno">  909</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_variable" href="struct__SFILE__FIND__DATA.html#a55ae9a234febc8889922d7f5c249fc45">dwFileFlags</a>;                         <span class="comment">// MPQ file flags</span></div>
<div class="line"><span class="lineno">  910</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_variable" href="struct__SFILE__FIND__DATA.html#a13db68938ced83dd70531c784efc52e6">dwCompSize</a>;                          <span class="comment">// Compressed file size</span></div>
<div class="line"><span class="lineno">  911</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_variable" href="struct__SFILE__FIND__DATA.html#a4d88c2f67b387c39d908da51baf70314">dwFileTimeLo</a>;                        <span class="comment">// Low 32-bits of the file time (0 if not present)</span></div>
<div class="line"><span class="lineno">  912</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_variable" href="struct__SFILE__FIND__DATA.html#ab1c026d07534f257c1e2534f535aea61">dwFileTimeHi</a>;                        <span class="comment">// High 32-bits of the file time (0 if not present)</span></div>
<div class="line"><span class="lineno">  913</span>    <a class="code hl_typedef" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>   <a class="code hl_variable" href="struct__SFILE__FIND__DATA.html#a0a74d2a35cd9465d77bc04b1f14e4f08">lcLocale</a>;                            <span class="comment">// Compound of file locale (16 bits) and platform (8 bits)</span></div>
<div class="line"><span class="lineno">  914</span> </div>
<div class="line"><span class="lineno">  915</span>} <a class="code hl_typedef" href="StormLib_8h.html#ac80854a06a92ee69e22c1d2c1fc5b5b9">SFILE_FIND_DATA</a>, *<a class="code hl_typedef" href="StormLib_8h.html#a868c53c463cdc7f0bf83c41993c5eb54">PSFILE_FIND_DATA</a>;</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__SFILE__CREATE__MPQ.html">_SFILE_CREATE_MPQ</a></div>
<div class="line"><span class="lineno">  918</span>{</div>
<div class="line"><span class="lineno">  919</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a2e861f6af56a959a5ca7c7adbe89ce37">cbSize</a>;                               <span class="comment">// Size of this structure, in bytes</span></div>
<div class="line"><span class="lineno">  920</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a45c20ded0f59884ca1452b3f43337622">dwMpqVersion</a>;                         <span class="comment">// Version of the MPQ to be created</span></div>
<div class="line"><span class="lineno">  921</span>    <span class="keywordtype">void</span> *<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#ad3e941c308c10bc43ff86d280e4fb3e1">pvUserData</a>;                           <span class="comment">// Reserved, must be NULL</span></div>
<div class="line"><span class="lineno">  922</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a6a527a17447440fa3862df9e87e522c5">cbUserData</a>;                           <span class="comment">// Reserved, must be 0</span></div>
<div class="line"><span class="lineno">  923</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a11489f71fac072b853faa0d3144b54f2">dwStreamFlags</a>;                        <span class="comment">// Stream flags for creating the MPQ</span></div>
<div class="line"><span class="lineno">  924</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a42d424e0654461277740fac26d34d442">dwFileFlags1</a>;                         <span class="comment">// File flags for (listfile). Use MPQ_FILE_DEFAULT_INTERNAL to set default flags</span></div>
<div class="line"><span class="lineno">  925</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#af146b83571bae3e349b599536f66f270">dwFileFlags2</a>;                         <span class="comment">// File flags for (attributes). Use MPQ_FILE_DEFAULT_INTERNAL to set default flags</span></div>
<div class="line"><span class="lineno">  926</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#af5f6d35f3f4beb6a6741bcf095a9d37d">dwFileFlags3</a>;                         <span class="comment">// File flags for (signature). Use MPQ_FILE_DEFAULT_INTERNAL to set default flags</span></div>
<div class="line"><span class="lineno">  927</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a46f1fa8776f0c23327b6f48bd0631927">dwAttrFlags</a>;                          <span class="comment">// Flags for the (attributes) file. If 0, no attributes will be created</span></div>
<div class="line"><span class="lineno">  928</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a3d967c366baacbc621aa752ed32a3751">dwSectorSize</a>;                         <span class="comment">// Sector size for compressed files</span></div>
<div class="line"><span class="lineno">  929</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a14e831b4a6dd34b1402bd7b551e3b9ca">dwRawChunkSize</a>;                       <span class="comment">// Size of raw data chunk</span></div>
<div class="line"><span class="lineno">  930</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#afaa8856c329f8175c094c907e1660dad">dwMaxFileCount</a>;                       <span class="comment">// File limit for the MPQ</span></div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>} <a class="code hl_typedef" href="StormLib_8h.html#a404dcd27c577084df5f075ab2bb87a6c">SFILE_CREATE_MPQ</a>, *<a class="code hl_typedef" href="StormLib_8h.html#a97df30ed85f80d5c8fe560750b3efe4a">PSFILE_CREATE_MPQ</a>;</div>
<div class="line"><span class="lineno">  933</span> </div>
<div class="line"><span class="lineno">  934</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__SFILE__MARKERS.html">_SFILE_MARKERS</a></div>
<div class="line"><span class="lineno">  935</span>{</div>
<div class="line"><span class="lineno">  936</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__SFILE__MARKERS.html#a8904db4da3c2afe15ea58abf5fa2c81d">dwSize</a>;                               <span class="comment">// Size of this structure, in bytes</span></div>
<div class="line"><span class="lineno">  937</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="struct__SFILE__MARKERS.html#af259523d1f424593de2cd1c4225e93a9">dwSignature</a>;                          <span class="comment">// Alternate MPQ header marker</span></div>
<div class="line"><span class="lineno">  938</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code hl_variable" href="struct__SFILE__MARKERS.html#a588c375175cc519a50e8c742014a3354">szHashTableKey</a>;                <span class="comment">// Replacement for &quot;(hash table)&quot;</span></div>
<div class="line"><span class="lineno">  939</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code hl_variable" href="struct__SFILE__MARKERS.html#afe165fe9d185f2cb6c7e6351326ebdee">szBlockTableKey</a>;               <span class="comment">// Replacement for &quot;(block table)&quot;</span></div>
<div class="line"><span class="lineno">  940</span>} <a class="code hl_typedef" href="StormLib_8h.html#a8286cb2a0f0d778bc75196a08e7a242f">SFILE_MARKERS</a>, *<a class="code hl_typedef" href="StormLib_8h.html#a9ff5e95dd1385dd48527ff9a2c66c425">PSFILE_MARKERS</a>;</div>
<div class="line"><span class="lineno">  941</span> </div>
<div class="line"><span class="lineno">  942</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  943</span><span class="comment">// TMPQBits support - functions</span></div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span><span class="keywordtype">void</span> <a class="code hl_function" href="StormLib_8h.html#aaf8a10729f0ed9e7b0043818be7b5c5e">GetMPQBits</a>(<a class="code hl_struct" href="structTMPQBits.html">TMPQBits</a> * pBits, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nBitPosition, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nBitLength, <span class="keywordtype">void</span> * pvBuffer, <span class="keywordtype">int</span> nResultByteSize);</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  948</span><span class="comment">// Stream support - functions</span></div>
<div class="line"><span class="lineno">  949</span> </div>
<div class="line"><span class="lineno">  950</span><span class="comment">// Structure used by FileStream_GetBitmap</span></div>
<div class="line"><span class="lineno">  951</span><span class="keyword">struct </span><a class="code hl_struct" href="structTStreamBitmap.html">TStreamBitmap</a></div>
<div class="line"><span class="lineno">  952</span>{</div>
<div class="line"><span class="lineno">  953</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> <a class="code hl_variable" href="structTStreamBitmap.html#a10f51b48a75b6679d43d2c687ea17c4a">StreamSize</a>;                       <span class="comment">// Size of the stream, in bytes</span></div>
<div class="line"><span class="lineno">  954</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="structTStreamBitmap.html#a08cd10b5e913016784b84a56dfa12b84">BitmapSize</a>;                           <span class="comment">// Size of the block map, in bytes</span></div>
<div class="line"><span class="lineno">  955</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="structTStreamBitmap.html#ab90b1cc270a2d34fdecea0e945185ca8">BlockCount</a>;                           <span class="comment">// Number of blocks in the stream</span></div>
<div class="line"><span class="lineno">  956</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="structTStreamBitmap.html#a146c2246f25fd3fa72abd2a413746fa0">BlockSize</a>;                            <span class="comment">// Size of one block</span></div>
<div class="line"><span class="lineno">  957</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_variable" href="structTStreamBitmap.html#a0b36de5895d75734e8ac90a277109339">IsComplete</a>;                           <span class="comment">// Nonzero if the file is complete</span></div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>    <span class="comment">// Followed by the BYTE array, each bit means availability of one block</span></div>
<div class="line"><span class="lineno">  960</span>};</div>
<div class="line"><span class="lineno">  961</span> </div>
<div class="line"><span class="lineno">  962</span><span class="comment">// UNICODE versions of the file access functions</span></div>
<div class="line"><span class="lineno">  963</span><a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * <a class="code hl_function" href="StormLib_8h.html#aaba1ffb5ec458bc89519a891e28ab10e">FileStream_CreateFile</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szFileName, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwStreamFlags);</div>
<div class="line"><span class="lineno">  964</span><a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * <a class="code hl_function" href="StormLib_8h.html#a702003c1930c608961b812259bd9dc22">FileStream_OpenFile</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szFileName, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwStreamFlags);</div>
<div class="line"><span class="lineno">  965</span><span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * <a class="code hl_function" href="StormLib_8h.html#aac8a29e50fd6c047ee9288073b54804e">FileStream_GetFileName</a>(<a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream);</div>
<div class="line"><span class="lineno">  966</span><span class="keywordtype">size_t</span> <a class="code hl_function" href="StormLib_8h.html#aa2107608d75af5dc5674f69c84637e22">FileStream_Prefix</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szFileName, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> * pdwProvider);</div>
<div class="line"><span class="lineno">  967</span> </div>
<div class="line"><span class="lineno">  968</span><span class="keywordtype">bool</span> <a class="code hl_function" href="StormLib_8h.html#ae33c8e38a5379adbbe49471f8d0ca5af">FileStream_SetCallback</a>(<a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream, <a class="code hl_typedef" href="StormLib_8h.html#aec85f6efb05064d79de5e05fff77c639">SFILE_DOWNLOAD_CALLBACK</a> pfnCallback, <span class="keywordtype">void</span> * pvUserData);</div>
<div class="line"><span class="lineno">  969</span> </div>
<div class="line"><span class="lineno">  970</span><span class="keywordtype">bool</span> <a class="code hl_function" href="StormLib_8h.html#a079730e5345bc1141a1057d4e13e95ac">FileStream_GetBitmap</a>(<a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream, <span class="keywordtype">void</span> * pvBitmap, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> cbBitmap, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> * pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  971</span><span class="keywordtype">bool</span> <a class="code hl_function" href="StormLib_8h.html#a593f3b1416f7497c28fa5552cd1b3003">FileStream_Read</a>(<a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream, <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> * pByteOffset, <span class="keywordtype">void</span> * pvBuffer, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesToRead);</div>
<div class="line"><span class="lineno">  972</span><span class="keywordtype">bool</span> <a class="code hl_function" href="StormLib_8h.html#a36307955e8de92f5ea26be07ea3b9cb4">FileStream_Write</a>(<a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream, <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> * pByteOffset, <span class="keyword">const</span> <span class="keywordtype">void</span> * pvBuffer, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesToWrite);</div>
<div class="line"><span class="lineno">  973</span><span class="keywordtype">bool</span> <a class="code hl_function" href="StormLib_8h.html#abc0fbb4156c7eef2e3162841ffb0d74a">FileStream_SetSize</a>(<a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream, <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> NewFileSize);</div>
<div class="line"><span class="lineno">  974</span><span class="keywordtype">bool</span> <a class="code hl_function" href="StormLib_8h.html#af505319882f0f4aaf396b6d061a2275b">FileStream_GetSize</a>(<a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream, <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> * pFileSize);</div>
<div class="line"><span class="lineno">  975</span><span class="keywordtype">bool</span> <a class="code hl_function" href="StormLib_8h.html#a4cda734fc220ab4b32e1f2bf9b5446fc">FileStream_GetPos</a>(<a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream, <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> * pByteOffset);</div>
<div class="line"><span class="lineno">  976</span><span class="keywordtype">bool</span> <a class="code hl_function" href="StormLib_8h.html#a81f0259d13a55ebc3c146603b6a38073">FileStream_GetTime</a>(<a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream, <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> * pFT);</div>
<div class="line"><span class="lineno">  977</span><span class="keywordtype">bool</span> <a class="code hl_function" href="StormLib_8h.html#a3b0eb2320c6401f6f1b5a92e53bc57dd">FileStream_GetFlags</a>(<a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream, <a class="code hl_typedef" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> pdwStreamFlags);</div>
<div class="line"><span class="lineno">  978</span><span class="keywordtype">bool</span> <a class="code hl_function" href="StormLib_8h.html#afcf883cb4bc8ff873bb286e8f7bf5002">FileStream_Replace</a>(<a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream, <a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pNewStream);</div>
<div class="line"><span class="lineno">  979</span><span class="keywordtype">void</span> <a class="code hl_function" href="StormLib_8h.html#ae8b75c4797726e9c5ee0b4b03bf31442">FileStream_Close</a>(<a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream);</div>
<div class="line"><span class="lineno">  980</span> </div>
<div class="line"><span class="lineno">  981</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  982</span><span class="comment">// Functions prototypes for Storm.dll</span></div>
<div class="line"><span class="lineno">  983</span> </div>
<div class="line"><span class="lineno">  984</span><span class="comment">// Typedefs for functions exported by Storm.dll</span></div>
<div class="line"><span class="lineno">  985</span><span class="keyword">typedef</span> <a class="code hl_typedef" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>  (<a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * <a class="code hl_typedef" href="StormLib_8h.html#ada41f29620f00972c7a75a67a5becec8">SFILESETLOCALE</a>)(<a class="code hl_typedef" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>);</div>
<div class="line"><span class="lineno">  986</span><span class="keyword">typedef</span> <a class="code hl_define" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>  (<a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * <a class="code hl_typedef" href="StormLib_8h.html#aa5785fec88675e850361edc91fa6af74">SFILEOPENARCHIVE</a>)(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>, <a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *);</div>
<div class="line"><span class="lineno">  987</span><span class="keyword">typedef</span> <a class="code hl_define" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>  (<a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * <a class="code hl_typedef" href="StormLib_8h.html#a37c2499655dbb0a1dbdaf1829003648e">SFILECLOSEARCHIVE</a>)(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>);</div>
<div class="line"><span class="lineno">  988</span><span class="keyword">typedef</span> <a class="code hl_define" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>  (<a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * <a class="code hl_typedef" href="StormLib_8h.html#afe944956d84d84b97973d07d20b55dae">SFILEOPENFILEEX</a>)(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>, <a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *);</div>
<div class="line"><span class="lineno">  989</span><span class="keyword">typedef</span> <a class="code hl_define" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>  (<a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * <a class="code hl_typedef" href="StormLib_8h.html#add642a1497e31540d395dd47df3ead44">SFILECLOSEFILE</a>)(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>);</div>
<div class="line"><span class="lineno">  990</span><span class="keyword">typedef</span> <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> (<a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * <a class="code hl_typedef" href="StormLib_8h.html#a30c360bd9a936cf231e971655d4852c9">SFILEGETFILESIZE</a>)(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <a class="code hl_typedef" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>);</div>
<div class="line"><span class="lineno">  991</span><span class="keyword">typedef</span> <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> (<a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * <a class="code hl_typedef" href="StormLib_8h.html#a7e81800ce08c5f313d17089a36533ceb">SFILESETFILEPOINTER</a>)(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <a class="code hl_typedef" href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a>, <a class="code hl_typedef" href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a> *, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>);</div>
<div class="line"><span class="lineno">  992</span><span class="keyword">typedef</span> <a class="code hl_define" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>  (<a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * <a class="code hl_typedef" href="StormLib_8h.html#a90590797535b0f68c71bfab2cdf17f70">SFILEREADFILE</a>)(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <span class="keywordtype">void</span> *, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>, <a class="code hl_typedef" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>, <a class="code hl_typedef" href="StormPort_8h.html#adfd8166ccad505199a5bf3b5fb0ec8d8">LPOVERLAPPED</a>);</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  995</span><span class="comment">// Functions for manipulation with StormLib global flags</span></div>
<div class="line"><span class="lineno">  996</span> </div>
<div class="line"><span class="lineno">  997</span><span class="comment">// Macros for making LCID from Locale and Platform</span></div>
<div class="line"><span class="lineno">  998</span><span class="preprocessor">#define SFILE_MAKE_LCID(locale, platform)   ((LCID)(USHORT)locale | (LCID)(BYTE)platform &lt;&lt; 0x10)</span></div>
<div class="line"><span class="lineno">  999</span><span class="preprocessor">#define SFILE_LOCALE(lcFileLocale)          (USHORT)(lcFileLocale &amp; 0xFFFF)</span></div>
<div class="line"><span class="lineno"> 1000</span><span class="preprocessor">#define SFILE_PLATFORM(lcFileLocale)        (BYTE)(lcFileLocale &gt;&gt; 0x10)</span></div>
<div class="line"><span class="lineno"> 1001</span> </div>
<div class="line"><span class="lineno"> 1002</span><span class="comment">// Alternate marker support. This is for MPQs masked as DLLs (*.asi), which</span></div>
<div class="line"><span class="lineno"> 1003</span><span class="comment">// patch Storm.dll at runtime. Call before SFileOpenArchive</span></div>
<div class="line"><span class="lineno"> 1004</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a31e25aa9964041a88acc6a37b84b93f8">SFileSetArchiveMarkers</a>(<a class="code hl_struct" href="struct__SFILE__MARKERS.html">PSFILE_MARKERS</a> pMarkers);</div>
<div class="line"><span class="lineno"> 1005</span> </div>
<div class="line"><span class="lineno"> 1006</span><span class="comment">// Call before SFileOpenFileEx</span></div>
<div class="line"><span class="lineno"> 1007</span><a class="code hl_typedef" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a2c9950c2f8316507888d5b1245e7bebc">SFileGetLocale</a>();</div>
<div class="line"><span class="lineno"> 1008</span><a class="code hl_typedef" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#ab0683c4b0bbf74b521c9f382b51b6e23">SFileSetLocale</a>(<a class="code hl_typedef" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a> lcFileLocale);</div>
<div class="line"><span class="lineno"> 1009</span> </div>
<div class="line"><span class="lineno"> 1010</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1011</span><span class="comment">// Functions for archive manipulation</span></div>
<div class="line"><span class="lineno"> 1012</span> </div>
<div class="line"><span class="lineno"> 1013</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a8b031afa4f88b4b3705c274a0b5b4f73">SFileOpenArchive</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szMpqName, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwPriority, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags, <a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> * phMpq);</div>
<div class="line"><span class="lineno"> 1014</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a11342f379ed88e7b54873f1f53feb773">SFileCreateArchive</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szMpqName, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwCreateFlags, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwMaxFileCount, <a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> * phMpq);</div>
<div class="line"><span class="lineno"> 1015</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#aa2b6fa8f16b5ac42868c546533fe26ce">SFileCreateArchive2</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szMpqName, <a class="code hl_struct" href="struct__SFILE__CREATE__MPQ.html">PSFILE_CREATE_MPQ</a> pCreateInfo, <a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> * phMpq);</div>
<div class="line"><span class="lineno"> 1016</span> </div>
<div class="line"><span class="lineno"> 1017</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a32a52c97aba08f40e5a2933d66cceb02">SFileSetDownloadCallback</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="code hl_typedef" href="StormLib_8h.html#aec85f6efb05064d79de5e05fff77c639">SFILE_DOWNLOAD_CALLBACK</a> DownloadCB, <span class="keywordtype">void</span> * pvUserData);</div>
<div class="line"><span class="lineno"> 1018</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a5f3daefb5c0d87a791fcc42ec40714d2">SFileFlushArchive</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq);</div>
<div class="line"><span class="lineno"> 1019</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#abe1ae9917ea665286bffd1524561fceb">SFileCloseArchive</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq);</div>
<div class="line"><span class="lineno"> 1020</span> </div>
<div class="line"><span class="lineno"> 1021</span><span class="comment">// Adds another listfile into MPQ. The currently added listfile(s) remain,</span></div>
<div class="line"><span class="lineno"> 1022</span><span class="comment">// so you can use this API to combining more listfiles.</span></div>
<div class="line"><span class="lineno"> 1023</span><span class="comment">// Note that this function is internally called by SFileFindFirstFile</span></div>
<div class="line"><span class="lineno"> 1024</span><a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#ab699405208db728f480c491831904e36">SFileAddListFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szListFile);</div>
<div class="line"><span class="lineno"> 1025</span> </div>
<div class="line"><span class="lineno"> 1026</span><span class="comment">// Archive compacting</span></div>
<div class="line"><span class="lineno"> 1027</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a15ce517e65659cbcf058b5574e950162">SFileSetCompactCallback</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="code hl_typedef" href="StormLib_8h.html#accf539777d623a74eb6b4394dd7fd6a1">SFILE_COMPACT_CALLBACK</a> CompactCB, <span class="keywordtype">void</span> * pvUserData);</div>
<div class="line"><span class="lineno"> 1028</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#acad7f5afb2f094ca2ef8af9acb893e1b">SFileCompactArchive</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szListFile, <span class="keywordtype">bool</span> bReserved);</div>
<div class="line"><span class="lineno"> 1029</span> </div>
<div class="line"><span class="lineno"> 1030</span><span class="comment">// Changing the maximum file count</span></div>
<div class="line"><span class="lineno"> 1031</span><a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a04e66295252e3b1f4b36a010941127f8">SFileGetMaxFileCount</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq);</div>
<div class="line"><span class="lineno"> 1032</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#aa0066fc17b79fdbd976230a7d395d731">SFileSetMaxFileCount</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwMaxFileCount);</div>
<div class="line"><span class="lineno"> 1033</span> </div>
<div class="line"><span class="lineno"> 1034</span><span class="comment">// Changing (attributes) file</span></div>
<div class="line"><span class="lineno"> 1035</span><a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#ae189da614befca23b053c36b9f93f460">SFileGetAttributes</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq);</div>
<div class="line"><span class="lineno"> 1036</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#ad8c8767ef66fc69dad98bd3a88f67def">SFileSetAttributes</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags);</div>
<div class="line"><span class="lineno"> 1037</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a7f66db40266cb2d78416b2f9cc2804ba">SFileUpdateFileAttributes</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <span class="keywordtype">char</span> * szFileName);</div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1040</span><span class="comment">// Functions for manipulation with patch archives</span></div>
<div class="line"><span class="lineno"> 1041</span> </div>
<div class="line"><span class="lineno"> 1042</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a6daebdc66320d44284e960bbff33e886">SFileOpenPatchArchive</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szPatchMpqName, <span class="keyword">const</span> <span class="keywordtype">char</span> * szPatchPathPrefix, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags);</div>
<div class="line"><span class="lineno"> 1043</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a485461c38e347d9f3de4348e81bca043">SFileIsPatchedArchive</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq);</div>
<div class="line"><span class="lineno"> 1044</span> </div>
<div class="line"><span class="lineno"> 1045</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1046</span><span class="comment">// Functions for file manipulation</span></div>
<div class="line"><span class="lineno"> 1047</span> </div>
<div class="line"><span class="lineno"> 1048</span><span class="comment">// Reading from MPQ file</span></div>
<div class="line"><span class="lineno"> 1049</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a7fb756b76326ffec7dbe07e4167490c0">SFileHasFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <span class="keywordtype">char</span> * szFileName);</div>
<div class="line"><span class="lineno"> 1050</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#af9090bd528ef09a1c58bdb3931be5ec3">SFileOpenFileEx</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <span class="keywordtype">char</span> * szFileName, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwSearchScope, <a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> * phFile);</div>
<div class="line"><span class="lineno"> 1051</span><a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a1d30c5a49fb9c1c1669884646282e4d3">SFileGetFileSize</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile, <a class="code hl_typedef" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> pdwFileSizeHigh);</div>
<div class="line"><span class="lineno"> 1052</span><a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a6e34d029cecd26331b44985dd5622927">SFileSetFilePointer</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile, <a class="code hl_typedef" href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a> lFilePos, <a class="code hl_typedef" href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a> * plFilePosHigh, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwMoveMethod);</div>
<div class="line"><span class="lineno"> 1053</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#add9a438b42fbf4c132990d61bd2b6347">SFileReadFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile, <span class="keywordtype">void</span> * lpBuffer, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwToRead, <a class="code hl_typedef" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> pdwRead, <a class="code hl_typedef" href="StormPort_8h.html#adfd8166ccad505199a5bf3b5fb0ec8d8">LPOVERLAPPED</a> lpOverlapped);</div>
<div class="line"><span class="lineno"> 1054</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a49a09a38e6dc3b1afd95163a1c9052c6">SFileCloseFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile);</div>
<div class="line"><span class="lineno"> 1055</span> </div>
<div class="line"><span class="lineno"> 1056</span><span class="comment">// Retrieving info about a file in the archive</span></div>
<div class="line"><span class="lineno"> 1057</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a65c5c13489a621c481282da76b101e16">SFileGetFileInfo</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpqOrFile, <a class="code hl_typedef" href="StormLib_8h.html#a67d641b05043414b7c8efe066af79bf3">SFileInfoClass</a> InfoClass, <span class="keywordtype">void</span> * pvFileInfo, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> cbFileInfo, <a class="code hl_typedef" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> pcbLengthNeeded);</div>
<div class="line"><span class="lineno"> 1058</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a3909beee4f92f439ad52faef54a6a296">SFileGetFileName</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile, <span class="keywordtype">char</span> * szFileName);</div>
<div class="line"><span class="lineno"> 1059</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#ae8ebf606a756cf0bbd7c3670ac7d0b7f">SFileFreeFileInfo</a>(<span class="keywordtype">void</span> * pvFileInfo, <a class="code hl_typedef" href="StormLib_8h.html#a67d641b05043414b7c8efe066af79bf3">SFileInfoClass</a> InfoClass);</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span><span class="comment">// High-level extract function</span></div>
<div class="line"><span class="lineno"> 1062</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a25532910e8392ffc4b5fd57878d67316">SFileExtractFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <span class="keywordtype">char</span> * szToExtract, <span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szExtracted, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwSearchScope);</div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1065</span><span class="comment">// Functions for file and archive verification</span></div>
<div class="line"><span class="lineno"> 1066</span> </div>
<div class="line"><span class="lineno"> 1067</span><span class="comment">// Generates file CRC32</span></div>
<div class="line"><span class="lineno"> 1068</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a2dd23cd4dc08bc726ec9d4a41152b6ec">SFileGetFileChecksums</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <span class="keywordtype">char</span> * szFileName, <a class="code hl_typedef" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> pdwCrc32, <span class="keywordtype">char</span> * pMD5);</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span><span class="comment">// Verifies file against its checksums stored in (attributes) attributes (depending on dwFlags).</span></div>
<div class="line"><span class="lineno"> 1071</span><span class="comment">// For dwFlags, use one or more of MPQ_ATTRIBUTE_MD5</span></div>
<div class="line"><span class="lineno"> 1072</span><a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a1bb21d44888e21c7525298bbfcef1ba2">SFileVerifyFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <span class="keywordtype">char</span> * szFileName, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags);</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span><span class="comment">// Verifies raw data of the archive. Only works for MPQs version 4 or newer</span></div>
<div class="line"><span class="lineno"> 1075</span><a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#ae6dba58ed9a37a2871771b7e493e3f4a">SFileVerifyRawData</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwWhatToVerify, <span class="keyword">const</span> <span class="keywordtype">char</span> * szFileName);</div>
<div class="line"><span class="lineno"> 1076</span> </div>
<div class="line"><span class="lineno"> 1077</span><span class="comment">// Verifies the signature, if present</span></div>
<div class="line"><span class="lineno"> 1078</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#ab0bc747dfb565ea0ac3a10eaa77e1c31">SFileSignArchive</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwSignatureType);</div>
<div class="line"><span class="lineno"> 1079</span><a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a5d1f891bd3e6c98a94a13cc5745ae6f4">SFileVerifyArchive</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq);</div>
<div class="line"><span class="lineno"> 1080</span> </div>
<div class="line"><span class="lineno"> 1081</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1082</span><span class="comment">// Functions for file searching</span></div>
<div class="line"><span class="lineno"> 1083</span> </div>
<div class="line"><span class="lineno"> 1084</span><a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a0d4954b949694dc170b05364c2add5cd">SFileFindFirstFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <span class="keywordtype">char</span> * szMask, <a class="code hl_struct" href="struct__SFILE__FIND__DATA.html">SFILE_FIND_DATA</a> * lpFindFileData, <span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szListFile);</div>
<div class="line"><span class="lineno"> 1085</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a9a04c684ebc812ab085d9615d1bce183">SFileFindNextFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFind, <a class="code hl_struct" href="struct__SFILE__FIND__DATA.html">SFILE_FIND_DATA</a> * lpFindFileData);</div>
<div class="line"><span class="lineno"> 1086</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a33ff6856104b147ef82a90e86699ca15">SFileFindClose</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFind);</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span><a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#aba1c9038ee83a8240402172dbab5ff30">SListFileFindFirstFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szListFile, <span class="keyword">const</span> <span class="keywordtype">char</span> * szMask, <a class="code hl_struct" href="struct__SFILE__FIND__DATA.html">SFILE_FIND_DATA</a> * lpFindFileData);</div>
<div class="line"><span class="lineno"> 1089</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a391fb032f484224b1aa8989663f9357a">SListFileFindNextFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFind, <a class="code hl_struct" href="struct__SFILE__FIND__DATA.html">SFILE_FIND_DATA</a> * lpFindFileData);</div>
<div class="line"><span class="lineno"> 1090</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a7c9b409ac37f567dd42aed8be7dee6eb">SListFileFindClose</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFind);</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span><span class="comment">// Locale support</span></div>
<div class="line"><span class="lineno"> 1093</span><a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>  <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a186cae4ee63830bb2fec5a2e8b24e626">SFileEnumLocales</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <span class="keywordtype">char</span> * szFileName, <a class="code hl_typedef" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a> * PtrFileLocales, <a class="code hl_typedef" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> PtrMaxLocales, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwSearchScope);</div>
<div class="line"><span class="lineno"> 1094</span> </div>
<div class="line"><span class="lineno"> 1095</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1096</span><span class="comment">// Support for adding files to the MPQ</span></div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a85f3b458be41b77c6b6d26f5d09c2bad">SFileCreateFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <span class="keywordtype">char</span> * szArchivedName, <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> FileTime, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFileSize, <a class="code hl_typedef" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a> lcFileLocale, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags, <a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> * phFile);</div>
<div class="line"><span class="lineno"> 1099</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a70c78df25d758e53550021e82078352e">SFileWriteFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile, <span class="keyword">const</span> <span class="keywordtype">void</span> * pvData, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwSize, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwCompression);</div>
<div class="line"><span class="lineno"> 1100</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a7829275dccf80bbf47758ebd5515349a">SFileFinishFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile);</div>
<div class="line"><span class="lineno"> 1101</span> </div>
<div class="line"><span class="lineno"> 1102</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a9d092079ada150e05bfed5a26e65e184">SFileAddFileEx</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szFileName, <span class="keyword">const</span> <span class="keywordtype">char</span> * szArchivedName, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwCompression, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwCompressionNext);</div>
<div class="line"><span class="lineno"> 1103</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#ab6184a31092ac5364a8746b1fca3a822">SFileAddFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szFileName, <span class="keyword">const</span> <span class="keywordtype">char</span> * szArchivedName, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags);</div>
<div class="line"><span class="lineno"> 1104</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a4cc5ee53bb9a41f91d71a0be809ede22">SFileAddWave</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szFileName, <span class="keyword">const</span> <span class="keywordtype">char</span> * szArchivedName, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFlags, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwQuality);</div>
<div class="line"><span class="lineno"> 1105</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a78b84dd7671288c4fa62d0ae748b831d">SFileRemoveFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <span class="keywordtype">char</span> * szFileName, <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwSearchScope);</div>
<div class="line"><span class="lineno"> 1106</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#abf315c2be57e5ebb9790cf84fe88ef03">SFileRenameFile</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <span class="keyword">const</span> <span class="keywordtype">char</span> * szOldFileName, <span class="keyword">const</span> <span class="keywordtype">char</span> * szNewFileName);</div>
<div class="line"><span class="lineno"> 1107</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a7b5145c080be1df3647b57e93454a7fb">SFileSetFileLocale</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile, <a class="code hl_typedef" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a> lcNewLocale);</div>
<div class="line"><span class="lineno"> 1108</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#ab8a9149a71da405f906dd388f77ceb0c">SFileSetDataCompression</a>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> DataCompression);</div>
<div class="line"><span class="lineno"> 1109</span> </div>
<div class="line"><span class="lineno"> 1110</span><span class="keywordtype">bool</span>   <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a680ef09a7f9c363c2373b822152ab6b6">SFileSetAddFileCallback</a>(<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq, <a class="code hl_typedef" href="StormLib_8h.html#a8e310b34dc27b4b6bfc6c0ccc4c725f4">SFILE_ADDFILE_CALLBACK</a> AddFileCB, <span class="keywordtype">void</span> * pvUserData);</div>
<div class="line"><span class="lineno"> 1111</span> </div>
<div class="line"><span class="lineno"> 1112</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1113</span><span class="comment">// Compression and decompression</span></div>
<div class="line"><span class="lineno"> 1114</span> </div>
<div class="line"><span class="lineno"> 1115</span><span class="keywordtype">int</span>    <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a430149429a94672d6363426736e6371f">SCompImplode</a>    (<span class="keywordtype">void</span> * pvOutBuffer, <span class="keywordtype">int</span> * pcbOutBuffer, <span class="keywordtype">void</span> * pvInBuffer, <span class="keywordtype">int</span> cbInBuffer);</div>
<div class="line"><span class="lineno"> 1116</span><span class="keywordtype">int</span>    <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#aef9de212ebb17b38d8c1efbbdfeafac4">SCompExplode</a>    (<span class="keywordtype">void</span> * pvOutBuffer, <span class="keywordtype">int</span> * pcbOutBuffer, <span class="keywordtype">void</span> * pvInBuffer, <span class="keywordtype">int</span> cbInBuffer);</div>
<div class="line"><span class="lineno"> 1117</span><span class="keywordtype">int</span>    <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a309e1b309f67df0c6d12e6df83a4219a">SCompCompress</a>   (<span class="keywordtype">void</span> * pvOutBuffer, <span class="keywordtype">int</span> * pcbOutBuffer, <span class="keywordtype">void</span> * pvInBuffer, <span class="keywordtype">int</span> cbInBuffer, <span class="keywordtype">unsigned</span> uCompressionMask, <span class="keywordtype">int</span> nCmpType, <span class="keywordtype">int</span> nCmpLevel);</div>
<div class="line"><span class="lineno"> 1118</span><span class="keywordtype">int</span>    <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#a6039b3fb0d4ac8ff528aaa7fcdbb5328">SCompDecompress</a> (<span class="keywordtype">void</span> * pvOutBuffer, <span class="keywordtype">int</span> * pcbOutBuffer, <span class="keywordtype">void</span> * pvInBuffer, <span class="keywordtype">int</span> cbInBuffer);</div>
<div class="line"><span class="lineno"> 1119</span><span class="keywordtype">int</span>    <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#ad4be5c65706a57411d71edd72bd91e06">SCompDecompress2</a>(<span class="keywordtype">void</span> * pvOutBuffer, <span class="keywordtype">int</span> * pcbOutBuffer, <span class="keywordtype">void</span> * pvInBuffer, <span class="keywordtype">int</span> cbInBuffer);</div>
<div class="line"><span class="lineno"> 1120</span><span class="keywordtype">int</span>    <a class="code hl_define" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> <a class="code hl_function" href="StormLib_8h.html#ab19c5156a7ff6aea3714bb75a38e9535">SCompDecompress_SC1B</a>(<span class="keywordtype">void</span> * pvOutBuffer, <span class="keywordtype">int</span> * pcbOutBuffer, <span class="keywordtype">void</span> * pvInBuffer, <span class="keywordtype">int</span> cbInBuffer);</div>
<div class="line"><span class="lineno"> 1121</span> </div>
<div class="line"><span class="lineno"> 1122</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1123</span><span class="comment">// Non-Windows support for SetLastError/GetLastError</span></div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span><span class="preprocessor">#ifndef STORMLIB_WINDOWS</span></div>
<div class="line"><span class="lineno"> 1126</span> </div>
<div class="line"><span class="lineno"> 1127</span><span class="keywordtype">void</span>  <a class="code hl_function" href="StormLib_8h.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode);</div>
<div class="line"><span class="lineno"> 1128</span><a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code hl_function" href="StormLib_8h.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1131</span> </div>
<div class="line"><span class="lineno"> 1132</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1133</span><span class="comment">// Functions from Storm.dll. They use slightly different names for keeping</span></div>
<div class="line"><span class="lineno"> 1134</span><span class="comment">// possibility to use them together with StormLib (StormXXX instead of SFileXXX)</span></div>
<div class="line"><span class="lineno"> 1135</span> </div>
<div class="line"><span class="lineno"> 1136</span><span class="preprocessor">#ifdef __LINK_STORM_DLL__</span></div>
<div class="line"><span class="lineno"> 1137</span><span class="preprocessor">  #define STORM_ALTERNATE_NAMES         </span><span class="comment">// Force storm_dll.h to use alternate fnc names</span></div>
<div class="line"><span class="lineno"> 1138</span><span class="preprocessor">  #include &quot;..\storm_dll\storm_dll.h&quot;</span></div>
<div class="line"><span class="lineno"> 1139</span><span class="preprocessor">#endif </span><span class="comment">// __LINK_STORM_DLL__</span></div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span><span class="preprocessor">#ifdef __cplusplus</span></div>
<div class="line"><span class="lineno"> 1142</span>}   <span class="comment">// extern &quot;C&quot;</span></div>
<div class="line"><span class="lineno"> 1143</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1144</span> </div>
<div class="line"><span class="lineno"> 1145</span><span class="preprocessor">#endif  </span><span class="comment">// __STORMLIB_H__</span></div>
<div class="ttc" id="aStormLib_8h_html_a04e66295252e3b1f4b36a010941127f8"><div class="ttname"><a href="StormLib_8h.html#a04e66295252e3b1f4b36a010941127f8">SFileGetMaxFileCount</a></div><div class="ttdeci">DWORD WINAPI SFileGetMaxFileCount(HANDLE hMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFileCompactArchive_8cpp_source.html#l00456">SFileCompactArchive.cpp:456</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a07781c6d52e586d0221f86c84211ab71"><div class="ttname"><a href="StormLib_8h.html#a07781c6d52e586d0221f86c84211ab71">TFileEntry</a></div><div class="ttdeci">struct _TFileEntry TFileEntry</div></div>
<div class="ttc" id="aStormLib_8h_html_a079730e5345bc1141a1057d4e13e95ac"><div class="ttname"><a href="StormLib_8h.html#a079730e5345bc1141a1057d4e13e95ac">FileStream_GetBitmap</a></div><div class="ttdeci">bool FileStream_GetBitmap(TFileStream *pStream, void *pvBitmap, DWORD cbBitmap, DWORD *pcbLengthNeeded)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02659">FileStream.cpp:2659</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a0b98dca19d4c344762c4dde4d810a5a9"><div class="ttname"><a href="StormLib_8h.html#a0b98dca19d4c344762c4dde4d810a5a9">TMPQArchive</a></div><div class="ttdeci">struct _TMPQArchive TMPQArchive</div></div>
<div class="ttc" id="aStormLib_8h_html_a0d4954b949694dc170b05364c2add5cd"><div class="ttname"><a href="StormLib_8h.html#a0d4954b949694dc170b05364c2add5cd">SFileFindFirstFile</a></div><div class="ttdeci">HANDLE WINAPI SFileFindFirstFile(HANDLE hMpq, const char *szMask, SFILE_FIND_DATA *lpFindFileData, const TCHAR *szListFile)</div><div class="ttdef"><b>Definition</b> <a href="SFileFindFile_8cpp_source.html#l00383">SFileFindFile.cpp:383</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a11342f379ed88e7b54873f1f53feb773"><div class="ttname"><a href="StormLib_8h.html#a11342f379ed88e7b54873f1f53feb773">SFileCreateArchive</a></div><div class="ttdeci">bool WINAPI SFileCreateArchive(const TCHAR *szMpqName, DWORD dwCreateFlags, DWORD dwMaxFileCount, HANDLE *phMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFileCreateArchive_8cpp_source.html#l00072">SFileCreateArchive.cpp:72</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a15ce517e65659cbcf058b5574e950162"><div class="ttname"><a href="StormLib_8h.html#a15ce517e65659cbcf058b5574e950162">SFileSetCompactCallback</a></div><div class="ttdeci">bool WINAPI SFileSetCompactCallback(HANDLE hMpq, SFILE_COMPACT_CALLBACK CompactCB, void *pvUserData)</div><div class="ttdef"><b>Definition</b> <a href="SFileCompactArchive_8cpp_source.html#l00511">SFileCompactArchive.cpp:511</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a186cae4ee63830bb2fec5a2e8b24e626"><div class="ttname"><a href="StormLib_8h.html#a186cae4ee63830bb2fec5a2e8b24e626">SFileEnumLocales</a></div><div class="ttdeci">DWORD WINAPI SFileEnumLocales(HANDLE hMpq, const char *szFileName, LCID *PtrFileLocales, LPDWORD PtrMaxLocales, DWORD dwSearchScope)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenFileEx_8cpp_source.html#l00176">SFileOpenFileEx.cpp:176</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a1bb21d44888e21c7525298bbfcef1ba2"><div class="ttname"><a href="StormLib_8h.html#a1bb21d44888e21c7525298bbfcef1ba2">SFileVerifyFile</a></div><div class="ttdeci">DWORD WINAPI SFileVerifyFile(HANDLE hMpq, const char *szFileName, DWORD dwFlags)</div><div class="ttdef"><b>Definition</b> <a href="SFileVerify_8cpp_source.html#l00896">SFileVerify.cpp:896</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a1d30c5a49fb9c1c1669884646282e4d3"><div class="ttname"><a href="StormLib_8h.html#a1d30c5a49fb9c1c1669884646282e4d3">SFileGetFileSize</a></div><div class="ttdeci">DWORD WINAPI SFileGetFileSize(HANDLE hFile, LPDWORD pdwFileSizeHigh)</div><div class="ttdef"><b>Definition</b> <a href="SFileReadFile_8cpp_source.html#l00769">SFileReadFile.cpp:769</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a227ee271f86d0309e4659aefc3211a06"><div class="ttname"><a href="StormLib_8h.html#a227ee271f86d0309e4659aefc3211a06">TMPQHetTable</a></div><div class="ttdeci">struct _TMPQHetTable TMPQHetTable</div></div>
<div class="ttc" id="aStormLib_8h_html_a25532910e8392ffc4b5fd57878d67316"><div class="ttname"><a href="StormLib_8h.html#a25532910e8392ffc4b5fd57878d67316">SFileExtractFile</a></div><div class="ttdeci">bool WINAPI SFileExtractFile(HANDLE hMpq, const char *szToExtract, const TCHAR *szExtracted, DWORD dwSearchScope)</div><div class="ttdef"><b>Definition</b> <a href="SFileExtractFile_8cpp_source.html#l00015">SFileExtractFile.cpp:15</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a2c9950c2f8316507888d5b1245e7bebc"><div class="ttname"><a href="StormLib_8h.html#a2c9950c2f8316507888d5b1245e7bebc">SFileGetLocale</a></div><div class="ttdeci">LCID WINAPI SFileGetLocale()</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00207">SFileOpenArchive.cpp:207</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a2dd23cd4dc08bc726ec9d4a41152b6ec"><div class="ttname"><a href="StormLib_8h.html#a2dd23cd4dc08bc726ec9d4a41152b6ec">SFileGetFileChecksums</a></div><div class="ttdeci">bool WINAPI SFileGetFileChecksums(HANDLE hMpq, const char *szFileName, LPDWORD pdwCrc32, char *pMD5)</div><div class="ttdef"><b>Definition</b> <a href="SFileVerify_8cpp_source.html#l00869">SFileVerify.cpp:869</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a309e1b309f67df0c6d12e6df83a4219a"><div class="ttname"><a href="StormLib_8h.html#a309e1b309f67df0c6d12e6df83a4219a">SCompCompress</a></div><div class="ttdeci">int WINAPI SCompCompress(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer, unsigned uCompressionMask, int nCmpType, int nCmpLevel)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00766">SCompression.cpp:766</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a30c360bd9a936cf231e971655d4852c9"><div class="ttname"><a href="StormLib_8h.html#a30c360bd9a936cf231e971655d4852c9">SFILEGETFILESIZE</a></div><div class="ttdeci">DWORD(WINAPI * SFILEGETFILESIZE)(HANDLE, LPDWORD)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00991">StormLib.h:991</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a31e25aa9964041a88acc6a37b84b93f8"><div class="ttname"><a href="StormLib_8h.html#a31e25aa9964041a88acc6a37b84b93f8">SFileSetArchiveMarkers</a></div><div class="ttdeci">bool WINAPI SFileSetArchiveMarkers(PSFILE_MARKERS pMarkers)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00175">SFileOpenArchive.cpp:175</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a32a52c97aba08f40e5a2933d66cceb02"><div class="ttname"><a href="StormLib_8h.html#a32a52c97aba08f40e5a2933d66cceb02">SFileSetDownloadCallback</a></div><div class="ttdeci">bool WINAPI SFileSetDownloadCallback(HANDLE hMpq, SFILE_DOWNLOAD_CALLBACK DownloadCB, void *pvUserData)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00563">SFileOpenArchive.cpp:563</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a32b41c22eea22b7910d3cb8558e5c6c3"><div class="ttname"><a href="StormLib_8h.html#a32b41c22eea22b7910d3cb8558e5c6c3">TMPQNameCache</a></div><div class="ttdeci">struct _TMPQNameCache TMPQNameCache</div></div>
<div class="ttc" id="aStormLib_8h_html_a33ff6856104b147ef82a90e86699ca15"><div class="ttname"><a href="StormLib_8h.html#a33ff6856104b147ef82a90e86699ca15">SFileFindClose</a></div><div class="ttdeci">bool WINAPI SFileFindClose(HANDLE hFind)</div><div class="ttdef"><b>Definition</b> <a href="SFileFindFile_8cpp_source.html#l00468">SFileFindFile.cpp:468</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a36307955e8de92f5ea26be07ea3b9cb4"><div class="ttname"><a href="StormLib_8h.html#a36307955e8de92f5ea26be07ea3b9cb4">FileStream_Write</a></div><div class="ttdeci">bool FileStream_Write(TFileStream *pStream, ULONGLONG *pByteOffset, const void *pvBuffer, DWORD dwBytesToWrite)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02777">FileStream.cpp:2777</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a37c2499655dbb0a1dbdaf1829003648e"><div class="ttname"><a href="StormLib_8h.html#a37c2499655dbb0a1dbdaf1829003648e">SFILECLOSEARCHIVE</a></div><div class="ttdeci">bool(WINAPI * SFILECLOSEARCHIVE)(HANDLE)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00988">StormLib.h:988</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a3909beee4f92f439ad52faef54a6a296"><div class="ttname"><a href="StormLib_8h.html#a3909beee4f92f439ad52faef54a6a296">SFileGetFileName</a></div><div class="ttdeci">bool WINAPI SFileGetFileName(HANDLE hFile, char *szFileName)</div><div class="ttdef"><b>Definition</b> <a href="SFileGetFileInfo_8cpp_source.html#l00565">SFileGetFileInfo.cpp:565</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a391fb032f484224b1aa8989663f9357a"><div class="ttname"><a href="StormLib_8h.html#a391fb032f484224b1aa8989663f9357a">SListFileFindNextFile</a></div><div class="ttdeci">bool WINAPI SListFileFindNextFile(HANDLE hFind, SFILE_FIND_DATA *lpFindFileData)</div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00692">SFileListFile.cpp:692</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a3931032d33f7a8276dd15d842b04ce0c"><div class="ttname"><a href="StormLib_8h.html#a3931032d33f7a8276dd15d842b04ce0c">TMPQHash</a></div><div class="ttdeci">struct _TMPQHash TMPQHash</div></div>
<div class="ttc" id="aStormLib_8h_html_a3b0eb2320c6401f6f1b5a92e53bc57dd"><div class="ttname"><a href="StormLib_8h.html#a3b0eb2320c6401f6f1b5a92e53bc57dd">FileStream_GetFlags</a></div><div class="ttdeci">bool FileStream_GetFlags(TFileStream *pStream, LPDWORD pdwStreamFlags)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02849">FileStream.cpp:2849</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a3d4029547e1c3655efaffdcaf68da030"><div class="ttname"><a href="StormLib_8h.html#a3d4029547e1c3655efaffdcaf68da030">TMPQNamePrefix</a></div><div class="ttdeci">struct _TMPQNamePrefix TMPQNamePrefix</div></div>
<div class="ttc" id="aStormLib_8h_html_a404dcd27c577084df5f075ab2bb87a6c"><div class="ttname"><a href="StormLib_8h.html#a404dcd27c577084df5f075ab2bb87a6c">SFILE_CREATE_MPQ</a></div><div class="ttdeci">struct _SFILE_CREATE_MPQ SFILE_CREATE_MPQ</div></div>
<div class="ttc" id="aStormLib_8h_html_a430149429a94672d6363426736e6371f"><div class="ttname"><a href="StormLib_8h.html#a430149429a94672d6363426736e6371f">SCompImplode</a></div><div class="ttdeci">int WINAPI SCompImplode(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00674">SCompression.cpp:674</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a44e520bfaca46f55ce915af6df9dd265"><div class="ttname"><a href="StormLib_8h.html#a44e520bfaca46f55ce915af6df9dd265">TMPQBetHeader</a></div><div class="ttdeci">struct _TMPQBetHeader TMPQBetHeader</div></div>
<div class="ttc" id="aStormLib_8h_html_a485461c38e347d9f3de4348e81bca043"><div class="ttname"><a href="StormLib_8h.html#a485461c38e347d9f3de4348e81bca043">SFileIsPatchedArchive</a></div><div class="ttdeci">bool WINAPI SFileIsPatchedArchive(HANDLE hMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFilePatchArchives_8cpp_source.html#l01166">SFilePatchArchives.cpp:1166</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a49a09a38e6dc3b1afd95163a1c9052c6"><div class="ttname"><a href="StormLib_8h.html#a49a09a38e6dc3b1afd95163a1c9052c6">SFileCloseFile</a></div><div class="ttdeci">bool WINAPI SFileCloseFile(HANDLE hFile)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenFileEx_8cpp_source.html#l00405">SFileOpenFileEx.cpp:405</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a4cc5ee53bb9a41f91d71a0be809ede22"><div class="ttname"><a href="StormLib_8h.html#a4cc5ee53bb9a41f91d71a0be809ede22">SFileAddWave</a></div><div class="ttdeci">bool WINAPI SFileAddWave(HANDLE hMpq, const TCHAR *szFileName, const char *szArchivedName, DWORD dwFlags, DWORD dwQuality)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l01039">SFileAddFile.cpp:1039</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a4cda734fc220ab4b32e1f2bf9b5446fc"><div class="ttname"><a href="StormLib_8h.html#a4cda734fc220ab4b32e1f2bf9b5446fc">FileStream_GetPos</a></div><div class="ttdeci">bool FileStream_GetPos(TFileStream *pStream, ULONGLONG *pByteOffset)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02824">FileStream.cpp:2824</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a593f3b1416f7497c28fa5552cd1b3003"><div class="ttname"><a href="StormLib_8h.html#a593f3b1416f7497c28fa5552cd1b3003">FileStream_Read</a></div><div class="ttdeci">bool FileStream_Read(TFileStream *pStream, ULONGLONG *pByteOffset, void *pvBuffer, DWORD dwBytesToRead)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02759">FileStream.cpp:2759</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a5d1f891bd3e6c98a94a13cc5745ae6f4"><div class="ttname"><a href="StormLib_8h.html#a5d1f891bd3e6c98a94a13cc5745ae6f4">SFileVerifyArchive</a></div><div class="ttdeci">DWORD WINAPI SFileVerifyArchive(HANDLE hMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFileVerify_8cpp_source.html#l00979">SFileVerify.cpp:979</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a5f3daefb5c0d87a791fcc42ec40714d2"><div class="ttname"><a href="StormLib_8h.html#a5f3daefb5c0d87a791fcc42ec40714d2">SFileFlushArchive</a></div><div class="ttdeci">bool WINAPI SFileFlushArchive(HANDLE hMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00586">SFileOpenArchive.cpp:586</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a6039b3fb0d4ac8ff528aaa7fcdbb5328"><div class="ttname"><a href="StormLib_8h.html#a6039b3fb0d4ac8ff528aaa7fcdbb5328">SCompDecompress</a></div><div class="ttdeci">int WINAPI SCompDecompress(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l01028">SCompression.cpp:1028</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a65c5c13489a621c481282da76b101e16"><div class="ttname"><a href="StormLib_8h.html#a65c5c13489a621c481282da76b101e16">SFileGetFileInfo</a></div><div class="ttdeci">bool WINAPI SFileGetFileInfo(HANDLE hMpqOrFile, SFileInfoClass InfoClass, void *pvFileInfo, DWORD cbFileInfo, LPDWORD pcbLengthNeeded)</div><div class="ttdef"><b>Definition</b> <a href="SFileGetFileInfo_8cpp_source.html#l00189">SFileGetFileInfo.cpp:189</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a65dd8d3e416ffbd6ac5f468c6bdccac9"><div class="ttname"><a href="StormLib_8h.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a></div><div class="ttdeci">void SetLastError(DWORD dwErrCode)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l00049">FileStream.cpp:49</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a67d641b05043414b7c8efe066af79bf3"><div class="ttname"><a href="StormLib_8h.html#a67d641b05043414b7c8efe066af79bf3">SFileInfoClass</a></div><div class="ttdeci">enum _SFileInfoClass SFileInfoClass</div></div>
<div class="ttc" id="aStormLib_8h_html_a680ef09a7f9c363c2373b822152ab6b6"><div class="ttname"><a href="StormLib_8h.html#a680ef09a7f9c363c2373b822152ab6b6">SFileSetAddFileCallback</a></div><div class="ttdeci">bool WINAPI SFileSetAddFileCallback(HANDLE hMpq, SFILE_ADDFILE_CALLBACK AddFileCB, void *pvUserData)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l01308">SFileAddFile.cpp:1308</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a6daebdc66320d44284e960bbff33e886"><div class="ttname"><a href="StormLib_8h.html#a6daebdc66320d44284e960bbff33e886">SFileOpenPatchArchive</a></div><div class="ttdeci">bool WINAPI SFileOpenPatchArchive(HANDLE hMpq, const TCHAR *szPatchMpqName, const char *szPatchPathPrefix, DWORD dwFlags)</div><div class="ttdef"><b>Definition</b> <a href="SFilePatchArchives_8cpp_source.html#l01088">SFilePatchArchives.cpp:1088</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a6e34d029cecd26331b44985dd5622927"><div class="ttname"><a href="StormLib_8h.html#a6e34d029cecd26331b44985dd5622927">SFileSetFilePointer</a></div><div class="ttdeci">DWORD WINAPI SFileSetFilePointer(HANDLE hFile, LONG lFilePos, LONG *plFilePosHigh, DWORD dwMoveMethod)</div><div class="ttdef"><b>Definition</b> <a href="SFileReadFile_8cpp_source.html#l00816">SFileReadFile.cpp:816</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a702003c1930c608961b812259bd9dc22"><div class="ttname"><a href="StormLib_8h.html#a702003c1930c608961b812259bd9dc22">FileStream_OpenFile</a></div><div class="ttdeci">TFileStream * FileStream_OpenFile(const TCHAR *szFileName, DWORD dwStreamFlags)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02499">FileStream.cpp:2499</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a70c78df25d758e53550021e82078352e"><div class="ttname"><a href="StormLib_8h.html#a70c78df25d758e53550021e82078352e">SFileWriteFile</a></div><div class="ttdeci">bool WINAPI SFileWriteFile(HANDLE hFile, const void *pvData, DWORD dwSize, DWORD dwCompression)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00818">SFileAddFile.cpp:818</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a7829275dccf80bbf47758ebd5515349a"><div class="ttname"><a href="StormLib_8h.html#a7829275dccf80bbf47758ebd5515349a">SFileFinishFile</a></div><div class="ttdeci">bool WINAPI SFileFinishFile(HANDLE hFile)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00864">SFileAddFile.cpp:864</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a78b84dd7671288c4fa62d0ae748b831d"><div class="ttname"><a href="StormLib_8h.html#a78b84dd7671288c4fa62d0ae748b831d">SFileRemoveFile</a></div><div class="ttdeci">bool WINAPI SFileRemoveFile(HANDLE hMpq, const char *szFileName, DWORD dwSearchScope)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l01088">SFileAddFile.cpp:1088</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a7b5145c080be1df3647b57e93454a7fb"><div class="ttname"><a href="StormLib_8h.html#a7b5145c080be1df3647b57e93454a7fb">SFileSetFileLocale</a></div><div class="ttdeci">bool WINAPI SFileSetFileLocale(HANDLE hFile, LCID lcNewLocale)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l01247">SFileAddFile.cpp:1247</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a7ba4abe40715e1c52321a4d8f0fa41e0"><div class="ttname"><a href="StormLib_8h.html#a7ba4abe40715e1c52321a4d8f0fa41e0">TMPQExtHeader</a></div><div class="ttdeci">struct _TMPQExtHeader TMPQExtHeader</div></div>
<div class="ttc" id="aStormLib_8h_html_a7c9b409ac37f567dd42aed8be7dee6eb"><div class="ttname"><a href="StormLib_8h.html#a7c9b409ac37f567dd42aed8be7dee6eb">SListFileFindClose</a></div><div class="ttdeci">bool WINAPI SListFileFindClose(HANDLE hFind)</div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00697">SFileListFile.cpp:697</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a7e81800ce08c5f313d17089a36533ceb"><div class="ttname"><a href="StormLib_8h.html#a7e81800ce08c5f313d17089a36533ceb">SFILESETFILEPOINTER</a></div><div class="ttdeci">DWORD(WINAPI * SFILESETFILEPOINTER)(HANDLE, LONG, LONG *, DWORD)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00992">StormLib.h:992</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a7f66db40266cb2d78416b2f9cc2804ba"><div class="ttname"><a href="StormLib_8h.html#a7f66db40266cb2d78416b2f9cc2804ba">SFileUpdateFileAttributes</a></div><div class="ttdeci">bool WINAPI SFileUpdateFileAttributes(HANDLE hMpq, const char *szFileName)</div><div class="ttdef"><b>Definition</b> <a href="SFileAttributes_8cpp_source.html#l00509">SFileAttributes.cpp:509</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a7fb756b76326ffec7dbe07e4167490c0"><div class="ttname"><a href="StormLib_8h.html#a7fb756b76326ffec7dbe07e4167490c0">SFileHasFile</a></div><div class="ttdeci">bool WINAPI SFileHasFile(HANDLE hMpq, const char *szFileName)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenFileEx_8cpp_source.html#l00397">SFileOpenFileEx.cpp:397</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a81f0259d13a55ebc3c146603b6a38073"><div class="ttname"><a href="StormLib_8h.html#a81f0259d13a55ebc3c146603b6a38073">FileStream_GetTime</a></div><div class="ttdeci">bool FileStream_GetTime(TFileStream *pStream, ULONGLONG *pFT)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02836">FileStream.cpp:2836</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a8286cb2a0f0d778bc75196a08e7a242f"><div class="ttname"><a href="StormLib_8h.html#a8286cb2a0f0d778bc75196a08e7a242f">SFILE_MARKERS</a></div><div class="ttdeci">struct _SFILE_MARKERS SFILE_MARKERS</div></div>
<div class="ttc" id="aStormLib_8h_html_a85f3b458be41b77c6b6d26f5d09c2bad"><div class="ttname"><a href="StormLib_8h.html#a85f3b458be41b77c6b6d26f5d09c2bad">SFileCreateFile</a></div><div class="ttdeci">bool WINAPI SFileCreateFile(HANDLE hMpq, const char *szArchivedName, ULONGLONG FileTime, DWORD dwFileSize, LCID lcFileLocale, DWORD dwFlags, HANDLE *phFile)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00762">SFileAddFile.cpp:762</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a868c53c463cdc7f0bf83c41993c5eb54"><div class="ttname"><a href="StormLib_8h.html#a868c53c463cdc7f0bf83c41993c5eb54">PSFILE_FIND_DATA</a></div><div class="ttdeci">struct _SFILE_FIND_DATA * PSFILE_FIND_DATA</div></div>
<div class="ttc" id="aStormLib_8h_html_a88d0d33a9ef1ba07b984d0666575478f"><div class="ttname"><a href="StormLib_8h.html#a88d0d33a9ef1ba07b984d0666575478f">TMPQBetTable</a></div><div class="ttdeci">struct _TMPQBetTable TMPQBetTable</div></div>
<div class="ttc" id="aStormLib_8h_html_a8b031afa4f88b4b3705c274a0b5b4f73"><div class="ttname"><a href="StormLib_8h.html#a8b031afa4f88b4b3705c274a0b5b4f73">SFileOpenArchive</a></div><div class="ttdeci">bool WINAPI SFileOpenArchive(const TCHAR *szMpqName, DWORD dwPriority, DWORD dwFlags, HANDLE *phMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00225">SFileOpenArchive.cpp:225</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a8e310b34dc27b4b6bfc6c0ccc4c725f4"><div class="ttname"><a href="StormLib_8h.html#a8e310b34dc27b4b6bfc6c0ccc4c725f4">SFILE_ADDFILE_CALLBACK</a></div><div class="ttdeci">void(WINAPI * SFILE_ADDFILE_CALLBACK)(void *pvUserData, DWORD dwBytesWritten, DWORD dwTotalBytes, bool bFinalCall)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00485">StormLib.h:485</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90590797535b0f68c71bfab2cdf17f70"><div class="ttname"><a href="StormLib_8h.html#a90590797535b0f68c71bfab2cdf17f70">SFILEREADFILE</a></div><div class="ttdeci">bool(WINAPI * SFILEREADFILE)(HANDLE, void *, DWORD, LPDWORD, LPOVERLAPPED)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00993">StormLib.h:993</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a105f024e278c43445c1c5ff1f8ea1f1b"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a105f024e278c43445c1c5ff1f8ea1f1b">SFileMpqBetHeader</a></div><div class="ttdeci">@ SFileMpqBetHeader</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00427">StormLib.h:427</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a13361d2361f48e8b52f78f132027f4ae"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a13361d2361f48e8b52f78f132027f4ae">SFileMpqUserDataHeader</a></div><div class="ttdeci">@ SFileMpqUserDataHeader</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00416">StormLib.h:416</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a142ae8882ece33970ef1b984fc4e3cbf"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a142ae8882ece33970ef1b984fc4e3cbf">SFileInfoFileEntry</a></div><div class="ttdeci">@ SFileInfoFileEntry</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00456">StormLib.h:456</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a167d10513bfa74b57afd388de41c7fd4"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a167d10513bfa74b57afd388de41c7fd4">SFileMpqBlockTableOffset</a></div><div class="ttdeci">@ SFileMpqBlockTableOffset</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00433">StormLib.h:433</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a16b9fe55c427a5197e7a74440c639f6d"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a16b9fe55c427a5197e7a74440c639f6d">SFileMpqStreamBitmap</a></div><div class="ttdeci">@ SFileMpqStreamBitmap</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00414">StormLib.h:414</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a1d751d6d4f05c1b5f8b5c4767948aa06"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a1d751d6d4f05c1b5f8b5c4767948aa06">SFileMpqHashTableSize</a></div><div class="ttdeci">@ SFileMpqHashTableSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00431">StormLib.h:431</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a23f3df00ce3c24ce8803771624604c00"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a23f3df00ce3c24ce8803771624604c00">SFileMpqStrongSignatureOffset</a></div><div class="ttdeci">@ SFileMpqStrongSignatureOffset</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00441">StormLib.h:441</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a274c6fef3d8e74a8f82ac86bc9fb2924"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a274c6fef3d8e74a8f82ac86bc9fb2924">SFileMpqFileTableSize</a></div><div class="ttdeci">@ SFileMpqFileTableSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00447">StormLib.h:447</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a2c89240e1cb6ab15bd904d349454aa28"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a2c89240e1cb6ab15bd904d349454aa28">SFileMpqHeaderSize</a></div><div class="ttdeci">@ SFileMpqHeaderSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00419">StormLib.h:419</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a2f12ee38d1f1fe0cf8adc58f36cabacd"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a2f12ee38d1f1fe0cf8adc58f36cabacd">SFileMpqSignatures</a></div><div class="ttdeci">@ SFileMpqSignatures</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00440">StormLib.h:440</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a3726b227a14fe257ae8aeb7be7d83437"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3726b227a14fe257ae8aeb7be7d83437">SFileInfoFileSize</a></div><div class="ttdeci">@ SFileInfoFileSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00466">StormLib.h:466</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a3fd7de9c4ab74548e75dee295e81fd52"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3fd7de9c4ab74548e75dee295e81fd52">SFileMpqHetHeader</a></div><div class="ttdeci">@ SFileMpqHetHeader</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00423">StormLib.h:423</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a3ff802559cd74fa3f55ef039630f4d88"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3ff802559cd74fa3f55ef039630f4d88">SFileMpqHashTable</a></div><div class="ttdeci">@ SFileMpqHashTable</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00432">StormLib.h:432</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a476e6fcb3d5f43970f887ac598556585"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a476e6fcb3d5f43970f887ac598556585">SFileMpqHetTableOffset</a></div><div class="ttdeci">@ SFileMpqHetTableOffset</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00421">StormLib.h:421</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a4d0e602be713ff6a1d1d8e348360f42d"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a4d0e602be713ff6a1d1d8e348360f42d">SFileMpqArchiveSize64</a></div><div class="ttdeci">@ SFileMpqArchiveSize64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00444">StormLib.h:444</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a4ef6ceed6897535cbce154d7d5edc1b3"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a4ef6ceed6897535cbce154d7d5edc1b3">SFileMpqMaxFileCount</a></div><div class="ttdeci">@ SFileMpqMaxFileCount</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00446">StormLib.h:446</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a53b7024d554b409bd22e0ad589964cf4"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a53b7024d554b409bd22e0ad589964cf4">SFileMpqNumberOfFiles</a></div><div class="ttdeci">@ SFileMpqNumberOfFiles</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00449">StormLib.h:449</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a55c455cf9a5ed02df0394977077a9f49"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a55c455cf9a5ed02df0394977077a9f49">SFileMpqHetTableSize</a></div><div class="ttdeci">@ SFileMpqHetTableSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00422">StormLib.h:422</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a5a11b123a8517ce48f7afa1a393b8e19"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5a11b123a8517ce48f7afa1a393b8e19">SFileMpqSectorSize</a></div><div class="ttdeci">@ SFileMpqSectorSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00448">StormLib.h:448</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a5b738a9c20b08546c02eed33084401c8"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5b738a9c20b08546c02eed33084401c8">SFileMpqHiBlockTableOffset</a></div><div class="ttdeci">@ SFileMpqHiBlockTableOffset</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00437">StormLib.h:437</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a5e0fdb5a3e5f95a0bce6b86916bcea56"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5e0fdb5a3e5f95a0bce6b86916bcea56">SFileInfoNameHash3</a></div><div class="ttdeci">@ SFileInfoNameHash3</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00461">StormLib.h:461</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a5e7fe06d85cb8e4bab77e9cc35e8d354"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5e7fe06d85cb8e4bab77e9cc35e8d354">SFileMpqHiBlockTableSize64</a></div><div class="ttdeci">@ SFileMpqHiBlockTableSize64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00438">StormLib.h:438</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a61467b9f7e76bde17f3f83f4fbd6b73e"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a61467b9f7e76bde17f3f83f4fbd6b73e">SFileMpqStreamFlags</a></div><div class="ttdeci">@ SFileMpqStreamFlags</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00451">StormLib.h:451</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a6315b32e12c8d68c3e7e0e6be68cd3db"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a6315b32e12c8d68c3e7e0e6be68cd3db">SFileMpqHashTableOffset</a></div><div class="ttdeci">@ SFileMpqHashTableOffset</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00429">StormLib.h:429</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a65ed9eb773b2039af8bf641c88c527c0"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a65ed9eb773b2039af8bf641c88c527c0">SFileMpqHiBlockTable</a></div><div class="ttdeci">@ SFileMpqHiBlockTable</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00439">StormLib.h:439</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a6f586faa00c75a8cdad953e5efde6286"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a6f586faa00c75a8cdad953e5efde6286">SFileMpqFileName</a></div><div class="ttdeci">@ SFileMpqFileName</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00413">StormLib.h:413</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a72601c2519d44d5dee8b069dacd51964"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a72601c2519d44d5dee8b069dacd51964">SFileInfoByteOffset</a></div><div class="ttdeci">@ SFileInfoByteOffset</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00464">StormLib.h:464</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a74e085d098861aeebebff5d863f2ff83"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a74e085d098861aeebebff5d863f2ff83">SFileInfoEncryptionKey</a></div><div class="ttdeci">@ SFileInfoEncryptionKey</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00469">StormLib.h:469</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a820fd5371b151b244ffd08393f8877e9"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a820fd5371b151b244ffd08393f8877e9">SFileInfoHashEntry</a></div><div class="ttdeci">@ SFileInfoHashEntry</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00457">StormLib.h:457</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a891d6032f0a540a2fed2021fa80f0376"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a891d6032f0a540a2fed2021fa80f0376">SFileInfoLocale</a></div><div class="ttdeci">@ SFileInfoLocale</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00462">StormLib.h:462</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a8b376a37df412d4aa5f983a2f6211fcf"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8b376a37df412d4aa5f983a2f6211fcf">SFileInfoFileTime</a></div><div class="ttdeci">@ SFileInfoFileTime</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00465">StormLib.h:465</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a8e337bfdf364a4c3a253a9e80c5a5cdc"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8e337bfdf364a4c3a253a9e80c5a5cdc">SFileInfoNameHash2</a></div><div class="ttdeci">@ SFileInfoNameHash2</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00460">StormLib.h:460</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a8f7439fddc4f1798c92b1fa35d25074c"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8f7439fddc4f1798c92b1fa35d25074c">SFileMpqFlags</a></div><div class="ttdeci">@ SFileMpqFlags</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00452">StormLib.h:452</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a944e704c35366e96a180762c0efcc24e"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a944e704c35366e96a180762c0efcc24e">SFileInfoEncryptionKeyRaw</a></div><div class="ttdeci">@ SFileInfoEncryptionKeyRaw</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00470">StormLib.h:470</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a97a82d443138c8cc728c481e10432325"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a97a82d443138c8cc728c481e10432325">SFileMpqHetTable</a></div><div class="ttdeci">@ SFileMpqHetTable</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00424">StormLib.h:424</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3a9a16252d9bbd2c2e670ea78d6a054491"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a9a16252d9bbd2c2e670ea78d6a054491">SFileMpqArchiveSize</a></div><div class="ttdeci">@ SFileMpqArchiveSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00445">StormLib.h:445</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3aa4f4b7d0ffa6370a0422aa549f5e3bac"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aa4f4b7d0ffa6370a0422aa549f5e3bac">SFileMpqBetTableOffset</a></div><div class="ttdeci">@ SFileMpqBetTableOffset</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00425">StormLib.h:425</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3aaa004bf74465d3053cf255a8ce621a43"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aaa004bf74465d3053cf255a8ce621a43">SFileMpqBlockTableSize</a></div><div class="ttdeci">@ SFileMpqBlockTableSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00435">StormLib.h:435</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3ab0cb978f8746ea272bbe0ac9878b43a0"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ab0cb978f8746ea272bbe0ac9878b43a0">SFileMpqBetTable</a></div><div class="ttdeci">@ SFileMpqBetTable</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00428">StormLib.h:428</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3ab6ac50d041070ae4b65f53681f0854e9"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ab6ac50d041070ae4b65f53681f0854e9">SFileMpqUserDataOffset</a></div><div class="ttdeci">@ SFileMpqUserDataOffset</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00415">StormLib.h:415</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3abd4bc7d7c777f43efb5f22680b6f852d"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3abd4bc7d7c777f43efb5f22680b6f852d">SFileInfoPatchChain</a></div><div class="ttdeci">@ SFileInfoPatchChain</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00455">StormLib.h:455</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3abf8849fd539c2b9ef471ed7dc7fd2db1"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3abf8849fd539c2b9ef471ed7dc7fd2db1">SFileMpqHeader</a></div><div class="ttdeci">@ SFileMpqHeader</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00420">StormLib.h:420</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3ac31921058e9e17c0901d2938abda5312"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ac31921058e9e17c0901d2938abda5312">SFileInfoFileIndex</a></div><div class="ttdeci">@ SFileInfoFileIndex</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00463">StormLib.h:463</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3ac63b8edf2c463ee184a571071c84abd3"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ac63b8edf2c463ee184a571071c84abd3">SFileInfoNameHash1</a></div><div class="ttdeci">@ SFileInfoNameHash1</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00459">StormLib.h:459</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3acb29b757e6456e144941098494558ea0"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3acb29b757e6456e144941098494558ea0">SFileInfoCRC32</a></div><div class="ttdeci">@ SFileInfoCRC32</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00471">StormLib.h:471</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3acc9cd4f89a71bf69a6a70fe45b9a9ecf"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3acc9cd4f89a71bf69a6a70fe45b9a9ecf">SFileInfoHashIndex</a></div><div class="ttdeci">@ SFileInfoHashIndex</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00458">StormLib.h:458</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3ad90a58ed8a272c3f31ddd666113e3b1b"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ad90a58ed8a272c3f31ddd666113e3b1b">SFileMpqHashTableSize64</a></div><div class="ttdeci">@ SFileMpqHashTableSize64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00430">StormLib.h:430</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3adc9d2e7fb46b5897767196d43b4e383f"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3adc9d2e7fb46b5897767196d43b4e383f">SFileMpqUserData</a></div><div class="ttdeci">@ SFileMpqUserData</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00417">StormLib.h:417</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3ae19e7046a1be4813d81eeeaba366b582"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae19e7046a1be4813d81eeeaba366b582">SFileInfoFlags</a></div><div class="ttdeci">@ SFileInfoFlags</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00468">StormLib.h:468</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3ae4553d5ac5e1229fc6ef79e5e87041fe"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae4553d5ac5e1229fc6ef79e5e87041fe">SFileMpqRawChunkSize</a></div><div class="ttdeci">@ SFileMpqRawChunkSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00450">StormLib.h:450</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3ae59d94899507065297ca567a4c2d0655"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae59d94899507065297ca567a4c2d0655">SFileMpqBlockTable</a></div><div class="ttdeci">@ SFileMpqBlockTable</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00436">StormLib.h:436</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3ae9b6712848b58355a408f3daab83f96e"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae9b6712848b58355a408f3daab83f96e">SFileMpqHeaderOffset</a></div><div class="ttdeci">@ SFileMpqHeaderOffset</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00418">StormLib.h:418</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3aedae906162459673c4cbeebd17bad09b"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aedae906162459673c4cbeebd17bad09b">SFileMpqStrongSignature</a></div><div class="ttdeci">@ SFileMpqStrongSignature</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00443">StormLib.h:443</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3af011be22f9762d226813819a20241305"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af011be22f9762d226813819a20241305">SFileMpqStrongSignatureSize</a></div><div class="ttdeci">@ SFileMpqStrongSignatureSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00442">StormLib.h:442</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3af39f8a570fbe2e3b3adb8ed81711680f"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af39f8a570fbe2e3b3adb8ed81711680f">SFileMpqBlockTableSize64</a></div><div class="ttdeci">@ SFileMpqBlockTableSize64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00434">StormLib.h:434</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3af4b818adfb2d7cfa16ff245a18338eb5"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af4b818adfb2d7cfa16ff245a18338eb5">SFileMpqBetTableSize</a></div><div class="ttdeci">@ SFileMpqBetTableSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00426">StormLib.h:426</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a90f178cc391e156ead40ea74dc0414d3afe2e60dff9fc8f6c6103e5697739229c"><div class="ttname"><a href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3afe2e60dff9fc8f6c6103e5697739229c">SFileInfoCompressedSize</a></div><div class="ttdeci">@ SFileInfoCompressedSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00467">StormLib.h:467</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a97df30ed85f80d5c8fe560750b3efe4a"><div class="ttname"><a href="StormLib_8h.html#a97df30ed85f80d5c8fe560750b3efe4a">PSFILE_CREATE_MPQ</a></div><div class="ttdeci">struct _SFILE_CREATE_MPQ * PSFILE_CREATE_MPQ</div></div>
<div class="ttc" id="aStormLib_8h_html_a9a04c684ebc812ab085d9615d1bce183"><div class="ttname"><a href="StormLib_8h.html#a9a04c684ebc812ab085d9615d1bce183">SFileFindNextFile</a></div><div class="ttdeci">bool WINAPI SFileFindNextFile(HANDLE hFind, SFILE_FIND_DATA *lpFindFileData)</div><div class="ttdef"><b>Definition</b> <a href="SFileFindFile_8cpp_source.html#l00449">SFileFindFile.cpp:449</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a9b4d9eaf2101262ff0f76475beda0a2c"><div class="ttname"><a href="StormLib_8h.html#a9b4d9eaf2101262ff0f76475beda0a2c">TMPQUserData</a></div><div class="ttdeci">struct _TMPQUserData TMPQUserData</div></div>
<div class="ttc" id="aStormLib_8h_html_a9be9da8f2fbea3f051a845b1a5813180"><div class="ttname"><a href="StormLib_8h.html#a9be9da8f2fbea3f051a845b1a5813180">TPatchInfo</a></div><div class="ttdeci">struct _TPatchInfo TPatchInfo</div></div>
<div class="ttc" id="aStormLib_8h_html_a9d092079ada150e05bfed5a26e65e184"><div class="ttname"><a href="StormLib_8h.html#a9d092079ada150e05bfed5a26e65e184">SFileAddFileEx</a></div><div class="ttdeci">bool WINAPI SFileAddFileEx(HANDLE hMpq, const TCHAR *szFileName, const char *szArchivedName, DWORD dwFlags, DWORD dwCompression, DWORD dwCompressionNext)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00888">SFileAddFile.cpp:888</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a9ff5e95dd1385dd48527ff9a2c66c425"><div class="ttname"><a href="StormLib_8h.html#a9ff5e95dd1385dd48527ff9a2c66c425">PSFILE_MARKERS</a></div><div class="ttdeci">struct _SFILE_MARKERS * PSFILE_MARKERS</div></div>
<div class="ttc" id="aStormLib_8h_html_aa0066fc17b79fdbd976230a7d395d731"><div class="ttname"><a href="StormLib_8h.html#aa0066fc17b79fdbd976230a7d395d731">SFileSetMaxFileCount</a></div><div class="ttdeci">bool WINAPI SFileSetMaxFileCount(HANDLE hMpq, DWORD dwMaxFileCount)</div><div class="ttdef"><b>Definition</b> <a href="SFileCompactArchive_8cpp_source.html#l00463">SFileCompactArchive.cpp:463</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aa2107608d75af5dc5674f69c84637e22"><div class="ttname"><a href="StormLib_8h.html#aa2107608d75af5dc5674f69c84637e22">FileStream_Prefix</a></div><div class="ttdeci">size_t FileStream_Prefix(const TCHAR *szFileName, DWORD *pdwProvider)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02549">FileStream.cpp:2549</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aa2b6fa8f16b5ac42868c546533fe26ce"><div class="ttname"><a href="StormLib_8h.html#aa2b6fa8f16b5ac42868c546533fe26ce">SFileCreateArchive2</a></div><div class="ttdeci">bool WINAPI SFileCreateArchive2(const TCHAR *szMpqName, PSFILE_CREATE_MPQ pCreateInfo, HANDLE *phMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFileCreateArchive_8cpp_source.html#l00101">SFileCreateArchive.cpp:101</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aa5785fec88675e850361edc91fa6af74"><div class="ttname"><a href="StormLib_8h.html#aa5785fec88675e850361edc91fa6af74">SFILEOPENARCHIVE</a></div><div class="ttdeci">bool(WINAPI * SFILEOPENARCHIVE)(const char *, DWORD, DWORD, HANDLE *)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00987">StormLib.h:987</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aaba1ffb5ec458bc89519a891e28ab10e"><div class="ttname"><a href="StormLib_8h.html#aaba1ffb5ec458bc89519a891e28ab10e">FileStream_CreateFile</a></div><div class="ttdeci">TFileStream * FileStream_CreateFile(const TCHAR *szFileName, DWORD dwStreamFlags)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02443">FileStream.cpp:2443</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aac8a29e50fd6c047ee9288073b54804e"><div class="ttname"><a href="StormLib_8h.html#aac8a29e50fd6c047ee9288073b54804e">FileStream_GetFileName</a></div><div class="ttdeci">const TCHAR * FileStream_GetFileName(TFileStream *pStream)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02536">FileStream.cpp:2536</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aaf8a10729f0ed9e7b0043818be7b5c5e"><div class="ttname"><a href="StormLib_8h.html#aaf8a10729f0ed9e7b0043818be7b5c5e">GetMPQBits</a></div><div class="ttdeci">void GetMPQBits(TMPQBits *pBits, unsigned int nBitPosition, unsigned int nBitLength, void *pvBuffer, int nResultByteSize)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l00228">SBaseFileTable.cpp:228</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ab00c160cef535493ec7dab495f8feece"><div class="ttname"><a href="StormLib_8h.html#ab00c160cef535493ec7dab495f8feece">TMPQFile</a></div><div class="ttdeci">struct _TMPQFile TMPQFile</div></div>
<div class="ttc" id="aStormLib_8h_html_ab0683c4b0bbf74b521c9f382b51b6e23"><div class="ttname"><a href="StormLib_8h.html#ab0683c4b0bbf74b521c9f382b51b6e23">SFileSetLocale</a></div><div class="ttdeci">LCID WINAPI SFileSetLocale(LCID lcFileLocale)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00212">SFileOpenArchive.cpp:212</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ab0bc747dfb565ea0ac3a10eaa77e1c31"><div class="ttname"><a href="StormLib_8h.html#ab0bc747dfb565ea0ac3a10eaa77e1c31">SFileSignArchive</a></div><div class="ttdeci">bool WINAPI SFileSignArchive(HANDLE hMpq, DWORD dwSignatureType)</div><div class="ttdef"><b>Definition</b> <a href="SFileVerify_8cpp_source.html#l01016">SFileVerify.cpp:1016</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ab19c5156a7ff6aea3714bb75a38e9535"><div class="ttname"><a href="StormLib_8h.html#ab19c5156a7ff6aea3714bb75a38e9535">SCompDecompress_SC1B</a></div><div class="ttdeci">int WINAPI SCompDecompress_SC1B(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l01033">SCompression.cpp:1033</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ab6184a31092ac5364a8746b1fca3a822"><div class="ttname"><a href="StormLib_8h.html#ab6184a31092ac5364a8746b1fca3a822">SFileAddFile</a></div><div class="ttdeci">bool WINAPI SFileAddFile(HANDLE hMpq, const TCHAR *szFileName, const char *szArchivedName, DWORD dwFlags)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l01028">SFileAddFile.cpp:1028</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ab699405208db728f480c491831904e36"><div class="ttname"><a href="StormLib_8h.html#ab699405208db728f480c491831904e36">SFileAddListFile</a></div><div class="ttdeci">DWORD WINAPI SFileAddListFile(HANDLE hMpq, const TCHAR *szListFile)</div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00639">SFileListFile.cpp:639</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ab8a9149a71da405f906dd388f77ceb0c"><div class="ttname"><a href="StormLib_8h.html#ab8a9149a71da405f906dd388f77ceb0c">SFileSetDataCompression</a></div><div class="ttdeci">bool WINAPI SFileSetDataCompression(DWORD DataCompression)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l01230">SFileAddFile.cpp:1230</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aba1c9038ee83a8240402172dbab5ff30"><div class="ttname"><a href="StormLib_8h.html#aba1c9038ee83a8240402172dbab5ff30">SListFileFindFirstFile</a></div><div class="ttdeci">HANDLE WINAPI SListFileFindFirstFile(HANDLE hMpq, const TCHAR *szListFile, const char *szMask, SFILE_FIND_DATA *lpFindFileData)</div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00668">SFileListFile.cpp:668</a></div></div>
<div class="ttc" id="aStormLib_8h_html_abc0fbb4156c7eef2e3162841ffb0d74a"><div class="ttname"><a href="StormLib_8h.html#abc0fbb4156c7eef2e3162841ffb0d74a">FileStream_SetSize</a></div><div class="ttdeci">bool FileStream_SetSize(TFileStream *pStream, ULONGLONG NewFileSize)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02807">FileStream.cpp:2807</a></div></div>
<div class="ttc" id="aStormLib_8h_html_abe1ae9917ea665286bffd1524561fceb"><div class="ttname"><a href="StormLib_8h.html#abe1ae9917ea665286bffd1524561fceb">SFileCloseArchive</a></div><div class="ttdeci">bool WINAPI SFileCloseArchive(HANDLE hMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00669">SFileOpenArchive.cpp:669</a></div></div>
<div class="ttc" id="aStormLib_8h_html_abf315c2be57e5ebb9790cf84fe88ef03"><div class="ttname"><a href="StormLib_8h.html#abf315c2be57e5ebb9790cf84fe88ef03">SFileRenameFile</a></div><div class="ttdeci">bool WINAPI SFileRenameFile(HANDLE hMpq, const char *szOldFileName, const char *szNewFileName)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l01147">SFileAddFile.cpp:1147</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ac024b00ba02354b5d3d5d0c594359207"><div class="ttname"><a href="StormLib_8h.html#ac024b00ba02354b5d3d5d0c594359207">TMPQBlock</a></div><div class="ttdeci">struct _TMPQBlock TMPQBlock</div></div>
<div class="ttc" id="aStormLib_8h_html_ac80854a06a92ee69e22c1d2c1fc5b5b9"><div class="ttname"><a href="StormLib_8h.html#ac80854a06a92ee69e22c1d2c1fc5b5b9">SFILE_FIND_DATA</a></div><div class="ttdeci">struct _SFILE_FIND_DATA SFILE_FIND_DATA</div></div>
<div class="ttc" id="aStormLib_8h_html_acad7f5afb2f094ca2ef8af9acb893e1b"><div class="ttname"><a href="StormLib_8h.html#acad7f5afb2f094ca2ef8af9acb893e1b">SFileCompactArchive</a></div><div class="ttdeci">bool WINAPI SFileCompactArchive(HANDLE hMpq, const TCHAR *szListFile, bool bReserved)</div><div class="ttdef"><b>Definition</b> <a href="SFileCompactArchive_8cpp_source.html#l00526">SFileCompactArchive.cpp:526</a></div></div>
<div class="ttc" id="aStormLib_8h_html_accf539777d623a74eb6b4394dd7fd6a1"><div class="ttname"><a href="StormLib_8h.html#accf539777d623a74eb6b4394dd7fd6a1">SFILE_COMPACT_CALLBACK</a></div><div class="ttdeci">void(WINAPI * SFILE_COMPACT_CALLBACK)(void *pvUserData, DWORD dwWorkType, ULONGLONG BytesProcessed, ULONGLONG TotalBytes)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00486">StormLib.h:486</a></div></div>
<div class="ttc" id="aStormLib_8h_html_acf59a724fa8f6597589b656d6f206277"><div class="ttname"><a href="StormLib_8h.html#acf59a724fa8f6597589b656d6f206277">TMPQHetHeader</a></div><div class="ttdeci">struct _TMPQHetHeader TMPQHetHeader</div></div>
<div class="ttc" id="aStormLib_8h_html_ad0f1ed530318d4f8cecb3dfb53e15b0a"><div class="ttname"><a href="StormLib_8h.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a></div><div class="ttdeci">DWORD GetLastError()</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l00044">FileStream.cpp:44</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ad3ada5322cf6ba1694cef8ee03e219d7"><div class="ttname"><a href="StormLib_8h.html#ad3ada5322cf6ba1694cef8ee03e219d7">TMPQHeader</a></div><div class="ttdeci">struct _TMPQHeader TMPQHeader</div></div>
<div class="ttc" id="aStormLib_8h_html_ad4be5c65706a57411d71edd72bd91e06"><div class="ttname"><a href="StormLib_8h.html#ad4be5c65706a57411d71edd72bd91e06">SCompDecompress2</a></div><div class="ttdeci">int WINAPI SCompDecompress2(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l01038">SCompression.cpp:1038</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ad86b38d6ab14e243543904e30f26bed2"><div class="ttname"><a href="StormLib_8h.html#ad86b38d6ab14e243543904e30f26bed2">MD5_DIGEST_SIZE</a></div><div class="ttdeci">#define MD5_DIGEST_SIZE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00393">StormLib.h:393</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ad8c8767ef66fc69dad98bd3a88f67def"><div class="ttname"><a href="StormLib_8h.html#ad8c8767ef66fc69dad98bd3a88f67def">SFileSetAttributes</a></div><div class="ttdeci">bool WINAPI SFileSetAttributes(HANDLE hMpq, DWORD dwFlags)</div><div class="ttdef"><b>Definition</b> <a href="SFileAttributes_8cpp_source.html#l00485">SFileAttributes.cpp:485</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ada41f29620f00972c7a75a67a5becec8"><div class="ttname"><a href="StormLib_8h.html#ada41f29620f00972c7a75a67a5becec8">SFILESETLOCALE</a></div><div class="ttdeci">LCID(WINAPI * SFILESETLOCALE)(LCID)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00986">StormLib.h:986</a></div></div>
<div class="ttc" id="aStormLib_8h_html_add642a1497e31540d395dd47df3ead44"><div class="ttname"><a href="StormLib_8h.html#add642a1497e31540d395dd47df3ead44">SFILECLOSEFILE</a></div><div class="ttdeci">bool(WINAPI * SFILECLOSEFILE)(HANDLE)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00990">StormLib.h:990</a></div></div>
<div class="ttc" id="aStormLib_8h_html_add9a438b42fbf4c132990d61bd2b6347"><div class="ttname"><a href="StormLib_8h.html#add9a438b42fbf4c132990d61bd2b6347">SFileReadFile</a></div><div class="ttdeci">bool WINAPI SFileReadFile(HANDLE hFile, void *lpBuffer, DWORD dwToRead, LPDWORD pdwRead, LPOVERLAPPED lpOverlapped)</div><div class="ttdef"><b>Definition</b> <a href="SFileReadFile_8cpp_source.html#l00678">SFileReadFile.cpp:678</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ae189da614befca23b053c36b9f93f460"><div class="ttname"><a href="StormLib_8h.html#ae189da614befca23b053c36b9f93f460">SFileGetAttributes</a></div><div class="ttdeci">DWORD WINAPI SFileGetAttributes(HANDLE hMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFileAttributes_8cpp_source.html#l00471">SFileAttributes.cpp:471</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ae33c8e38a5379adbbe49471f8d0ca5af"><div class="ttname"><a href="StormLib_8h.html#ae33c8e38a5379adbbe49471f8d0ca5af">FileStream_SetCallback</a></div><div class="ttdeci">bool FileStream_SetCallback(TFileStream *pStream, SFILE_DOWNLOAD_CALLBACK pfnCallback, void *pvUserData)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02632">FileStream.cpp:2632</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ae6dba58ed9a37a2871771b7e493e3f4a"><div class="ttname"><a href="StormLib_8h.html#ae6dba58ed9a37a2871771b7e493e3f4a">SFileVerifyRawData</a></div><div class="ttdeci">DWORD WINAPI SFileVerifyRawData(HANDLE hMpq, DWORD dwWhatToVerify, const char *szFileName)</div><div class="ttdef"><b>Definition</b> <a href="SFileVerify_8cpp_source.html#l00906">SFileVerify.cpp:906</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ae8b75c4797726e9c5ee0b4b03bf31442"><div class="ttname"><a href="StormLib_8h.html#ae8b75c4797726e9c5ee0b4b03bf31442">FileStream_Close</a></div><div class="ttdeci">void FileStream_Close(TFileStream *pStream)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02907">FileStream.cpp:2907</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ae8ebf606a756cf0bbd7c3670ac7d0b7f"><div class="ttname"><a href="StormLib_8h.html#ae8ebf606a756cf0bbd7c3670ac7d0b7f">SFileFreeFileInfo</a></div><div class="ttdeci">bool WINAPI SFileFreeFileInfo(void *pvFileInfo, SFileInfoClass InfoClass)</div><div class="ttdef"><b>Definition</b> <a href="SFileGetFileInfo_8cpp_source.html#l00452">SFileGetFileInfo.cpp:452</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aec85f6efb05064d79de5e05fff77c639"><div class="ttname"><a href="StormLib_8h.html#aec85f6efb05064d79de5e05fff77c639">SFILE_DOWNLOAD_CALLBACK</a></div><div class="ttdeci">void(WINAPI * SFILE_DOWNLOAD_CALLBACK)(void *pvUserData, ULONGLONG ByteOffset, DWORD dwTotalBytes)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00484">StormLib.h:484</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aef9de212ebb17b38d8c1efbbdfeafac4"><div class="ttname"><a href="StormLib_8h.html#aef9de212ebb17b38d8c1efbbdfeafac4">SCompExplode</a></div><div class="ttdeci">int WINAPI SCompExplode(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00706">SCompression.cpp:706</a></div></div>
<div class="ttc" id="aStormLib_8h_html_af15a614080a5231006e0381b3c715760"><div class="ttname"><a href="StormLib_8h.html#af15a614080a5231006e0381b3c715760">MPQ_HEADER_DWORDS</a></div><div class="ttdeci">#define MPQ_HEADER_DWORDS</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00505">StormLib.h:505</a></div></div>
<div class="ttc" id="aStormLib_8h_html_af505319882f0f4aaf396b6d061a2275b"><div class="ttname"><a href="StormLib_8h.html#af505319882f0f4aaf396b6d061a2275b">FileStream_GetSize</a></div><div class="ttdeci">bool FileStream_GetSize(TFileStream *pStream, ULONGLONG *pFileSize)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02795">FileStream.cpp:2795</a></div></div>
<div class="ttc" id="aStormLib_8h_html_af9090bd528ef09a1c58bdb3931be5ec3"><div class="ttname"><a href="StormLib_8h.html#af9090bd528ef09a1c58bdb3931be5ec3">SFileOpenFileEx</a></div><div class="ttdeci">bool WINAPI SFileOpenFileEx(HANDLE hMpq, const char *szFileName, DWORD dwSearchScope, HANDLE *phFile)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenFileEx_8cpp_source.html#l00232">SFileOpenFileEx.cpp:232</a></div></div>
<div class="ttc" id="aStormLib_8h_html_afcb16e96c8708fd0d9ff12d058076fdc"><div class="ttname"><a href="StormLib_8h.html#afcb16e96c8708fd0d9ff12d058076fdc">HASH_STRING</a></div><div class="ttdeci">DWORD(* HASH_STRING)(const char *szFileName, DWORD dwHashType)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00405">StormLib.h:405</a></div></div>
<div class="ttc" id="aStormLib_8h_html_afcf883cb4bc8ff873bb286e8f7bf5002"><div class="ttname"><a href="StormLib_8h.html#afcf883cb4bc8ff873bb286e8f7bf5002">FileStream_Replace</a></div><div class="ttdeci">bool FileStream_Replace(TFileStream *pStream, TFileStream *pNewStream)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02866">FileStream.cpp:2866</a></div></div>
<div class="ttc" id="aStormLib_8h_html_afe944956d84d84b97973d07d20b55dae"><div class="ttname"><a href="StormLib_8h.html#afe944956d84d84b97973d07d20b55dae">SFILEOPENFILEEX</a></div><div class="ttdeci">bool(WINAPI * SFILEOPENFILEEX)(HANDLE, const char *, DWORD, HANDLE *)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00989">StormLib.h:989</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a03bdb8ce5895c7e261aadc2529637546"><div class="ttname"><a href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a></div><div class="ttdeci">char TCHAR</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00344">StormPort.h:344</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a143be739596851314f3c386bd6f752f9"><div class="ttname"><a href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a></div><div class="ttdeci">DWORD * LPDWORD</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00347">StormPort.h:347</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a4ae1dab0fb4b072a66584546209e7d58"><div class="ttname"><a href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a></div><div class="ttdeci">unsigned char BYTE</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00333">StormPort.h:333</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a5850d5316caf7f4cedd742fdf8cd7c02"><div class="ttname"><a href="StormPort_8h.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a></div><div class="ttdeci">unsigned short USHORT</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00334">StormPort.h:334</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a798af1e30bc65f319c1a246cecf59e39"><div class="ttname"><a href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a></div><div class="ttdeci">unsigned int DWORD</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00336">StormPort.h:336</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a9154c0d0c21af4686624543215b4e5f2"><div class="ttname"><a href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a></div><div class="ttdeci">int LONG</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00335">StormPort.h:335</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a9aa60e1ead64be77ad551e745cbfd4d3"><div class="ttname"><a href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a></div><div class="ttdeci">#define WINAPI</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00363">StormPort.h:363</a></div></div>
<div class="ttc" id="aStormPort_8h_html_aa8c0374618b33785ccb02f74bcfebc46"><div class="ttname"><a href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a></div><div class="ttdeci">void * HANDLE</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00342">StormPort.h:342</a></div></div>
<div class="ttc" id="aStormPort_8h_html_ab1742dccc5f422e3ca4eee21d56e0086"><div class="ttname"><a href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a></div><div class="ttdeci">unsigned int LCID</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00345">StormPort.h:345</a></div></div>
<div class="ttc" id="aStormPort_8h_html_ab99ded389af74001a6298fc9e44e74e5"><div class="ttname"><a href="StormPort_8h.html#ab99ded389af74001a6298fc9e44e74e5">MAX_PATH</a></div><div class="ttdeci">#define MAX_PATH</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00360">StormPort.h:360</a></div></div>
<div class="ttc" id="aStormPort_8h_html_abb452686968e48b67397da5f97445f5b"><div class="ttname"><a href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></div><div class="ttdeci">#define bool</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00031">StormPort.h:31</a></div></div>
<div class="ttc" id="aStormPort_8h_html_abb9abb9ce956f1a9e5a4081ac40e5649"><div class="ttname"><a href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a></div><div class="ttdeci">unsigned long long ULONGLONG</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00341">StormPort.h:341</a></div></div>
<div class="ttc" id="aStormPort_8h_html_ac2d3fb16b5b34c1e6ab80014309020eb"><div class="ttname"><a href="StormPort_8h.html#ac2d3fb16b5b34c1e6ab80014309020eb">LPBYTE</a></div><div class="ttdeci">BYTE * LPBYTE</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00348">StormPort.h:348</a></div></div>
<div class="ttc" id="aStormPort_8h_html_adfd8166ccad505199a5bf3b5fb0ec8d8"><div class="ttname"><a href="StormPort_8h.html#adfd8166ccad505199a5bf3b5fb0ec8d8">LPOVERLAPPED</a></div><div class="ttdeci">void * LPOVERLAPPED</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00343">StormPort.h:343</a></div></div>
<div class="ttc" id="astructTFileStream_html"><div class="ttname"><a href="structTFileStream.html">TFileStream</a></div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00153">FileStream.h:154</a></div></div>
<div class="ttc" id="astructTMPQBits_html"><div class="ttname"><a href="structTMPQBits.html">TMPQBits</a></div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l00062">SBaseFileTable.cpp:63</a></div></div>
<div class="ttc" id="astructTStreamBitmap_html"><div class="ttname"><a href="structTStreamBitmap.html">TStreamBitmap</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00952">StormLib.h:953</a></div></div>
<div class="ttc" id="astructTStreamBitmap_html_a08cd10b5e913016784b84a56dfa12b84"><div class="ttname"><a href="structTStreamBitmap.html#a08cd10b5e913016784b84a56dfa12b84">TStreamBitmap::BitmapSize</a></div><div class="ttdeci">DWORD BitmapSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00955">StormLib.h:955</a></div></div>
<div class="ttc" id="astructTStreamBitmap_html_a0b36de5895d75734e8ac90a277109339"><div class="ttname"><a href="structTStreamBitmap.html#a0b36de5895d75734e8ac90a277109339">TStreamBitmap::IsComplete</a></div><div class="ttdeci">DWORD IsComplete</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00958">StormLib.h:958</a></div></div>
<div class="ttc" id="astructTStreamBitmap_html_a10f51b48a75b6679d43d2c687ea17c4a"><div class="ttname"><a href="structTStreamBitmap.html#a10f51b48a75b6679d43d2c687ea17c4a">TStreamBitmap::StreamSize</a></div><div class="ttdeci">ULONGLONG StreamSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00954">StormLib.h:954</a></div></div>
<div class="ttc" id="astructTStreamBitmap_html_a146c2246f25fd3fa72abd2a413746fa0"><div class="ttname"><a href="structTStreamBitmap.html#a146c2246f25fd3fa72abd2a413746fa0">TStreamBitmap::BlockSize</a></div><div class="ttdeci">DWORD BlockSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00957">StormLib.h:957</a></div></div>
<div class="ttc" id="astructTStreamBitmap_html_ab90b1cc270a2d34fdecea0e945185ca8"><div class="ttname"><a href="structTStreamBitmap.html#ab90b1cc270a2d34fdecea0e945185ca8">TStreamBitmap::BlockCount</a></div><div class="ttdeci">DWORD BlockCount</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00956">StormLib.h:956</a></div></div>
<div class="ttc" id="astruct__SFILE__CREATE__MPQ_html"><div class="ttname"><a href="struct__SFILE__CREATE__MPQ.html">_SFILE_CREATE_MPQ</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00918">StormLib.h:919</a></div></div>
<div class="ttc" id="astruct__SFILE__CREATE__MPQ_html_a11489f71fac072b853faa0d3144b54f2"><div class="ttname"><a href="struct__SFILE__CREATE__MPQ.html#a11489f71fac072b853faa0d3144b54f2">_SFILE_CREATE_MPQ::dwStreamFlags</a></div><div class="ttdeci">DWORD dwStreamFlags</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00924">StormLib.h:924</a></div></div>
<div class="ttc" id="astruct__SFILE__CREATE__MPQ_html_a14e831b4a6dd34b1402bd7b551e3b9ca"><div class="ttname"><a href="struct__SFILE__CREATE__MPQ.html#a14e831b4a6dd34b1402bd7b551e3b9ca">_SFILE_CREATE_MPQ::dwRawChunkSize</a></div><div class="ttdeci">DWORD dwRawChunkSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00930">StormLib.h:930</a></div></div>
<div class="ttc" id="astruct__SFILE__CREATE__MPQ_html_a2e861f6af56a959a5ca7c7adbe89ce37"><div class="ttname"><a href="struct__SFILE__CREATE__MPQ.html#a2e861f6af56a959a5ca7c7adbe89ce37">_SFILE_CREATE_MPQ::cbSize</a></div><div class="ttdeci">DWORD cbSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00920">StormLib.h:920</a></div></div>
<div class="ttc" id="astruct__SFILE__CREATE__MPQ_html_a3d967c366baacbc621aa752ed32a3751"><div class="ttname"><a href="struct__SFILE__CREATE__MPQ.html#a3d967c366baacbc621aa752ed32a3751">_SFILE_CREATE_MPQ::dwSectorSize</a></div><div class="ttdeci">DWORD dwSectorSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00929">StormLib.h:929</a></div></div>
<div class="ttc" id="astruct__SFILE__CREATE__MPQ_html_a42d424e0654461277740fac26d34d442"><div class="ttname"><a href="struct__SFILE__CREATE__MPQ.html#a42d424e0654461277740fac26d34d442">_SFILE_CREATE_MPQ::dwFileFlags1</a></div><div class="ttdeci">DWORD dwFileFlags1</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00925">StormLib.h:925</a></div></div>
<div class="ttc" id="astruct__SFILE__CREATE__MPQ_html_a45c20ded0f59884ca1452b3f43337622"><div class="ttname"><a href="struct__SFILE__CREATE__MPQ.html#a45c20ded0f59884ca1452b3f43337622">_SFILE_CREATE_MPQ::dwMpqVersion</a></div><div class="ttdeci">DWORD dwMpqVersion</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00921">StormLib.h:921</a></div></div>
<div class="ttc" id="astruct__SFILE__CREATE__MPQ_html_a46f1fa8776f0c23327b6f48bd0631927"><div class="ttname"><a href="struct__SFILE__CREATE__MPQ.html#a46f1fa8776f0c23327b6f48bd0631927">_SFILE_CREATE_MPQ::dwAttrFlags</a></div><div class="ttdeci">DWORD dwAttrFlags</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00928">StormLib.h:928</a></div></div>
<div class="ttc" id="astruct__SFILE__CREATE__MPQ_html_a6a527a17447440fa3862df9e87e522c5"><div class="ttname"><a href="struct__SFILE__CREATE__MPQ.html#a6a527a17447440fa3862df9e87e522c5">_SFILE_CREATE_MPQ::cbUserData</a></div><div class="ttdeci">DWORD cbUserData</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00923">StormLib.h:923</a></div></div>
<div class="ttc" id="astruct__SFILE__CREATE__MPQ_html_ad3e941c308c10bc43ff86d280e4fb3e1"><div class="ttname"><a href="struct__SFILE__CREATE__MPQ.html#ad3e941c308c10bc43ff86d280e4fb3e1">_SFILE_CREATE_MPQ::pvUserData</a></div><div class="ttdeci">void * pvUserData</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00922">StormLib.h:922</a></div></div>
<div class="ttc" id="astruct__SFILE__CREATE__MPQ_html_af146b83571bae3e349b599536f66f270"><div class="ttname"><a href="struct__SFILE__CREATE__MPQ.html#af146b83571bae3e349b599536f66f270">_SFILE_CREATE_MPQ::dwFileFlags2</a></div><div class="ttdeci">DWORD dwFileFlags2</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00926">StormLib.h:926</a></div></div>
<div class="ttc" id="astruct__SFILE__CREATE__MPQ_html_af5f6d35f3f4beb6a6741bcf095a9d37d"><div class="ttname"><a href="struct__SFILE__CREATE__MPQ.html#af5f6d35f3f4beb6a6741bcf095a9d37d">_SFILE_CREATE_MPQ::dwFileFlags3</a></div><div class="ttdeci">DWORD dwFileFlags3</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00927">StormLib.h:927</a></div></div>
<div class="ttc" id="astruct__SFILE__CREATE__MPQ_html_afaa8856c329f8175c094c907e1660dad"><div class="ttname"><a href="struct__SFILE__CREATE__MPQ.html#afaa8856c329f8175c094c907e1660dad">_SFILE_CREATE_MPQ::dwMaxFileCount</a></div><div class="ttdeci">DWORD dwMaxFileCount</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00931">StormLib.h:931</a></div></div>
<div class="ttc" id="astruct__SFILE__FIND__DATA_html"><div class="ttname"><a href="struct__SFILE__FIND__DATA.html">_SFILE_FIND_DATA</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00903">StormLib.h:904</a></div></div>
<div class="ttc" id="astruct__SFILE__FIND__DATA_html_a0a74d2a35cd9465d77bc04b1f14e4f08"><div class="ttname"><a href="struct__SFILE__FIND__DATA.html#a0a74d2a35cd9465d77bc04b1f14e4f08">_SFILE_FIND_DATA::lcLocale</a></div><div class="ttdeci">LCID lcLocale</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00914">StormLib.h:914</a></div></div>
<div class="ttc" id="astruct__SFILE__FIND__DATA_html_a13db68938ced83dd70531c784efc52e6"><div class="ttname"><a href="struct__SFILE__FIND__DATA.html#a13db68938ced83dd70531c784efc52e6">_SFILE_FIND_DATA::dwCompSize</a></div><div class="ttdeci">DWORD dwCompSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00911">StormLib.h:911</a></div></div>
<div class="ttc" id="astruct__SFILE__FIND__DATA_html_a29ea5967ac3e3ea1b26bf1d096a47bd8"><div class="ttname"><a href="struct__SFILE__FIND__DATA.html#a29ea5967ac3e3ea1b26bf1d096a47bd8">_SFILE_FIND_DATA::dwFileSize</a></div><div class="ttdeci">DWORD dwFileSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00909">StormLib.h:909</a></div></div>
<div class="ttc" id="astruct__SFILE__FIND__DATA_html_a49c3c9ed799f0d23ea79af3970f80d09"><div class="ttname"><a href="struct__SFILE__FIND__DATA.html#a49c3c9ed799f0d23ea79af3970f80d09">_SFILE_FIND_DATA::dwHashIndex</a></div><div class="ttdeci">DWORD dwHashIndex</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00907">StormLib.h:907</a></div></div>
<div class="ttc" id="astruct__SFILE__FIND__DATA_html_a4d88c2f67b387c39d908da51baf70314"><div class="ttname"><a href="struct__SFILE__FIND__DATA.html#a4d88c2f67b387c39d908da51baf70314">_SFILE_FIND_DATA::dwFileTimeLo</a></div><div class="ttdeci">DWORD dwFileTimeLo</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00912">StormLib.h:912</a></div></div>
<div class="ttc" id="astruct__SFILE__FIND__DATA_html_a55ae9a234febc8889922d7f5c249fc45"><div class="ttname"><a href="struct__SFILE__FIND__DATA.html#a55ae9a234febc8889922d7f5c249fc45">_SFILE_FIND_DATA::dwFileFlags</a></div><div class="ttdeci">DWORD dwFileFlags</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00910">StormLib.h:910</a></div></div>
<div class="ttc" id="astruct__SFILE__FIND__DATA_html_a9ae6998520897bcbbb9fd9971bce2d1e"><div class="ttname"><a href="struct__SFILE__FIND__DATA.html#a9ae6998520897bcbbb9fd9971bce2d1e">_SFILE_FIND_DATA::cFileName</a></div><div class="ttdeci">char cFileName[MAX_PATH]</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00905">StormLib.h:905</a></div></div>
<div class="ttc" id="astruct__SFILE__FIND__DATA_html_ab1c026d07534f257c1e2534f535aea61"><div class="ttname"><a href="struct__SFILE__FIND__DATA.html#ab1c026d07534f257c1e2534f535aea61">_SFILE_FIND_DATA::dwFileTimeHi</a></div><div class="ttdeci">DWORD dwFileTimeHi</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00913">StormLib.h:913</a></div></div>
<div class="ttc" id="astruct__SFILE__FIND__DATA_html_acad9ea60b6c9fd4f11b2d61a7c0f6c44"><div class="ttname"><a href="struct__SFILE__FIND__DATA.html#acad9ea60b6c9fd4f11b2d61a7c0f6c44">_SFILE_FIND_DATA::szPlainName</a></div><div class="ttdeci">char * szPlainName</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00906">StormLib.h:906</a></div></div>
<div class="ttc" id="astruct__SFILE__FIND__DATA_html_aceb44de563a1ba438b152c907f221e7e"><div class="ttname"><a href="struct__SFILE__FIND__DATA.html#aceb44de563a1ba438b152c907f221e7e">_SFILE_FIND_DATA::dwBlockIndex</a></div><div class="ttdeci">DWORD dwBlockIndex</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00908">StormLib.h:908</a></div></div>
<div class="ttc" id="astruct__SFILE__MARKERS_html"><div class="ttname"><a href="struct__SFILE__MARKERS.html">_SFILE_MARKERS</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00935">StormLib.h:936</a></div></div>
<div class="ttc" id="astruct__SFILE__MARKERS_html_a588c375175cc519a50e8c742014a3354"><div class="ttname"><a href="struct__SFILE__MARKERS.html#a588c375175cc519a50e8c742014a3354">_SFILE_MARKERS::szHashTableKey</a></div><div class="ttdeci">const char * szHashTableKey</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00939">StormLib.h:939</a></div></div>
<div class="ttc" id="astruct__SFILE__MARKERS_html_a8904db4da3c2afe15ea58abf5fa2c81d"><div class="ttname"><a href="struct__SFILE__MARKERS.html#a8904db4da3c2afe15ea58abf5fa2c81d">_SFILE_MARKERS::dwSize</a></div><div class="ttdeci">DWORD dwSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00937">StormLib.h:937</a></div></div>
<div class="ttc" id="astruct__SFILE__MARKERS_html_af259523d1f424593de2cd1c4225e93a9"><div class="ttname"><a href="struct__SFILE__MARKERS.html#af259523d1f424593de2cd1c4225e93a9">_SFILE_MARKERS::dwSignature</a></div><div class="ttdeci">DWORD dwSignature</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00938">StormLib.h:938</a></div></div>
<div class="ttc" id="astruct__SFILE__MARKERS_html_afe165fe9d185f2cb6c7e6351326ebdee"><div class="ttname"><a href="struct__SFILE__MARKERS.html#afe165fe9d185f2cb6c7e6351326ebdee">_SFILE_MARKERS::szBlockTableKey</a></div><div class="ttdeci">const char * szBlockTableKey</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00940">StormLib.h:940</a></div></div>
<div class="ttc" id="astruct__TFileEntry_html"><div class="ttname"><a href="struct__TFileEntry.html">_TFileEntry</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00686">StormLib.h:687</a></div></div>
<div class="ttc" id="astruct__TFileEntry_html_a06fcb7c74ebf45703eed4543dc1593fc"><div class="ttname"><a href="struct__TFileEntry.html#a06fcb7c74ebf45703eed4543dc1593fc">_TFileEntry::dwCrc32</a></div><div class="ttdeci">DWORD dwCrc32</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00694">StormLib.h:694</a></div></div>
<div class="ttc" id="astruct__TFileEntry_html_a0813b376166461382eb1e86784cdc8cc"><div class="ttname"><a href="struct__TFileEntry.html#a0813b376166461382eb1e86784cdc8cc">_TFileEntry::FileNameHash</a></div><div class="ttdeci">ULONGLONG FileNameHash</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00688">StormLib.h:688</a></div></div>
<div class="ttc" id="astruct__TFileEntry_html_a4aa00b411c027d71b59b61d31025397a"><div class="ttname"><a href="struct__TFileEntry.html#a4aa00b411c027d71b59b61d31025397a">_TFileEntry::ByteOffset</a></div><div class="ttdeci">ULONGLONG ByteOffset</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00689">StormLib.h:689</a></div></div>
<div class="ttc" id="astruct__TFileEntry_html_a642c4c57f60732e0daef2343acd443f5"><div class="ttname"><a href="struct__TFileEntry.html#a642c4c57f60732e0daef2343acd443f5">_TFileEntry::FileTime</a></div><div class="ttdeci">ULONGLONG FileTime</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00690">StormLib.h:690</a></div></div>
<div class="ttc" id="astruct__TFileEntry_html_aa00a675cf553d128b1e3b5fdd9cdca0e"><div class="ttname"><a href="struct__TFileEntry.html#aa00a675cf553d128b1e3b5fdd9cdca0e">_TFileEntry::szFileName</a></div><div class="ttdeci">char * szFileName</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00696">StormLib.h:696</a></div></div>
<div class="ttc" id="astruct__TFileEntry_html_aac45e6e4f80c412a0204abd334bc7f9b"><div class="ttname"><a href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">_TFileEntry::dwFlags</a></div><div class="ttdeci">DWORD dwFlags</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00693">StormLib.h:693</a></div></div>
<div class="ttc" id="astruct__TFileEntry_html_ab1d1decddc482561a60752168238a9c4"><div class="ttname"><a href="struct__TFileEntry.html#ab1d1decddc482561a60752168238a9c4">_TFileEntry::md5</a></div><div class="ttdeci">BYTE md5[MD5_DIGEST_SIZE]</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00695">StormLib.h:695</a></div></div>
<div class="ttc" id="astruct__TFileEntry_html_ac1d03293cafba09c581d1ce3b20cce11"><div class="ttname"><a href="struct__TFileEntry.html#ac1d03293cafba09c581d1ce3b20cce11">_TFileEntry::dwFileSize</a></div><div class="ttdeci">DWORD dwFileSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00691">StormLib.h:691</a></div></div>
<div class="ttc" id="astruct__TFileEntry_html_af0800e75c1cfe47b9fdab963b33c003d"><div class="ttname"><a href="struct__TFileEntry.html#af0800e75c1cfe47b9fdab963b33c003d">_TFileEntry::dwCmpSize</a></div><div class="ttdeci">DWORD dwCmpSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00692">StormLib.h:692</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html"><div class="ttname"><a href="struct__TMPQArchive.html">_TMPQArchive</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00816">StormLib.h:817</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a00401a81d010165ab945fcf29a1d686e"><div class="ttname"><a href="struct__TMPQArchive.html#a00401a81d010165ab945fcf29a1d686e">_TMPQArchive::CompactTotalBytes</a></div><div class="ttdeci">ULONGLONG CompactTotalBytes</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00858">StormLib.h:858</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a146dee965bc1cb34e569e3637b6e5c82"><div class="ttname"><a href="struct__TMPQArchive.html#a146dee965bc1cb34e569e3637b6e5c82">_TMPQArchive::MpqPos</a></div><div class="ttdeci">ULONGLONG MpqPos</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00821">StormLib.h:821</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a1bb84be2781abcca46fd31c542260430"><div class="ttname"><a href="struct__TMPQArchive.html#a1bb84be2781abcca46fd31c542260430">_TMPQArchive::pvAddFileUserData</a></div><div class="ttdeci">void * pvAddFileUserData</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00854">StormLib.h:854</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a36bdadf2b67eb194aa5c7ef1399e02b8"><div class="ttname"><a href="struct__TMPQArchive.html#a36bdadf2b67eb194aa5c7ef1399e02b8">_TMPQArchive::CompactBytesProcessed</a></div><div class="ttdeci">ULONGLONG CompactBytesProcessed</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00857">StormLib.h:857</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a3dac14b565b2d617f5f3e65db2d7fa05"><div class="ttname"><a href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">_TMPQArchive::pStream</a></div><div class="ttdeci">TFileStream * pStream</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00818">StormLib.h:818</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a3f3661fec3d00a1e93ba3c2212a2e703"><div class="ttname"><a href="struct__TMPQArchive.html#a3f3661fec3d00a1e93ba3c2212a2e703">_TMPQArchive::dwSectorSize</a></div><div class="ttdeci">DWORD dwSectorSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00843">StormLib.h:843</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a43334c6a178fc02023a7412d9319136c"><div class="ttname"><a href="struct__TMPQArchive.html#a43334c6a178fc02023a7412d9319136c">_TMPQArchive::UserDataPos</a></div><div class="ttdeci">ULONGLONG UserDataPos</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00820">StormLib.h:820</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a4f1bf356f8e6dd8d3ec1faeec821aa6c"><div class="ttname"><a href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">_TMPQArchive::dwFlags</a></div><div class="ttdeci">DWORD dwFlags</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00850">StormLib.h:850</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a5075170ac14f68563fd5548ad332fe38"><div class="ttname"><a href="struct__TMPQArchive.html#a5075170ac14f68563fd5548ad332fe38">_TMPQArchive::pfnHashString</a></div><div class="ttdeci">HASH_STRING pfnHashString</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00833">StormLib.h:833</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a515bd4fb99f5bacb557725b71c3ee3b2"><div class="ttname"><a href="struct__TMPQArchive.html#a515bd4fb99f5bacb557725b71c3ee3b2">_TMPQArchive::HeaderData</a></div><div class="ttdeci">DWORD HeaderData[MPQ_HEADER_DWORDS]</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00836">StormLib.h:836</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a6e455bdb9e81a614ed10d954ee846293"><div class="ttname"><a href="struct__TMPQArchive.html#a6e455bdb9e81a614ed10d954ee846293">_TMPQArchive::haBase</a></div><div class="ttdeci">struct _TMPQArchive * haBase</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00825">StormLib.h:825</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a7416d94c8570654cf371c4f265735a57"><div class="ttname"><a href="struct__TMPQArchive.html#a7416d94c8570654cf371c4f265735a57">_TMPQArchive::dwBETBlockSize</a></div><div class="ttdeci">DWORD dwBETBlockSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00839">StormLib.h:839</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a751b7e69dec82e5c9657080c8148e5e3"><div class="ttname"><a href="struct__TMPQArchive.html#a751b7e69dec82e5c9657080c8148e5e3">_TMPQArchive::pPatchPrefix</a></div><div class="ttdeci">TMPQNamePrefix * pPatchPrefix</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00826">StormLib.h:826</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a7583a5113bdd4a857a71bbd92c86eb6e"><div class="ttname"><a href="struct__TMPQArchive.html#a7583a5113bdd4a857a71bbd92c86eb6e">_TMPQArchive::pUserData</a></div><div class="ttdeci">TMPQUserData * pUserData</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00828">StormLib.h:828</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a77480124f58b4f0314768510471cf62d"><div class="ttname"><a href="struct__TMPQArchive.html#a77480124f58b4f0314768510471cf62d">_TMPQArchive::pfnCompactCB</a></div><div class="ttdeci">SFILE_COMPACT_CALLBACK pfnCompactCB</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00856">StormLib.h:856</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a82a7283606d9775df50cb1c683280db1"><div class="ttname"><a href="struct__TMPQArchive.html#a82a7283606d9775df50cb1c683280db1">_TMPQArchive::pFileTable</a></div><div class="ttdeci">TFileEntry * pFileTable</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00832">StormLib.h:832</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a870f83350a4a4fa805ee3858ea4bd7f5"><div class="ttname"><a href="struct__TMPQArchive.html#a870f83350a4a4fa805ee3858ea4bd7f5">_TMPQArchive::dwHETBlockSize</a></div><div class="ttdeci">DWORD dwHETBlockSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00838">StormLib.h:838</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a964afcb85acb567a58ef4066b579fd51"><div class="ttname"><a href="struct__TMPQArchive.html#a964afcb85acb567a58ef4066b579fd51">_TMPQArchive::pHetTable</a></div><div class="ttdeci">TMPQHetTable * pHetTable</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00831">StormLib.h:831</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a98a7c7bef18769c1ff4a9ea917a4e4a4"><div class="ttname"><a href="struct__TMPQArchive.html#a98a7c7bef18769c1ff4a9ea917a4e4a4">_TMPQArchive::FileSize</a></div><div class="ttdeci">ULONGLONG FileSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00822">StormLib.h:822</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_a9eae90efbf3e52b5bb0b400eb157547e"><div class="ttname"><a href="struct__TMPQArchive.html#a9eae90efbf3e52b5bb0b400eb157547e">_TMPQArchive::dwReservedFiles</a></div><div class="ttdeci">DWORD dwReservedFiles</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00842">StormLib.h:842</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_aa2646402b5718a74c1908745ea6a46cd"><div class="ttname"><a href="struct__TMPQArchive.html#aa2646402b5718a74c1908745ea6a46cd">_TMPQArchive::haPatch</a></div><div class="ttdeci">struct _TMPQArchive * haPatch</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00824">StormLib.h:824</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_aa67fc1ad0359ad11f58c31187100a4f7"><div class="ttname"><a href="struct__TMPQArchive.html#aa67fc1ad0359ad11f58c31187100a4f7">_TMPQArchive::pvCompactUserData</a></div><div class="ttdeci">void * pvCompactUserData</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00859">StormLib.h:859</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_aaa60e129a442934c74e6097c59b8b00f"><div class="ttname"><a href="struct__TMPQArchive.html#aaa60e129a442934c74e6097c59b8b00f">_TMPQArchive::dwRealHashTableSize</a></div><div class="ttdeci">DWORD dwRealHashTableSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00849">StormLib.h:849</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_aae2b6f26cfc5d09d2fc734947c82aabe"><div class="ttname"><a href="struct__TMPQArchive.html#aae2b6f26cfc5d09d2fc734947c82aabe">_TMPQArchive::dwFileTableSize</a></div><div class="ttdeci">DWORD dwFileTableSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00841">StormLib.h:841</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_ad2519a9b6b0657a19176bbe5d2e5651e"><div class="ttname"><a href="struct__TMPQArchive.html#ad2519a9b6b0657a19176bbe5d2e5651e">_TMPQArchive::dwAttrFlags</a></div><div class="ttdeci">DWORD dwAttrFlags</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00847">StormLib.h:847</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_ad3ec9127fcae2cd440073adbc3f21fba"><div class="ttname"><a href="struct__TMPQArchive.html#ad3ec9127fcae2cd440073adbc3f21fba">_TMPQArchive::pHashTable</a></div><div class="ttdeci">TMPQHash * pHashTable</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00830">StormLib.h:830</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_ad49b63dce2ee9c6f774c69f22732c8b7"><div class="ttname"><a href="struct__TMPQArchive.html#ad49b63dce2ee9c6f774c69f22732c8b7">_TMPQArchive::dwValidFileFlags</a></div><div class="ttdeci">DWORD dwValidFileFlags</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00848">StormLib.h:848</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_adc3931555ea4e7dd2b1e4858eee48c0a"><div class="ttname"><a href="struct__TMPQArchive.html#adc3931555ea4e7dd2b1e4858eee48c0a">_TMPQArchive::UserData</a></div><div class="ttdeci">TMPQUserData UserData</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00835">StormLib.h:835</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_adfa7731ad54c7b934ed2e8f590b41958"><div class="ttname"><a href="struct__TMPQArchive.html#adfa7731ad54c7b934ed2e8f590b41958">_TMPQArchive::dwSubType</a></div><div class="ttdeci">DWORD dwSubType</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00851">StormLib.h:851</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_ae2a681db2717763a2908943706839a61"><div class="ttname"><a href="struct__TMPQArchive.html#ae2a681db2717763a2908943706839a61">_TMPQArchive::dwFileFlags2</a></div><div class="ttdeci">DWORD dwFileFlags2</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00845">StormLib.h:845</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_ae523b14433e4a9071469133f67c3ac52"><div class="ttname"><a href="struct__TMPQArchive.html#ae523b14433e4a9071469133f67c3ac52">_TMPQArchive::dwFileFlags3</a></div><div class="ttdeci">DWORD dwFileFlags3</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00846">StormLib.h:846</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_ae614bf73548639003f8243f437ba9624"><div class="ttname"><a href="struct__TMPQArchive.html#ae614bf73548639003f8243f437ba9624">_TMPQArchive::pfnAddFileCB</a></div><div class="ttdeci">SFILE_ADDFILE_CALLBACK pfnAddFileCB</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00853">StormLib.h:853</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_aefc10ddd33bc3158c683cba1eab71c38"><div class="ttname"><a href="struct__TMPQArchive.html#aefc10ddd33bc3158c683cba1eab71c38">_TMPQArchive::dwMaxFileCount</a></div><div class="ttdeci">DWORD dwMaxFileCount</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00840">StormLib.h:840</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_af277e7bdab70f04a3019a18ef37a701a"><div class="ttname"><a href="struct__TMPQArchive.html#af277e7bdab70f04a3019a18ef37a701a">_TMPQArchive::dwFileFlags1</a></div><div class="ttdeci">DWORD dwFileFlags1</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00844">StormLib.h:844</a></div></div>
<div class="ttc" id="astruct__TMPQArchive_html_afb1795fbecd5336fe21770ed1f76a33f"><div class="ttname"><a href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">_TMPQArchive::pHeader</a></div><div class="ttdeci">TMPQHeader * pHeader</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00829">StormLib.h:829</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html"><div class="ttname"><a href="struct__TMPQBetHeader.html">_TMPQBetHeader</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00728">StormLib.h:729</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a0ab3bd38b9b5d5e134b72aa65952b03d"><div class="ttname"><a href="struct__TMPQBetHeader.html#a0ab3bd38b9b5d5e134b72aa65952b03d">_TMPQBetHeader::dwBitIndex_FileSize</a></div><div class="ttdeci">DWORD dwBitIndex_FileSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00737">StormLib.h:737</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a1472dc6aba761ab36bc22eafa555e2fb"><div class="ttname"><a href="struct__TMPQBetHeader.html#a1472dc6aba761ab36bc22eafa555e2fb">_TMPQBetHeader::dwBitIndex_FilePos</a></div><div class="ttdeci">DWORD dwBitIndex_FilePos</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00736">StormLib.h:736</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a1aafb4eb559ea6a9c554b618e40977a0"><div class="ttname"><a href="struct__TMPQBetHeader.html#a1aafb4eb559ea6a9c554b618e40977a0">_TMPQBetHeader::dwBitCount_CmpSize</a></div><div class="ttdeci">DWORD dwBitCount_CmpSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00743">StormLib.h:743</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a2133dda67e0c52a1f38310b6b2f0320b"><div class="ttname"><a href="struct__TMPQBetHeader.html#a2133dda67e0c52a1f38310b6b2f0320b">_TMPQBetHeader::dwBitIndex_Unknown</a></div><div class="ttdeci">DWORD dwBitIndex_Unknown</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00740">StormLib.h:740</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a2682616c3545c6f8065eb6d8b03fa19d"><div class="ttname"><a href="struct__TMPQBetHeader.html#a2682616c3545c6f8065eb6d8b03fa19d">_TMPQBetHeader::dwBitCount_FlagIndex</a></div><div class="ttdeci">DWORD dwBitCount_FlagIndex</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00744">StormLib.h:744</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a3f2fc842f62b63f5373d6fc792911ae5"><div class="ttname"><a href="struct__TMPQBetHeader.html#a3f2fc842f62b63f5373d6fc792911ae5">_TMPQBetHeader::dwBitTotal_NameHash2</a></div><div class="ttdeci">DWORD dwBitTotal_NameHash2</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00746">StormLib.h:746</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a41c718e0dd2c3301ac16438f87c47ed3"><div class="ttname"><a href="struct__TMPQBetHeader.html#a41c718e0dd2c3301ac16438f87c47ed3">_TMPQBetHeader::dwEntryCount</a></div><div class="ttdeci">DWORD dwEntryCount</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00733">StormLib.h:733</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a479473ff6857586c8476fe2924ea0f42"><div class="ttname"><a href="struct__TMPQBetHeader.html#a479473ff6857586c8476fe2924ea0f42">_TMPQBetHeader::dwBitCount_FileSize</a></div><div class="ttdeci">DWORD dwBitCount_FileSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00742">StormLib.h:742</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a564af4977dac0c03a44b99fe622ce25d"><div class="ttname"><a href="struct__TMPQBetHeader.html#a564af4977dac0c03a44b99fe622ce25d">_TMPQBetHeader::dwBitCount_Unknown</a></div><div class="ttdeci">DWORD dwBitCount_Unknown</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00745">StormLib.h:745</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a56acf59fff9d287a1e46ed8faaa20e5e"><div class="ttname"><a href="struct__TMPQBetHeader.html#a56acf59fff9d287a1e46ed8faaa20e5e">_TMPQBetHeader::dwBitIndex_FlagIndex</a></div><div class="ttdeci">DWORD dwBitIndex_FlagIndex</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00739">StormLib.h:739</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a6553e272cc50294e5a2c3d28a11d8f7d"><div class="ttname"><a href="struct__TMPQBetHeader.html#a6553e272cc50294e5a2c3d28a11d8f7d">_TMPQBetHeader::ExtHdr</a></div><div class="ttdeci">TMPQExtHeader ExtHdr</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00730">StormLib.h:730</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a7aa87ddb5653b9a5522a2ef1a77f548b"><div class="ttname"><a href="struct__TMPQBetHeader.html#a7aa87ddb5653b9a5522a2ef1a77f548b">_TMPQBetHeader::dwBitExtra_NameHash2</a></div><div class="ttdeci">DWORD dwBitExtra_NameHash2</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00747">StormLib.h:747</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a7efe69205250b2ca05a315600bc934b7"><div class="ttname"><a href="struct__TMPQBetHeader.html#a7efe69205250b2ca05a315600bc934b7">_TMPQBetHeader::dwBitCount_FilePos</a></div><div class="ttdeci">DWORD dwBitCount_FilePos</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00741">StormLib.h:741</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a84be7e0ef64caf29adebdbb0f1a484b9"><div class="ttname"><a href="struct__TMPQBetHeader.html#a84be7e0ef64caf29adebdbb0f1a484b9">_TMPQBetHeader::dwFlagCount</a></div><div class="ttdeci">DWORD dwFlagCount</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00750">StormLib.h:750</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a878139d8289bee10e485c678599e3bf7"><div class="ttname"><a href="struct__TMPQBetHeader.html#a878139d8289bee10e485c678599e3bf7">_TMPQBetHeader::dwBitIndex_CmpSize</a></div><div class="ttdeci">DWORD dwBitIndex_CmpSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00738">StormLib.h:738</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a8a40f51a8979f1da34088bab7a1188ef"><div class="ttname"><a href="struct__TMPQBetHeader.html#a8a40f51a8979f1da34088bab7a1188ef">_TMPQBetHeader::dwBitCount_NameHash2</a></div><div class="ttdeci">DWORD dwBitCount_NameHash2</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00748">StormLib.h:748</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a959598371e5300f0d6720e5a5d6162b1"><div class="ttname"><a href="struct__TMPQBetHeader.html#a959598371e5300f0d6720e5a5d6162b1">_TMPQBetHeader::dwTableEntrySize</a></div><div class="ttdeci">DWORD dwTableEntrySize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00735">StormLib.h:735</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_a9fe0d26ac67b3dc0d012b10063bec6ba"><div class="ttname"><a href="struct__TMPQBetHeader.html#a9fe0d26ac67b3dc0d012b10063bec6ba">_TMPQBetHeader::dwUnknown08</a></div><div class="ttdeci">DWORD dwUnknown08</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00734">StormLib.h:734</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_aa85e220f76f26f1f407ceb5dda854929"><div class="ttname"><a href="struct__TMPQBetHeader.html#aa85e220f76f26f1f407ceb5dda854929">_TMPQBetHeader::dwNameHashArraySize</a></div><div class="ttdeci">DWORD dwNameHashArraySize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00749">StormLib.h:749</a></div></div>
<div class="ttc" id="astruct__TMPQBetHeader_html_ae43cc1bb24c43f2827644d1802667b5d"><div class="ttname"><a href="struct__TMPQBetHeader.html#ae43cc1bb24c43f2827644d1802667b5d">_TMPQBetHeader::dwTableSize</a></div><div class="ttdeci">DWORD dwTableSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00732">StormLib.h:732</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html"><div class="ttname"><a href="struct__TMPQBetTable.html">_TMPQBetTable</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00771">StormLib.h:772</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_a09b52e501e2c30419d7555e10981c0f3"><div class="ttname"><a href="struct__TMPQBetTable.html#a09b52e501e2c30419d7555e10981c0f3">_TMPQBetTable::dwBitIndex_FlagIndex</a></div><div class="ttdeci">DWORD dwBitIndex_FlagIndex</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00781">StormLib.h:781</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_a434d0b14a2c641742ffb76d716902371"><div class="ttname"><a href="struct__TMPQBetTable.html#a434d0b14a2c641742ffb76d716902371">_TMPQBetTable::pNameHashes</a></div><div class="ttdeci">TMPQBits * pNameHashes</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00773">StormLib.h:773</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_a4673f19f0bb126847be370849743b7f1"><div class="ttname"><a href="struct__TMPQBetTable.html#a4673f19f0bb126847be370849743b7f1">_TMPQBetTable::dwFlagCount</a></div><div class="ttdeci">DWORD dwFlagCount</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00792">StormLib.h:792</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_a4e304351219cbc19f9116994d3f6e076"><div class="ttname"><a href="struct__TMPQBetTable.html#a4e304351219cbc19f9116994d3f6e076">_TMPQBetTable::dwBitIndex_Unknown</a></div><div class="ttdeci">DWORD dwBitIndex_Unknown</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00782">StormLib.h:782</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_a577b3d75ba0d567ec8f9cd494469eafb"><div class="ttname"><a href="struct__TMPQBetTable.html#a577b3d75ba0d567ec8f9cd494469eafb">_TMPQBetTable::dwBitTotal_NameHash2</a></div><div class="ttdeci">DWORD dwBitTotal_NameHash2</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00788">StormLib.h:788</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_a5d2fabd3f7d394831d3ea346ac459b10"><div class="ttname"><a href="struct__TMPQBetTable.html#a5d2fabd3f7d394831d3ea346ac459b10">_TMPQBetTable::dwBitCount_CmpSize</a></div><div class="ttdeci">DWORD dwBitCount_CmpSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00785">StormLib.h:785</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_a66a80bba649704c56659f38ba249ec6c"><div class="ttname"><a href="struct__TMPQBetTable.html#a66a80bba649704c56659f38ba249ec6c">_TMPQBetTable::dwEntryCount</a></div><div class="ttdeci">DWORD dwEntryCount</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00791">StormLib.h:791</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_a6e3f96f932ff9f63f01806fcabfcdd84"><div class="ttname"><a href="struct__TMPQBetTable.html#a6e3f96f932ff9f63f01806fcabfcdd84">_TMPQBetTable::dwBitCount_FlagIndex</a></div><div class="ttdeci">DWORD dwBitCount_FlagIndex</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00786">StormLib.h:786</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_a88f9182086767fcdd5ae3926f4034005"><div class="ttname"><a href="struct__TMPQBetTable.html#a88f9182086767fcdd5ae3926f4034005">_TMPQBetTable::dwTableEntrySize</a></div><div class="ttdeci">DWORD dwTableEntrySize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00777">StormLib.h:777</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_a94ddd806b5eaf4473d8b4cd36f2f06da"><div class="ttname"><a href="struct__TMPQBetTable.html#a94ddd806b5eaf4473d8b4cd36f2f06da">_TMPQBetTable::dwBitCount_FileSize</a></div><div class="ttdeci">DWORD dwBitCount_FileSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00784">StormLib.h:784</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_aacc4ba36bd2ca4224a94eb7dee860ab9"><div class="ttname"><a href="struct__TMPQBetTable.html#aacc4ba36bd2ca4224a94eb7dee860ab9">_TMPQBetTable::dwBitIndex_FilePos</a></div><div class="ttdeci">DWORD dwBitIndex_FilePos</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00778">StormLib.h:778</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_ab67de6fee5720fd99605c430d622d502"><div class="ttname"><a href="struct__TMPQBetTable.html#ab67de6fee5720fd99605c430d622d502">_TMPQBetTable::pFileTable</a></div><div class="ttdeci">TMPQBits * pFileTable</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00774">StormLib.h:774</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_ac8c14b6ef6e32aff186e417091735634"><div class="ttname"><a href="struct__TMPQBetTable.html#ac8c14b6ef6e32aff186e417091735634">_TMPQBetTable::dwBitCount_FilePos</a></div><div class="ttdeci">DWORD dwBitCount_FilePos</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00783">StormLib.h:783</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_acc49c58de74d42be5043e5ddcbad24a7"><div class="ttname"><a href="struct__TMPQBetTable.html#acc49c58de74d42be5043e5ddcbad24a7">_TMPQBetTable::dwBitIndex_CmpSize</a></div><div class="ttdeci">DWORD dwBitIndex_CmpSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00780">StormLib.h:780</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_ad1b572faf10140931aaccd7871c5b2a3"><div class="ttname"><a href="struct__TMPQBetTable.html#ad1b572faf10140931aaccd7871c5b2a3">_TMPQBetTable::pFileFlags</a></div><div class="ttdeci">LPDWORD pFileFlags</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00775">StormLib.h:775</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_ad48286a9615f15ed471a253c94e2d312"><div class="ttname"><a href="struct__TMPQBetTable.html#ad48286a9615f15ed471a253c94e2d312">_TMPQBetTable::dwBitIndex_FileSize</a></div><div class="ttdeci">DWORD dwBitIndex_FileSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00779">StormLib.h:779</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_aefd753201b79225c4010bf2c65b9248c"><div class="ttname"><a href="struct__TMPQBetTable.html#aefd753201b79225c4010bf2c65b9248c">_TMPQBetTable::dwBitCount_Unknown</a></div><div class="ttdeci">DWORD dwBitCount_Unknown</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00787">StormLib.h:787</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_af2869eabbac4663a209bc5769be145aa"><div class="ttname"><a href="struct__TMPQBetTable.html#af2869eabbac4663a209bc5769be145aa">_TMPQBetTable::dwBitExtra_NameHash2</a></div><div class="ttdeci">DWORD dwBitExtra_NameHash2</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00789">StormLib.h:789</a></div></div>
<div class="ttc" id="astruct__TMPQBetTable_html_af5375d55ffabe40391a6376515205c03"><div class="ttname"><a href="struct__TMPQBetTable.html#af5375d55ffabe40391a6376515205c03">_TMPQBetTable::dwBitCount_NameHash2</a></div><div class="ttdeci">DWORD dwBitCount_NameHash2</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00790">StormLib.h:790</a></div></div>
<div class="ttc" id="astruct__TMPQBlock_html"><div class="ttname"><a href="struct__TMPQBlock.html">_TMPQBlock</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00656">StormLib.h:657</a></div></div>
<div class="ttc" id="astruct__TMPQBlock_html_a01ac2a8413155b8cfeaf70451cd957c6"><div class="ttname"><a href="struct__TMPQBlock.html#a01ac2a8413155b8cfeaf70451cd957c6">_TMPQBlock::dwFlags</a></div><div class="ttdeci">DWORD dwFlags</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00669">StormLib.h:669</a></div></div>
<div class="ttc" id="astruct__TMPQBlock_html_ab91379a7a2d1e9c47221406b7342b41e"><div class="ttname"><a href="struct__TMPQBlock.html#ab91379a7a2d1e9c47221406b7342b41e">_TMPQBlock::dwFSize</a></div><div class="ttdeci">DWORD dwFSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00666">StormLib.h:666</a></div></div>
<div class="ttc" id="astruct__TMPQBlock_html_ab975905909e2e0e7d38cc7d2379c5167"><div class="ttname"><a href="struct__TMPQBlock.html#ab975905909e2e0e7d38cc7d2379c5167">_TMPQBlock::dwFilePos</a></div><div class="ttdeci">DWORD dwFilePos</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00659">StormLib.h:659</a></div></div>
<div class="ttc" id="astruct__TMPQBlock_html_acac231ce29cb58e76c6394787e318548"><div class="ttname"><a href="struct__TMPQBlock.html#acac231ce29cb58e76c6394787e318548">_TMPQBlock::dwCSize</a></div><div class="ttdeci">DWORD dwCSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00662">StormLib.h:662</a></div></div>
<div class="ttc" id="astruct__TMPQExtHeader_html"><div class="ttname"><a href="struct__TMPQExtHeader.html">_TMPQExtHeader</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00700">StormLib.h:701</a></div></div>
<div class="ttc" id="astruct__TMPQExtHeader_html_a1ba930aaf941619d6e7fea914d42c680"><div class="ttname"><a href="struct__TMPQExtHeader.html#a1ba930aaf941619d6e7fea914d42c680">_TMPQExtHeader::dwSignature</a></div><div class="ttdeci">DWORD dwSignature</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00702">StormLib.h:702</a></div></div>
<div class="ttc" id="astruct__TMPQExtHeader_html_a4a08afaf17aa96f9902f9c1d57d585de"><div class="ttname"><a href="struct__TMPQExtHeader.html#a4a08afaf17aa96f9902f9c1d57d585de">_TMPQExtHeader::dwVersion</a></div><div class="ttdeci">DWORD dwVersion</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00703">StormLib.h:703</a></div></div>
<div class="ttc" id="astruct__TMPQExtHeader_html_ab9eb2f6f05fc9177061a7a89e1eed4c5"><div class="ttname"><a href="struct__TMPQExtHeader.html#ab9eb2f6f05fc9177061a7a89e1eed4c5">_TMPQExtHeader::dwDataSize</a></div><div class="ttdeci">DWORD dwDataSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00704">StormLib.h:704</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html"><div class="ttname"><a href="struct__TMPQFile.html">_TMPQFile</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00863">StormLib.h:864</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a16220616feed0b396742fe1feecb4d21"><div class="ttname"><a href="struct__TMPQFile.html#a16220616feed0b396742fe1feecb4d21">_TMPQFile::dwCrc32</a></div><div class="ttdeci">DWORD dwCrc32</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00893">StormLib.h:893</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a1aa2c25c7ff34803ce1c5086fe3422a3"><div class="ttname"><a href="struct__TMPQFile.html#a1aa2c25c7ff34803ce1c5086fe3422a3">_TMPQFile::pPatchInfo</a></div><div class="ttdeci">TPatchInfo * pPatchInfo</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00878">StormLib.h:878</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a1c0d9aa0be96435b8032a9b7ce93a6e3"><div class="ttname"><a href="struct__TMPQFile.html#a1c0d9aa0be96435b8032a9b7ce93a6e3">_TMPQFile::hctx</a></div><div class="ttdeci">void * hctx</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00892">StormLib.h:892</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a1eeeacf708887722dd9c0114c06121dc"><div class="ttname"><a href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">_TMPQFile::pFileEntry</a></div><div class="ttdeci">TFileEntry * pFileEntry</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00868">StormLib.h:868</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a25acde42740bb870757bceb889bdaa25"><div class="ttname"><a href="struct__TMPQFile.html#a25acde42740bb870757bceb889bdaa25">_TMPQFile::dwSectorSize</a></div><div class="ttdeci">DWORD dwSectorSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00890">StormLib.h:890</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a300988418ccd5a80767b9d8fab012230"><div class="ttname"><a href="struct__TMPQFile.html#a300988418ccd5a80767b9d8fab012230">_TMPQFile::bLoadedSectorCRCs</a></div><div class="ttdeci">bool bLoadedSectorCRCs</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00897">StormLib.h:897</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a36f01d863578c4aafa5e2ff29c5f9f4f"><div class="ttname"><a href="struct__TMPQFile.html#a36f01d863578c4aafa5e2ff29c5f9f4f">_TMPQFile::SectorOffsets</a></div><div class="ttdeci">LPDWORD SectorOffsets</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00879">StormLib.h:879</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a3d3e5acf9eea51e01ee22aa9c64d75a8"><div class="ttname"><a href="struct__TMPQFile.html#a3d3e5acf9eea51e01ee22aa9c64d75a8">_TMPQFile::ha</a></div><div class="ttdeci">TMPQArchive * ha</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00866">StormLib.h:866</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a4cb27c05051717b4126465a9383ed482"><div class="ttname"><a href="struct__TMPQFile.html#a4cb27c05051717b4126465a9383ed482">_TMPQFile::dwPatchedFileSize</a></div><div class="ttdeci">DWORD dwPatchedFileSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00885">StormLib.h:885</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a4d5c4f69a005314e25206e1d4db79092"><div class="ttname"><a href="struct__TMPQFile.html#a4d5c4f69a005314e25206e1d4db79092">_TMPQFile::RawFilePos</a></div><div class="ttdeci">ULONGLONG RawFilePos</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00869">StormLib.h:869</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a65f617f2c58ff5cb394e72dab7758466"><div class="ttname"><a href="struct__TMPQFile.html#a65f617f2c58ff5cb394e72dab7758466">_TMPQFile::dwAddFileError</a></div><div class="ttdeci">DWORD dwAddFileError</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00895">StormLib.h:895</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a71eea3bbb14cc14292d50a9da9c9fc80"><div class="ttname"><a href="struct__TMPQFile.html#a71eea3bbb14cc14292d50a9da9c9fc80">_TMPQFile::dwSectorCount</a></div><div class="ttdeci">DWORD dwSectorCount</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00884">StormLib.h:884</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a78857e841d77f560e3a25360fb8967d8"><div class="ttname"><a href="struct__TMPQFile.html#a78857e841d77f560e3a25360fb8967d8">_TMPQFile::cbFileData</a></div><div class="ttdeci">DWORD cbFileData</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00882">StormLib.h:882</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a7c3ebe367c666981a04423d16c28ef2a"><div class="ttname"><a href="struct__TMPQFile.html#a7c3ebe367c666981a04423d16c28ef2a">_TMPQFile::bCheckSectorCRCs</a></div><div class="ttdeci">bool bCheckSectorCRCs</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00898">StormLib.h:898</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a7cc2d099a8ce390671c648a0f74c7ad5"><div class="ttname"><a href="struct__TMPQFile.html#a7cc2d099a8ce390671c648a0f74c7ad5">_TMPQFile::pbFileSector</a></div><div class="ttdeci">LPBYTE pbFileSector</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00888">StormLib.h:888</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a89a99d0fe6fa09e6749f6770db52077c"><div class="ttname"><a href="struct__TMPQFile.html#a89a99d0fe6fa09e6749f6770db52077c">_TMPQFile::pbFileData</a></div><div class="ttdeci">LPBYTE pbFileData</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00881">StormLib.h:881</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a8ab42b6a429f382c93bb79b413541ab6"><div class="ttname"><a href="struct__TMPQFile.html#a8ab42b6a429f382c93bb79b413541ab6">_TMPQFile::dwFileKey</a></div><div class="ttdeci">DWORD dwFileKey</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00872">StormLib.h:872</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a8c3a90e5d6abcbc6757bf7fdae94a5d9"><div class="ttname"><a href="struct__TMPQFile.html#a8c3a90e5d6abcbc6757bf7fdae94a5d9">_TMPQFile::pStream</a></div><div class="ttdeci">TFileStream * pStream</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00865">StormLib.h:865</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_a9956b4f56e1632d344d412cb9ce0b73d"><div class="ttname"><a href="struct__TMPQFile.html#a9956b4f56e1632d344d412cb9ce0b73d">_TMPQFile::dwMagic</a></div><div class="ttdeci">DWORD dwMagic</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00874">StormLib.h:874</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_aa3f1dd4380ab784cf651b5191573cc26"><div class="ttname"><a href="struct__TMPQFile.html#aa3f1dd4380ab784cf651b5191573cc26">_TMPQFile::MpqFilePos</a></div><div class="ttdeci">ULONGLONG MpqFilePos</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00870">StormLib.h:870</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_aab3e91574271fd7c8df43361fe74a4be"><div class="ttname"><a href="struct__TMPQFile.html#aab3e91574271fd7c8df43361fe74a4be">_TMPQFile::bIsWriteHandle</a></div><div class="ttdeci">bool bIsWriteHandle</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00899">StormLib.h:899</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_abb13213fd24c430f1910a8309fa13111"><div class="ttname"><a href="struct__TMPQFile.html#abb13213fd24c430f1910a8309fa13111">_TMPQFile::dwDataSize</a></div><div class="ttdeci">DWORD dwDataSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00886">StormLib.h:886</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_abf6d716abdd4200f5d8c521037426952"><div class="ttname"><a href="struct__TMPQFile.html#abf6d716abdd4200f5d8c521037426952">_TMPQFile::dwCompression0</a></div><div class="ttdeci">DWORD dwCompression0</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00883">StormLib.h:883</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_ac113ba3edb83c0e09883276ec25dcd8a"><div class="ttname"><a href="struct__TMPQFile.html#ac113ba3edb83c0e09883276ec25dcd8a">_TMPQFile::SectorChksums</a></div><div class="ttdeci">LPDWORD SectorChksums</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00880">StormLib.h:880</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_ac47b0ac68412a48e7f22fcb0257ba3b9"><div class="ttname"><a href="struct__TMPQFile.html#ac47b0ac68412a48e7f22fcb0257ba3b9">_TMPQFile::pHashEntry</a></div><div class="ttdeci">TMPQHash * pHashEntry</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00867">StormLib.h:867</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_acc7d222ba9bf68719f415e433dc8694c"><div class="ttname"><a href="struct__TMPQFile.html#acc7d222ba9bf68719f415e433dc8694c">_TMPQFile::dwFilePos</a></div><div class="ttdeci">DWORD dwFilePos</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00873">StormLib.h:873</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_adaf88b7bacc3eb11f3fe7b9fb53c73af"><div class="ttname"><a href="struct__TMPQFile.html#adaf88b7bacc3eb11f3fe7b9fb53c73af">_TMPQFile::dwHashIndex</a></div><div class="ttdeci">DWORD dwHashIndex</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00871">StormLib.h:871</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_add8833bffe289c96c79f641789a9743b"><div class="ttname"><a href="struct__TMPQFile.html#add8833bffe289c96c79f641789a9743b">_TMPQFile::hfPatch</a></div><div class="ttdeci">struct _TMPQFile * hfPatch</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00876">StormLib.h:876</a></div></div>
<div class="ttc" id="astruct__TMPQFile_html_afd85541201e196d52db12d77cfd87d4b"><div class="ttname"><a href="struct__TMPQFile.html#afd85541201e196d52db12d77cfd87d4b">_TMPQFile::dwSectorOffs</a></div><div class="ttdeci">DWORD dwSectorOffs</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00889">StormLib.h:889</a></div></div>
<div class="ttc" id="astruct__TMPQHash_html"><div class="ttname"><a href="struct__TMPQHash.html">_TMPQHash</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00619">StormLib.h:620</a></div></div>
<div class="ttc" id="astruct__TMPQHash_html_a01c0f1e07232d15b0d22d294ae7e8b25"><div class="ttname"><a href="struct__TMPQHash.html#a01c0f1e07232d15b0d22d294ae7e8b25">_TMPQHash::Reserved</a></div><div class="ttdeci">BYTE Reserved</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00636">StormLib.h:636</a></div></div>
<div class="ttc" id="astruct__TMPQHash_html_a696c4e84a6fe64e4307dac7e06a1c907"><div class="ttname"><a href="struct__TMPQHash.html#a696c4e84a6fe64e4307dac7e06a1c907">_TMPQHash::dwName1</a></div><div class="ttdeci">DWORD dwName1</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00622">StormLib.h:622</a></div></div>
<div class="ttc" id="astruct__TMPQHash_html_a739c78235438c89d2cd6e6c0d44402ce"><div class="ttname"><a href="struct__TMPQHash.html#a739c78235438c89d2cd6e6c0d44402ce">_TMPQHash::Locale</a></div><div class="ttdeci">USHORT Locale</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00631">StormLib.h:631</a></div></div>
<div class="ttc" id="astruct__TMPQHash_html_a8712ff7211834dfc7314c5d682866d88"><div class="ttname"><a href="struct__TMPQHash.html#a8712ff7211834dfc7314c5d682866d88">_TMPQHash::Platform</a></div><div class="ttdeci">BYTE Platform</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00635">StormLib.h:635</a></div></div>
<div class="ttc" id="astruct__TMPQHash_html_ad005ba7c70d25b34c5756db9ce29c304"><div class="ttname"><a href="struct__TMPQHash.html#ad005ba7c70d25b34c5756db9ce29c304">_TMPQHash::dwName2</a></div><div class="ttdeci">DWORD dwName2</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00625">StormLib.h:625</a></div></div>
<div class="ttc" id="astruct__TMPQHash_html_adf2f532039f9b29034477e04a71be3af"><div class="ttname"><a href="struct__TMPQHash.html#adf2f532039f9b29034477e04a71be3af">_TMPQHash::dwBlockIndex</a></div><div class="ttdeci">DWORD dwBlockIndex</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00652">StormLib.h:652</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html"><div class="ttname"><a href="struct__TMPQHeader.html">_TMPQHeader</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00528">StormLib.h:529</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a0885c9723a608bc143ebe2f4bbac15de"><div class="ttname"><a href="struct__TMPQHeader.html#a0885c9723a608bc143ebe2f4bbac15de">_TMPQHeader::dwRawChunkSize</a></div><div class="ttdeci">DWORD dwRawChunkSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00606">StormLib.h:606</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a15584082486c95a8a276f11db3d7d925"><div class="ttname"><a href="struct__TMPQHeader.html#a15584082486c95a8a276f11db3d7d925">_TMPQHeader::MD5_HashTable</a></div><div class="ttdeci">unsigned char MD5_HashTable[MD5_DIGEST_SIZE]</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00610">StormLib.h:610</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a1cbd9da1bd31e2b87e7c9f0a77d20c12"><div class="ttname"><a href="struct__TMPQHeader.html#a1cbd9da1bd31e2b87e7c9f0a77d20c12">_TMPQHeader::MD5_BetTable</a></div><div class="ttdeci">unsigned char MD5_BetTable[MD5_DIGEST_SIZE]</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00612">StormLib.h:612</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a2243a0f4cd3bfcf873062421b063781a"><div class="ttname"><a href="struct__TMPQHeader.html#a2243a0f4cd3bfcf873062421b063781a">_TMPQHeader::dwHeaderSize</a></div><div class="ttdeci">DWORD dwHeaderSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00534">StormLib.h:534</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a26c350cb08d35f2ffc4e75c380ed7901"><div class="ttname"><a href="struct__TMPQHeader.html#a26c350cb08d35f2ffc4e75c380ed7901">_TMPQHeader::wFormatVersion</a></div><div class="ttdeci">USHORT wFormatVersion</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00546">StormLib.h:546</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a2bde025233503af80b7adb206a2c7c5f"><div class="ttname"><a href="struct__TMPQHeader.html#a2bde025233503af80b7adb206a2c7c5f">_TMPQHeader::HetTablePos64</a></div><div class="ttdeci">ULONGLONG HetTablePos64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00585">StormLib.h:585</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a3e0f089c07641c31742d8003a018e4d9"><div class="ttname"><a href="struct__TMPQHeader.html#a3e0f089c07641c31742d8003a018e4d9">_TMPQHeader::BetTableSize64</a></div><div class="ttdeci">ULONGLONG BetTableSize64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00602">StormLib.h:602</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a41fd63853e752056e6928d90e76e2299"><div class="ttname"><a href="struct__TMPQHeader.html#a41fd63853e752056e6928d90e76e2299">_TMPQHeader::ArchiveSize64</a></div><div class="ttdeci">ULONGLONG ArchiveSize64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00579">StormLib.h:579</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a427cddb81d036d81c4b97198c79d7db4"><div class="ttname"><a href="struct__TMPQHeader.html#a427cddb81d036d81c4b97198c79d7db4">_TMPQHeader::MD5_MpqHeader</a></div><div class="ttdeci">unsigned char MD5_MpqHeader[MD5_DIGEST_SIZE]</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00614">StormLib.h:614</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a4557744f91726c1d4f7f8a3db05ee3e0"><div class="ttname"><a href="struct__TMPQHeader.html#a4557744f91726c1d4f7f8a3db05ee3e0">_TMPQHeader::dwArchiveSize</a></div><div class="ttdeci">DWORD dwArchiveSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00540">StormLib.h:540</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a49a8c685ecb568b7cc34a7d869d9eb36"><div class="ttname"><a href="struct__TMPQHeader.html#a49a8c685ecb568b7cc34a7d869d9eb36">_TMPQHeader::BlockTableSize64</a></div><div class="ttdeci">ULONGLONG BlockTableSize64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00593">StormLib.h:593</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a55ca5cca128bc0f3a19963f584ee21ea"><div class="ttname"><a href="struct__TMPQHeader.html#a55ca5cca128bc0f3a19963f584ee21ea">_TMPQHeader::HetTableSize64</a></div><div class="ttdeci">ULONGLONG HetTableSize64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00599">StormLib.h:599</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a5b94172d822a2348f6952a900c9a67b6"><div class="ttname"><a href="struct__TMPQHeader.html#a5b94172d822a2348f6952a900c9a67b6">_TMPQHeader::wBlockTablePosHi</a></div><div class="ttdeci">USHORT wBlockTablePosHi</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00574">StormLib.h:574</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a67f1869dadee712c8210f77ce69cbfa9"><div class="ttname"><a href="struct__TMPQHeader.html#a67f1869dadee712c8210f77ce69cbfa9">_TMPQHeader::dwHashTableSize</a></div><div class="ttdeci">DWORD dwHashTableSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00560">StormLib.h:560</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a6b14b9ec494cc3ecff09bfec81a41bca"><div class="ttname"><a href="struct__TMPQHeader.html#a6b14b9ec494cc3ecff09bfec81a41bca">_TMPQHeader::BetTablePos64</a></div><div class="ttdeci">ULONGLONG BetTablePos64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00582">StormLib.h:582</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a6e4123be184f03b07805173246f86fe4"><div class="ttname"><a href="struct__TMPQHeader.html#a6e4123be184f03b07805173246f86fe4">_TMPQHeader::MD5_HiBlockTable</a></div><div class="ttdeci">unsigned char MD5_HiBlockTable[MD5_DIGEST_SIZE]</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00611">StormLib.h:611</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_a94b84810438ca81a47e4d76161c69982"><div class="ttname"><a href="struct__TMPQHeader.html#a94b84810438ca81a47e4d76161c69982">_TMPQHeader::MD5_BlockTable</a></div><div class="ttdeci">unsigned char MD5_BlockTable[MD5_DIGEST_SIZE]</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00609">StormLib.h:609</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_aa11ca5528aff4f3901967ea28919d3ee"><div class="ttname"><a href="struct__TMPQHeader.html#aa11ca5528aff4f3901967ea28919d3ee">_TMPQHeader::wHashTablePosHi</a></div><div class="ttdeci">USHORT wHashTablePosHi</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00571">StormLib.h:571</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_aa6c9ec440342dfb5ab49bb0d0de3be19"><div class="ttname"><a href="struct__TMPQHeader.html#aa6c9ec440342dfb5ab49bb0d0de3be19">_TMPQHeader::wSectorSize</a></div><div class="ttdeci">USHORT wSectorSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00550">StormLib.h:550</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_aabcf5d5db0341098e25ec822f734a5fb"><div class="ttname"><a href="struct__TMPQHeader.html#aabcf5d5db0341098e25ec822f734a5fb">_TMPQHeader::MD5_HetTable</a></div><div class="ttdeci">unsigned char MD5_HetTable[MD5_DIGEST_SIZE]</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00613">StormLib.h:613</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_aacaa38b5b060df20bd8185fbbcbb2c05"><div class="ttname"><a href="struct__TMPQHeader.html#aacaa38b5b060df20bd8185fbbcbb2c05">_TMPQHeader::HashTableSize64</a></div><div class="ttdeci">ULONGLONG HashTableSize64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00590">StormLib.h:590</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_ab94daea97aa276ddda65853f8713b281"><div class="ttname"><a href="struct__TMPQHeader.html#ab94daea97aa276ddda65853f8713b281">_TMPQHeader::HiBlockTableSize64</a></div><div class="ttdeci">ULONGLONG HiBlockTableSize64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00596">StormLib.h:596</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_ac0cd7ad2175e7713f1ab6e652c305f9d"><div class="ttname"><a href="struct__TMPQHeader.html#ac0cd7ad2175e7713f1ab6e652c305f9d">_TMPQHeader::dwBlockTablePos</a></div><div class="ttdeci">DWORD dwBlockTablePos</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00556">StormLib.h:556</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_ac22724a3b16bc3352a0dff72495d39a6"><div class="ttname"><a href="struct__TMPQHeader.html#ac22724a3b16bc3352a0dff72495d39a6">_TMPQHeader::HiBlockTablePos64</a></div><div class="ttdeci">ULONGLONG HiBlockTablePos64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00568">StormLib.h:568</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_acc150d84abed1f5c39b08e518fa9d7e7"><div class="ttname"><a href="struct__TMPQHeader.html#acc150d84abed1f5c39b08e518fa9d7e7">_TMPQHeader::dwHashTablePos</a></div><div class="ttdeci">DWORD dwHashTablePos</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00553">StormLib.h:553</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_ad63fd2d3c6c0d1e67d4023c92b130b3b"><div class="ttname"><a href="struct__TMPQHeader.html#ad63fd2d3c6c0d1e67d4023c92b130b3b">_TMPQHeader::dwBlockTableSize</a></div><div class="ttdeci">DWORD dwBlockTableSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00563">StormLib.h:563</a></div></div>
<div class="ttc" id="astruct__TMPQHeader_html_ae383ee3cfeac2520be29344bae32e94c"><div class="ttname"><a href="struct__TMPQHeader.html#ae383ee3cfeac2520be29344bae32e94c">_TMPQHeader::dwID</a></div><div class="ttdeci">DWORD dwID</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00531">StormLib.h:531</a></div></div>
<div class="ttc" id="astruct__TMPQHetHeader_html"><div class="ttname"><a href="struct__TMPQHetHeader.html">_TMPQHetHeader</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00712">StormLib.h:713</a></div></div>
<div class="ttc" id="astruct__TMPQHetHeader_html_a22b15b95d8d8e4a9a1f5aa9316a7a208"><div class="ttname"><a href="struct__TMPQHetHeader.html#a22b15b95d8d8e4a9a1f5aa9316a7a208">_TMPQHetHeader::dwTableSize</a></div><div class="ttdeci">DWORD dwTableSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00716">StormLib.h:716</a></div></div>
<div class="ttc" id="astruct__TMPQHetHeader_html_a31b9f42a1884d9d0116f827d2ebdff3a"><div class="ttname"><a href="struct__TMPQHetHeader.html#a31b9f42a1884d9d0116f827d2ebdff3a">_TMPQHetHeader::dwIndexSizeExtra</a></div><div class="ttdeci">DWORD dwIndexSizeExtra</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00721">StormLib.h:721</a></div></div>
<div class="ttc" id="astruct__TMPQHetHeader_html_a33f17be1cef184a7281b4d7473d64449"><div class="ttname"><a href="struct__TMPQHetHeader.html#a33f17be1cef184a7281b4d7473d64449">_TMPQHetHeader::dwIndexTableSize</a></div><div class="ttdeci">DWORD dwIndexTableSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00723">StormLib.h:723</a></div></div>
<div class="ttc" id="astruct__TMPQHetHeader_html_a43f32164cb9ff78490e212b2dfc1ffe5"><div class="ttname"><a href="struct__TMPQHetHeader.html#a43f32164cb9ff78490e212b2dfc1ffe5">_TMPQHetHeader::dwIndexSizeTotal</a></div><div class="ttdeci">DWORD dwIndexSizeTotal</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00720">StormLib.h:720</a></div></div>
<div class="ttc" id="astruct__TMPQHetHeader_html_a4b2b4a294b28b2792bee351a92581240"><div class="ttname"><a href="struct__TMPQHetHeader.html#a4b2b4a294b28b2792bee351a92581240">_TMPQHetHeader::dwEntryCount</a></div><div class="ttdeci">DWORD dwEntryCount</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00717">StormLib.h:717</a></div></div>
<div class="ttc" id="astruct__TMPQHetHeader_html_a90acf1785cd6e6712eb966faaad03b66"><div class="ttname"><a href="struct__TMPQHetHeader.html#a90acf1785cd6e6712eb966faaad03b66">_TMPQHetHeader::ExtHdr</a></div><div class="ttdeci">TMPQExtHeader ExtHdr</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00714">StormLib.h:714</a></div></div>
<div class="ttc" id="astruct__TMPQHetHeader_html_abb7873980191b9efa3df3800b1da9598"><div class="ttname"><a href="struct__TMPQHetHeader.html#abb7873980191b9efa3df3800b1da9598">_TMPQHetHeader::dwNameHashBitSize</a></div><div class="ttdeci">DWORD dwNameHashBitSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00719">StormLib.h:719</a></div></div>
<div class="ttc" id="astruct__TMPQHetHeader_html_ac4fff37e7f0d034afa7d0b62efae97ad"><div class="ttname"><a href="struct__TMPQHetHeader.html#ac4fff37e7f0d034afa7d0b62efae97ad">_TMPQHetHeader::dwTotalCount</a></div><div class="ttdeci">DWORD dwTotalCount</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00718">StormLib.h:718</a></div></div>
<div class="ttc" id="astruct__TMPQHetHeader_html_af7ac693981d260a8d68702e945d9561e"><div class="ttname"><a href="struct__TMPQHetHeader.html#af7ac693981d260a8d68702e945d9561e">_TMPQHetHeader::dwIndexSize</a></div><div class="ttdeci">DWORD dwIndexSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00722">StormLib.h:722</a></div></div>
<div class="ttc" id="astruct__TMPQHetTable_html"><div class="ttname"><a href="struct__TMPQHetTable.html">_TMPQHetTable</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00755">StormLib.h:756</a></div></div>
<div class="ttc" id="astruct__TMPQHetTable_html_a187695205d5281f1213239379dd34017"><div class="ttname"><a href="struct__TMPQHetTable.html#a187695205d5281f1213239379dd34017">_TMPQHetTable::dwNameHashBitSize</a></div><div class="ttdeci">DWORD dwNameHashBitSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00764">StormLib.h:764</a></div></div>
<div class="ttc" id="astruct__TMPQHetTable_html_a1a41b8ec2d6869cbe7971d8400f29e42"><div class="ttname"><a href="struct__TMPQHetTable.html#a1a41b8ec2d6869cbe7971d8400f29e42">_TMPQHetTable::dwTotalCount</a></div><div class="ttdeci">DWORD dwTotalCount</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00763">StormLib.h:763</a></div></div>
<div class="ttc" id="astruct__TMPQHetTable_html_a2665ff9c158bcc7c40283f543f25d0ef"><div class="ttname"><a href="struct__TMPQHetTable.html#a2665ff9c158bcc7c40283f543f25d0ef">_TMPQHetTable::dwEntryCount</a></div><div class="ttdeci">DWORD dwEntryCount</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00762">StormLib.h:762</a></div></div>
<div class="ttc" id="astruct__TMPQHetTable_html_a301d2237de2b14edd6d62f7251e8c5a1"><div class="ttname"><a href="struct__TMPQHetTable.html#a301d2237de2b14edd6d62f7251e8c5a1">_TMPQHetTable::dwIndexSizeExtra</a></div><div class="ttdeci">DWORD dwIndexSizeExtra</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00766">StormLib.h:766</a></div></div>
<div class="ttc" id="astruct__TMPQHetTable_html_a31710d22bc6664b9ac1d24ef7568dff3"><div class="ttname"><a href="struct__TMPQHetTable.html#a31710d22bc6664b9ac1d24ef7568dff3">_TMPQHetTable::dwIndexSize</a></div><div class="ttdeci">DWORD dwIndexSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00767">StormLib.h:767</a></div></div>
<div class="ttc" id="astruct__TMPQHetTable_html_a576fe2014aa1728d97a4cb2ccc6fae92"><div class="ttname"><a href="struct__TMPQHetTable.html#a576fe2014aa1728d97a4cb2ccc6fae92">_TMPQHetTable::OrMask64</a></div><div class="ttdeci">ULONGLONG OrMask64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00760">StormLib.h:760</a></div></div>
<div class="ttc" id="astruct__TMPQHetTable_html_acb0d375cf300a908b7f68ae7273686eb"><div class="ttname"><a href="struct__TMPQHetTable.html#acb0d375cf300a908b7f68ae7273686eb">_TMPQHetTable::AndMask64</a></div><div class="ttdeci">ULONGLONG AndMask64</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00759">StormLib.h:759</a></div></div>
<div class="ttc" id="astruct__TMPQHetTable_html_ae4c4270ebada8781cb22ea2e4866ebeb"><div class="ttname"><a href="struct__TMPQHetTable.html#ae4c4270ebada8781cb22ea2e4866ebeb">_TMPQHetTable::pBetIndexes</a></div><div class="ttdeci">TMPQBits * pBetIndexes</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00757">StormLib.h:757</a></div></div>
<div class="ttc" id="astruct__TMPQHetTable_html_ae6ce8986147611bceb9119ba1c5244e0"><div class="ttname"><a href="struct__TMPQHetTable.html#ae6ce8986147611bceb9119ba1c5244e0">_TMPQHetTable::dwIndexSizeTotal</a></div><div class="ttdeci">DWORD dwIndexSizeTotal</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00765">StormLib.h:765</a></div></div>
<div class="ttc" id="astruct__TMPQHetTable_html_ae932645bfbeb008ccaa9d2523d352ec4"><div class="ttname"><a href="struct__TMPQHetTable.html#ae932645bfbeb008ccaa9d2523d352ec4">_TMPQHetTable::pNameHashes</a></div><div class="ttdeci">LPBYTE pNameHashes</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00758">StormLib.h:758</a></div></div>
<div class="ttc" id="astruct__TMPQNameCache_html"><div class="ttname"><a href="struct__TMPQNameCache.html">_TMPQNameCache</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00803">StormLib.h:804</a></div></div>
<div class="ttc" id="astruct__TMPQNameCache_html_a303c7f1b988895efb4e5606e64cedc2d"><div class="ttname"><a href="struct__TMPQNameCache.html#a303c7f1b988895efb4e5606e64cedc2d">_TMPQNameCache::FirstNameOffset</a></div><div class="ttdeci">DWORD FirstNameOffset</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00805">StormLib.h:805</a></div></div>
<div class="ttc" id="astruct__TMPQNameCache_html_a6aeb1c2bbd4cb67eb924dd6e15af48fc"><div class="ttname"><a href="struct__TMPQNameCache.html#a6aeb1c2bbd4cb67eb924dd6e15af48fc">_TMPQNameCache::TotalCacheSize</a></div><div class="ttdeci">DWORD TotalCacheSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00807">StormLib.h:807</a></div></div>
<div class="ttc" id="astruct__TMPQNameCache_html_a7829c6ec44cf00726179eff7aa1b454f"><div class="ttname"><a href="struct__TMPQNameCache.html#a7829c6ec44cf00726179eff7aa1b454f">_TMPQNameCache::FreeSpaceOffset</a></div><div class="ttdeci">DWORD FreeSpaceOffset</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00806">StormLib.h:806</a></div></div>
<div class="ttc" id="astruct__TMPQNameCache_html_a92d52b61baddf361d9f4178c4e1ee299"><div class="ttname"><a href="struct__TMPQNameCache.html#a92d52b61baddf361d9f4178c4e1ee299">_TMPQNameCache::SearchOffset</a></div><div class="ttdeci">DWORD SearchOffset</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00808">StormLib.h:808</a></div></div>
<div class="ttc" id="astruct__TMPQNamePrefix_html"><div class="ttname"><a href="struct__TMPQNamePrefix.html">_TMPQNamePrefix</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00796">StormLib.h:797</a></div></div>
<div class="ttc" id="astruct__TMPQNamePrefix_html_a9b9249401510b3bf766f8d20e716fd67"><div class="ttname"><a href="struct__TMPQNamePrefix.html#a9b9249401510b3bf766f8d20e716fd67">_TMPQNamePrefix::nLength</a></div><div class="ttdeci">size_t nLength</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00798">StormLib.h:798</a></div></div>
<div class="ttc" id="astruct__TMPQNamePrefix_html_ae18ce7c7a179a2f3b8c7edfdf1079bb1"><div class="ttname"><a href="struct__TMPQNamePrefix.html#ae18ce7c7a179a2f3b8c7edfdf1079bb1">_TMPQNamePrefix::szPatchPrefix</a></div><div class="ttdeci">char szPatchPrefix[1]</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00799">StormLib.h:799</a></div></div>
<div class="ttc" id="astruct__TMPQUserData_html"><div class="ttname"><a href="struct__TMPQUserData.html">_TMPQUserData</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00507">StormLib.h:508</a></div></div>
<div class="ttc" id="astruct__TMPQUserData_html_a120d3541bbc5279d8121bcb958ffac43"><div class="ttname"><a href="struct__TMPQUserData.html#a120d3541bbc5279d8121bcb958ffac43">_TMPQUserData::dwHeaderOffs</a></div><div class="ttdeci">DWORD dwHeaderOffs</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00516">StormLib.h:516</a></div></div>
<div class="ttc" id="astruct__TMPQUserData_html_a20555748138f5e58cd38f6dd7fa3a5f1"><div class="ttname"><a href="struct__TMPQUserData.html#a20555748138f5e58cd38f6dd7fa3a5f1">_TMPQUserData::dwID</a></div><div class="ttdeci">DWORD dwID</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00510">StormLib.h:510</a></div></div>
<div class="ttc" id="astruct__TMPQUserData_html_a77cc17fb272f95a626ff0358215d614d"><div class="ttname"><a href="struct__TMPQUserData.html#a77cc17fb272f95a626ff0358215d614d">_TMPQUserData::cbUserDataSize</a></div><div class="ttdeci">DWORD cbUserDataSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00513">StormLib.h:513</a></div></div>
<div class="ttc" id="astruct__TMPQUserData_html_a8c5ab8213401a02bd752f77609bea504"><div class="ttname"><a href="struct__TMPQUserData.html#a8c5ab8213401a02bd752f77609bea504">_TMPQUserData::cbUserDataHeader</a></div><div class="ttdeci">DWORD cbUserDataHeader</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00519">StormLib.h:519</a></div></div>
<div class="ttc" id="astruct__TPatchInfo_html"><div class="ttname"><a href="struct__TPatchInfo.html">_TPatchInfo</a></div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00673">StormLib.h:674</a></div></div>
<div class="ttc" id="astruct__TPatchInfo_html_a9ae819807f601644d5b8207906e5aaa2"><div class="ttname"><a href="struct__TPatchInfo.html#a9ae819807f601644d5b8207906e5aaa2">_TPatchInfo::dwDataSize</a></div><div class="ttdeci">DWORD dwDataSize</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00677">StormLib.h:677</a></div></div>
<div class="ttc" id="astruct__TPatchInfo_html_ab2bbce2ef9bd815274d9c638b27858c0"><div class="ttname"><a href="struct__TPatchInfo.html#ab2bbce2ef9bd815274d9c638b27858c0">_TPatchInfo::dwLength</a></div><div class="ttdeci">DWORD dwLength</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00675">StormLib.h:675</a></div></div>
<div class="ttc" id="astruct__TPatchInfo_html_ac5bc9cd5608eb5235e0ccf412d2b573e"><div class="ttname"><a href="struct__TPatchInfo.html#ac5bc9cd5608eb5235e0ccf412d2b573e">_TPatchInfo::md5</a></div><div class="ttdeci">BYTE md5[0x10]</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00678">StormLib.h:678</a></div></div>
<div class="ttc" id="astruct__TPatchInfo_html_acd63852613db8c0c20fe6a9f93ec3ced"><div class="ttname"><a href="struct__TPatchInfo.html#acd63852613db8c0c20fe6a9f93ec3ced">_TPatchInfo::dwFlags</a></div><div class="ttdeci">DWORD dwFlags</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00676">StormLib.h:676</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a34930d66007b95e0d5b90a929cc7977f" name="a34930d66007b95e0d5b90a929cc7977f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34930d66007b95e0d5b90a929cc7977f">&#9670;&#160;</a></span>MPQ_FILE_VALID_FLAGS_SCX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_VALID_FLAGS_SCX</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                                  (<a class="code hl_define" href="StormLib_8h.html#adcf67b78a67069b1d79d2bb10247d985">MPQ_FILE_IMPLODE</a>       |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a05c0e6be65657562b772b5ca9b667f0b">MPQ_FILE_COMPRESS</a>      |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a08fa41196410aea4c03e8e9210cc6606">MPQ_FILE_ENCRYPTED</a>     |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a0e7165d33cb4239684eb19fe59f8a8d7">MPQ_FILE_FIX_KEY</a>       |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#af6f21d7e58bf7855583c8f9667467432">MPQ_FILE_EXISTS</a>)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00253">253</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="af4f6e8446dbab55c30403ac6ee444b22" name="af4f6e8446dbab55c30403ac6ee444b22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4f6e8446dbab55c30403ac6ee444b22">&#9670;&#160;</a></span>MPQ_FILE_VALID_FLAGS_W3X</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FILE_VALID_FLAGS_W3X</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                                  (<a class="code hl_define" href="StormLib_8h.html#adcf67b78a67069b1d79d2bb10247d985">MPQ_FILE_IMPLODE</a>       |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a05c0e6be65657562b772b5ca9b667f0b">MPQ_FILE_COMPRESS</a>      |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a08fa41196410aea4c03e8e9210cc6606">MPQ_FILE_ENCRYPTED</a>     |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a0e7165d33cb4239684eb19fe59f8a8d7">MPQ_FILE_FIX_KEY</a>       |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a3d72c520a6b4b501cb6459b9f5c88e6d">MPQ_FILE_DELETE_MARKER</a> |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a636264ae6b8299c2ad8bfcbf3d1c2e5f">MPQ_FILE_SECTOR_CRC</a>    |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#a3e86598f61af3ffac4b9ed920cf1efab">MPQ_FILE_SIGNATURE</a>     |  \</div>
<div class="line">                                  <a class="code hl_define" href="StormLib_8h.html#af6f21d7e58bf7855583c8f9667467432">MPQ_FILE_EXISTS</a>)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00244">244</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a97a8fb3f1968a9ff722f9ab904a3884a" name="a97a8fb3f1968a9ff722f9ab904a3884a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a8fb3f1968a9ff722f9ab904a3884a">&#9670;&#160;</a></span>MPQ_FLAG_ATTRIBUTES_NEW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_ATTRIBUTES_NEW&#160;&#160;&#160;0x00004000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00201">201</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aac254a5c8a6103f9164eaf9def02fc47" name="aac254a5c8a6103f9164eaf9def02fc47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac254a5c8a6103f9164eaf9def02fc47">&#9670;&#160;</a></span>MPQ_FLAG_ATTRIBUTES_NONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_ATTRIBUTES_NONE&#160;&#160;&#160;0x00002000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00200">200</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="addbad71b1b3c0a952128de5e3cbd2ae7" name="addbad71b1b3c0a952128de5e3cbd2ae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addbad71b1b3c0a952128de5e3cbd2ae7">&#9670;&#160;</a></span>MPQ_FLAG_BLOCK_TABLE_CUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_BLOCK_TABLE_CUT&#160;&#160;&#160;0x00000010</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00191">191</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a3c8ed28738e3f0f8fb54fbc395704613" name="a3c8ed28738e3f0f8fb54fbc395704613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c8ed28738e3f0f8fb54fbc395704613">&#9670;&#160;</a></span>MPQ_FLAG_CHANGED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_CHANGED&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00188">188</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aa95c447187bfeb909739ad2c64158d2e" name="aa95c447187bfeb909739ad2c64158d2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa95c447187bfeb909739ad2c64158d2e">&#9670;&#160;</a></span>MPQ_FLAG_CHECK_SECTOR_CRC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_CHECK_SECTOR_CRC&#160;&#160;&#160;0x00000020</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00192">192</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a52801e7bcafa1210d50d7ae3adde08b7" name="a52801e7bcafa1210d50d7ae3adde08b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52801e7bcafa1210d50d7ae3adde08b7">&#9670;&#160;</a></span>MPQ_FLAG_HASH_TABLE_CUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_HASH_TABLE_CUT&#160;&#160;&#160;0x00000008</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00190">190</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a0f1a56ed6868a60a65b59708c5b2c7d8" name="a0f1a56ed6868a60a65b59708c5b2c7d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f1a56ed6868a60a65b59708c5b2c7d8">&#9670;&#160;</a></span>MPQ_FLAG_LISTFILE_FORCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_LISTFILE_FORCE&#160;&#160;&#160;0x00001000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00199">199</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="af0170e1f41f3b3d32bbcdfd769f874f1" name="af0170e1f41f3b3d32bbcdfd769f874f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0170e1f41f3b3d32bbcdfd769f874f1">&#9670;&#160;</a></span>MPQ_FLAG_LISTFILE_NEW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_LISTFILE_NEW&#160;&#160;&#160;0x00000800</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00198">198</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a8ce12f91713bf164a65c77429ec519d7" name="a8ce12f91713bf164a65c77429ec519d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ce12f91713bf164a65c77429ec519d7">&#9670;&#160;</a></span>MPQ_FLAG_LISTFILE_NONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_LISTFILE_NONE&#160;&#160;&#160;0x00000400</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00197">197</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a4e78695275e602042f25c946a7a8fdb5" name="a4e78695275e602042f25c946a7a8fdb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e78695275e602042f25c946a7a8fdb5">&#9670;&#160;</a></span>MPQ_FLAG_MALFORMED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_MALFORMED&#160;&#160;&#160;0x00000004</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00189">189</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a2252bbf0465c58ef06b2dea7a5015b0d" name="a2252bbf0465c58ef06b2dea7a5015b0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2252bbf0465c58ef06b2dea7a5015b0d">&#9670;&#160;</a></span>MPQ_FLAG_PATCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_PATCH&#160;&#160;&#160;0x00000080</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00194">194</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ac79954b2e62ac6c6da211fc5c75973e4" name="ac79954b2e62ac6c6da211fc5c75973e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac79954b2e62ac6c6da211fc5c75973e4">&#9670;&#160;</a></span>MPQ_FLAG_READ_ONLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_READ_ONLY&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00187">187</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a4acb2f84a836d801e0b5b663f8075d56" name="a4acb2f84a836d801e0b5b663f8075d56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4acb2f84a836d801e0b5b663f8075d56">&#9670;&#160;</a></span>MPQ_FLAG_SAVING_TABLES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_SAVING_TABLES&#160;&#160;&#160;0x00000040</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00193">193</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a4d8e3ca4aa697762957721160d94cca8" name="a4d8e3ca4aa697762957721160d94cca8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d8e3ca4aa697762957721160d94cca8">&#9670;&#160;</a></span>MPQ_FLAG_SIGNATURE_NEW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_SIGNATURE_NEW&#160;&#160;&#160;0x00010000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00203">203</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="af0d5a65742dfba15182b65f34921dad6" name="af0d5a65742dfba15182b65f34921dad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0d5a65742dfba15182b65f34921dad6">&#9670;&#160;</a></span>MPQ_FLAG_SIGNATURE_NONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_SIGNATURE_NONE&#160;&#160;&#160;0x00008000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00202">202</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="abda1c3dc6af9ff2ad21e7baf0007e772" name="abda1c3dc6af9ff2ad21e7baf0007e772"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abda1c3dc6af9ff2ad21e7baf0007e772">&#9670;&#160;</a></span>MPQ_FLAG_STARCRAFT_BETA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_STARCRAFT_BETA&#160;&#160;&#160;0x00000200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00196">196</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ab22184fce52e714e8c5b81d6fd62742c" name="ab22184fce52e714e8c5b81d6fd62742c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22184fce52e714e8c5b81d6fd62742c">&#9670;&#160;</a></span>MPQ_FLAG_WAR3_MAP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FLAG_WAR3_MAP&#160;&#160;&#160;0x00000100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00195">195</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aa45e1b9993a87e5d6cb2adf3abb6e0c3" name="aa45e1b9993a87e5d6cb2adf3abb6e0c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa45e1b9993a87e5d6cb2adf3abb6e0c3">&#9670;&#160;</a></span>MPQ_FORMAT_VERSION_1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FORMAT_VERSION_1&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00295">295</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a9b68734ff3ecc5d8ca7d4633f42cda4d" name="a9b68734ff3ecc5d8ca7d4633f42cda4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b68734ff3ecc5d8ca7d4633f42cda4d">&#9670;&#160;</a></span>MPQ_FORMAT_VERSION_2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FORMAT_VERSION_2&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00296">296</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="af9d56babfd44b33bc4b352006fa9c761" name="af9d56babfd44b33bc4b352006fa9c761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9d56babfd44b33bc4b352006fa9c761">&#9670;&#160;</a></span>MPQ_FORMAT_VERSION_3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FORMAT_VERSION_3&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00297">297</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a6a35c4ad2d3b9ee964c96f325cf25c8f" name="a6a35c4ad2d3b9ee964c96f325cf25c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a35c4ad2d3b9ee964c96f325cf25c8f">&#9670;&#160;</a></span>MPQ_FORMAT_VERSION_4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_FORMAT_VERSION_4&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00298">298</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="af15a614080a5231006e0381b3c715760" name="af15a614080a5231006e0381b3c715760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af15a614080a5231006e0381b3c715760">&#9670;&#160;</a></span>MPQ_HEADER_DWORDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_HEADER_DWORDS&#160;&#160;&#160;(<a class="el" href="StormLib_8h.html#a34534a41943b28cb7855dd59db96166e">MPQ_HEADER_SIZE_V4</a> / 0x04)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00505">505</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ae490c625dc0aa427dcb416343535962f" name="ae490c625dc0aa427dcb416343535962f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae490c625dc0aa427dcb416343535962f">&#9670;&#160;</a></span>MPQ_HEADER_SIZE_V1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_HEADER_SIZE_V1&#160;&#160;&#160;0x20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00501">501</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a24f7c58508f7acb3c43b26d26e42b815" name="a24f7c58508f7acb3c43b26d26e42b815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24f7c58508f7acb3c43b26d26e42b815">&#9670;&#160;</a></span>MPQ_HEADER_SIZE_V2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_HEADER_SIZE_V2&#160;&#160;&#160;0x2C</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00502">502</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a0fd750fe0d2b6602260de86343be8a87" name="a0fd750fe0d2b6602260de86343be8a87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fd750fe0d2b6602260de86343be8a87">&#9670;&#160;</a></span>MPQ_HEADER_SIZE_V3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_HEADER_SIZE_V3&#160;&#160;&#160;0x44</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00503">503</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a34534a41943b28cb7855dd59db96166e" name="a34534a41943b28cb7855dd59db96166e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34534a41943b28cb7855dd59db96166e">&#9670;&#160;</a></span>MPQ_HEADER_SIZE_V4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_HEADER_SIZE_V4&#160;&#160;&#160;0xD0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00504">504</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a2ba8acbca4e801d8cd224cac146d1a78" name="a2ba8acbca4e801d8cd224cac146d1a78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ba8acbca4e801d8cd224cac146d1a78">&#9670;&#160;</a></span>MPQ_KEY_BLOCK_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_KEY_BLOCK_TABLE&#160;&#160;&#160;0xEC83B3A3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00288">288</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a1a49495e73433f2ed5692e36d5231337" name="a1a49495e73433f2ed5692e36d5231337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a49495e73433f2ed5692e36d5231337">&#9670;&#160;</a></span>MPQ_KEY_HASH_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_KEY_HASH_TABLE&#160;&#160;&#160;0xC3AF3770</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00287">287</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a67a24865bfa8b31f56ed8ebc558f2677" name="a67a24865bfa8b31f56ed8ebc558f2677"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67a24865bfa8b31f56ed8ebc558f2677">&#9670;&#160;</a></span>MPQ_OPEN_CHECK_SECTOR_CRC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_OPEN_CHECK_SECTOR_CRC&#160;&#160;&#160;0x00100000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00333">333</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a436029ad0d396c529d41a8c9f4bd70a4" name="a436029ad0d396c529d41a8c9f4bd70a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a436029ad0d396c529d41a8c9f4bd70a4">&#9670;&#160;</a></span>MPQ_OPEN_FORCE_LISTFILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_OPEN_FORCE_LISTFILE&#160;&#160;&#160;0x00400000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00335">335</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="abc1fb88a688d62bd6c515533a783f484" name="abc1fb88a688d62bd6c515533a783f484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc1fb88a688d62bd6c515533a783f484">&#9670;&#160;</a></span>MPQ_OPEN_FORCE_MPQ_V1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_OPEN_FORCE_MPQ_V1&#160;&#160;&#160;0x00080000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00332">332</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a018cad433037d094e4b7284bcb5b3592" name="a018cad433037d094e4b7284bcb5b3592"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a018cad433037d094e4b7284bcb5b3592">&#9670;&#160;</a></span>MPQ_OPEN_NO_ATTRIBUTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_OPEN_NO_ATTRIBUTES&#160;&#160;&#160;0x00020000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00330">330</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a09a1921f8ee78b95d6c06042f1f8b6e9" name="a09a1921f8ee78b95d6c06042f1f8b6e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a1921f8ee78b95d6c06042f1f8b6e9">&#9670;&#160;</a></span>MPQ_OPEN_NO_HEADER_SEARCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_OPEN_NO_HEADER_SEARCH&#160;&#160;&#160;0x00040000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00331">331</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ab0c2a5d3970ee9739abd4ff3e2a737f5" name="ab0c2a5d3970ee9739abd4ff3e2a737f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0c2a5d3970ee9739abd4ff3e2a737f5">&#9670;&#160;</a></span>MPQ_OPEN_NO_LISTFILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_OPEN_NO_LISTFILE&#160;&#160;&#160;0x00010000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00329">329</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a02144c034d87bb5bfa9c49eb78eea3cb" name="a02144c034d87bb5bfa9c49eb78eea3cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02144c034d87bb5bfa9c49eb78eea3cb">&#9670;&#160;</a></span>MPQ_OPEN_PATCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_OPEN_PATCH&#160;&#160;&#160;0x00200000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00334">334</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="adf19ed8ad3e0e1c2c57c5b614e73323f" name="adf19ed8ad3e0e1c2c57c5b614e73323f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf19ed8ad3e0e1c2c57c5b614e73323f">&#9670;&#160;</a></span>MPQ_OPEN_READ_ONLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_OPEN_READ_ONLY&#160;&#160;&#160;<a class="el" href="StormLib_8h.html#abdbbf06488f24699775afe6aadaeafc3">STREAM_FLAG_READ_ONLY</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00336">336</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a651b9c2037d450d51b1a6926a074c216" name="a651b9c2037d450d51b1a6926a074c216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a651b9c2037d450d51b1a6926a074c216">&#9670;&#160;</a></span>MPQ_SUBTYPE_MPK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_SUBTYPE_MPK&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00208">208</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a6e64f04d2a32d5aa33bcd8dba9b4826a" name="a6e64f04d2a32d5aa33bcd8dba9b4826a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e64f04d2a32d5aa33bcd8dba9b4826a">&#9670;&#160;</a></span>MPQ_SUBTYPE_MPQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_SUBTYPE_MPQ&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00206">206</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ad59731efb4497a04a008785e138dcb5f" name="ad59731efb4497a04a008785e138dcb5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad59731efb4497a04a008785e138dcb5f">&#9670;&#160;</a></span>MPQ_SUBTYPE_SQP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_SUBTYPE_SQP&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00207">207</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aed030ca83ebe6815790b05ae4b459cdc" name="aed030ca83ebe6815790b05ae4b459cdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed030ca83ebe6815790b05ae4b459cdc">&#9670;&#160;</a></span>MPQ_WAVE_QUALITY_HIGH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_WAVE_QUALITY_HIGH&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00278">278</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a909bfc1dc91e7447f063552867ca64f7" name="a909bfc1dc91e7447f063552867ca64f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a909bfc1dc91e7447f063552867ca64f7">&#9670;&#160;</a></span>MPQ_WAVE_QUALITY_LOW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_WAVE_QUALITY_LOW&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00280">280</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aec7980211792c800ab5d63ad1d9c9529" name="aec7980211792c800ab5d63ad1d9c9529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec7980211792c800ab5d63ad1d9c9529">&#9670;&#160;</a></span>MPQ_WAVE_QUALITY_MEDIUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPQ_WAVE_QUALITY_MEDIUM&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00279">279</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a72cafe8df240132c2f36cacb5952552c" name="a72cafe8df240132c2f36cacb5952552c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72cafe8df240132c2f36cacb5952552c">&#9670;&#160;</a></span>PATCH_METADATA_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PATCH_METADATA_NAME&#160;&#160;&#160;&quot;(patch_metadata)&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00293">293</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aa4e1878a70e0134ae5b02fcd4b31d317" name="aa4e1878a70e0134ae5b02fcd4b31d317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4e1878a70e0134ae5b02fcd4b31d317">&#9670;&#160;</a></span>SFILE_INVALID_ATTRIBUTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_INVALID_ATTRIBUTES&#160;&#160;&#160;0xFFFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00213">213</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a4b28e2af68b69ed953f40f888d3756d5" name="a4b28e2af68b69ed953f40f888d3756d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b28e2af68b69ed953f40f888d3756d5">&#9670;&#160;</a></span>SFILE_INVALID_POS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_INVALID_POS&#160;&#160;&#160;0xFFFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00212">212</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a022049f94d664793d5bdf9825b5dc368" name="a022049f94d664793d5bdf9825b5dc368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a022049f94d664793d5bdf9825b5dc368">&#9670;&#160;</a></span>SFILE_INVALID_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_INVALID_SIZE&#160;&#160;&#160;0xFFFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00211">211</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a333d1f8448f3052fcba766be325c6ca3" name="a333d1f8448f3052fcba766be325c6ca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a333d1f8448f3052fcba766be325c6ca3">&#9670;&#160;</a></span>SFILE_LOCALE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_LOCALE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lcFileLocale</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="StormPort_8h.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a>)(lcFileLocale &amp; 0xFFFF)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l01000">1000</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aac5d37546e56cecc39acc9223a466f74" name="aac5d37546e56cecc39acc9223a466f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac5d37546e56cecc39acc9223a466f74">&#9670;&#160;</a></span>SFILE_MAKE_LCID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_MAKE_LCID</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">locale, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">platform&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((<a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>)(<a class="el" href="StormPort_8h.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a>)locale | (<a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>)(<a class="el" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>)platform &lt;&lt; 0x10)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00999">999</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ac2bfdfbe63dbc19f7c508d3eaebef8aa" name="ac2bfdfbe63dbc19f7c508d3eaebef8aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2bfdfbe63dbc19f7c508d3eaebef8aa">&#9670;&#160;</a></span>SFILE_OPEN_ANY_LOCALE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_OPEN_ANY_LOCALE&#160;&#160;&#160;0xFFFFFFFE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00183">183</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a1624257a38d19c0d19bb4af7edbec9c7" name="a1624257a38d19c0d19bb4af7edbec9c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1624257a38d19c0d19bb4af7edbec9c7">&#9670;&#160;</a></span>SFILE_OPEN_BASE_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_OPEN_BASE_FILE&#160;&#160;&#160;0xFFFFFFFD</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00182">182</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a5cb10f9714084ef0ac3eec153617138c" name="a5cb10f9714084ef0ac3eec153617138c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cb10f9714084ef0ac3eec153617138c">&#9670;&#160;</a></span>SFILE_OPEN_CDROM_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_OPEN_CDROM_FILE&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00177">177</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a05f421e24b84a6adf09346b8c023bfbf" name="a05f421e24b84a6adf09346b8c023bfbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05f421e24b84a6adf09346b8c023bfbf">&#9670;&#160;</a></span>SFILE_OPEN_CHECK_EXISTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_OPEN_CHECK_EXISTS&#160;&#160;&#160;0xFFFFFFFC</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00181">181</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aa0487a431f6f1a0104457adccdff675f" name="aa0487a431f6f1a0104457adccdff675f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0487a431f6f1a0104457adccdff675f">&#9670;&#160;</a></span>SFILE_OPEN_FROM_MPQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_OPEN_FROM_MPQ&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00180">180</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aaf527ede972721c283bacf8297d08228" name="aaf527ede972721c283bacf8297d08228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf527ede972721c283bacf8297d08228">&#9670;&#160;</a></span>SFILE_OPEN_HARD_DISK_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_OPEN_HARD_DISK_FILE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00176">176</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a52c689d0a82d6fd9b5c71519d1ef95ea" name="a52c689d0a82d6fd9b5c71519d1ef95ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52c689d0a82d6fd9b5c71519d1ef95ea">&#9670;&#160;</a></span>SFILE_OPEN_LOCAL_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_OPEN_LOCAL_FILE&#160;&#160;&#160;0xFFFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00184">184</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="adf4be5d17b5f6632333c12ddd17d4ff5" name="adf4be5d17b5f6632333c12ddd17d4ff5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf4be5d17b5f6632333c12ddd17d4ff5">&#9670;&#160;</a></span>SFILE_PLATFORM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_PLATFORM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lcFileLocale</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>)(lcFileLocale &gt;&gt; 0x10)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l01001">1001</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aa59d60c28005937abdd26374e5413ab9" name="aa59d60c28005937abdd26374e5413ab9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa59d60c28005937abdd26374e5413ab9">&#9670;&#160;</a></span>SFILE_VERIFY_ALL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_VERIFY_ALL&#160;&#160;&#160;0x0000000F</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00355">355</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="afb5281c0e786bb605747f2fb4e2d9ca5" name="afb5281c0e786bb605747f2fb4e2d9ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb5281c0e786bb605747f2fb4e2d9ca5">&#9670;&#160;</a></span>SFILE_VERIFY_BET_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_VERIFY_BET_TABLE&#160;&#160;&#160;0x0003</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00373">373</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a5cd4ed2f493ee43df89028627339d7dc" name="a5cd4ed2f493ee43df89028627339d7dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cd4ed2f493ee43df89028627339d7dc">&#9670;&#160;</a></span>SFILE_VERIFY_BLOCK_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_VERIFY_BLOCK_TABLE&#160;&#160;&#160;0x0005</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00375">375</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aecf09fd72b7b52b78debe67c4553f955" name="aecf09fd72b7b52b78debe67c4553f955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecf09fd72b7b52b78debe67c4553f955">&#9670;&#160;</a></span>SFILE_VERIFY_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_VERIFY_FILE&#160;&#160;&#160;0x0007</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00377">377</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aecbacf5da4f209745e3e4a29b6acbcb1" name="aecbacf5da4f209745e3e4a29b6acbcb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecbacf5da4f209745e3e4a29b6acbcb1">&#9670;&#160;</a></span>SFILE_VERIFY_FILE_CRC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_VERIFY_FILE_CRC&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00352">352</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a3aad6c57f5c8791e70fd964a4856308d" name="a3aad6c57f5c8791e70fd964a4856308d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aad6c57f5c8791e70fd964a4856308d">&#9670;&#160;</a></span>SFILE_VERIFY_FILE_MD5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_VERIFY_FILE_MD5&#160;&#160;&#160;0x00000004</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00353">353</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a000fbd39696b31da38961ae3cf41091a" name="a000fbd39696b31da38961ae3cf41091a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000fbd39696b31da38961ae3cf41091a">&#9670;&#160;</a></span>SFILE_VERIFY_HASH_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_VERIFY_HASH_TABLE&#160;&#160;&#160;0x0004</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00374">374</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a3917b61fcb966ea779d4eb7e78f6f615" name="a3917b61fcb966ea779d4eb7e78f6f615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3917b61fcb966ea779d4eb7e78f6f615">&#9670;&#160;</a></span>SFILE_VERIFY_HET_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_VERIFY_HET_TABLE&#160;&#160;&#160;0x0002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00372">372</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="abc1a3a6643170e969d6ddaf049fdc8c7" name="abc1a3a6643170e969d6ddaf049fdc8c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc1a3a6643170e969d6ddaf049fdc8c7">&#9670;&#160;</a></span>SFILE_VERIFY_HIBLOCK_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_VERIFY_HIBLOCK_TABLE&#160;&#160;&#160;0x0006</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00376">376</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="adadd6810c67c668a700defc285863d61" name="adadd6810c67c668a700defc285863d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adadd6810c67c668a700defc285863d61">&#9670;&#160;</a></span>SFILE_VERIFY_MPQ_HEADER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_VERIFY_MPQ_HEADER&#160;&#160;&#160;0x0001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00371">371</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aa1102b943ca7cca8f441becd2e62ab74" name="aa1102b943ca7cca8f441becd2e62ab74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1102b943ca7cca8f441becd2e62ab74">&#9670;&#160;</a></span>SFILE_VERIFY_RAW_MD5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_VERIFY_RAW_MD5&#160;&#160;&#160;0x00000008</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00354">354</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ae3c4cf9a4e9de88c777c100090b2e5e4" name="ae3c4cf9a4e9de88c777c100090b2e5e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3c4cf9a4e9de88c777c100090b2e5e4">&#9670;&#160;</a></span>SFILE_VERIFY_SECTOR_CRC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFILE_VERIFY_SECTOR_CRC&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00351">351</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a3ba9296b223f1b3c710d6b812fd860e8" name="a3ba9296b223f1b3c710d6b812fd860e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ba9296b223f1b3c710d6b812fd860e8">&#9670;&#160;</a></span>SHA1_DIGEST_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SHA1_DIGEST_SIZE&#160;&#160;&#160;0x14</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00397">397</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ab9ccdfbc136fcd937541b27333e03159" name="ab9ccdfbc136fcd937541b27333e03159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9ccdfbc136fcd937541b27333e03159">&#9670;&#160;</a></span>SIGNATURE_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIGNATURE_NAME&#160;&#160;&#160;&quot;(signature)&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00291">291</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a963e3c2877d3c9d08737ce2e901cb17f" name="a963e3c2877d3c9d08737ce2e901cb17f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a963e3c2877d3c9d08737ce2e901cb17f">&#9670;&#160;</a></span>SIGNATURE_TYPE_NONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIGNATURE_TYPE_NONE&#160;&#160;&#160;0x0000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00380">380</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ab77da79e415e52afa44cb2a346bc55c7" name="ab77da79e415e52afa44cb2a346bc55c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab77da79e415e52afa44cb2a346bc55c7">&#9670;&#160;</a></span>SIGNATURE_TYPE_STRONG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIGNATURE_TYPE_STRONG&#160;&#160;&#160;0x0002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00382">382</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a4cac1edf4a3101da9c369e81fd7c0908" name="a4cac1edf4a3101da9c369e81fd7c0908"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cac1edf4a3101da9c369e81fd7c0908">&#9670;&#160;</a></span>SIGNATURE_TYPE_WEAK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIGNATURE_TYPE_WEAK&#160;&#160;&#160;0x0001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00381">381</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a695ff4e42964a9bb25b146dbbfa930a5" name="a695ff4e42964a9bb25b146dbbfa930a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a695ff4e42964a9bb25b146dbbfa930a5">&#9670;&#160;</a></span>STORMLIB_NO_AUTO_LINK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STORMLIB_NO_AUTO_LINK</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00105">105</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a031908fc3b54d00500f8beb205e7b62b" name="a031908fc3b54d00500f8beb205e7b62b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a031908fc3b54d00500f8beb205e7b62b">&#9670;&#160;</a></span>STORMLIB_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STORMLIB_VERSION&#160;&#160;&#160;0x0918</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00146">146</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a7de2eed879324d368864ee5c92724543" name="a7de2eed879324d368864ee5c92724543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7de2eed879324d368864ee5c92724543">&#9670;&#160;</a></span>STORMLIB_VERSION_STRING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STORMLIB_VERSION_STRING&#160;&#160;&#160;&quot;9.24&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00147">147</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="abdbbf06488f24699775afe6aadaeafc3" name="abdbbf06488f24699775afe6aadaeafc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdbbf06488f24699775afe6aadaeafc3">&#9670;&#160;</a></span>STREAM_FLAG_READ_ONLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_FLAG_READ_ONLY&#160;&#160;&#160;0x00000100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00321">321</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a77521bc89504101b3294646ad1b462c0" name="a77521bc89504101b3294646ad1b462c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77521bc89504101b3294646ad1b462c0">&#9670;&#160;</a></span>STREAM_FLAG_USE_BITMAP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_FLAG_USE_BITMAP&#160;&#160;&#160;0x00000400</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00323">323</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a70f64cc8946e34d88ab1c2de9d76ba4c" name="a70f64cc8946e34d88ab1c2de9d76ba4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70f64cc8946e34d88ab1c2de9d76ba4c">&#9670;&#160;</a></span>STREAM_FLAG_WRITE_SHARE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_FLAG_WRITE_SHARE&#160;&#160;&#160;0x00000200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00322">322</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a9f173a8fcf0edc58cb2f8a6d41739e86" name="a9f173a8fcf0edc58cb2f8a6d41739e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f173a8fcf0edc58cb2f8a6d41739e86">&#9670;&#160;</a></span>STREAM_FLAGS_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_FLAGS_MASK&#160;&#160;&#160;0x0000FFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00327">327</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a13ca5b98664197b09f6161b08bf02db3" name="a13ca5b98664197b09f6161b08bf02db3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13ca5b98664197b09f6161b08bf02db3">&#9670;&#160;</a></span>STREAM_OPTIONS_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_OPTIONS_MASK&#160;&#160;&#160;0x0000FF00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00324">324</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a5bbce6c9768ac7cbc1fb4541a2153758" name="a5bbce6c9768ac7cbc1fb4541a2153758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bbce6c9768ac7cbc1fb4541a2153758">&#9670;&#160;</a></span>STREAM_PROVIDER_BLOCK4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_PROVIDER_BLOCK4&#160;&#160;&#160;0x00000030</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00318">318</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a45b6170ca9e7880848cdca068234d28c" name="a45b6170ca9e7880848cdca068234d28c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45b6170ca9e7880848cdca068234d28c">&#9670;&#160;</a></span>STREAM_PROVIDER_FLAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_PROVIDER_FLAT&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00315">315</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a85f30debca5af9c69185146dda3eba18" name="a85f30debca5af9c69185146dda3eba18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85f30debca5af9c69185146dda3eba18">&#9670;&#160;</a></span>STREAM_PROVIDER_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_PROVIDER_MASK&#160;&#160;&#160;0x000000F0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00319">319</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="aebd4c9ef6f6e60b283469eb9aeebcd8e" name="aebd4c9ef6f6e60b283469eb9aeebcd8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd4c9ef6f6e60b283469eb9aeebcd8e">&#9670;&#160;</a></span>STREAM_PROVIDER_MPQE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_PROVIDER_MPQE&#160;&#160;&#160;0x00000020</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00317">317</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a4b2a4fcc373340f8488b54729205c0df" name="a4b2a4fcc373340f8488b54729205c0df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b2a4fcc373340f8488b54729205c0df">&#9670;&#160;</a></span>STREAM_PROVIDER_PARTIAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_PROVIDER_PARTIAL&#160;&#160;&#160;0x00000010</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00316">316</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a07a964e92d9c6a64250c80b56e75c520" name="a07a964e92d9c6a64250c80b56e75c520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07a964e92d9c6a64250c80b56e75c520">&#9670;&#160;</a></span>STREAM_PROVIDERS_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_PROVIDERS_MASK&#160;&#160;&#160;0x000000FF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00326">326</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a230cb606fc96bdc818bcfbab5048b77e" name="a230cb606fc96bdc818bcfbab5048b77e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a230cb606fc96bdc818bcfbab5048b77e">&#9670;&#160;</a></span>VERIFY_FILE_CHECKSUM_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_FILE_CHECKSUM_ERROR&#160;&#160;&#160;0x0020</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00363">363</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a8206034be7a98f99549fab9ce2e2aef8" name="a8206034be7a98f99549fab9ce2e2aef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8206034be7a98f99549fab9ce2e2aef8">&#9670;&#160;</a></span>VERIFY_FILE_ERROR_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_FILE_ERROR_MASK&#160;&#160;&#160;(<a class="el" href="StormLib_8h.html#a60289c353e19b4b9f094c08c16c203a1">VERIFY_OPEN_ERROR</a> | <a class="el" href="StormLib_8h.html#a09dc4931e2293affb99c2b608f7ac5c6">VERIFY_READ_ERROR</a> | <a class="el" href="StormLib_8h.html#a934b5a56633ef30f63cd3731767d7e69">VERIFY_FILE_SECTOR_CRC_ERROR</a> | <a class="el" href="StormLib_8h.html#a230cb606fc96bdc818bcfbab5048b77e">VERIFY_FILE_CHECKSUM_ERROR</a> | <a class="el" href="StormLib_8h.html#a94636e6914fe491c599855f865a17de1">VERIFY_FILE_MD5_ERROR</a> | <a class="el" href="StormLib_8h.html#a29975425d21cdc11f9559439b08e20b9">VERIFY_FILE_RAW_MD5_ERROR</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00368">368</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a650e382f930af554af46e681bc2a3f07" name="a650e382f930af554af46e681bc2a3f07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a650e382f930af554af46e681bc2a3f07">&#9670;&#160;</a></span>VERIFY_FILE_HAS_CHECKSUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_FILE_HAS_CHECKSUM&#160;&#160;&#160;0x0010</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00362">362</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="adb51ab95f1d38e53b7bdc018f85bcc0c" name="adb51ab95f1d38e53b7bdc018f85bcc0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb51ab95f1d38e53b7bdc018f85bcc0c">&#9670;&#160;</a></span>VERIFY_FILE_HAS_MD5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_FILE_HAS_MD5&#160;&#160;&#160;0x0040</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00364">364</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="af9c32306540a4843c10d65c13d0ed0ba" name="af9c32306540a4843c10d65c13d0ed0ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9c32306540a4843c10d65c13d0ed0ba">&#9670;&#160;</a></span>VERIFY_FILE_HAS_RAW_MD5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_FILE_HAS_RAW_MD5&#160;&#160;&#160;0x0100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00366">366</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="af0452ff667b8f6c27f6836b3d3e078f7" name="af0452ff667b8f6c27f6836b3d3e078f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0452ff667b8f6c27f6836b3d3e078f7">&#9670;&#160;</a></span>VERIFY_FILE_HAS_SECTOR_CRC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_FILE_HAS_SECTOR_CRC&#160;&#160;&#160;0x0004</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00360">360</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a94636e6914fe491c599855f865a17de1" name="a94636e6914fe491c599855f865a17de1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94636e6914fe491c599855f865a17de1">&#9670;&#160;</a></span>VERIFY_FILE_MD5_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_FILE_MD5_ERROR&#160;&#160;&#160;0x0080</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00365">365</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a29975425d21cdc11f9559439b08e20b9" name="a29975425d21cdc11f9559439b08e20b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29975425d21cdc11f9559439b08e20b9">&#9670;&#160;</a></span>VERIFY_FILE_RAW_MD5_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_FILE_RAW_MD5_ERROR&#160;&#160;&#160;0x0200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00367">367</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a934b5a56633ef30f63cd3731767d7e69" name="a934b5a56633ef30f63cd3731767d7e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a934b5a56633ef30f63cd3731767d7e69">&#9670;&#160;</a></span>VERIFY_FILE_SECTOR_CRC_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_FILE_SECTOR_CRC_ERROR&#160;&#160;&#160;0x0008</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00361">361</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a60289c353e19b4b9f094c08c16c203a1" name="a60289c353e19b4b9f094c08c16c203a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60289c353e19b4b9f094c08c16c203a1">&#9670;&#160;</a></span>VERIFY_OPEN_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_OPEN_ERROR&#160;&#160;&#160;0x0001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00358">358</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a09dc4931e2293affb99c2b608f7ac5c6" name="a09dc4931e2293affb99c2b608f7ac5c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09dc4931e2293affb99c2b608f7ac5c6">&#9670;&#160;</a></span>VERIFY_READ_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_READ_ERROR&#160;&#160;&#160;0x0002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00359">359</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="afcb16e96c8708fd0d9ff12d058076fdc" name="afcb16e96c8708fd0d9ff12d058076fdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcb16e96c8708fd0d9ff12d058076fdc">&#9670;&#160;</a></span>HASH_STRING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>(* HASH_STRING) (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szFileName, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwHashType)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00405">405</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a97df30ed85f80d5c8fe560750b3efe4a" name="a97df30ed85f80d5c8fe560750b3efe4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97df30ed85f80d5c8fe560750b3efe4a">&#9670;&#160;</a></span>PSFILE_CREATE_MPQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__SFILE__CREATE__MPQ.html">_SFILE_CREATE_MPQ</a> * <a class="el" href="StormLib_8h.html#a97df30ed85f80d5c8fe560750b3efe4a">PSFILE_CREATE_MPQ</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a868c53c463cdc7f0bf83c41993c5eb54" name="a868c53c463cdc7f0bf83c41993c5eb54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a868c53c463cdc7f0bf83c41993c5eb54">&#9670;&#160;</a></span>PSFILE_FIND_DATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__SFILE__FIND__DATA.html">_SFILE_FIND_DATA</a> * <a class="el" href="StormLib_8h.html#a868c53c463cdc7f0bf83c41993c5eb54">PSFILE_FIND_DATA</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9ff5e95dd1385dd48527ff9a2c66c425" name="a9ff5e95dd1385dd48527ff9a2c66c425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ff5e95dd1385dd48527ff9a2c66c425">&#9670;&#160;</a></span>PSFILE_MARKERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__SFILE__MARKERS.html">_SFILE_MARKERS</a> * <a class="el" href="StormLib_8h.html#a9ff5e95dd1385dd48527ff9a2c66c425">PSFILE_MARKERS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8e310b34dc27b4b6bfc6c0ccc4c725f4" name="a8e310b34dc27b4b6bfc6c0ccc4c725f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e310b34dc27b4b6bfc6c0ccc4c725f4">&#9670;&#160;</a></span>SFILE_ADDFILE_CALLBACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * SFILE_ADDFILE_CALLBACK) (void *pvUserData, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesWritten, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwTotalBytes, <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> bFinalCall)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00485">485</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="accf539777d623a74eb6b4394dd7fd6a1" name="accf539777d623a74eb6b4394dd7fd6a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accf539777d623a74eb6b4394dd7fd6a1">&#9670;&#160;</a></span>SFILE_COMPACT_CALLBACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * SFILE_COMPACT_CALLBACK) (void *pvUserData, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwWorkType, <a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> BytesProcessed, <a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> TotalBytes)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00486">486</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a404dcd27c577084df5f075ab2bb87a6c" name="a404dcd27c577084df5f075ab2bb87a6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a404dcd27c577084df5f075ab2bb87a6c">&#9670;&#160;</a></span>SFILE_CREATE_MPQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__SFILE__CREATE__MPQ.html">_SFILE_CREATE_MPQ</a> <a class="el" href="StormLib_8h.html#a404dcd27c577084df5f075ab2bb87a6c">SFILE_CREATE_MPQ</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aec85f6efb05064d79de5e05fff77c639" name="aec85f6efb05064d79de5e05fff77c639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec85f6efb05064d79de5e05fff77c639">&#9670;&#160;</a></span>SFILE_DOWNLOAD_CALLBACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * SFILE_DOWNLOAD_CALLBACK) (void *pvUserData, <a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> ByteOffset, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwTotalBytes)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00484">484</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ac80854a06a92ee69e22c1d2c1fc5b5b9" name="ac80854a06a92ee69e22c1d2c1fc5b5b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac80854a06a92ee69e22c1d2c1fc5b5b9">&#9670;&#160;</a></span>SFILE_FIND_DATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__SFILE__FIND__DATA.html">_SFILE_FIND_DATA</a> <a class="el" href="StormLib_8h.html#ac80854a06a92ee69e22c1d2c1fc5b5b9">SFILE_FIND_DATA</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8286cb2a0f0d778bc75196a08e7a242f" name="a8286cb2a0f0d778bc75196a08e7a242f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8286cb2a0f0d778bc75196a08e7a242f">&#9670;&#160;</a></span>SFILE_MARKERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__SFILE__MARKERS.html">_SFILE_MARKERS</a> <a class="el" href="StormLib_8h.html#a8286cb2a0f0d778bc75196a08e7a242f">SFILE_MARKERS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a37c2499655dbb0a1dbdaf1829003648e" name="a37c2499655dbb0a1dbdaf1829003648e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37c2499655dbb0a1dbdaf1829003648e">&#9670;&#160;</a></span>SFILECLOSEARCHIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * SFILECLOSEARCHIVE) (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00988">988</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="add642a1497e31540d395dd47df3ead44" name="add642a1497e31540d395dd47df3ead44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add642a1497e31540d395dd47df3ead44">&#9670;&#160;</a></span>SFILECLOSEFILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * SFILECLOSEFILE) (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00990">990</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a30c360bd9a936cf231e971655d4852c9" name="a30c360bd9a936cf231e971655d4852c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30c360bd9a936cf231e971655d4852c9">&#9670;&#160;</a></span>SFILEGETFILESIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * SFILEGETFILESIZE) (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00991">991</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a67d641b05043414b7c8efe066af79bf3" name="a67d641b05043414b7c8efe066af79bf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d641b05043414b7c8efe066af79bf3">&#9670;&#160;</a></span>SFileInfoClass</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3">_SFileInfoClass</a> <a class="el" href="StormLib_8h.html#a67d641b05043414b7c8efe066af79bf3">SFileInfoClass</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa5785fec88675e850361edc91fa6af74" name="aa5785fec88675e850361edc91fa6af74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5785fec88675e850361edc91fa6af74">&#9670;&#160;</a></span>SFILEOPENARCHIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * SFILEOPENARCHIVE) (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>, <a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00987">987</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="afe944956d84d84b97973d07d20b55dae" name="afe944956d84d84b97973d07d20b55dae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe944956d84d84b97973d07d20b55dae">&#9670;&#160;</a></span>SFILEOPENFILEEX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * SFILEOPENFILEEX) (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>, <a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00989">989</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a90590797535b0f68c71bfab2cdf17f70" name="a90590797535b0f68c71bfab2cdf17f70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90590797535b0f68c71bfab2cdf17f70">&#9670;&#160;</a></span>SFILEREADFILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * SFILEREADFILE) (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, void *, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>, <a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>, <a class="el" href="StormPort_8h.html#adfd8166ccad505199a5bf3b5fb0ec8d8">LPOVERLAPPED</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00993">993</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a7e81800ce08c5f313d17089a36533ceb" name="a7e81800ce08c5f313d17089a36533ceb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e81800ce08c5f313d17089a36533ceb">&#9670;&#160;</a></span>SFILESETFILEPOINTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * SFILESETFILEPOINTER) (<a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <a class="el" href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a>, <a class="el" href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a> *, <a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00992">992</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ada41f29620f00972c7a75a67a5becec8" name="ada41f29620f00972c7a75a67a5becec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada41f29620f00972c7a75a67a5becec8">&#9670;&#160;</a></span>SFILESETLOCALE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>(<a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> * SFILESETLOCALE) (<a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00986">986</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a07781c6d52e586d0221f86c84211ab71" name="a07781c6d52e586d0221f86c84211ab71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07781c6d52e586d0221f86c84211ab71">&#9670;&#160;</a></span>TFileEntry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TFileEntry.html">_TFileEntry</a> <a class="el" href="StormLib_8h.html#a07781c6d52e586d0221f86c84211ab71">TFileEntry</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a597f09cfd154b67f349544673729ce0f" name="a597f09cfd154b67f349544673729ce0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a597f09cfd154b67f349544673729ce0f">&#9670;&#160;</a></span>TFileStream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structTFileStream.html">TFileStream</a> <a class="el" href="structTFileStream.html">TFileStream</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00488">488</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="a0b98dca19d4c344762c4dde4d810a5a9" name="a0b98dca19d4c344762c4dde4d810a5a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b98dca19d4c344762c4dde4d810a5a9">&#9670;&#160;</a></span>TMPQArchive</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TMPQArchive.html">_TMPQArchive</a> <a class="el" href="StormLib_8h.html#a0b98dca19d4c344762c4dde4d810a5a9">TMPQArchive</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a44e520bfaca46f55ce915af6df9dd265" name="a44e520bfaca46f55ce915af6df9dd265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44e520bfaca46f55ce915af6df9dd265">&#9670;&#160;</a></span>TMPQBetHeader</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TMPQBetHeader.html">_TMPQBetHeader</a> <a class="el" href="StormLib_8h.html#a44e520bfaca46f55ce915af6df9dd265">TMPQBetHeader</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a88d0d33a9ef1ba07b984d0666575478f" name="a88d0d33a9ef1ba07b984d0666575478f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88d0d33a9ef1ba07b984d0666575478f">&#9670;&#160;</a></span>TMPQBetTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TMPQBetTable.html">_TMPQBetTable</a> <a class="el" href="StormLib_8h.html#a88d0d33a9ef1ba07b984d0666575478f">TMPQBetTable</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5718a859878facc9396eee7be40784cc" name="a5718a859878facc9396eee7be40784cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5718a859878facc9396eee7be40784cc">&#9670;&#160;</a></span>TMPQBits</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structTMPQBits.html">TMPQBits</a> <a class="el" href="structTMPQBits.html">TMPQBits</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00489">489</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>

</div>
</div>
<a id="ac024b00ba02354b5d3d5d0c594359207" name="ac024b00ba02354b5d3d5d0c594359207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac024b00ba02354b5d3d5d0c594359207">&#9670;&#160;</a></span>TMPQBlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TMPQBlock.html">_TMPQBlock</a> <a class="el" href="StormLib_8h.html#ac024b00ba02354b5d3d5d0c594359207">TMPQBlock</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7ba4abe40715e1c52321a4d8f0fa41e0" name="a7ba4abe40715e1c52321a4d8f0fa41e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba4abe40715e1c52321a4d8f0fa41e0">&#9670;&#160;</a></span>TMPQExtHeader</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TMPQExtHeader.html">_TMPQExtHeader</a> <a class="el" href="StormLib_8h.html#a7ba4abe40715e1c52321a4d8f0fa41e0">TMPQExtHeader</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab00c160cef535493ec7dab495f8feece" name="ab00c160cef535493ec7dab495f8feece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab00c160cef535493ec7dab495f8feece">&#9670;&#160;</a></span>TMPQFile</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TMPQFile.html">_TMPQFile</a> <a class="el" href="StormLib_8h.html#ab00c160cef535493ec7dab495f8feece">TMPQFile</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3931032d33f7a8276dd15d842b04ce0c" name="a3931032d33f7a8276dd15d842b04ce0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3931032d33f7a8276dd15d842b04ce0c">&#9670;&#160;</a></span>TMPQHash</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TMPQHash.html">_TMPQHash</a> <a class="el" href="StormLib_8h.html#a3931032d33f7a8276dd15d842b04ce0c">TMPQHash</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad3ada5322cf6ba1694cef8ee03e219d7" name="ad3ada5322cf6ba1694cef8ee03e219d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3ada5322cf6ba1694cef8ee03e219d7">&#9670;&#160;</a></span>TMPQHeader</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TMPQHeader.html">_TMPQHeader</a> <a class="el" href="StormLib_8h.html#ad3ada5322cf6ba1694cef8ee03e219d7">TMPQHeader</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acf59a724fa8f6597589b656d6f206277" name="acf59a724fa8f6597589b656d6f206277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf59a724fa8f6597589b656d6f206277">&#9670;&#160;</a></span>TMPQHetHeader</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TMPQHetHeader.html">_TMPQHetHeader</a> <a class="el" href="StormLib_8h.html#acf59a724fa8f6597589b656d6f206277">TMPQHetHeader</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a227ee271f86d0309e4659aefc3211a06" name="a227ee271f86d0309e4659aefc3211a06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a227ee271f86d0309e4659aefc3211a06">&#9670;&#160;</a></span>TMPQHetTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TMPQHetTable.html">_TMPQHetTable</a> <a class="el" href="StormLib_8h.html#a227ee271f86d0309e4659aefc3211a06">TMPQHetTable</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a32b41c22eea22b7910d3cb8558e5c6c3" name="a32b41c22eea22b7910d3cb8558e5c6c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32b41c22eea22b7910d3cb8558e5c6c3">&#9670;&#160;</a></span>TMPQNameCache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TMPQNameCache.html">_TMPQNameCache</a> <a class="el" href="StormLib_8h.html#a32b41c22eea22b7910d3cb8558e5c6c3">TMPQNameCache</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3d4029547e1c3655efaffdcaf68da030" name="a3d4029547e1c3655efaffdcaf68da030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d4029547e1c3655efaffdcaf68da030">&#9670;&#160;</a></span>TMPQNamePrefix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TMPQNamePrefix.html">_TMPQNamePrefix</a> <a class="el" href="StormLib_8h.html#a3d4029547e1c3655efaffdcaf68da030">TMPQNamePrefix</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b4d9eaf2101262ff0f76475beda0a2c" name="a9b4d9eaf2101262ff0f76475beda0a2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b4d9eaf2101262ff0f76475beda0a2c">&#9670;&#160;</a></span>TMPQUserData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TMPQUserData.html">_TMPQUserData</a> <a class="el" href="StormLib_8h.html#a9b4d9eaf2101262ff0f76475beda0a2c">TMPQUserData</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9be9da8f2fbea3f051a845b1a5813180" name="a9be9da8f2fbea3f051a845b1a5813180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9be9da8f2fbea3f051a845b1a5813180">&#9670;&#160;</a></span>TPatchInfo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__TPatchInfo.html">_TPatchInfo</a> <a class="el" href="StormLib_8h.html#a9be9da8f2fbea3f051a845b1a5813180">TPatchInfo</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a90f178cc391e156ead40ea74dc0414d3" name="a90f178cc391e156ead40ea74dc0414d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90f178cc391e156ead40ea74dc0414d3">&#9670;&#160;</a></span>_SFileInfoClass</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3">_SFileInfoClass</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a6f586faa00c75a8cdad953e5efde6286" name="a90f178cc391e156ead40ea74dc0414d3a6f586faa00c75a8cdad953e5efde6286"></a>SFileMpqFileName&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a16b9fe55c427a5197e7a74440c639f6d" name="a90f178cc391e156ead40ea74dc0414d3a16b9fe55c427a5197e7a74440c639f6d"></a>SFileMpqStreamBitmap&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3ab6ac50d041070ae4b65f53681f0854e9" name="a90f178cc391e156ead40ea74dc0414d3ab6ac50d041070ae4b65f53681f0854e9"></a>SFileMpqUserDataOffset&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a13361d2361f48e8b52f78f132027f4ae" name="a90f178cc391e156ead40ea74dc0414d3a13361d2361f48e8b52f78f132027f4ae"></a>SFileMpqUserDataHeader&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3adc9d2e7fb46b5897767196d43b4e383f" name="a90f178cc391e156ead40ea74dc0414d3adc9d2e7fb46b5897767196d43b4e383f"></a>SFileMpqUserData&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3ae9b6712848b58355a408f3daab83f96e" name="a90f178cc391e156ead40ea74dc0414d3ae9b6712848b58355a408f3daab83f96e"></a>SFileMpqHeaderOffset&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a2c89240e1cb6ab15bd904d349454aa28" name="a90f178cc391e156ead40ea74dc0414d3a2c89240e1cb6ab15bd904d349454aa28"></a>SFileMpqHeaderSize&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3abf8849fd539c2b9ef471ed7dc7fd2db1" name="a90f178cc391e156ead40ea74dc0414d3abf8849fd539c2b9ef471ed7dc7fd2db1"></a>SFileMpqHeader&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a476e6fcb3d5f43970f887ac598556585" name="a90f178cc391e156ead40ea74dc0414d3a476e6fcb3d5f43970f887ac598556585"></a>SFileMpqHetTableOffset&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a55c455cf9a5ed02df0394977077a9f49" name="a90f178cc391e156ead40ea74dc0414d3a55c455cf9a5ed02df0394977077a9f49"></a>SFileMpqHetTableSize&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a3fd7de9c4ab74548e75dee295e81fd52" name="a90f178cc391e156ead40ea74dc0414d3a3fd7de9c4ab74548e75dee295e81fd52"></a>SFileMpqHetHeader&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a97a82d443138c8cc728c481e10432325" name="a90f178cc391e156ead40ea74dc0414d3a97a82d443138c8cc728c481e10432325"></a>SFileMpqHetTable&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3aa4f4b7d0ffa6370a0422aa549f5e3bac" name="a90f178cc391e156ead40ea74dc0414d3aa4f4b7d0ffa6370a0422aa549f5e3bac"></a>SFileMpqBetTableOffset&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3af4b818adfb2d7cfa16ff245a18338eb5" name="a90f178cc391e156ead40ea74dc0414d3af4b818adfb2d7cfa16ff245a18338eb5"></a>SFileMpqBetTableSize&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a105f024e278c43445c1c5ff1f8ea1f1b" name="a90f178cc391e156ead40ea74dc0414d3a105f024e278c43445c1c5ff1f8ea1f1b"></a>SFileMpqBetHeader&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3ab0cb978f8746ea272bbe0ac9878b43a0" name="a90f178cc391e156ead40ea74dc0414d3ab0cb978f8746ea272bbe0ac9878b43a0"></a>SFileMpqBetTable&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a6315b32e12c8d68c3e7e0e6be68cd3db" name="a90f178cc391e156ead40ea74dc0414d3a6315b32e12c8d68c3e7e0e6be68cd3db"></a>SFileMpqHashTableOffset&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3ad90a58ed8a272c3f31ddd666113e3b1b" name="a90f178cc391e156ead40ea74dc0414d3ad90a58ed8a272c3f31ddd666113e3b1b"></a>SFileMpqHashTableSize64&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a1d751d6d4f05c1b5f8b5c4767948aa06" name="a90f178cc391e156ead40ea74dc0414d3a1d751d6d4f05c1b5f8b5c4767948aa06"></a>SFileMpqHashTableSize&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a3ff802559cd74fa3f55ef039630f4d88" name="a90f178cc391e156ead40ea74dc0414d3a3ff802559cd74fa3f55ef039630f4d88"></a>SFileMpqHashTable&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a167d10513bfa74b57afd388de41c7fd4" name="a90f178cc391e156ead40ea74dc0414d3a167d10513bfa74b57afd388de41c7fd4"></a>SFileMpqBlockTableOffset&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3af39f8a570fbe2e3b3adb8ed81711680f" name="a90f178cc391e156ead40ea74dc0414d3af39f8a570fbe2e3b3adb8ed81711680f"></a>SFileMpqBlockTableSize64&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3aaa004bf74465d3053cf255a8ce621a43" name="a90f178cc391e156ead40ea74dc0414d3aaa004bf74465d3053cf255a8ce621a43"></a>SFileMpqBlockTableSize&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3ae59d94899507065297ca567a4c2d0655" name="a90f178cc391e156ead40ea74dc0414d3ae59d94899507065297ca567a4c2d0655"></a>SFileMpqBlockTable&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a5b738a9c20b08546c02eed33084401c8" name="a90f178cc391e156ead40ea74dc0414d3a5b738a9c20b08546c02eed33084401c8"></a>SFileMpqHiBlockTableOffset&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a5e7fe06d85cb8e4bab77e9cc35e8d354" name="a90f178cc391e156ead40ea74dc0414d3a5e7fe06d85cb8e4bab77e9cc35e8d354"></a>SFileMpqHiBlockTableSize64&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a65ed9eb773b2039af8bf641c88c527c0" name="a90f178cc391e156ead40ea74dc0414d3a65ed9eb773b2039af8bf641c88c527c0"></a>SFileMpqHiBlockTable&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a2f12ee38d1f1fe0cf8adc58f36cabacd" name="a90f178cc391e156ead40ea74dc0414d3a2f12ee38d1f1fe0cf8adc58f36cabacd"></a>SFileMpqSignatures&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a23f3df00ce3c24ce8803771624604c00" name="a90f178cc391e156ead40ea74dc0414d3a23f3df00ce3c24ce8803771624604c00"></a>SFileMpqStrongSignatureOffset&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3af011be22f9762d226813819a20241305" name="a90f178cc391e156ead40ea74dc0414d3af011be22f9762d226813819a20241305"></a>SFileMpqStrongSignatureSize&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3aedae906162459673c4cbeebd17bad09b" name="a90f178cc391e156ead40ea74dc0414d3aedae906162459673c4cbeebd17bad09b"></a>SFileMpqStrongSignature&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a4d0e602be713ff6a1d1d8e348360f42d" name="a90f178cc391e156ead40ea74dc0414d3a4d0e602be713ff6a1d1d8e348360f42d"></a>SFileMpqArchiveSize64&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a9a16252d9bbd2c2e670ea78d6a054491" name="a90f178cc391e156ead40ea74dc0414d3a9a16252d9bbd2c2e670ea78d6a054491"></a>SFileMpqArchiveSize&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a4ef6ceed6897535cbce154d7d5edc1b3" name="a90f178cc391e156ead40ea74dc0414d3a4ef6ceed6897535cbce154d7d5edc1b3"></a>SFileMpqMaxFileCount&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a274c6fef3d8e74a8f82ac86bc9fb2924" name="a90f178cc391e156ead40ea74dc0414d3a274c6fef3d8e74a8f82ac86bc9fb2924"></a>SFileMpqFileTableSize&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a5a11b123a8517ce48f7afa1a393b8e19" name="a90f178cc391e156ead40ea74dc0414d3a5a11b123a8517ce48f7afa1a393b8e19"></a>SFileMpqSectorSize&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a53b7024d554b409bd22e0ad589964cf4" name="a90f178cc391e156ead40ea74dc0414d3a53b7024d554b409bd22e0ad589964cf4"></a>SFileMpqNumberOfFiles&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3ae4553d5ac5e1229fc6ef79e5e87041fe" name="a90f178cc391e156ead40ea74dc0414d3ae4553d5ac5e1229fc6ef79e5e87041fe"></a>SFileMpqRawChunkSize&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a61467b9f7e76bde17f3f83f4fbd6b73e" name="a90f178cc391e156ead40ea74dc0414d3a61467b9f7e76bde17f3f83f4fbd6b73e"></a>SFileMpqStreamFlags&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a8f7439fddc4f1798c92b1fa35d25074c" name="a90f178cc391e156ead40ea74dc0414d3a8f7439fddc4f1798c92b1fa35d25074c"></a>SFileMpqFlags&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3abd4bc7d7c777f43efb5f22680b6f852d" name="a90f178cc391e156ead40ea74dc0414d3abd4bc7d7c777f43efb5f22680b6f852d"></a>SFileInfoPatchChain&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a142ae8882ece33970ef1b984fc4e3cbf" name="a90f178cc391e156ead40ea74dc0414d3a142ae8882ece33970ef1b984fc4e3cbf"></a>SFileInfoFileEntry&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a820fd5371b151b244ffd08393f8877e9" name="a90f178cc391e156ead40ea74dc0414d3a820fd5371b151b244ffd08393f8877e9"></a>SFileInfoHashEntry&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3acc9cd4f89a71bf69a6a70fe45b9a9ecf" name="a90f178cc391e156ead40ea74dc0414d3acc9cd4f89a71bf69a6a70fe45b9a9ecf"></a>SFileInfoHashIndex&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3ac63b8edf2c463ee184a571071c84abd3" name="a90f178cc391e156ead40ea74dc0414d3ac63b8edf2c463ee184a571071c84abd3"></a>SFileInfoNameHash1&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a8e337bfdf364a4c3a253a9e80c5a5cdc" name="a90f178cc391e156ead40ea74dc0414d3a8e337bfdf364a4c3a253a9e80c5a5cdc"></a>SFileInfoNameHash2&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a5e0fdb5a3e5f95a0bce6b86916bcea56" name="a90f178cc391e156ead40ea74dc0414d3a5e0fdb5a3e5f95a0bce6b86916bcea56"></a>SFileInfoNameHash3&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a891d6032f0a540a2fed2021fa80f0376" name="a90f178cc391e156ead40ea74dc0414d3a891d6032f0a540a2fed2021fa80f0376"></a>SFileInfoLocale&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3ac31921058e9e17c0901d2938abda5312" name="a90f178cc391e156ead40ea74dc0414d3ac31921058e9e17c0901d2938abda5312"></a>SFileInfoFileIndex&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a72601c2519d44d5dee8b069dacd51964" name="a90f178cc391e156ead40ea74dc0414d3a72601c2519d44d5dee8b069dacd51964"></a>SFileInfoByteOffset&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a8b376a37df412d4aa5f983a2f6211fcf" name="a90f178cc391e156ead40ea74dc0414d3a8b376a37df412d4aa5f983a2f6211fcf"></a>SFileInfoFileTime&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a3726b227a14fe257ae8aeb7be7d83437" name="a90f178cc391e156ead40ea74dc0414d3a3726b227a14fe257ae8aeb7be7d83437"></a>SFileInfoFileSize&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3afe2e60dff9fc8f6c6103e5697739229c" name="a90f178cc391e156ead40ea74dc0414d3afe2e60dff9fc8f6c6103e5697739229c"></a>SFileInfoCompressedSize&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3ae19e7046a1be4813d81eeeaba366b582" name="a90f178cc391e156ead40ea74dc0414d3ae19e7046a1be4813d81eeeaba366b582"></a>SFileInfoFlags&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a74e085d098861aeebebff5d863f2ff83" name="a90f178cc391e156ead40ea74dc0414d3a74e085d098861aeebebff5d863f2ff83"></a>SFileInfoEncryptionKey&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3a944e704c35366e96a180762c0efcc24e" name="a90f178cc391e156ead40ea74dc0414d3a944e704c35366e96a180762c0efcc24e"></a>SFileInfoEncryptionKeyRaw&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a90f178cc391e156ead40ea74dc0414d3acb29b757e6456e144941098494558ea0" name="a90f178cc391e156ead40ea74dc0414d3acb29b757e6456e144941098494558ea0"></a>SFileInfoCRC32&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="StormLib_8h_source.html#l00410">410</a> of file <a class="el" href="StormLib_8h_source.html">StormLib.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  411</span>{</div>
<div class="line"><span class="lineno">  412</span>    <span class="comment">// Info classes for archives</span></div>
<div class="line"><span class="lineno">  413</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a6f586faa00c75a8cdad953e5efde6286">SFileMpqFileName</a>,                       <span class="comment">// Name of the archive file (TCHAR [])</span></div>
<div class="line"><span class="lineno">  414</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a16b9fe55c427a5197e7a74440c639f6d">SFileMpqStreamBitmap</a>,                   <span class="comment">// Array of bits, each bit means availability of one block (BYTE [])</span></div>
<div class="line"><span class="lineno">  415</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ab6ac50d041070ae4b65f53681f0854e9">SFileMpqUserDataOffset</a>,                 <span class="comment">// Offset of the user data header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  416</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a13361d2361f48e8b52f78f132027f4ae">SFileMpqUserDataHeader</a>,                 <span class="comment">// Raw (unfixed) user data header (TMPQUserData)</span></div>
<div class="line"><span class="lineno">  417</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3adc9d2e7fb46b5897767196d43b4e383f">SFileMpqUserData</a>,                       <span class="comment">// MPQ USer data, without the header (BYTE [])</span></div>
<div class="line"><span class="lineno">  418</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae9b6712848b58355a408f3daab83f96e">SFileMpqHeaderOffset</a>,                   <span class="comment">// Offset of the MPQ header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  419</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a2c89240e1cb6ab15bd904d349454aa28">SFileMpqHeaderSize</a>,                     <span class="comment">// Fixed size of the MPQ header</span></div>
<div class="line"><span class="lineno">  420</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3abf8849fd539c2b9ef471ed7dc7fd2db1">SFileMpqHeader</a>,                         <span class="comment">// Raw (unfixed) archive header (TMPQHeader)</span></div>
<div class="line"><span class="lineno">  421</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a476e6fcb3d5f43970f887ac598556585">SFileMpqHetTableOffset</a>,                 <span class="comment">// Offset of the HET table, relative to MPQ header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  422</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a55c455cf9a5ed02df0394977077a9f49">SFileMpqHetTableSize</a>,                   <span class="comment">// Compressed size of the HET table (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  423</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3fd7de9c4ab74548e75dee295e81fd52">SFileMpqHetHeader</a>,                      <span class="comment">// HET table header (TMPQHetHeader)</span></div>
<div class="line"><span class="lineno">  424</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a97a82d443138c8cc728c481e10432325">SFileMpqHetTable</a>,                       <span class="comment">// HET table as pointer. Must be freed using SFileFreeFileInfo</span></div>
<div class="line"><span class="lineno">  425</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aa4f4b7d0ffa6370a0422aa549f5e3bac">SFileMpqBetTableOffset</a>,                 <span class="comment">// Offset of the BET table, relative to MPQ header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  426</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af4b818adfb2d7cfa16ff245a18338eb5">SFileMpqBetTableSize</a>,                   <span class="comment">// Compressed size of the BET table (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  427</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a105f024e278c43445c1c5ff1f8ea1f1b">SFileMpqBetHeader</a>,                      <span class="comment">// BET table header, followed by the flags (TMPQBetHeader + DWORD[])</span></div>
<div class="line"><span class="lineno">  428</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ab0cb978f8746ea272bbe0ac9878b43a0">SFileMpqBetTable</a>,                       <span class="comment">// BET table as pointer. Must be freed using SFileFreeFileInfo</span></div>
<div class="line"><span class="lineno">  429</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a6315b32e12c8d68c3e7e0e6be68cd3db">SFileMpqHashTableOffset</a>,                <span class="comment">// Hash table offset, relative to MPQ header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  430</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ad90a58ed8a272c3f31ddd666113e3b1b">SFileMpqHashTableSize64</a>,                <span class="comment">// Compressed size of the hash table (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  431</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a1d751d6d4f05c1b5f8b5c4767948aa06">SFileMpqHashTableSize</a>,                  <span class="comment">// Size of the hash table, in entries (DWORD)</span></div>
<div class="line"><span class="lineno">  432</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3ff802559cd74fa3f55ef039630f4d88">SFileMpqHashTable</a>,                      <span class="comment">// Raw (unfixed) hash table (TMPQBlock [])</span></div>
<div class="line"><span class="lineno">  433</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a167d10513bfa74b57afd388de41c7fd4">SFileMpqBlockTableOffset</a>,               <span class="comment">// Block table offset, relative to MPQ header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  434</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af39f8a570fbe2e3b3adb8ed81711680f">SFileMpqBlockTableSize64</a>,               <span class="comment">// Compressed size of the block table (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  435</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aaa004bf74465d3053cf255a8ce621a43">SFileMpqBlockTableSize</a>,                 <span class="comment">// Size of the block table, in entries (DWORD)</span></div>
<div class="line"><span class="lineno">  436</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae59d94899507065297ca567a4c2d0655">SFileMpqBlockTable</a>,                     <span class="comment">// Raw (unfixed) block table (TMPQBlock [])</span></div>
<div class="line"><span class="lineno">  437</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5b738a9c20b08546c02eed33084401c8">SFileMpqHiBlockTableOffset</a>,             <span class="comment">// Hi-block table offset, relative to MPQ header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  438</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5e7fe06d85cb8e4bab77e9cc35e8d354">SFileMpqHiBlockTableSize64</a>,             <span class="comment">// Compressed size of the hi-block table (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  439</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a65ed9eb773b2039af8bf641c88c527c0">SFileMpqHiBlockTable</a>,                   <span class="comment">// The hi-block table (USHORT [])</span></div>
<div class="line"><span class="lineno">  440</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a2f12ee38d1f1fe0cf8adc58f36cabacd">SFileMpqSignatures</a>,                     <span class="comment">// Signatures present in the MPQ (DWORD)</span></div>
<div class="line"><span class="lineno">  441</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a23f3df00ce3c24ce8803771624604c00">SFileMpqStrongSignatureOffset</a>,          <span class="comment">// Byte offset of the strong signature, relative to begin of the file (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  442</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af011be22f9762d226813819a20241305">SFileMpqStrongSignatureSize</a>,            <span class="comment">// Size of the strong signature (DWORD)</span></div>
<div class="line"><span class="lineno">  443</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aedae906162459673c4cbeebd17bad09b">SFileMpqStrongSignature</a>,                <span class="comment">// The strong signature (BYTE [])</span></div>
<div class="line"><span class="lineno">  444</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a4d0e602be713ff6a1d1d8e348360f42d">SFileMpqArchiveSize64</a>,                  <span class="comment">// Archive size from the header (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  445</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a9a16252d9bbd2c2e670ea78d6a054491">SFileMpqArchiveSize</a>,                    <span class="comment">// Archive size from the header (DWORD)</span></div>
<div class="line"><span class="lineno">  446</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a4ef6ceed6897535cbce154d7d5edc1b3">SFileMpqMaxFileCount</a>,                   <span class="comment">// Max number of files in the archive (DWORD)</span></div>
<div class="line"><span class="lineno">  447</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a274c6fef3d8e74a8f82ac86bc9fb2924">SFileMpqFileTableSize</a>,                  <span class="comment">// Number of entries in the file table (DWORD)</span></div>
<div class="line"><span class="lineno">  448</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5a11b123a8517ce48f7afa1a393b8e19">SFileMpqSectorSize</a>,                     <span class="comment">// Sector size (DWORD)</span></div>
<div class="line"><span class="lineno">  449</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a53b7024d554b409bd22e0ad589964cf4">SFileMpqNumberOfFiles</a>,                  <span class="comment">// Number of files (DWORD)</span></div>
<div class="line"><span class="lineno">  450</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae4553d5ac5e1229fc6ef79e5e87041fe">SFileMpqRawChunkSize</a>,                   <span class="comment">// Size of the raw data chunk for MD5</span></div>
<div class="line"><span class="lineno">  451</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a61467b9f7e76bde17f3f83f4fbd6b73e">SFileMpqStreamFlags</a>,                    <span class="comment">// Stream flags (DWORD)</span></div>
<div class="line"><span class="lineno">  452</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8f7439fddc4f1798c92b1fa35d25074c">SFileMpqFlags</a>,                          <span class="comment">// Nonzero if the MPQ is read only (DWORD)</span></div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>    <span class="comment">// Info classes for files</span></div>
<div class="line"><span class="lineno">  455</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3abd4bc7d7c777f43efb5f22680b6f852d">SFileInfoPatchChain</a>,                    <span class="comment">// Chain of patches where the file is (TCHAR [])</span></div>
<div class="line"><span class="lineno">  456</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a142ae8882ece33970ef1b984fc4e3cbf">SFileInfoFileEntry</a>,                     <span class="comment">// The file entry for the file (TFileEntry)</span></div>
<div class="line"><span class="lineno">  457</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a820fd5371b151b244ffd08393f8877e9">SFileInfoHashEntry</a>,                     <span class="comment">// Hash table entry for the file (TMPQHash)</span></div>
<div class="line"><span class="lineno">  458</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3acc9cd4f89a71bf69a6a70fe45b9a9ecf">SFileInfoHashIndex</a>,                     <span class="comment">// Index of the hash table entry (DWORD)</span></div>
<div class="line"><span class="lineno">  459</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ac63b8edf2c463ee184a571071c84abd3">SFileInfoNameHash1</a>,                     <span class="comment">// The first name hash in the hash table (DWORD)</span></div>
<div class="line"><span class="lineno">  460</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8e337bfdf364a4c3a253a9e80c5a5cdc">SFileInfoNameHash2</a>,                     <span class="comment">// The second name hash in the hash table (DWORD)</span></div>
<div class="line"><span class="lineno">  461</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5e0fdb5a3e5f95a0bce6b86916bcea56">SFileInfoNameHash3</a>,                     <span class="comment">// 64-bit file name hash for the HET/BET tables (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  462</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a891d6032f0a540a2fed2021fa80f0376">SFileInfoLocale</a>,                        <span class="comment">// File locale (DWORD)</span></div>
<div class="line"><span class="lineno">  463</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ac31921058e9e17c0901d2938abda5312">SFileInfoFileIndex</a>,                     <span class="comment">// Block index (DWORD)</span></div>
<div class="line"><span class="lineno">  464</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a72601c2519d44d5dee8b069dacd51964">SFileInfoByteOffset</a>,                    <span class="comment">// File position in the archive (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  465</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8b376a37df412d4aa5f983a2f6211fcf">SFileInfoFileTime</a>,                      <span class="comment">// File time (ULONGLONG)</span></div>
<div class="line"><span class="lineno">  466</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3726b227a14fe257ae8aeb7be7d83437">SFileInfoFileSize</a>,                      <span class="comment">// Size of the file (DWORD)</span></div>
<div class="line"><span class="lineno">  467</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3afe2e60dff9fc8f6c6103e5697739229c">SFileInfoCompressedSize</a>,                <span class="comment">// Compressed file size (DWORD)</span></div>
<div class="line"><span class="lineno">  468</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae19e7046a1be4813d81eeeaba366b582">SFileInfoFlags</a>,                         <span class="comment">// File flags from (DWORD)</span></div>
<div class="line"><span class="lineno">  469</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a74e085d098861aeebebff5d863f2ff83">SFileInfoEncryptionKey</a>,                 <span class="comment">// File encryption key</span></div>
<div class="line"><span class="lineno">  470</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a944e704c35366e96a180762c0efcc24e">SFileInfoEncryptionKeyRaw</a>,              <span class="comment">// Unfixed value of the file key</span></div>
<div class="line"><span class="lineno">  471</span>    <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3acb29b757e6456e144941098494558ea0">SFileInfoCRC32</a>,                         <span class="comment">// CRC32 of the file</span></div>
<div class="line"><span class="lineno">  472</span>} <a class="code hl_typedef" href="StormLib_8h.html#a67d641b05043414b7c8efe066af79bf3">SFileInfoClass</a>;</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae8b75c4797726e9c5ee0b4b03bf31442" name="ae8b75c4797726e9c5ee0b4b03bf31442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8b75c4797726e9c5ee0b4b03bf31442">&#9670;&#160;</a></span>FileStream_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileStream_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function closes an archive file and frees any data buffers that have been allocated for stream management. The function must also support partially allocated structure, i.e. one or more buffers can be NULL, if there was an allocation failure during the process</p>
<p><em>pStream</em> Pointer to an open stream </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02907">2907</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2908</span>{</div>
<div class="line"><span class="lineno"> 2909</span>    <span class="comment">// Check if the stream structure is allocated at all</span></div>
<div class="line"><span class="lineno"> 2910</span>    <span class="keywordflow">if</span>(pStream != NULL)</div>
<div class="line"><span class="lineno"> 2911</span>    {</div>
<div class="line"><span class="lineno"> 2912</span>        <span class="comment">// Free the master stream, if any</span></div>
<div class="line"><span class="lineno"> 2913</span>        <span class="keywordflow">if</span>(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a26faae83ba546119ac59fc35eaeec274">pMaster</a> != NULL)</div>
<div class="line"><span class="lineno"> 2914</span>            <a class="code hl_function" href="FileStream_8cpp.html#ae8b75c4797726e9c5ee0b4b03bf31442">FileStream_Close</a>(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a26faae83ba546119ac59fc35eaeec274">pMaster</a>);</div>
<div class="line"><span class="lineno"> 2915</span>        pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a26faae83ba546119ac59fc35eaeec274">pMaster</a> = NULL;</div>
<div class="line"><span class="lineno"> 2916</span> </div>
<div class="line"><span class="lineno"> 2917</span>        <span class="comment">// Close the stream provider</span></div>
<div class="line"><span class="lineno"> 2918</span>        <span class="keywordflow">if</span>(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ac3f8968d1ae374c58ab50404221834e4">StreamClose</a> != NULL)</div>
<div class="line"><span class="lineno"> 2919</span>            pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ac3f8968d1ae374c58ab50404221834e4">StreamClose</a>(pStream);</div>
<div class="line"><span class="lineno"> 2920</span> </div>
<div class="line"><span class="lineno"> 2921</span>        <span class="comment">// ... or close base stream, if any</span></div>
<div class="line"><span class="lineno"> 2922</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#acbdc7dfef3127e4c077310381f8f6c7d">BaseClose</a> != NULL)</div>
<div class="line"><span class="lineno"> 2923</span>            pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#acbdc7dfef3127e4c077310381f8f6c7d">BaseClose</a>(pStream);</div>
<div class="line"><span class="lineno"> 2924</span> </div>
<div class="line"><span class="lineno"> 2925</span>        <span class="comment">// Free the stream itself</span></div>
<div class="line"><span class="lineno"> 2926</span>        <a class="code hl_define" href="StormCommon_8h.html#a50487dadfceefebfb0de8fa711eaf4b3">STORM_FREE</a>(pStream);</div>
<div class="line"><span class="lineno"> 2927</span>    }</div>
<div class="line"><span class="lineno"> 2928</span>}</div>
<div class="ttc" id="aFileStream_8cpp_html_ae8b75c4797726e9c5ee0b4b03bf31442"><div class="ttname"><a href="FileStream_8cpp.html#ae8b75c4797726e9c5ee0b4b03bf31442">FileStream_Close</a></div><div class="ttdeci">void FileStream_Close(TFileStream *pStream)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02907">FileStream.cpp:2907</a></div></div>
<div class="ttc" id="aStormCommon_8h_html_a50487dadfceefebfb0de8fa711eaf4b3"><div class="ttname"><a href="StormCommon_8h.html#a50487dadfceefebfb0de8fa711eaf4b3">STORM_FREE</a></div><div class="ttdeci">#define STORM_FREE(ptr)</div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00134">StormCommon.h:134</a></div></div>
<div class="ttc" id="astructTFileStream_html_a26faae83ba546119ac59fc35eaeec274"><div class="ttname"><a href="structTFileStream.html#a26faae83ba546119ac59fc35eaeec274">TFileStream::pMaster</a></div><div class="ttdeci">TFileStream * pMaster</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00181">FileStream.h:181</a></div></div>
<div class="ttc" id="astructTFileStream_html_ac3f8968d1ae374c58ab50404221834e4"><div class="ttname"><a href="structTFileStream.html#ac3f8968d1ae374c58ab50404221834e4">TFileStream::StreamClose</a></div><div class="ttdeci">STREAM_CLOSE StreamClose</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00161">FileStream.h:161</a></div></div>
<div class="ttc" id="astructTFileStream_html_acbdc7dfef3127e4c077310381f8f6c7d"><div class="ttname"><a href="structTFileStream.html#acbdc7dfef3127e4c077310381f8f6c7d">TFileStream::BaseClose</a></div><div class="ttdeci">STREAM_CLOSE BaseClose</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00175">FileStream.h:175</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ae8b75c4797726e9c5ee0b4b03bf31442_cgraph.svg" width="146" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ae8b75c4797726e9c5ee0b4b03bf31442_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aaba1ffb5ec458bc89519a891e28ab10e" name="aaba1ffb5ec458bc89519a891e28ab10e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaba1ffb5ec458bc89519a891e28ab10e">&#9670;&#160;</a></span>FileStream_CreateFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTFileStream.html">TFileStream</a> * FileStream_CreateFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwStreamFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function creates a new file for read-write access</p>
<ul>
<li>If the current platform supports file sharing, the file must be created for read sharing (i.e. another application can open the file for read, but not for write)</li>
<li>If the file does not exist, the function must create new one</li>
<li>If the file exists, the function must rewrite it and set to zero size</li>
<li>The parameters of the function must be validate by the caller</li>
<li>The function must initialize all stream function pointers in <a class="el" href="structTFileStream.html">TFileStream</a></li>
<li>If the function fails from any reason, it must close all handles and free all memory that has been allocated in the process of stream creation, including the <a class="el" href="structTFileStream.html">TFileStream</a> structure itself</li>
</ul>
<p><em>szFileName</em> Name of the file to create </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02443">2443</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2446</span>{</div>
<div class="line"><span class="lineno"> 2447</span>    <a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream;</div>
<div class="line"><span class="lineno"> 2448</span> </div>
<div class="line"><span class="lineno"> 2449</span>    <span class="comment">// We only support creation of flat, local file</span></div>
<div class="line"><span class="lineno"> 2450</span>    <span class="keywordflow">if</span>((dwStreamFlags &amp; (<a class="code hl_define" href="StormLib_8h.html#a07a964e92d9c6a64250c80b56e75c520">STREAM_PROVIDERS_MASK</a>)) != (<a class="code hl_define" href="StormLib_8h.html#a45b6170ca9e7880848cdca068234d28c">STREAM_PROVIDER_FLAT</a> | <a class="code hl_define" href="StormLib_8h.html#a3773c068cc9e5acf2ef6a0fd9b4a534e">BASE_PROVIDER_FILE</a>))</div>
<div class="line"><span class="lineno"> 2451</span>    {</div>
<div class="line"><span class="lineno"> 2452</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ab72d05032a6d1152bad9af394811d447">ERROR_NOT_SUPPORTED</a>);</div>
<div class="line"><span class="lineno"> 2453</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 2454</span>    }</div>
<div class="line"><span class="lineno"> 2455</span> </div>
<div class="line"><span class="lineno"> 2456</span>    <span class="comment">// Allocate file stream structure for flat stream</span></div>
<div class="line"><span class="lineno"> 2457</span>    pStream = <a class="code hl_function" href="FileStream_8cpp.html#aa5874b3e4d05d2f6dfa3a32d62f56bea">AllocateFileStream</a>(szFileName, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structTBlockStream.html">TBlockStream</a>), dwStreamFlags);</div>
<div class="line"><span class="lineno"> 2458</span>    <span class="keywordflow">if</span>(pStream != NULL)</div>
<div class="line"><span class="lineno"> 2459</span>    {</div>
<div class="line"><span class="lineno"> 2460</span>        <span class="comment">// Attempt to create the disk file</span></div>
<div class="line"><span class="lineno"> 2461</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="FileStream_8cpp.html#a1fcabccfb3e06e3d9aaa6c20bbbf35b1">BaseFile_Create</a>(pStream))</div>
<div class="line"><span class="lineno"> 2462</span>        {</div>
<div class="line"><span class="lineno"> 2463</span>            <span class="comment">// Fill the stream provider functions</span></div>
<div class="line"><span class="lineno"> 2464</span>            pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#aaf7da0af26da32b968cdb66eb87f26ce">StreamRead</a>    = pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a5b6aa0a4b5d6b97770f73fbc47412da1">BaseRead</a>;</div>
<div class="line"><span class="lineno"> 2465</span>            pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ae085fb3901c17a2b302196951a9fe412">StreamWrite</a>   = pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a811c9b3d565324e51361768847fe50a8">BaseWrite</a>;</div>
<div class="line"><span class="lineno"> 2466</span>            pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ae3358c9b5a9dfdee5e8275561eff8850">StreamResize</a>  = pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a00a7a9d0ce7cdea1c4ecdbd72a3bd282">BaseResize</a>;</div>
<div class="line"><span class="lineno"> 2467</span>            pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a95b85c4ef3254dc6a73fdb2e566ebbba">StreamGetSize</a> = pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a0366f518ffecab4131bf2527f22964e3">BaseGetSize</a>;</div>
<div class="line"><span class="lineno"> 2468</span>            pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a158f1621a05e8b3002c1729fd5d4cfca">StreamGetPos</a>  = pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#aa9c8095dd8a2e07b83611e0b5dac3fde">BaseGetPos</a>;</div>
<div class="line"><span class="lineno"> 2469</span>            pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ac3f8968d1ae374c58ab50404221834e4">StreamClose</a>   = pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#acbdc7dfef3127e4c077310381f8f6c7d">BaseClose</a>;</div>
<div class="line"><span class="lineno"> 2470</span>            <span class="keywordflow">return</span> pStream;</div>
<div class="line"><span class="lineno"> 2471</span>        }</div>
<div class="line"><span class="lineno"> 2472</span> </div>
<div class="line"><span class="lineno"> 2473</span>        <span class="comment">// File create failed, delete the stream</span></div>
<div class="line"><span class="lineno"> 2474</span>        <a class="code hl_define" href="StormCommon_8h.html#a50487dadfceefebfb0de8fa711eaf4b3">STORM_FREE</a>(pStream);</div>
<div class="line"><span class="lineno"> 2475</span>        pStream = NULL;</div>
<div class="line"><span class="lineno"> 2476</span>    }</div>
<div class="line"><span class="lineno"> 2477</span> </div>
<div class="line"><span class="lineno"> 2478</span>    <span class="comment">// Return the stream</span></div>
<div class="line"><span class="lineno"> 2479</span>    <span class="keywordflow">return</span> pStream;</div>
<div class="line"><span class="lineno"> 2480</span>}</div>
<div class="ttc" id="aFileStream_8cpp_html_a1fcabccfb3e06e3d9aaa6c20bbbf35b1"><div class="ttname"><a href="FileStream_8cpp.html#a1fcabccfb3e06e3d9aaa6c20bbbf35b1">BaseFile_Create</a></div><div class="ttdeci">static bool BaseFile_Create(TFileStream *pStream)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l00095">FileStream.cpp:95</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_a65dd8d3e416ffbd6ac5f468c6bdccac9"><div class="ttname"><a href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a></div><div class="ttdeci">void SetLastError(DWORD dwErrCode)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l00049">FileStream.cpp:49</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_aa5874b3e4d05d2f6dfa3a32d62f56bea"><div class="ttname"><a href="FileStream_8cpp.html#aa5874b3e4d05d2f6dfa3a32d62f56bea">AllocateFileStream</a></div><div class="ttdeci">static TFileStream * AllocateFileStream(const TCHAR *szFileName, size_t StreamSize, DWORD dwStreamFlags)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l01092">FileStream.cpp:1092</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a07a964e92d9c6a64250c80b56e75c520"><div class="ttname"><a href="StormLib_8h.html#a07a964e92d9c6a64250c80b56e75c520">STREAM_PROVIDERS_MASK</a></div><div class="ttdeci">#define STREAM_PROVIDERS_MASK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00326">StormLib.h:326</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a3773c068cc9e5acf2ef6a0fd9b4a534e"><div class="ttname"><a href="StormLib_8h.html#a3773c068cc9e5acf2ef6a0fd9b4a534e">BASE_PROVIDER_FILE</a></div><div class="ttdeci">#define BASE_PROVIDER_FILE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00310">StormLib.h:310</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a45b6170ca9e7880848cdca068234d28c"><div class="ttname"><a href="StormLib_8h.html#a45b6170ca9e7880848cdca068234d28c">STREAM_PROVIDER_FLAT</a></div><div class="ttdeci">#define STREAM_PROVIDER_FLAT</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00315">StormLib.h:315</a></div></div>
<div class="ttc" id="aStormPort_8h_html_ab72d05032a6d1152bad9af394811d447"><div class="ttname"><a href="StormPort_8h.html#ab72d05032a6d1152bad9af394811d447">ERROR_NOT_SUPPORTED</a></div><div class="ttdeci">#define ERROR_NOT_SUPPORTED</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00406">StormPort.h:406</a></div></div>
<div class="ttc" id="astructTBlockStream_html"><div class="ttname"><a href="structTBlockStream.html">TBlockStream</a></div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00195">FileStream.h:196</a></div></div>
<div class="ttc" id="astructTFileStream_html_a00a7a9d0ce7cdea1c4ecdbd72a3bd282"><div class="ttname"><a href="structTFileStream.html#a00a7a9d0ce7cdea1c4ecdbd72a3bd282">TFileStream::BaseResize</a></div><div class="ttdeci">STREAM_RESIZE BaseResize</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00172">FileStream.h:172</a></div></div>
<div class="ttc" id="astructTFileStream_html_a0366f518ffecab4131bf2527f22964e3"><div class="ttname"><a href="structTFileStream.html#a0366f518ffecab4131bf2527f22964e3">TFileStream::BaseGetSize</a></div><div class="ttdeci">STREAM_GETSIZE BaseGetSize</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00173">FileStream.h:173</a></div></div>
<div class="ttc" id="astructTFileStream_html_a158f1621a05e8b3002c1729fd5d4cfca"><div class="ttname"><a href="structTFileStream.html#a158f1621a05e8b3002c1729fd5d4cfca">TFileStream::StreamGetPos</a></div><div class="ttdeci">STREAM_GETPOS StreamGetPos</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00160">FileStream.h:160</a></div></div>
<div class="ttc" id="astructTFileStream_html_a5b6aa0a4b5d6b97770f73fbc47412da1"><div class="ttname"><a href="structTFileStream.html#a5b6aa0a4b5d6b97770f73fbc47412da1">TFileStream::BaseRead</a></div><div class="ttdeci">STREAM_READ BaseRead</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00170">FileStream.h:170</a></div></div>
<div class="ttc" id="astructTFileStream_html_a811c9b3d565324e51361768847fe50a8"><div class="ttname"><a href="structTFileStream.html#a811c9b3d565324e51361768847fe50a8">TFileStream::BaseWrite</a></div><div class="ttdeci">STREAM_WRITE BaseWrite</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00171">FileStream.h:171</a></div></div>
<div class="ttc" id="astructTFileStream_html_a95b85c4ef3254dc6a73fdb2e566ebbba"><div class="ttname"><a href="structTFileStream.html#a95b85c4ef3254dc6a73fdb2e566ebbba">TFileStream::StreamGetSize</a></div><div class="ttdeci">STREAM_GETSIZE StreamGetSize</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00159">FileStream.h:159</a></div></div>
<div class="ttc" id="astructTFileStream_html_aa9c8095dd8a2e07b83611e0b5dac3fde"><div class="ttname"><a href="structTFileStream.html#aa9c8095dd8a2e07b83611e0b5dac3fde">TFileStream::BaseGetPos</a></div><div class="ttdeci">STREAM_GETPOS BaseGetPos</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00174">FileStream.h:174</a></div></div>
<div class="ttc" id="astructTFileStream_html_aaf7da0af26da32b968cdb66eb87f26ce"><div class="ttname"><a href="structTFileStream.html#aaf7da0af26da32b968cdb66eb87f26ce">TFileStream::StreamRead</a></div><div class="ttdeci">STREAM_READ StreamRead</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00156">FileStream.h:156</a></div></div>
<div class="ttc" id="astructTFileStream_html_ae085fb3901c17a2b302196951a9fe412"><div class="ttname"><a href="structTFileStream.html#ae085fb3901c17a2b302196951a9fe412">TFileStream::StreamWrite</a></div><div class="ttdeci">STREAM_WRITE StreamWrite</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00157">FileStream.h:157</a></div></div>
<div class="ttc" id="astructTFileStream_html_ae3358c9b5a9dfdee5e8275561eff8850"><div class="ttname"><a href="structTFileStream.html#ae3358c9b5a9dfdee5e8275561eff8850">TFileStream::StreamResize</a></div><div class="ttdeci">STREAM_RESIZE StreamResize</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00158">FileStream.h:158</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_aaba1ffb5ec458bc89519a891e28ab10e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_aaba1ffb5ec458bc89519a891e28ab10e_icgraph.svg" width="578" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a079730e5345bc1141a1057d4e13e95ac" name="a079730e5345bc1141a1057d4e13e95ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a079730e5345bc1141a1057d4e13e95ac">&#9670;&#160;</a></span>FileStream_GetBitmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_GetBitmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvBitmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>cbBitmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&#160;</td>
          <td class="paramname"><em>pcbLengthNeeded</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function gives the block map. The 'pvBitmap' pointer must point to a buffer of at least sizeof(STREAM_BLOCK_MAP) size. It can also have size of the complete block map (i.e. sizeof(STREAM_BLOCK_MAP) + BitmapSize). In that case, the function also copies the bit-based block map.</p>
<p><em>pStream</em> Pointer to an open stream <em>pvBitmap</em> Pointer to buffer where the block map will be stored <em>cbBitmap</em> Length of the buffer, of the block map <em>cbLengthNeeded</em> Length of the bitmap, in bytes </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02659">2659</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2660</span>{</div>
<div class="line"><span class="lineno"> 2661</span>    <a class="code hl_struct" href="structTStreamBitmap.html">TStreamBitmap</a> * pBitmap = (<a class="code hl_struct" href="structTStreamBitmap.html">TStreamBitmap</a> *)pvBitmap;</div>
<div class="line"><span class="lineno"> 2662</span>    <a class="code hl_struct" href="structTBlockStream.html">TBlockStream</a> * pBlockStream = (<a class="code hl_struct" href="structTBlockStream.html">TBlockStream</a> *)pStream;</div>
<div class="line"><span class="lineno"> 2663</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> BlockOffset;</div>
<div class="line"><span class="lineno"> 2664</span>    <a class="code hl_typedef" href="StormPort_8h.html#ac2d3fb16b5b34c1e6ab80014309020eb">LPBYTE</a> Bitmap = (<a class="code hl_typedef" href="StormPort_8h.html#ac2d3fb16b5b34c1e6ab80014309020eb">LPBYTE</a>)(pBitmap + 1);</div>
<div class="line"><span class="lineno"> 2665</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> BitmapSize;</div>
<div class="line"><span class="lineno"> 2666</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> BlockCount;</div>
<div class="line"><span class="lineno"> 2667</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> BlockSize;</div>
<div class="line"><span class="lineno"> 2668</span>    <span class="keywordtype">bool</span> bResult = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2669</span> </div>
<div class="line"><span class="lineno"> 2670</span>    <span class="comment">// Retrieve the size of one block</span></div>
<div class="line"><span class="lineno"> 2671</span>    <span class="keywordflow">if</span>(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a707b42c85dd8f372ce802efb6bc1955e">BlockCheck</a> != NULL)</div>
<div class="line"><span class="lineno"> 2672</span>    {</div>
<div class="line"><span class="lineno"> 2673</span>        BlockCount = pBlockStream-&gt;<a class="code hl_variable" href="structTBlockStream.html#a05210a0cd78477e541734ba7e3abe2b1">BlockCount</a>;</div>
<div class="line"><span class="lineno"> 2674</span>        BlockSize = pBlockStream-&gt;<a class="code hl_variable" href="structTBlockStream.html#a8c7180184928638b30809f7f85061fb7">BlockSize</a>;</div>
<div class="line"><span class="lineno"> 2675</span>    }</div>
<div class="line"><span class="lineno"> 2676</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2677</span>    {</div>
<div class="line"><span class="lineno"> 2678</span>        BlockCount = (<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)((pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a99bdae10f74cf57156e65bd76ba64771">StreamSize</a> + <a class="code hl_define" href="FileStream_8h.html#ac42c901b241f3189fb2451bfea993e1a">DEFAULT_BLOCK_SIZE</a> - 1) / <a class="code hl_define" href="FileStream_8h.html#ac42c901b241f3189fb2451bfea993e1a">DEFAULT_BLOCK_SIZE</a>);</div>
<div class="line"><span class="lineno"> 2679</span>        BlockSize = <a class="code hl_define" href="FileStream_8h.html#ac42c901b241f3189fb2451bfea993e1a">DEFAULT_BLOCK_SIZE</a>;</div>
<div class="line"><span class="lineno"> 2680</span>    }</div>
<div class="line"><span class="lineno"> 2681</span> </div>
<div class="line"><span class="lineno"> 2682</span>    <span class="comment">// Fill-in the variables</span></div>
<div class="line"><span class="lineno"> 2683</span>    BitmapSize = (BlockCount + 7) / 8;</div>
<div class="line"><span class="lineno"> 2684</span> </div>
<div class="line"><span class="lineno"> 2685</span>    <span class="comment">// Give the number of blocks</span></div>
<div class="line"><span class="lineno"> 2686</span>    <span class="keywordflow">if</span>(pcbLengthNeeded != NULL)</div>
<div class="line"><span class="lineno"> 2687</span>        pcbLengthNeeded[0] = <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structTStreamBitmap.html">TStreamBitmap</a>) + BitmapSize;</div>
<div class="line"><span class="lineno"> 2688</span> </div>
<div class="line"><span class="lineno"> 2689</span>    <span class="comment">// If the length of the buffer is not enough</span></div>
<div class="line"><span class="lineno"> 2690</span>    <span class="keywordflow">if</span>(pvBitmap != NULL &amp;&amp; cbBitmap != 0)</div>
<div class="line"><span class="lineno"> 2691</span>    {</div>
<div class="line"><span class="lineno"> 2692</span>        <span class="comment">// Give the STREAM_BLOCK_MAP structure</span></div>
<div class="line"><span class="lineno"> 2693</span>        <span class="keywordflow">if</span>(cbBitmap &gt;= <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structTStreamBitmap.html">TStreamBitmap</a>))</div>
<div class="line"><span class="lineno"> 2694</span>        {</div>
<div class="line"><span class="lineno"> 2695</span>            pBitmap-&gt;<a class="code hl_variable" href="structTStreamBitmap.html#a10f51b48a75b6679d43d2c687ea17c4a">StreamSize</a> = pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a99bdae10f74cf57156e65bd76ba64771">StreamSize</a>;</div>
<div class="line"><span class="lineno"> 2696</span>            pBitmap-&gt;<a class="code hl_variable" href="structTStreamBitmap.html#a08cd10b5e913016784b84a56dfa12b84">BitmapSize</a> = BitmapSize;</div>
<div class="line"><span class="lineno"> 2697</span>            pBitmap-&gt;<a class="code hl_variable" href="structTStreamBitmap.html#ab90b1cc270a2d34fdecea0e945185ca8">BlockCount</a> = BlockCount;</div>
<div class="line"><span class="lineno"> 2698</span>            pBitmap-&gt;<a class="code hl_variable" href="structTStreamBitmap.html#a146c2246f25fd3fa72abd2a413746fa0">BlockSize</a>  = BlockSize;</div>
<div class="line"><span class="lineno"> 2699</span>            pBitmap-&gt;<a class="code hl_variable" href="structTStreamBitmap.html#a0b36de5895d75734e8ac90a277109339">IsComplete</a> = (pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a707b42c85dd8f372ce802efb6bc1955e">BlockCheck</a> != NULL) ? pBlockStream-&gt;<a class="code hl_variable" href="structTBlockStream.html#a8bb8ee629c5bc59f65d01eead9b62762">IsComplete</a> : 1;</div>
<div class="line"><span class="lineno"> 2700</span>            bResult = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2701</span>        }</div>
<div class="line"><span class="lineno"> 2702</span> </div>
<div class="line"><span class="lineno"> 2703</span>        <span class="comment">// Give the block bitmap, if enough space</span></div>
<div class="line"><span class="lineno"> 2704</span>        <span class="keywordflow">if</span>(cbBitmap &gt;= <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structTStreamBitmap.html">TStreamBitmap</a>) + BitmapSize)</div>
<div class="line"><span class="lineno"> 2705</span>        {</div>
<div class="line"><span class="lineno"> 2706</span>            <span class="comment">// Version with bitmap present</span></div>
<div class="line"><span class="lineno"> 2707</span>            <span class="keywordflow">if</span>(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a707b42c85dd8f372ce802efb6bc1955e">BlockCheck</a> != NULL)</div>
<div class="line"><span class="lineno"> 2708</span>            {</div>
<div class="line"><span class="lineno"> 2709</span>                <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> ByteIndex = 0;</div>
<div class="line"><span class="lineno"> 2710</span>                <a class="code hl_typedef" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> BitMask = 0x01;</div>
<div class="line"><span class="lineno"> 2711</span> </div>
<div class="line"><span class="lineno"> 2712</span>                <span class="comment">// Initialize the map with zeros</span></div>
<div class="line"><span class="lineno"> 2713</span>                memset(Bitmap, 0, BitmapSize);</div>
<div class="line"><span class="lineno"> 2714</span> </div>
<div class="line"><span class="lineno"> 2715</span>                <span class="comment">// Fill the map</span></div>
<div class="line"><span class="lineno"> 2716</span>                <span class="keywordflow">for</span>(BlockOffset = 0; BlockOffset &lt; pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a99bdae10f74cf57156e65bd76ba64771">StreamSize</a>; BlockOffset += BlockSize)</div>
<div class="line"><span class="lineno"> 2717</span>                {</div>
<div class="line"><span class="lineno"> 2718</span>                    <span class="comment">// Set the bit if the block is present</span></div>
<div class="line"><span class="lineno"> 2719</span>                    <span class="keywordflow">if</span>(pBlockStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a707b42c85dd8f372ce802efb6bc1955e">BlockCheck</a>(pStream, BlockOffset))</div>
<div class="line"><span class="lineno"> 2720</span>                        Bitmap[ByteIndex] |= BitMask;</div>
<div class="line"><span class="lineno"> 2721</span> </div>
<div class="line"><span class="lineno"> 2722</span>                    <span class="comment">// Move bit position</span></div>
<div class="line"><span class="lineno"> 2723</span>                    ByteIndex += (BitMask &gt;&gt; 0x07);</div>
<div class="line"><span class="lineno"> 2724</span>                    BitMask = (BitMask &gt;&gt; 0x07) | (BitMask &lt;&lt; 0x01);</div>
<div class="line"><span class="lineno"> 2725</span>                }</div>
<div class="line"><span class="lineno"> 2726</span>            }</div>
<div class="line"><span class="lineno"> 2727</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2728</span>            {</div>
<div class="line"><span class="lineno"> 2729</span>                memset(Bitmap, 0xFF, BitmapSize);</div>
<div class="line"><span class="lineno"> 2730</span>            }</div>
<div class="line"><span class="lineno"> 2731</span>        }</div>
<div class="line"><span class="lineno"> 2732</span>    }</div>
<div class="line"><span class="lineno"> 2733</span> </div>
<div class="line"><span class="lineno"> 2734</span>    <span class="comment">// Set last error value and return</span></div>
<div class="line"><span class="lineno"> 2735</span>    <span class="keywordflow">if</span>(bResult == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 2736</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a9ea4797ca694b9d2dfe6b408dfee69c1">ERROR_INSUFFICIENT_BUFFER</a>);</div>
<div class="line"><span class="lineno"> 2737</span>    <span class="keywordflow">return</span> bResult;</div>
<div class="line"><span class="lineno"> 2738</span>}</div>
<div class="ttc" id="aFileStream_8h_html_ac42c901b241f3189fb2451bfea993e1a"><div class="ttname"><a href="FileStream_8h.html#ac42c901b241f3189fb2451bfea993e1a">DEFAULT_BLOCK_SIZE</a></div><div class="ttdeci">#define DEFAULT_BLOCK_SIZE</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00086">FileStream.h:86</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a9ea4797ca694b9d2dfe6b408dfee69c1"><div class="ttname"><a href="StormPort_8h.html#a9ea4797ca694b9d2dfe6b408dfee69c1">ERROR_INSUFFICIENT_BUFFER</a></div><div class="ttdeci">#define ERROR_INSUFFICIENT_BUFFER</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00411">StormPort.h:411</a></div></div>
<div class="ttc" id="astructTBlockStream_html_a05210a0cd78477e541734ba7e3abe2b1"><div class="ttname"><a href="structTBlockStream.html#a05210a0cd78477e541734ba7e3abe2b1">TBlockStream::BlockCount</a></div><div class="ttdeci">DWORD BlockCount</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00202">FileStream.h:202</a></div></div>
<div class="ttc" id="astructTBlockStream_html_a8bb8ee629c5bc59f65d01eead9b62762"><div class="ttname"><a href="structTBlockStream.html#a8bb8ee629c5bc59f65d01eead9b62762">TBlockStream::IsComplete</a></div><div class="ttdeci">DWORD IsComplete</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00203">FileStream.h:203</a></div></div>
<div class="ttc" id="astructTBlockStream_html_a8c7180184928638b30809f7f85061fb7"><div class="ttname"><a href="structTBlockStream.html#a8c7180184928638b30809f7f85061fb7">TBlockStream::BlockSize</a></div><div class="ttdeci">DWORD BlockSize</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00201">FileStream.h:201</a></div></div>
<div class="ttc" id="astructTFileStream_html_a707b42c85dd8f372ce802efb6bc1955e"><div class="ttname"><a href="structTFileStream.html#a707b42c85dd8f372ce802efb6bc1955e">TFileStream::BlockCheck</a></div><div class="ttdeci">BLOCK_CHECK BlockCheck</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00165">FileStream.h:165</a></div></div>
<div class="ttc" id="astructTFileStream_html_a99bdae10f74cf57156e65bd76ba64771"><div class="ttname"><a href="structTFileStream.html#a99bdae10f74cf57156e65bd76ba64771">TFileStream::StreamSize</a></div><div class="ttdeci">ULONGLONG StreamSize</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00184">FileStream.h:184</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a079730e5345bc1141a1057d4e13e95ac_cgraph.svg" width="330" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a079730e5345bc1141a1057d4e13e95ac_icgraph.svg" width="100%" height="364"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aac8a29e50fd6c047ee9288073b54804e" name="aac8a29e50fd6c047ee9288073b54804e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac8a29e50fd6c047ee9288073b54804e">&#9670;&#160;</a></span>FileStream_GetFileName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * FileStream_GetFileName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the file name of the stream</p>
<p><em>pStream</em> Pointer to an open stream </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02536">2536</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2537</span>{</div>
<div class="line"><span class="lineno"> 2538</span>    assert(pStream != NULL);</div>
<div class="line"><span class="lineno"> 2539</span>    <span class="keywordflow">return</span> pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a7a4da926d708d96cb47333973e705c76">szFileName</a>;</div>
<div class="line"><span class="lineno"> 2540</span>}</div>
<div class="ttc" id="astructTFileStream_html_a7a4da926d708d96cb47333973e705c76"><div class="ttname"><a href="structTFileStream.html#a7a4da926d708d96cb47333973e705c76">TFileStream::szFileName</a></div><div class="ttdeci">TCHAR * szFileName</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00182">FileStream.h:182</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_aac8a29e50fd6c047ee9288073b54804e_icgraph.svg" width="100%" height="554"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3b0eb2320c6401f6f1b5a92e53bc57dd" name="a3b0eb2320c6401f6f1b5a92e53bc57dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b0eb2320c6401f6f1b5a92e53bc57dd">&#9670;&#160;</a></span>FileStream_GetFlags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_GetFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>&#160;</td>
          <td class="paramname"><em>pdwStreamFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the stream flags</p>
<p><em>pStream</em> Pointer to an open stream <em>pdwStreamFlags</em> Pointer where to store the stream flags </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02849">2849</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2850</span>{</div>
<div class="line"><span class="lineno"> 2851</span>    *pdwStreamFlags = pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ae61935eec67ce99ea4091bc0949de1ea">dwFlags</a>;</div>
<div class="line"><span class="lineno"> 2852</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2853</span>}</div>
<div class="ttc" id="astructTFileStream_html_ae61935eec67ce99ea4091bc0949de1ea"><div class="ttname"><a href="structTFileStream.html#ae61935eec67ce99ea4091bc0949de1ea">TFileStream::dwFlags</a></div><div class="ttdeci">DWORD dwFlags</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00187">FileStream.h:187</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a3b0eb2320c6401f6f1b5a92e53bc57dd_icgraph.svg" width="100%" height="479"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a4cda734fc220ab4b32e1f2bf9b5446fc" name="a4cda734fc220ab4b32e1f2bf9b5446fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cda734fc220ab4b32e1f2bf9b5446fc">&#9670;&#160;</a></span>FileStream_GetPos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_GetPos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *&#160;</td>
          <td class="paramname"><em>pByteOffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns the current file position <em>pStream</em> <em>pByteOffset</em> </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02824">2824</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2825</span>{</div>
<div class="line"><span class="lineno"> 2826</span>    assert(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a158f1621a05e8b3002c1729fd5d4cfca">StreamGetPos</a> != NULL);</div>
<div class="line"><span class="lineno"> 2827</span>    <span class="keywordflow">return</span> pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a158f1621a05e8b3002c1729fd5d4cfca">StreamGetPos</a>(pStream, pByteOffset);</div>
<div class="line"><span class="lineno"> 2828</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a4cda734fc220ab4b32e1f2bf9b5446fc_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af505319882f0f4aaf396b6d061a2275b" name="af505319882f0f4aaf396b6d061a2275b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af505319882f0f4aaf396b6d061a2275b">&#9670;&#160;</a></span>FileStream_GetSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_GetSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *&#160;</td>
          <td class="paramname"><em>pFileSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the size of a file</p>
<p><em>pStream</em> Pointer to an open stream <em>FileSize</em> Pointer where to store the file size </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02795">2795</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2796</span>{</div>
<div class="line"><span class="lineno"> 2797</span>    assert(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a95b85c4ef3254dc6a73fdb2e566ebbba">StreamGetSize</a> != NULL);</div>
<div class="line"><span class="lineno"> 2798</span>    <span class="keywordflow">return</span> pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a95b85c4ef3254dc6a73fdb2e566ebbba">StreamGetSize</a>(pStream, pFileSize);</div>
<div class="line"><span class="lineno"> 2799</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_af505319882f0f4aaf396b6d061a2275b_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a81f0259d13a55ebc3c146603b6a38073" name="a81f0259d13a55ebc3c146603b6a38073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81f0259d13a55ebc3c146603b6a38073">&#9670;&#160;</a></span>FileStream_GetTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_GetTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *&#160;</td>
          <td class="paramname"><em>pFileTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the last write time of a file</p>
<p><em>pStream</em> Pointer to an open stream <em>pFileType</em> Pointer where to store the file last write time </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02836">2836</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2837</span>{</div>
<div class="line"><span class="lineno"> 2838</span>    <span class="comment">// Just use the saved filetime value</span></div>
<div class="line"><span class="lineno"> 2839</span>    *pFileTime = pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a3428b5a1e790560349940aa04e37e580">Base</a>.<a class="code hl_variable" href="unionTBaseProviderData.html#a60536cc70eff3072cd6c371a99bdf325">File</a>.<a class="code hl_variable" href="unionTBaseProviderData.html#a5488a6d2334bab001fbdd9e2ae2cdb00">FileTime</a>;</div>
<div class="line"><span class="lineno"> 2840</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2841</span>}</div>
<div class="ttc" id="astructTFileStream_html_a3428b5a1e790560349940aa04e37e580"><div class="ttname"><a href="structTFileStream.html#a3428b5a1e790560349940aa04e37e580">TFileStream::Base</a></div><div class="ttdeci">TBaseProviderData Base</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00178">FileStream.h:178</a></div></div>
<div class="ttc" id="aunionTBaseProviderData_html_a5488a6d2334bab001fbdd9e2ae2cdb00"><div class="ttname"><a href="unionTBaseProviderData.html#a5488a6d2334bab001fbdd9e2ae2cdb00">TBaseProviderData::FileTime</a></div><div class="ttdeci">ULONGLONG FileTime</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00131">FileStream.h:131</a></div></div>
<div class="ttc" id="aunionTBaseProviderData_html_a60536cc70eff3072cd6c371a99bdf325"><div class="ttname"><a href="unionTBaseProviderData.html#a60536cc70eff3072cd6c371a99bdf325">TBaseProviderData::File</a></div><div class="ttdeci">struct TBaseProviderData::@53 File</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a81f0259d13a55ebc3c146603b6a38073_icgraph.svg" width="494" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a702003c1930c608961b812259bd9dc22" name="a702003c1930c608961b812259bd9dc22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a702003c1930c608961b812259bd9dc22">&#9670;&#160;</a></span>FileStream_OpenFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTFileStream.html">TFileStream</a> * FileStream_OpenFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwStreamFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function opens an existing file for read or read-write access</p><ul>
<li>If the current platform supports file sharing, the file must be open for read sharing (i.e. another application can open the file for read, but not for write)</li>
<li>If the file does not exist, the function must return NULL</li>
<li>If the file exists but cannot be open, then function must return NULL</li>
<li>The parameters of the function must be validate by the caller</li>
<li>The function must initialize all stream function pointers in <a class="el" href="structTFileStream.html">TFileStream</a></li>
<li>If the function fails from any reason, it must close all handles and free all memory that has been allocated in the process of stream creation, including the <a class="el" href="structTFileStream.html">TFileStream</a> structure itself</li>
</ul>
<p><em>szFileName</em> Name of the file to open <em>dwStreamFlags</em> specifies the provider and base storage type </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02499">2499</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2502</span>{</div>
<div class="line"><span class="lineno"> 2503</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwProvider = dwStreamFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a07a964e92d9c6a64250c80b56e75c520">STREAM_PROVIDERS_MASK</a>;</div>
<div class="line"><span class="lineno"> 2504</span>    <span class="keywordtype">size_t</span> nPrefixLength = <a class="code hl_function" href="FileStream_8cpp.html#aa2107608d75af5dc5674f69c84637e22">FileStream_Prefix</a>(szFileName, &amp;dwProvider);</div>
<div class="line"><span class="lineno"> 2505</span> </div>
<div class="line"><span class="lineno"> 2506</span>    <span class="comment">// Re-assemble the stream flags</span></div>
<div class="line"><span class="lineno"> 2507</span>    dwStreamFlags = (dwStreamFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a13ca5b98664197b09f6161b08bf02db3">STREAM_OPTIONS_MASK</a>) | dwProvider;</div>
<div class="line"><span class="lineno"> 2508</span>    szFileName += nPrefixLength;</div>
<div class="line"><span class="lineno"> 2509</span> </div>
<div class="line"><span class="lineno"> 2510</span>    <span class="comment">// Perform provider-specific open</span></div>
<div class="line"><span class="lineno"> 2511</span>    <span class="keywordflow">switch</span>(dwStreamFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a85f30debca5af9c69185146dda3eba18">STREAM_PROVIDER_MASK</a>)</div>
<div class="line"><span class="lineno"> 2512</span>    {</div>
<div class="line"><span class="lineno"> 2513</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#a45b6170ca9e7880848cdca068234d28c">STREAM_PROVIDER_FLAT</a>:</div>
<div class="line"><span class="lineno"> 2514</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="FileStream_8cpp.html#a3993766ada9771cb6d9ca35a3f935322">FlatStream_Open</a>(szFileName, dwStreamFlags);</div>
<div class="line"><span class="lineno"> 2515</span> </div>
<div class="line"><span class="lineno"> 2516</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#a4b2a4fcc373340f8488b54729205c0df">STREAM_PROVIDER_PARTIAL</a>:</div>
<div class="line"><span class="lineno"> 2517</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="FileStream_8cpp.html#a9109b5dc896abb2d8d9f7fb0995dd911">PartStream_Open</a>(szFileName, dwStreamFlags);</div>
<div class="line"><span class="lineno"> 2518</span> </div>
<div class="line"><span class="lineno"> 2519</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#aebd4c9ef6f6e60b283469eb9aeebcd8e">STREAM_PROVIDER_MPQE</a>:</div>
<div class="line"><span class="lineno"> 2520</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="FileStream_8cpp.html#a2c69cb40f8c94bf20bd7c8d6918bb261">MpqeStream_Open</a>(szFileName, dwStreamFlags);</div>
<div class="line"><span class="lineno"> 2521</span> </div>
<div class="line"><span class="lineno"> 2522</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#a5bbce6c9768ac7cbc1fb4541a2153758">STREAM_PROVIDER_BLOCK4</a>:</div>
<div class="line"><span class="lineno"> 2523</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="FileStream_8cpp.html#ad81c299c6f6062d49a9d7ef331cd4520">Block4Stream_Open</a>(szFileName, dwStreamFlags);</div>
<div class="line"><span class="lineno"> 2524</span> </div>
<div class="line"><span class="lineno"> 2525</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2526</span>            <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 2527</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 2528</span>    }</div>
<div class="line"><span class="lineno"> 2529</span>}</div>
<div class="ttc" id="aFileStream_8cpp_html_a2c69cb40f8c94bf20bd7c8d6918bb261"><div class="ttname"><a href="FileStream_8cpp.html#a2c69cb40f8c94bf20bd7c8d6918bb261">MpqeStream_Open</a></div><div class="ttdeci">static TFileStream * MpqeStream_Open(const TCHAR *szFileName, DWORD dwStreamFlags)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02180">FileStream.cpp:2180</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_a3993766ada9771cb6d9ca35a3f935322"><div class="ttname"><a href="FileStream_8cpp.html#a3993766ada9771cb6d9ca35a3f935322">FlatStream_Open</a></div><div class="ttdeci">static TFileStream * FlatStream_Open(const TCHAR *szFileName, DWORD dwStreamFlags)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l01443">FileStream.cpp:1443</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_a9109b5dc896abb2d8d9f7fb0995dd911"><div class="ttname"><a href="FileStream_8cpp.html#a9109b5dc896abb2d8d9f7fb0995dd911">PartStream_Open</a></div><div class="ttdeci">static TFileStream * PartStream_Open(const TCHAR *szFileName, DWORD dwStreamFlags)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l01863">FileStream.cpp:1863</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_aa2107608d75af5dc5674f69c84637e22"><div class="ttname"><a href="FileStream_8cpp.html#aa2107608d75af5dc5674f69c84637e22">FileStream_Prefix</a></div><div class="ttdeci">size_t FileStream_Prefix(const TCHAR *szFileName, DWORD *pdwProvider)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02549">FileStream.cpp:2549</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_ad81c299c6f6062d49a9d7ef331cd4520"><div class="ttname"><a href="FileStream_8cpp.html#ad81c299c6f6062d49a9d7ef331cd4520">Block4Stream_Open</a></div><div class="ttdeci">static TFileStream * Block4Stream_Open(const TCHAR *szFileName, DWORD dwStreamFlags)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02309">FileStream.cpp:2309</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a13ca5b98664197b09f6161b08bf02db3"><div class="ttname"><a href="StormLib_8h.html#a13ca5b98664197b09f6161b08bf02db3">STREAM_OPTIONS_MASK</a></div><div class="ttdeci">#define STREAM_OPTIONS_MASK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00324">StormLib.h:324</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a4b2a4fcc373340f8488b54729205c0df"><div class="ttname"><a href="StormLib_8h.html#a4b2a4fcc373340f8488b54729205c0df">STREAM_PROVIDER_PARTIAL</a></div><div class="ttdeci">#define STREAM_PROVIDER_PARTIAL</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00316">StormLib.h:316</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a5bbce6c9768ac7cbc1fb4541a2153758"><div class="ttname"><a href="StormLib_8h.html#a5bbce6c9768ac7cbc1fb4541a2153758">STREAM_PROVIDER_BLOCK4</a></div><div class="ttdeci">#define STREAM_PROVIDER_BLOCK4</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00318">StormLib.h:318</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a85f30debca5af9c69185146dda3eba18"><div class="ttname"><a href="StormLib_8h.html#a85f30debca5af9c69185146dda3eba18">STREAM_PROVIDER_MASK</a></div><div class="ttdeci">#define STREAM_PROVIDER_MASK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00319">StormLib.h:319</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aebd4c9ef6f6e60b283469eb9aeebcd8e"><div class="ttname"><a href="StormLib_8h.html#aebd4c9ef6f6e60b283469eb9aeebcd8e">STREAM_PROVIDER_MPQE</a></div><div class="ttdeci">#define STREAM_PROVIDER_MPQE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00317">StormLib.h:317</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a176960f93d11db6f58d10a6957a80f38"><div class="ttname"><a href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a></div><div class="ttdeci">#define ERROR_INVALID_PARAMETER</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00407">StormPort.h:407</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a702003c1930c608961b812259bd9dc22_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a702003c1930c608961b812259bd9dc22_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa2107608d75af5dc5674f69c84637e22" name="aa2107608d75af5dc5674f69c84637e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2107608d75af5dc5674f69c84637e22">&#9670;&#160;</a></span>FileStream_Prefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FileStream_Prefix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&#160;</td>
          <td class="paramname"><em>pdwProvider</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the length of the provider prefix. Returns zero if no prefix</p>
<p><em>szFileName</em> Pointer to a stream name (file, mapped file, URL) <em>pdwStreamProvider</em> Pointer to a DWORD variable that receives stream provider (STREAM_PROVIDER_XXX) </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02549">2549</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2550</span>{</div>
<div class="line"><span class="lineno"> 2551</span>    <span class="keywordtype">size_t</span> nPrefixLength1 = 0;</div>
<div class="line"><span class="lineno"> 2552</span>    <span class="keywordtype">size_t</span> nPrefixLength2 = 0;</div>
<div class="line"><span class="lineno"> 2553</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwProvider = 0;</div>
<div class="line"><span class="lineno"> 2554</span> </div>
<div class="line"><span class="lineno"> 2555</span>    <span class="keywordflow">if</span>(szFileName != NULL)</div>
<div class="line"><span class="lineno"> 2556</span>    {</div>
<div class="line"><span class="lineno"> 2557</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 2558</span>        <span class="comment">// Determine the stream provider</span></div>
<div class="line"><span class="lineno"> 2559</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 2560</span> </div>
<div class="line"><span class="lineno"> 2561</span>        <span class="keywordflow">if</span>(!<a class="code hl_define" href="StormPort_8h.html#aa73bb733e1922cfb964b0ff6228e3089">_tcsnicmp</a>(szFileName, <a class="code hl_define" href="StormPort_8h.html#ae936e4c15227768f7da4e0951def89c8">_T</a>(<span class="stringliteral">&quot;flat-&quot;</span>), 5))</div>
<div class="line"><span class="lineno"> 2562</span>        {</div>
<div class="line"><span class="lineno"> 2563</span>            dwProvider |= <a class="code hl_define" href="StormLib_8h.html#a45b6170ca9e7880848cdca068234d28c">STREAM_PROVIDER_FLAT</a>;</div>
<div class="line"><span class="lineno"> 2564</span>            nPrefixLength1 = 5;</div>
<div class="line"><span class="lineno"> 2565</span>        }</div>
<div class="line"><span class="lineno"> 2566</span> </div>
<div class="line"><span class="lineno"> 2567</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_define" href="StormPort_8h.html#aa73bb733e1922cfb964b0ff6228e3089">_tcsnicmp</a>(szFileName, <a class="code hl_define" href="StormPort_8h.html#ae936e4c15227768f7da4e0951def89c8">_T</a>(<span class="stringliteral">&quot;part-&quot;</span>), 5))</div>
<div class="line"><span class="lineno"> 2568</span>        {</div>
<div class="line"><span class="lineno"> 2569</span>            dwProvider |= <a class="code hl_define" href="StormLib_8h.html#a4b2a4fcc373340f8488b54729205c0df">STREAM_PROVIDER_PARTIAL</a>;</div>
<div class="line"><span class="lineno"> 2570</span>            nPrefixLength1 = 5;</div>
<div class="line"><span class="lineno"> 2571</span>        }</div>
<div class="line"><span class="lineno"> 2572</span> </div>
<div class="line"><span class="lineno"> 2573</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_define" href="StormPort_8h.html#aa73bb733e1922cfb964b0ff6228e3089">_tcsnicmp</a>(szFileName, <a class="code hl_define" href="StormPort_8h.html#ae936e4c15227768f7da4e0951def89c8">_T</a>(<span class="stringliteral">&quot;mpqe-&quot;</span>), 5))</div>
<div class="line"><span class="lineno"> 2574</span>        {</div>
<div class="line"><span class="lineno"> 2575</span>            dwProvider |= <a class="code hl_define" href="StormLib_8h.html#aebd4c9ef6f6e60b283469eb9aeebcd8e">STREAM_PROVIDER_MPQE</a>;</div>
<div class="line"><span class="lineno"> 2576</span>            nPrefixLength1 = 5;</div>
<div class="line"><span class="lineno"> 2577</span>        }</div>
<div class="line"><span class="lineno"> 2578</span> </div>
<div class="line"><span class="lineno"> 2579</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_define" href="StormPort_8h.html#aa73bb733e1922cfb964b0ff6228e3089">_tcsnicmp</a>(szFileName, <a class="code hl_define" href="StormPort_8h.html#ae936e4c15227768f7da4e0951def89c8">_T</a>(<span class="stringliteral">&quot;blk4-&quot;</span>), 5))</div>
<div class="line"><span class="lineno"> 2580</span>        {</div>
<div class="line"><span class="lineno"> 2581</span>            dwProvider |= <a class="code hl_define" href="StormLib_8h.html#a5bbce6c9768ac7cbc1fb4541a2153758">STREAM_PROVIDER_BLOCK4</a>;</div>
<div class="line"><span class="lineno"> 2582</span>            nPrefixLength1 = 5;</div>
<div class="line"><span class="lineno"> 2583</span>        }</div>
<div class="line"><span class="lineno"> 2584</span> </div>
<div class="line"><span class="lineno"> 2585</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 2586</span>        <span class="comment">// Determine the base provider</span></div>
<div class="line"><span class="lineno"> 2587</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 2588</span> </div>
<div class="line"><span class="lineno"> 2589</span>        <span class="keywordflow">if</span>(!<a class="code hl_define" href="StormPort_8h.html#aa73bb733e1922cfb964b0ff6228e3089">_tcsnicmp</a>(szFileName+nPrefixLength1, <a class="code hl_define" href="StormPort_8h.html#ae936e4c15227768f7da4e0951def89c8">_T</a>(<span class="stringliteral">&quot;file:&quot;</span>), 5))</div>
<div class="line"><span class="lineno"> 2590</span>        {</div>
<div class="line"><span class="lineno"> 2591</span>            dwProvider |= <a class="code hl_define" href="StormLib_8h.html#a3773c068cc9e5acf2ef6a0fd9b4a534e">BASE_PROVIDER_FILE</a>;</div>
<div class="line"><span class="lineno"> 2592</span>            nPrefixLength2 = 5;</div>
<div class="line"><span class="lineno"> 2593</span>        }</div>
<div class="line"><span class="lineno"> 2594</span> </div>
<div class="line"><span class="lineno"> 2595</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_define" href="StormPort_8h.html#aa73bb733e1922cfb964b0ff6228e3089">_tcsnicmp</a>(szFileName+nPrefixLength1, <a class="code hl_define" href="StormPort_8h.html#ae936e4c15227768f7da4e0951def89c8">_T</a>(<span class="stringliteral">&quot;map:&quot;</span>), 4))</div>
<div class="line"><span class="lineno"> 2596</span>        {</div>
<div class="line"><span class="lineno"> 2597</span>            dwProvider |= <a class="code hl_define" href="StormLib_8h.html#a232c23ccf69f395a9edb5e6280b26513">BASE_PROVIDER_MAP</a>;</div>
<div class="line"><span class="lineno"> 2598</span>            nPrefixLength2 = 4;</div>
<div class="line"><span class="lineno"> 2599</span>        }</div>
<div class="line"><span class="lineno"> 2600</span> </div>
<div class="line"><span class="lineno"> 2601</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_define" href="StormPort_8h.html#aa73bb733e1922cfb964b0ff6228e3089">_tcsnicmp</a>(szFileName+nPrefixLength1, <a class="code hl_define" href="StormPort_8h.html#ae936e4c15227768f7da4e0951def89c8">_T</a>(<span class="stringliteral">&quot;http:&quot;</span>), 5))</div>
<div class="line"><span class="lineno"> 2602</span>        {</div>
<div class="line"><span class="lineno"> 2603</span>            dwProvider |= <a class="code hl_define" href="StormLib_8h.html#a120d1199a5c9b89d84bd7d3cdacd6b68">BASE_PROVIDER_HTTP</a>;</div>
<div class="line"><span class="lineno"> 2604</span>            nPrefixLength2 = 5;</div>
<div class="line"><span class="lineno"> 2605</span>        }</div>
<div class="line"><span class="lineno"> 2606</span> </div>
<div class="line"><span class="lineno"> 2607</span>        <span class="comment">// Only accept stream provider if we recognized the base provider</span></div>
<div class="line"><span class="lineno"> 2608</span>        <span class="keywordflow">if</span>(nPrefixLength2 != 0)</div>
<div class="line"><span class="lineno"> 2609</span>        {</div>
<div class="line"><span class="lineno"> 2610</span>            <span class="comment">// It is also allowed to put &quot;//&quot; after the base provider, e.g. &quot;file://&quot;, &quot;http://&quot;</span></div>
<div class="line"><span class="lineno"> 2611</span>            <span class="keywordflow">if</span>(szFileName[nPrefixLength1+nPrefixLength2] == <span class="charliteral">&#39;/&#39;</span> &amp;&amp; szFileName[nPrefixLength1+nPrefixLength2+1] == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 2612</span>                nPrefixLength2 += 2;</div>
<div class="line"><span class="lineno"> 2613</span> </div>
<div class="line"><span class="lineno"> 2614</span>            <span class="keywordflow">if</span>(pdwProvider != NULL)</div>
<div class="line"><span class="lineno"> 2615</span>                *pdwProvider = dwProvider;</div>
<div class="line"><span class="lineno"> 2616</span>            <span class="keywordflow">return</span> nPrefixLength1 + nPrefixLength2;</div>
<div class="line"><span class="lineno"> 2617</span>        }</div>
<div class="line"><span class="lineno"> 2618</span>    }</div>
<div class="line"><span class="lineno"> 2619</span> </div>
<div class="line"><span class="lineno"> 2620</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2621</span>}</div>
<div class="ttc" id="aStormLib_8h_html_a120d1199a5c9b89d84bd7d3cdacd6b68"><div class="ttname"><a href="StormLib_8h.html#a120d1199a5c9b89d84bd7d3cdacd6b68">BASE_PROVIDER_HTTP</a></div><div class="ttdeci">#define BASE_PROVIDER_HTTP</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00312">StormLib.h:312</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a232c23ccf69f395a9edb5e6280b26513"><div class="ttname"><a href="StormLib_8h.html#a232c23ccf69f395a9edb5e6280b26513">BASE_PROVIDER_MAP</a></div><div class="ttdeci">#define BASE_PROVIDER_MAP</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00311">StormLib.h:311</a></div></div>
<div class="ttc" id="aStormPort_8h_html_aa73bb733e1922cfb964b0ff6228e3089"><div class="ttname"><a href="StormPort_8h.html#aa73bb733e1922cfb964b0ff6228e3089">_tcsnicmp</a></div><div class="ttdeci">#define _tcsnicmp</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00376">StormPort.h:376</a></div></div>
<div class="ttc" id="aStormPort_8h_html_ae936e4c15227768f7da4e0951def89c8"><div class="ttname"><a href="StormPort_8h.html#ae936e4c15227768f7da4e0951def89c8">_T</a></div><div class="ttdeci">#define _T(x)</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00369">StormPort.h:369</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_aa2107608d75af5dc5674f69c84637e22_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a593f3b1416f7497c28fa5552cd1b3003" name="a593f3b1416f7497c28fa5552cd1b3003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a593f3b1416f7497c28fa5552cd1b3003">&#9670;&#160;</a></span>FileStream_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *&#160;</td>
          <td class="paramname"><em>pByteOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwBytesToRead</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads data from the stream</p>
<ul>
<li>Returns true if the read operation succeeded and all bytes have been read</li>
<li>Returns false if either read failed or not all bytes have been read</li>
<li>If the pByteOffset is NULL, the function must read the data from the current file position</li>
<li>The function can be called with dwBytesToRead = 0. In that case, pvBuffer is ignored and the function just adjusts file pointer.</li>
</ul>
<p><em>pStream</em> Pointer to an open stream <em>pByteOffset</em> Pointer to file byte offset. If NULL, it reads from the current position <em>pvBuffer</em> Pointer to data to be read <em>dwBytesToRead</em> Number of bytes to read from the file</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>If the function reads the required amount of bytes, it returns true.</li>
<li>If the function reads less than required bytes, it returns false and <a class="el" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError()</a> returns ERROR_HANDLE_EOF</li>
<li>If the function fails, it reads false and <a class="el" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError()</a> returns an error code different from ERROR_HANDLE_EOF </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02759">2759</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2760</span>{</div>
<div class="line"><span class="lineno"> 2761</span>    assert(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#aaf7da0af26da32b968cdb66eb87f26ce">StreamRead</a> != NULL);</div>
<div class="line"><span class="lineno"> 2762</span>    <span class="keywordflow">return</span> pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#aaf7da0af26da32b968cdb66eb87f26ce">StreamRead</a>(pStream, pByteOffset, pvBuffer, dwBytesToRead);</div>
<div class="line"><span class="lineno"> 2763</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a593f3b1416f7497c28fa5552cd1b3003_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="afcf883cb4bc8ff873bb286e8f7bf5002" name="afcf883cb4bc8ff873bb286e8f7bf5002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcf883cb4bc8ff873bb286e8f7bf5002">&#9670;&#160;</a></span>FileStream_Replace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_Replace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pNewStream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Switches a stream with another. Used for final phase of archive compacting. Performs these steps:</p>
<p>1) Closes the handle to the existing MPQ 2) Renames the temporary MPQ to the original MPQ, overwrites existing one 3) Opens the MPQ stores the handle and stream position to the new stream structure</p>
<p><em>pStream</em> Pointer to an open stream <em>pNewStream</em> Temporary ("working") stream (created during archive compacting) </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02866">2866</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2867</span>{</div>
<div class="line"><span class="lineno"> 2868</span>    <span class="comment">// Only supported on flat files</span></div>
<div class="line"><span class="lineno"> 2869</span>    <span class="keywordflow">if</span>((pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ae61935eec67ce99ea4091bc0949de1ea">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a07a964e92d9c6a64250c80b56e75c520">STREAM_PROVIDERS_MASK</a>) != (<a class="code hl_define" href="StormLib_8h.html#a45b6170ca9e7880848cdca068234d28c">STREAM_PROVIDER_FLAT</a> | <a class="code hl_define" href="StormLib_8h.html#a3773c068cc9e5acf2ef6a0fd9b4a534e">BASE_PROVIDER_FILE</a>))</div>
<div class="line"><span class="lineno"> 2870</span>    {</div>
<div class="line"><span class="lineno"> 2871</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ab72d05032a6d1152bad9af394811d447">ERROR_NOT_SUPPORTED</a>);</div>
<div class="line"><span class="lineno"> 2872</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2873</span>    }</div>
<div class="line"><span class="lineno"> 2874</span> </div>
<div class="line"><span class="lineno"> 2875</span>    <span class="comment">// Not supported on read-only streams</span></div>
<div class="line"><span class="lineno"> 2876</span>    <span class="keywordflow">if</span>(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ae61935eec67ce99ea4091bc0949de1ea">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#abdbbf06488f24699775afe6aadaeafc3">STREAM_FLAG_READ_ONLY</a>)</div>
<div class="line"><span class="lineno"> 2877</span>    {</div>
<div class="line"><span class="lineno"> 2878</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a>);</div>
<div class="line"><span class="lineno"> 2879</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2880</span>    }</div>
<div class="line"><span class="lineno"> 2881</span> </div>
<div class="line"><span class="lineno"> 2882</span>    <span class="comment">// Close both stream&#39;s base providers</span></div>
<div class="line"><span class="lineno"> 2883</span>    pNewStream-&gt;<a class="code hl_variable" href="structTFileStream.html#acbdc7dfef3127e4c077310381f8f6c7d">BaseClose</a>(pNewStream);</div>
<div class="line"><span class="lineno"> 2884</span>    pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#acbdc7dfef3127e4c077310381f8f6c7d">BaseClose</a>(pStream);</div>
<div class="line"><span class="lineno"> 2885</span> </div>
<div class="line"><span class="lineno"> 2886</span>    <span class="comment">// Now we have to delete the (now closed) old file and rename the new file</span></div>
<div class="line"><span class="lineno"> 2887</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="FileStream_8cpp.html#ab7eae20c598963167111f04222211b23">BaseFile_Replace</a>(pStream, pNewStream))</div>
<div class="line"><span class="lineno"> 2888</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2889</span> </div>
<div class="line"><span class="lineno"> 2890</span>    <span class="comment">// Now open the base file again</span></div>
<div class="line"><span class="lineno"> 2891</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="FileStream_8cpp.html#a2065e645a0a5e3202253dda12bb14063">BaseFile_Open</a>(pStream, pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a7a4da926d708d96cb47333973e705c76">szFileName</a>, pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ae61935eec67ce99ea4091bc0949de1ea">dwFlags</a>))</div>
<div class="line"><span class="lineno"> 2892</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2893</span> </div>
<div class="line"><span class="lineno"> 2894</span>    <span class="comment">// Cleanup the new stream</span></div>
<div class="line"><span class="lineno"> 2895</span>    <a class="code hl_function" href="FileStream_8cpp.html#ae8b75c4797726e9c5ee0b4b03bf31442">FileStream_Close</a>(pNewStream);</div>
<div class="line"><span class="lineno"> 2896</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2897</span>}</div>
<div class="ttc" id="aFileStream_8cpp_html_a2065e645a0a5e3202253dda12bb14063"><div class="ttname"><a href="FileStream_8cpp.html#a2065e645a0a5e3202253dda12bb14063">BaseFile_Open</a></div><div class="ttdeci">static bool BaseFile_Open(TFileStream *pStream, const TCHAR *szFileName, DWORD dwStreamFlags)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l00135">FileStream.cpp:135</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_ab7eae20c598963167111f04222211b23"><div class="ttname"><a href="FileStream_8cpp.html#ab7eae20c598963167111f04222211b23">BaseFile_Replace</a></div><div class="ttdeci">static bool BaseFile_Replace(TFileStream *pStream, TFileStream *pNewStream)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l00405">FileStream.cpp:405</a></div></div>
<div class="ttc" id="aStormLib_8h_html_abdbbf06488f24699775afe6aadaeafc3"><div class="ttname"><a href="StormLib_8h.html#abdbbf06488f24699775afe6aadaeafc3">STREAM_FLAG_READ_ONLY</a></div><div class="ttdeci">#define STREAM_FLAG_READ_ONLY</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00321">StormLib.h:321</a></div></div>
<div class="ttc" id="aStormPort_8h_html_aeed98d3d6aec00b22a04eb8836d77a51"><div class="ttname"><a href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a></div><div class="ttdeci">#define ERROR_ACCESS_DENIED</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00403">StormPort.h:403</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_afcf883cb4bc8ff873bb286e8f7bf5002_cgraph.svg" width="638" height="211"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_afcf883cb4bc8ff873bb286e8f7bf5002_icgraph.svg" width="370" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae33c8e38a5379adbbe49471f8d0ca5af" name="ae33c8e38a5379adbbe49471f8d0ca5af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae33c8e38a5379adbbe49471f8d0ca5af">&#9670;&#160;</a></span>FileStream_SetCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_SetCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_8h.html#aec85f6efb05064d79de5e05fff77c639">SFILE_DOWNLOAD_CALLBACK</a>&#160;</td>
          <td class="paramname"><em>pfnCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvUserData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a download callback. Whenever the stream needs to download one or more blocks from the server, the callback is called</p>
<p><em>pStream</em> Pointer to an open stream <em>pfnCallback</em> Pointer to callback function <em>pvUserData</em> Arbitrary user pointer passed to the download callback </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02632">2632</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2633</span>{</div>
<div class="line"><span class="lineno"> 2634</span>    <a class="code hl_struct" href="structTBlockStream.html">TBlockStream</a> * pBlockStream = (<a class="code hl_struct" href="structTBlockStream.html">TBlockStream</a> *)pStream;</div>
<div class="line"><span class="lineno"> 2635</span> </div>
<div class="line"><span class="lineno"> 2636</span>    <span class="keywordflow">if</span>(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#a68391daa44e09cd7654e765d81d937a3">BlockRead</a> == NULL)</div>
<div class="line"><span class="lineno"> 2637</span>    {</div>
<div class="line"><span class="lineno"> 2638</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ab72d05032a6d1152bad9af394811d447">ERROR_NOT_SUPPORTED</a>);</div>
<div class="line"><span class="lineno"> 2639</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2640</span>    }</div>
<div class="line"><span class="lineno"> 2641</span> </div>
<div class="line"><span class="lineno"> 2642</span>    pBlockStream-&gt;<a class="code hl_variable" href="structTBlockStream.html#af22a8a5a72b77e2f095ac7669f365871">pfnCallback</a> = pfnCallback;</div>
<div class="line"><span class="lineno"> 2643</span>    pBlockStream-&gt;<a class="code hl_variable" href="structTBlockStream.html#a749a949501319933437ccf3bf7f08303">UserData</a> = pvUserData;</div>
<div class="line"><span class="lineno"> 2644</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2645</span>}</div>
<div class="ttc" id="astructTBlockStream_html_a749a949501319933437ccf3bf7f08303"><div class="ttname"><a href="structTBlockStream.html#a749a949501319933437ccf3bf7f08303">TBlockStream::UserData</a></div><div class="ttdeci">void * UserData</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00199">FileStream.h:199</a></div></div>
<div class="ttc" id="astructTBlockStream_html_af22a8a5a72b77e2f095ac7669f365871"><div class="ttname"><a href="structTBlockStream.html#af22a8a5a72b77e2f095ac7669f365871">TBlockStream::pfnCallback</a></div><div class="ttdeci">SFILE_DOWNLOAD_CALLBACK pfnCallback</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00197">FileStream.h:197</a></div></div>
<div class="ttc" id="astructTFileStream_html_a68391daa44e09cd7654e765d81d937a3"><div class="ttname"><a href="structTFileStream.html#a68391daa44e09cd7654e765d81d937a3">TFileStream::BlockRead</a></div><div class="ttdeci">BLOCK_READ BlockRead</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8h_source.html#l00164">FileStream.h:164</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ae33c8e38a5379adbbe49471f8d0ca5af_cgraph.svg" width="336" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ae33c8e38a5379adbbe49471f8d0ca5af_icgraph.svg" width="430" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abc0fbb4156c7eef2e3162841ffb0d74a" name="abc0fbb4156c7eef2e3162841ffb0d74a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc0fbb4156c7eef2e3162841ffb0d74a">&#9670;&#160;</a></span>FileStream_SetSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_SetSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>&#160;</td>
          <td class="paramname"><em>NewFileSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the size of a file</p>
<p><em>pStream</em> Pointer to an open stream <em>NewFileSize</em> File size to set </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02807">2807</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2808</span>{</div>
<div class="line"><span class="lineno"> 2809</span>    <span class="keywordflow">if</span>(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ae61935eec67ce99ea4091bc0949de1ea">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#abdbbf06488f24699775afe6aadaeafc3">STREAM_FLAG_READ_ONLY</a>)</div>
<div class="line"><span class="lineno"> 2810</span>    {</div>
<div class="line"><span class="lineno"> 2811</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a>);</div>
<div class="line"><span class="lineno"> 2812</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2813</span>    }</div>
<div class="line"><span class="lineno"> 2814</span> </div>
<div class="line"><span class="lineno"> 2815</span>    assert(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ae3358c9b5a9dfdee5e8275561eff8850">StreamResize</a> != NULL);</div>
<div class="line"><span class="lineno"> 2816</span>    <span class="keywordflow">return</span> pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ae3358c9b5a9dfdee5e8275561eff8850">StreamResize</a>(pStream, NewFileSize);</div>
<div class="line"><span class="lineno"> 2817</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_abc0fbb4156c7eef2e3162841ffb0d74a_cgraph.svg" width="307" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_abc0fbb4156c7eef2e3162841ffb0d74a_icgraph.svg" width="100%" height="440"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a36307955e8de92f5ea26be07ea3b9cb4" name="a36307955e8de92f5ea26be07ea3b9cb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36307955e8de92f5ea26be07ea3b9cb4">&#9670;&#160;</a></span>FileStream_Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTFileStream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *&#160;</td>
          <td class="paramname"><em>pByteOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> void *&#160;</td>
          <td class="paramname"><em>pvBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwBytesToWrite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function writes data to the stream</p>
<ul>
<li>Returns true if the write operation succeeded and all bytes have been written</li>
<li>Returns false if either write failed or not all bytes have been written</li>
<li>If the pByteOffset is NULL, the function must write the data to the current file position</li>
</ul>
<p><em>pStream</em> Pointer to an open stream <em>pByteOffset</em> Pointer to file byte offset. If NULL, it reads from the current position <em>pvBuffer</em> Pointer to data to be written <em>dwBytesToWrite</em> Number of bytes to write to the file </p>

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l02777">2777</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2778</span>{</div>
<div class="line"><span class="lineno"> 2779</span>    <span class="keywordflow">if</span>(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ae61935eec67ce99ea4091bc0949de1ea">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#abdbbf06488f24699775afe6aadaeafc3">STREAM_FLAG_READ_ONLY</a>)</div>
<div class="line"><span class="lineno"> 2780</span>    {</div>
<div class="line"><span class="lineno"> 2781</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a>);</div>
<div class="line"><span class="lineno"> 2782</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2783</span>    }</div>
<div class="line"><span class="lineno"> 2784</span> </div>
<div class="line"><span class="lineno"> 2785</span>    assert(pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ae085fb3901c17a2b302196951a9fe412">StreamWrite</a> != NULL);</div>
<div class="line"><span class="lineno"> 2786</span>    <span class="keywordflow">return</span> pStream-&gt;<a class="code hl_variable" href="structTFileStream.html#ae085fb3901c17a2b302196951a9fe412">StreamWrite</a>(pStream, pByteOffset, pvBuffer, dwBytesToWrite);</div>
<div class="line"><span class="lineno"> 2787</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a36307955e8de92f5ea26be07ea3b9cb4_cgraph.svg" width="295" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a36307955e8de92f5ea26be07ea3b9cb4_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ad0f1ed530318d4f8cecb3dfb53e15b0a" name="ad0f1ed530318d4f8cecb3dfb53e15b0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0f1ed530318d4f8cecb3dfb53e15b0a">&#9670;&#160;</a></span>GetLastError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> GetLastError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l00044">44</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   45</span>{</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="FileStream_8cpp.html#ae1b34ad1b2653fcef5fac54d2fea9943">dwLastError</a>;</div>
<div class="line"><span class="lineno">   47</span>}</div>
<div class="ttc" id="aFileStream_8cpp_html_ae1b34ad1b2653fcef5fac54d2fea9943"><div class="ttname"><a href="FileStream_8cpp.html#ae1b34ad1b2653fcef5fac54d2fea9943">dwLastError</a></div><div class="ttdeci">static thread_local DWORD dwLastError</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l00039">FileStream.cpp:39</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ad0f1ed530318d4f8cecb3dfb53e15b0a_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aaf8a10729f0ed9e7b0043818be7b5c5e" name="aaf8a10729f0ed9e7b0043818be7b5c5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf8a10729f0ed9e7b0043818be7b5c5e">&#9670;&#160;</a></span>GetMPQBits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetMPQBits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMPQBits.html">TMPQBits</a> *&#160;</td>
          <td class="paramname"><em>pBits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nBitPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nBitLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nResultByteSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SBaseFileTable_8cpp_source.html#l00228">228</a> of file <a class="el" href="SBaseFileTable_8cpp_source.html">SBaseFileTable.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  229</span>{</div>
<div class="line"><span class="lineno">  230</span>    pBits-&gt;<a class="code hl_function" href="structTMPQBits.html#a01b901728131ef26a4541271578e44ad">GetBits</a>(nBitPosition, nBitLength, pvBuffer, nResultByteSize);</div>
<div class="line"><span class="lineno">  231</span>}</div>
<div class="ttc" id="astructTMPQBits_html_a01b901728131ef26a4541271578e44ad"><div class="ttname"><a href="structTMPQBits.html#a01b901728131ef26a4541271578e44ad">TMPQBits::GetBits</a></div><div class="ttdeci">void GetBits(unsigned int nBitPosition, unsigned int nBitLength, void *pvBuffer, int nResultSize)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l00097">SBaseFileTable.cpp:97</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_aaf8a10729f0ed9e7b0043818be7b5c5e_cgraph.svg" width="300" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a309e1b309f67df0c6d12e6df83a4219a" name="a309e1b309f67df0c6d12e6df83a4219a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a309e1b309f67df0c6d12e6df83a4219a">&#9670;&#160;</a></span>SCompCompress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SCompCompress </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvOutBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pcbOutBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvInBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cbInBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>uCompressionMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nCmpType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nCmpLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SCompression_8cpp_source.html#l00766">766</a> of file <a class="el" href="SCompression_8cpp_source.html">SCompression.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  767</span>{</div>
<div class="line"><span class="lineno">  768</span>    <a class="code hl_typedef" href="SCompression_8cpp.html#aeafe70dafb8da8535fb8dffa0ccab52d">COMPRESS</a> CompressFuncArray[0x10];                       <span class="comment">// Array of compression functions, applied sequentially</span></div>
<div class="line"><span class="lineno">  769</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CompressByte[0x10];                       <span class="comment">// CompressByte for each method in the CompressFuncArray array</span></div>
<div class="line"><span class="lineno">  770</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * pbWorkBuffer = NULL;                    <span class="comment">// Temporary storage for decompressed data</span></div>
<div class="line"><span class="lineno">  771</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * pbOutBuffer = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)pvOutBuffer;</div>
<div class="line"><span class="lineno">  772</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * pbOutput = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)pvOutBuffer;<span class="comment">// Current output buffer</span></div>
<div class="line"><span class="lineno">  773</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * pbInput = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)pvInBuffer;  <span class="comment">// Current input buffer</span></div>
<div class="line"><span class="lineno">  774</span>    <span class="keywordtype">int</span> nCompressCount = 0;</div>
<div class="line"><span class="lineno">  775</span>    <span class="keywordtype">int</span> nCompressIndex = 0;</div>
<div class="line"><span class="lineno">  776</span>    <span class="keywordtype">int</span> nAtLeastOneCompressionDone = 0;</div>
<div class="line"><span class="lineno">  777</span>    <span class="keywordtype">int</span> cbOutBuffer = 0;</div>
<div class="line"><span class="lineno">  778</span>    <span class="keywordtype">int</span> cbInLength = cbInBuffer;</div>
<div class="line"><span class="lineno">  779</span>    <span class="keywordtype">int</span> nResult = 1;</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>    <span class="comment">// Check for valid parameters</span></div>
<div class="line"><span class="lineno">  782</span>    <span class="keywordflow">if</span>(!pcbOutBuffer || *pcbOutBuffer &lt; cbInBuffer || !pvOutBuffer || !pvInBuffer)</div>
<div class="line"><span class="lineno">  783</span>    {</div>
<div class="line"><span class="lineno">  784</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  785</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  786</span>    }</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>    <span class="comment">// Zero input length brings zero output length</span></div>
<div class="line"><span class="lineno">  789</span>    <span class="keywordflow">if</span>(cbInBuffer == 0)</div>
<div class="line"><span class="lineno">  790</span>    {</div>
<div class="line"><span class="lineno">  791</span>        *pcbOutBuffer = 0;</div>
<div class="line"><span class="lineno">  792</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  793</span>    }</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>    <span class="comment">// Setup the compression function array</span></div>
<div class="line"><span class="lineno">  796</span>    <span class="keywordflow">if</span>(uCompressionMask == <a class="code hl_define" href="StormLib_8h.html#a8e5be3b3c8663e78a6acdaa131c6e013">MPQ_COMPRESSION_LZMA</a>)</div>
<div class="line"><span class="lineno">  797</span>    {</div>
<div class="line"><span class="lineno">  798</span>        CompressFuncArray[0] = <a class="code hl_function" href="SCompression_8cpp.html#a1f53951448e74eba19fbe2019bf3bff9">Compress_LZMA</a>;</div>
<div class="line"><span class="lineno">  799</span>        CompressByte[0] = (char)uCompressionMask;</div>
<div class="line"><span class="lineno">  800</span>        nCompressCount = 1;</div>
<div class="line"><span class="lineno">  801</span>    }</div>
<div class="line"><span class="lineno">  802</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  803</span>    {</div>
<div class="line"><span class="lineno">  804</span>        <span class="comment">// Fill the compressions array</span></div>
<div class="line"><span class="lineno">  805</span>        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code hl_define" href="StormPort_8h.html#a4987dd6844197a1b6267f4261ae70cf3">_countof</a>(<a class="code hl_variable" href="SCompression_8cpp.html#aec090c25d2ee03c7c290864f6396e83b">cmp_table</a>); i++)</div>
<div class="line"><span class="lineno">  806</span>        {</div>
<div class="line"><span class="lineno">  807</span>            <span class="comment">// If the mask agrees, insert the compression function to the array</span></div>
<div class="line"><span class="lineno">  808</span>            <span class="keywordflow">if</span>(uCompressionMask &amp; <a class="code hl_variable" href="SCompression_8cpp.html#aec090c25d2ee03c7c290864f6396e83b">cmp_table</a>[i].uMask)</div>
<div class="line"><span class="lineno">  809</span>            {</div>
<div class="line"><span class="lineno">  810</span>                CompressFuncArray[nCompressCount] = <a class="code hl_variable" href="SCompression_8cpp.html#aec090c25d2ee03c7c290864f6396e83b">cmp_table</a>[i].<a class="code hl_variable" href="structTCompressTable.html#a7b9bec7af7b63d10390df306fa8fb5fe">Compress</a>;</div>
<div class="line"><span class="lineno">  811</span>                CompressByte[nCompressCount] = (<span class="keywordtype">unsigned</span> char)<a class="code hl_variable" href="SCompression_8cpp.html#aec090c25d2ee03c7c290864f6396e83b">cmp_table</a>[i].uMask;</div>
<div class="line"><span class="lineno">  812</span>                uCompressionMask &amp;= ~cmp_table[i].<a class="code hl_variable" href="structTCompressTable.html#aee47319aad5519844c7c0e9cb5f5890b">uMask</a>;</div>
<div class="line"><span class="lineno">  813</span>                nCompressCount++;</div>
<div class="line"><span class="lineno">  814</span>            }</div>
<div class="line"><span class="lineno">  815</span>        }</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span>        <span class="comment">// If at least one of the compressions remaing unknown, return an error</span></div>
<div class="line"><span class="lineno">  818</span>        <span class="keywordflow">if</span>(uCompressionMask != 0)</div>
<div class="line"><span class="lineno">  819</span>        {</div>
<div class="line"><span class="lineno">  820</span>            <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ab72d05032a6d1152bad9af394811d447">ERROR_NOT_SUPPORTED</a>);</div>
<div class="line"><span class="lineno">  821</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  822</span>        }</div>
<div class="line"><span class="lineno">  823</span>    }</div>
<div class="line"><span class="lineno">  824</span> </div>
<div class="line"><span class="lineno">  825</span>    <span class="comment">// If there is at least one compression, do it</span></div>
<div class="line"><span class="lineno">  826</span>    <span class="keywordflow">if</span>(nCompressCount &gt; 0)</div>
<div class="line"><span class="lineno">  827</span>    {</div>
<div class="line"><span class="lineno">  828</span>        <span class="comment">// If we need to do more than 1 compression, allocate intermediate buffer</span></div>
<div class="line"><span class="lineno">  829</span>        <span class="keywordflow">if</span>(nCompressCount &gt; 1)</div>
<div class="line"><span class="lineno">  830</span>        {</div>
<div class="line"><span class="lineno">  831</span>            pbWorkBuffer = <a class="code hl_define" href="StormCommon_8h.html#a6fe0c42173ef1a4b9f0e837b0c631660">STORM_ALLOC</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>, *pcbOutBuffer);</div>
<div class="line"><span class="lineno">  832</span>            <span class="keywordflow">if</span>(pbWorkBuffer == NULL)</div>
<div class="line"><span class="lineno">  833</span>            {</div>
<div class="line"><span class="lineno">  834</span>                <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a>);</div>
<div class="line"><span class="lineno">  835</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  836</span>            }</div>
<div class="line"><span class="lineno">  837</span>        }</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span>        <span class="comment">// Get the current compression index</span></div>
<div class="line"><span class="lineno">  840</span>        nCompressIndex = nCompressCount - 1;</div>
<div class="line"><span class="lineno">  841</span> </div>
<div class="line"><span class="lineno">  842</span>        <span class="comment">// Perform all compressions in the array</span></div>
<div class="line"><span class="lineno">  843</span>        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; nCompressCount; i++)</div>
<div class="line"><span class="lineno">  844</span>        {</div>
<div class="line"><span class="lineno">  845</span>            <span class="comment">// Choose the proper output buffer</span></div>
<div class="line"><span class="lineno">  846</span>            pbOutput = (nCompressIndex &amp; 1) ? pbWorkBuffer : pbOutBuffer;</div>
<div class="line"><span class="lineno">  847</span>            nCompressIndex--;</div>
<div class="line"><span class="lineno">  848</span> </div>
<div class="line"><span class="lineno">  849</span>            <span class="comment">// Perform the (next) compression</span></div>
<div class="line"><span class="lineno">  850</span>            <span class="comment">// Note that if the compression method is unable to compress the input data block</span></div>
<div class="line"><span class="lineno">  851</span>            <span class="comment">// by at least 2 bytes, we consider it as failure and will use source data instead</span></div>
<div class="line"><span class="lineno">  852</span>            cbOutBuffer = *pcbOutBuffer - 1;</div>
<div class="line"><span class="lineno">  853</span>            CompressFuncArray[i](pbOutput + 1, &amp;cbOutBuffer, pbInput, cbInLength, &amp;nCmpType, nCmpLevel);</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>            <span class="comment">// If the compression failed, we copy the input buffer as-is.</span></div>
<div class="line"><span class="lineno">  856</span>            <span class="comment">// Note that there is one extra byte at the end of the intermediate buffer, so it should be OK</span></div>
<div class="line"><span class="lineno">  857</span>            <span class="keywordflow">if</span>(cbOutBuffer &gt; (cbInLength - 2))</div>
<div class="line"><span class="lineno">  858</span>            {</div>
<div class="line"><span class="lineno">  859</span>                memcpy(pbOutput + nAtLeastOneCompressionDone, pbInput, cbInLength);</div>
<div class="line"><span class="lineno">  860</span>                cbOutBuffer = cbInLength;</div>
<div class="line"><span class="lineno">  861</span>            }</div>
<div class="line"><span class="lineno">  862</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  863</span>            {</div>
<div class="line"><span class="lineno">  864</span>                <span class="comment">// Remember that we have done at least one compression</span></div>
<div class="line"><span class="lineno">  865</span>                nAtLeastOneCompressionDone = 1;</div>
<div class="line"><span class="lineno">  866</span>                uCompressionMask |= CompressByte[i];</div>
<div class="line"><span class="lineno">  867</span>            }</div>
<div class="line"><span class="lineno">  868</span> </div>
<div class="line"><span class="lineno">  869</span>            <span class="comment">// Now point input buffer to the output buffer</span></div>
<div class="line"><span class="lineno">  870</span>            pbInput = pbOutput + nAtLeastOneCompressionDone;</div>
<div class="line"><span class="lineno">  871</span>            cbInLength = cbOutBuffer;</div>
<div class="line"><span class="lineno">  872</span>        }</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>        <span class="comment">// If at least one compression succeeded, put the compression</span></div>
<div class="line"><span class="lineno">  875</span>        <span class="comment">// mask to the begin of the output buffer</span></div>
<div class="line"><span class="lineno">  876</span>        <span class="keywordflow">if</span>(nAtLeastOneCompressionDone)</div>
<div class="line"><span class="lineno">  877</span>            *pbOutBuffer  = (<span class="keywordtype">unsigned</span> char)uCompressionMask;</div>
<div class="line"><span class="lineno">  878</span>        *pcbOutBuffer = cbOutBuffer + nAtLeastOneCompressionDone;</div>
<div class="line"><span class="lineno">  879</span>    }</div>
<div class="line"><span class="lineno">  880</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  881</span>    {</div>
<div class="line"><span class="lineno">  882</span>        memcpy(pvOutBuffer, pvInBuffer, cbInBuffer);</div>
<div class="line"><span class="lineno">  883</span>        *pcbOutBuffer = cbInBuffer;</div>
<div class="line"><span class="lineno">  884</span>    }</div>
<div class="line"><span class="lineno">  885</span> </div>
<div class="line"><span class="lineno">  886</span>    <span class="comment">// Cleanup and return</span></div>
<div class="line"><span class="lineno">  887</span>    <span class="keywordflow">if</span>(pbWorkBuffer != NULL)</div>
<div class="line"><span class="lineno">  888</span>        <a class="code hl_define" href="StormCommon_8h.html#a50487dadfceefebfb0de8fa711eaf4b3">STORM_FREE</a>(pbWorkBuffer);</div>
<div class="line"><span class="lineno">  889</span>    <span class="keywordflow">return</span> nResult;</div>
<div class="line"><span class="lineno">  890</span>}</div>
<div class="ttc" id="aSCompression_8cpp_html_a1f53951448e74eba19fbe2019bf3bff9"><div class="ttname"><a href="SCompression_8cpp.html#a1f53951448e74eba19fbe2019bf3bff9">Compress_LZMA</a></div><div class="ttdeci">static void Compress_LZMA(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer, int *pCmpType, int nCmpLevel)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00414">SCompression.cpp:414</a></div></div>
<div class="ttc" id="aSCompression_8cpp_html_aeafe70dafb8da8535fb8dffa0ccab52d"><div class="ttname"><a href="SCompression_8cpp.html#aeafe70dafb8da8535fb8dffa0ccab52d">COMPRESS</a></div><div class="ttdeci">void(* COMPRESS)(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer, int *pCmpType, int nCmpLevel)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00034">SCompression.cpp:34</a></div></div>
<div class="ttc" id="aSCompression_8cpp_html_aec090c25d2ee03c7c290864f6396e83b"><div class="ttname"><a href="SCompression_8cpp.html#aec090c25d2ee03c7c290864f6396e83b">cmp_table</a></div><div class="ttdeci">static TCompressTable cmp_table[]</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00755">SCompression.cpp:755</a></div></div>
<div class="ttc" id="aStormCommon_8h_html_a6fe0c42173ef1a4b9f0e837b0c631660"><div class="ttname"><a href="StormCommon_8h.html#a6fe0c42173ef1a4b9f0e837b0c631660">STORM_ALLOC</a></div><div class="ttdeci">#define STORM_ALLOC(type, nitems)</div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00132">StormCommon.h:132</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a8e5be3b3c8663e78a6acdaa131c6e013"><div class="ttname"><a href="StormLib_8h.html#a8e5be3b3c8663e78a6acdaa131c6e013">MPQ_COMPRESSION_LZMA</a></div><div class="ttdeci">#define MPQ_COMPRESSION_LZMA</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00274">StormLib.h:274</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a0e8ed8133680d2d6b8909e71b8048307"><div class="ttname"><a href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a></div><div class="ttdeci">#define ERROR_NOT_ENOUGH_MEMORY</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00405">StormPort.h:405</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a4987dd6844197a1b6267f4261ae70cf3"><div class="ttname"><a href="StormPort_8h.html#a4987dd6844197a1b6267f4261ae70cf3">_countof</a></div><div class="ttdeci">#define _countof(x)</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00421">StormPort.h:421</a></div></div>
<div class="ttc" id="astructTCompressTable_html_a7b9bec7af7b63d10390df306fa8fb5fe"><div class="ttname"><a href="structTCompressTable.html#a7b9bec7af7b63d10390df306fa8fb5fe">TCompressTable::Compress</a></div><div class="ttdeci">COMPRESS Compress</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00055">SCompression.cpp:55</a></div></div>
<div class="ttc" id="astructTCompressTable_html_aee47319aad5519844c7c0e9cb5f5890b"><div class="ttname"><a href="structTCompressTable.html#aee47319aad5519844c7c0e9cb5f5890b">TCompressTable::uMask</a></div><div class="ttdeci">unsigned long uMask</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00054">SCompression.cpp:54</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a309e1b309f67df0c6d12e6df83a4219a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a309e1b309f67df0c6d12e6df83a4219a_icgraph.svg" width="100%" height="541"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6039b3fb0d4ac8ff528aaa7fcdbb5328" name="a6039b3fb0d4ac8ff528aaa7fcdbb5328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6039b3fb0d4ac8ff528aaa7fcdbb5328">&#9670;&#160;</a></span>SCompDecompress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SCompDecompress </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvOutBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pcbOutBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvInBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cbInBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SCompression_8cpp_source.html#l01028">1028</a> of file <a class="el" href="SCompression_8cpp_source.html">SCompression.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1029</span>{</div>
<div class="line"><span class="lineno"> 1030</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="SCompression_8cpp.html#a5a7b28ff1cff651e853712d7b156146d">SCompDecompressInternal</a>(<a class="code hl_variable" href="SCompression_8cpp.html#af7b5e4727a1f7bd4d55c5af8ed94f191">dcmp_table</a>, <a class="code hl_define" href="StormPort_8h.html#a4987dd6844197a1b6267f4261ae70cf3">_countof</a>(<a class="code hl_variable" href="SCompression_8cpp.html#af7b5e4727a1f7bd4d55c5af8ed94f191">dcmp_table</a>), pvOutBuffer, pcbOutBuffer, pvInBuffer, cbInBuffer);</div>
<div class="line"><span class="lineno"> 1031</span>}</div>
<div class="ttc" id="aSCompression_8cpp_html_a5a7b28ff1cff651e853712d7b156146d"><div class="ttname"><a href="SCompression_8cpp.html#a5a7b28ff1cff651e853712d7b156146d">SCompDecompressInternal</a></div><div class="ttdeci">static int SCompDecompressInternal(TDecompressTable *table, size_t table_length, void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00922">SCompression.cpp:922</a></div></div>
<div class="ttc" id="aSCompression_8cpp_html_af7b5e4727a1f7bd4d55c5af8ed94f191"><div class="ttname"><a href="SCompression_8cpp.html#af7b5e4727a1f7bd4d55c5af8ed94f191">dcmp_table</a></div><div class="ttdeci">static TDecompressTable dcmp_table[]</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00901">SCompression.cpp:901</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a6039b3fb0d4ac8ff528aaa7fcdbb5328_cgraph.svg" width="556" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a6039b3fb0d4ac8ff528aaa7fcdbb5328_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ad4be5c65706a57411d71edd72bd91e06" name="ad4be5c65706a57411d71edd72bd91e06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4be5c65706a57411d71edd72bd91e06">&#9670;&#160;</a></span>SCompDecompress2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SCompDecompress2 </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvOutBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pcbOutBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvInBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cbInBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SCompression_8cpp_source.html#l01038">1038</a> of file <a class="el" href="SCompression_8cpp_source.html">SCompression.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1039</span>{</div>
<div class="line"><span class="lineno"> 1040</span>    <a class="code hl_typedef" href="SCompression_8cpp.html#a98319dfea88bf2e3288bb90e9b20c295">DECOMPRESS</a> pfnDecompress1 = NULL;</div>
<div class="line"><span class="lineno"> 1041</span>    <a class="code hl_typedef" href="SCompression_8cpp.html#a98319dfea88bf2e3288bb90e9b20c295">DECOMPRESS</a> pfnDecompress2 = NULL;</div>
<div class="line"><span class="lineno"> 1042</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * pbWorkBuffer = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)pvOutBuffer;</div>
<div class="line"><span class="lineno"> 1043</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * pbInBuffer = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)pvInBuffer;</div>
<div class="line"><span class="lineno"> 1044</span>    <span class="keywordtype">int</span> cbWorkBuffer = *pcbOutBuffer;</div>
<div class="line"><span class="lineno"> 1045</span>    <span class="keywordtype">int</span> nResult;</div>
<div class="line"><span class="lineno"> 1046</span>    <span class="keywordtype">char</span> CompressionMethod;</div>
<div class="line"><span class="lineno"> 1047</span> </div>
<div class="line"><span class="lineno"> 1048</span>    <span class="comment">// Verify buffer sizes</span></div>
<div class="line"><span class="lineno"> 1049</span>    <span class="keywordflow">if</span>(*pcbOutBuffer &lt; cbInBuffer || cbInBuffer &lt; 1)</div>
<div class="line"><span class="lineno"> 1050</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1051</span> </div>
<div class="line"><span class="lineno"> 1052</span>    <span class="comment">// If the outputbuffer is as big as input buffer, just copy the block</span></div>
<div class="line"><span class="lineno"> 1053</span>    <span class="keywordflow">if</span>(*pcbOutBuffer == cbInBuffer)</div>
<div class="line"><span class="lineno"> 1054</span>    {</div>
<div class="line"><span class="lineno"> 1055</span>        <span class="keywordflow">if</span>(pvOutBuffer != pvInBuffer)</div>
<div class="line"><span class="lineno"> 1056</span>            memcpy(pvOutBuffer, pvInBuffer, cbInBuffer);</div>
<div class="line"><span class="lineno"> 1057</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1058</span>    }</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span>    <span class="comment">// Get the compression methods</span></div>
<div class="line"><span class="lineno"> 1061</span>    CompressionMethod = *pbInBuffer++;</div>
<div class="line"><span class="lineno"> 1062</span>    cbInBuffer--;</div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span>    <span class="comment">// We only recognize a fixed set of compression methods</span></div>
<div class="line"><span class="lineno"> 1065</span>    <span class="keywordflow">switch</span>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)CompressionMethod)</div>
<div class="line"><span class="lineno"> 1066</span>    {</div>
<div class="line"><span class="lineno"> 1067</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#ac70d5d9d0a9f5d020ba7c84b6d441edb">MPQ_COMPRESSION_ZLIB</a>:</div>
<div class="line"><span class="lineno"> 1068</span>            pfnDecompress1 = <a class="code hl_function" href="SCompression_8cpp.html#a1e94658a0bb36171f75799de2fcb2bed">Decompress_ZLIB</a>;</div>
<div class="line"><span class="lineno"> 1069</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1070</span> </div>
<div class="line"><span class="lineno"> 1071</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#affcc96014fb0d52f7d555ea5729e526b">MPQ_COMPRESSION_PKWARE</a>:</div>
<div class="line"><span class="lineno"> 1072</span>            pfnDecompress1 = <a class="code hl_function" href="SCompression_8cpp.html#ad7ca5b075e5cb78785844c8d2af58f32">Decompress_PKLIB</a>;</div>
<div class="line"><span class="lineno"> 1073</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1074</span> </div>
<div class="line"><span class="lineno"> 1075</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#ac44b18d438b10b9dab3e0097423248ad">MPQ_COMPRESSION_BZIP2</a>:</div>
<div class="line"><span class="lineno"> 1076</span>            pfnDecompress1 = <a class="code hl_function" href="SCompression_8cpp.html#aa9f554b1a45f2c2d6544b9302ff7f571">Decompress_BZIP2</a>;</div>
<div class="line"><span class="lineno"> 1077</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1078</span> </div>
<div class="line"><span class="lineno"> 1079</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#a8e5be3b3c8663e78a6acdaa131c6e013">MPQ_COMPRESSION_LZMA</a>:</div>
<div class="line"><span class="lineno"> 1080</span>            pfnDecompress1 = <a class="code hl_function" href="SCompression_8cpp.html#aa5191913c0ba9d12a03ca8e5391db72c">Decompress_LZMA</a>;</div>
<div class="line"><span class="lineno"> 1081</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1082</span> </div>
<div class="line"><span class="lineno"> 1083</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#ac85b92394ff58491ebaee0aff8e50169">MPQ_COMPRESSION_SPARSE</a>:</div>
<div class="line"><span class="lineno"> 1084</span>            pfnDecompress1 = <a class="code hl_function" href="SCompression_8cpp.html#a0ae2e64309b3cae6ee4f6fe72dae9939">Decompress_SPARSE</a>;</div>
<div class="line"><span class="lineno"> 1085</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1086</span> </div>
<div class="line"><span class="lineno"> 1087</span>        <span class="keywordflow">case</span> (<a class="code hl_define" href="StormLib_8h.html#ac85b92394ff58491ebaee0aff8e50169">MPQ_COMPRESSION_SPARSE</a> | <a class="code hl_define" href="StormLib_8h.html#ac70d5d9d0a9f5d020ba7c84b6d441edb">MPQ_COMPRESSION_ZLIB</a>):</div>
<div class="line"><span class="lineno"> 1088</span>            pfnDecompress1 = <a class="code hl_function" href="SCompression_8cpp.html#a1e94658a0bb36171f75799de2fcb2bed">Decompress_ZLIB</a>;</div>
<div class="line"><span class="lineno"> 1089</span>            pfnDecompress2 = <a class="code hl_function" href="SCompression_8cpp.html#a0ae2e64309b3cae6ee4f6fe72dae9939">Decompress_SPARSE</a>;</div>
<div class="line"><span class="lineno"> 1090</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>        <span class="keywordflow">case</span> (<a class="code hl_define" href="StormLib_8h.html#ac85b92394ff58491ebaee0aff8e50169">MPQ_COMPRESSION_SPARSE</a> | <a class="code hl_define" href="StormLib_8h.html#ac44b18d438b10b9dab3e0097423248ad">MPQ_COMPRESSION_BZIP2</a>):</div>
<div class="line"><span class="lineno"> 1093</span>            pfnDecompress1 = <a class="code hl_function" href="SCompression_8cpp.html#aa9f554b1a45f2c2d6544b9302ff7f571">Decompress_BZIP2</a>;</div>
<div class="line"><span class="lineno"> 1094</span>            pfnDecompress2 = <a class="code hl_function" href="SCompression_8cpp.html#a0ae2e64309b3cae6ee4f6fe72dae9939">Decompress_SPARSE</a>;</div>
<div class="line"><span class="lineno"> 1095</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1098</span>        <span class="comment">// Note: Any combination including MPQ_COMPRESSION_ADPCM_MONO,</span></div>
<div class="line"><span class="lineno"> 1099</span>        <span class="comment">// MPQ_COMPRESSION_ADPCM_STEREO or MPQ_COMPRESSION_HUFFMANN</span></div>
<div class="line"><span class="lineno"> 1100</span>        <span class="comment">// is not supported by newer MPQs.</span></div>
<div class="line"><span class="lineno"> 1101</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1102</span> </div>
<div class="line"><span class="lineno"> 1103</span>        <span class="keywordflow">case</span> (<a class="code hl_define" href="StormLib_8h.html#a1c53d9ecdba00873daf8b8396ecf3d75">MPQ_COMPRESSION_ADPCM_MONO</a> | <a class="code hl_define" href="StormLib_8h.html#a505a02c8e15a72cf17ec5b1e3642ba7c">MPQ_COMPRESSION_HUFFMANN</a>):</div>
<div class="line"><span class="lineno"> 1104</span>            pfnDecompress1 = <a class="code hl_function" href="SCompression_8cpp.html#af6ddfa41c2bcdabfb985348a84dff2df">Decompress_huff</a>;</div>
<div class="line"><span class="lineno"> 1105</span>            pfnDecompress2 = <a class="code hl_function" href="SCompression_8cpp.html#a5d2a13fb8e92a9dffdb6b023644899d6">Decompress_ADPCM_mono</a>;</div>
<div class="line"><span class="lineno"> 1106</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1107</span> </div>
<div class="line"><span class="lineno"> 1108</span>        <span class="keywordflow">case</span> (<a class="code hl_define" href="StormLib_8h.html#a3b1d4a7c8d9ccbdc02b748ab2fd4f882">MPQ_COMPRESSION_ADPCM_STEREO</a> | <a class="code hl_define" href="StormLib_8h.html#a505a02c8e15a72cf17ec5b1e3642ba7c">MPQ_COMPRESSION_HUFFMANN</a>):</div>
<div class="line"><span class="lineno"> 1109</span>            pfnDecompress1 = <a class="code hl_function" href="SCompression_8cpp.html#af6ddfa41c2bcdabfb985348a84dff2df">Decompress_huff</a>;</div>
<div class="line"><span class="lineno"> 1110</span>            pfnDecompress2 = <a class="code hl_function" href="SCompression_8cpp.html#afed71a82d268df4883dabb77ec7cb8fe">Decompress_ADPCM_stereo</a>;</div>
<div class="line"><span class="lineno"> 1111</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1112</span> </div>
<div class="line"><span class="lineno"> 1113</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1114</span>            <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a16efe2101191997f3ac8f2e7bb7894b8">ERROR_FILE_CORRUPT</a>);</div>
<div class="line"><span class="lineno"> 1115</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1116</span>    }</div>
<div class="line"><span class="lineno"> 1117</span> </div>
<div class="line"><span class="lineno"> 1118</span>    <span class="comment">// If we have to use two decompressions, allocate temporary buffer</span></div>
<div class="line"><span class="lineno"> 1119</span>    <span class="keywordflow">if</span>(pfnDecompress2 != NULL)</div>
<div class="line"><span class="lineno"> 1120</span>    {</div>
<div class="line"><span class="lineno"> 1121</span>        pbWorkBuffer = <a class="code hl_define" href="StormCommon_8h.html#a6fe0c42173ef1a4b9f0e837b0c631660">STORM_ALLOC</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>, *pcbOutBuffer);</div>
<div class="line"><span class="lineno"> 1122</span>        <span class="keywordflow">if</span>(pbWorkBuffer == NULL)</div>
<div class="line"><span class="lineno"> 1123</span>        {</div>
<div class="line"><span class="lineno"> 1124</span>            <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a>);</div>
<div class="line"><span class="lineno"> 1125</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1126</span>        }</div>
<div class="line"><span class="lineno"> 1127</span>    }</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span>    <span class="comment">// Apply the first decompression method</span></div>
<div class="line"><span class="lineno"> 1130</span>    nResult = pfnDecompress1(pbWorkBuffer, &amp;cbWorkBuffer, pbInBuffer, cbInBuffer);</div>
<div class="line"><span class="lineno"> 1131</span> </div>
<div class="line"><span class="lineno"> 1132</span>    <span class="comment">// Apply the second decompression method, if any</span></div>
<div class="line"><span class="lineno"> 1133</span>    <span class="keywordflow">if</span>(pfnDecompress2 != NULL &amp;&amp; nResult != 0)</div>
<div class="line"><span class="lineno"> 1134</span>    {</div>
<div class="line"><span class="lineno"> 1135</span>        cbInBuffer   = cbWorkBuffer;</div>
<div class="line"><span class="lineno"> 1136</span>        cbWorkBuffer = *pcbOutBuffer;</div>
<div class="line"><span class="lineno"> 1137</span>        nResult = pfnDecompress2(pvOutBuffer, &amp;cbWorkBuffer, pbWorkBuffer, cbInBuffer);</div>
<div class="line"><span class="lineno"> 1138</span>    }</div>
<div class="line"><span class="lineno"> 1139</span> </div>
<div class="line"><span class="lineno"> 1140</span>    <span class="comment">// Supply the output buffer size</span></div>
<div class="line"><span class="lineno"> 1141</span>    *pcbOutBuffer = cbWorkBuffer;</div>
<div class="line"><span class="lineno"> 1142</span> </div>
<div class="line"><span class="lineno"> 1143</span>    <span class="comment">// Free temporary buffer</span></div>
<div class="line"><span class="lineno"> 1144</span>    <span class="keywordflow">if</span>(pbWorkBuffer != pvOutBuffer)</div>
<div class="line"><span class="lineno"> 1145</span>        <a class="code hl_define" href="StormCommon_8h.html#a50487dadfceefebfb0de8fa711eaf4b3">STORM_FREE</a>(pbWorkBuffer);</div>
<div class="line"><span class="lineno"> 1146</span> </div>
<div class="line"><span class="lineno"> 1147</span>    <span class="keywordflow">if</span>(nResult == 0)</div>
<div class="line"><span class="lineno"> 1148</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a16efe2101191997f3ac8f2e7bb7894b8">ERROR_FILE_CORRUPT</a>);</div>
<div class="line"><span class="lineno"> 1149</span>    <span class="keywordflow">return</span> nResult;</div>
<div class="line"><span class="lineno"> 1150</span>}</div>
<div class="ttc" id="aSCompression_8cpp_html_a0ae2e64309b3cae6ee4f6fe72dae9939"><div class="ttname"><a href="SCompression_8cpp.html#a0ae2e64309b3cae6ee4f6fe72dae9939">Decompress_SPARSE</a></div><div class="ttdeci">int Decompress_SPARSE(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00577">SCompression.cpp:577</a></div></div>
<div class="ttc" id="aSCompression_8cpp_html_a1e94658a0bb36171f75799de2fcb2bed"><div class="ttname"><a href="SCompression_8cpp.html#a1e94658a0bb36171f75799de2fcb2bed">Decompress_ZLIB</a></div><div class="ttdeci">int Decompress_ZLIB(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00155">SCompression.cpp:155</a></div></div>
<div class="ttc" id="aSCompression_8cpp_html_a5d2a13fb8e92a9dffdb6b023644899d6"><div class="ttname"><a href="SCompression_8cpp.html#a5d2a13fb8e92a9dffdb6b023644899d6">Decompress_ADPCM_mono</a></div><div class="ttdeci">static int Decompress_ADPCM_mono(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00610">SCompression.cpp:610</a></div></div>
<div class="ttc" id="aSCompression_8cpp_html_a98319dfea88bf2e3288bb90e9b20c295"><div class="ttname"><a href="SCompression_8cpp.html#a98319dfea88bf2e3288bb90e9b20c295">DECOMPRESS</a></div><div class="ttdeci">int(* DECOMPRESS)(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00044">SCompression.cpp:44</a></div></div>
<div class="ttc" id="aSCompression_8cpp_html_aa5191913c0ba9d12a03ca8e5391db72c"><div class="ttname"><a href="SCompression_8cpp.html#aa5191913c0ba9d12a03ca8e5391db72c">Decompress_LZMA</a></div><div class="ttdeci">static int Decompress_LZMA(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00481">SCompression.cpp:481</a></div></div>
<div class="ttc" id="aSCompression_8cpp_html_aa9f554b1a45f2c2d6544b9302ff7f571"><div class="ttname"><a href="SCompression_8cpp.html#aa9f554b1a45f2c2d6544b9302ff7f571">Decompress_BZIP2</a></div><div class="ttdeci">static int Decompress_BZIP2(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00354">SCompression.cpp:354</a></div></div>
<div class="ttc" id="aSCompression_8cpp_html_ad7ca5b075e5cb78785844c8d2af58f32"><div class="ttname"><a href="SCompression_8cpp.html#ad7ca5b075e5cb78785844c8d2af58f32">Decompress_PKLIB</a></div><div class="ttdeci">static int Decompress_PKLIB(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00279">SCompression.cpp:279</a></div></div>
<div class="ttc" id="aSCompression_8cpp_html_af6ddfa41c2bcdabfb985348a84dff2df"><div class="ttname"><a href="SCompression_8cpp.html#af6ddfa41c2bcdabfb985348a84dff2df">Decompress_huff</a></div><div class="ttdeci">int Decompress_huff(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00081">SCompression.cpp:81</a></div></div>
<div class="ttc" id="aSCompression_8cpp_html_afed71a82d268df4883dabb77ec7cb8fe"><div class="ttname"><a href="SCompression_8cpp.html#afed71a82d268df4883dabb77ec7cb8fe">Decompress_ADPCM_stereo</a></div><div class="ttdeci">static int Decompress_ADPCM_stereo(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00644">SCompression.cpp:644</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a1c53d9ecdba00873daf8b8396ecf3d75"><div class="ttname"><a href="StormLib_8h.html#a1c53d9ecdba00873daf8b8396ecf3d75">MPQ_COMPRESSION_ADPCM_MONO</a></div><div class="ttdeci">#define MPQ_COMPRESSION_ADPCM_MONO</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00272">StormLib.h:272</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a3b1d4a7c8d9ccbdc02b748ab2fd4f882"><div class="ttname"><a href="StormLib_8h.html#a3b1d4a7c8d9ccbdc02b748ab2fd4f882">MPQ_COMPRESSION_ADPCM_STEREO</a></div><div class="ttdeci">#define MPQ_COMPRESSION_ADPCM_STEREO</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00273">StormLib.h:273</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a505a02c8e15a72cf17ec5b1e3642ba7c"><div class="ttname"><a href="StormLib_8h.html#a505a02c8e15a72cf17ec5b1e3642ba7c">MPQ_COMPRESSION_HUFFMANN</a></div><div class="ttdeci">#define MPQ_COMPRESSION_HUFFMANN</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00267">StormLib.h:267</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ac44b18d438b10b9dab3e0097423248ad"><div class="ttname"><a href="StormLib_8h.html#ac44b18d438b10b9dab3e0097423248ad">MPQ_COMPRESSION_BZIP2</a></div><div class="ttdeci">#define MPQ_COMPRESSION_BZIP2</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00270">StormLib.h:270</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ac70d5d9d0a9f5d020ba7c84b6d441edb"><div class="ttname"><a href="StormLib_8h.html#ac70d5d9d0a9f5d020ba7c84b6d441edb">MPQ_COMPRESSION_ZLIB</a></div><div class="ttdeci">#define MPQ_COMPRESSION_ZLIB</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00268">StormLib.h:268</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ac85b92394ff58491ebaee0aff8e50169"><div class="ttname"><a href="StormLib_8h.html#ac85b92394ff58491ebaee0aff8e50169">MPQ_COMPRESSION_SPARSE</a></div><div class="ttdeci">#define MPQ_COMPRESSION_SPARSE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00271">StormLib.h:271</a></div></div>
<div class="ttc" id="aStormLib_8h_html_affcc96014fb0d52f7d555ea5729e526b"><div class="ttname"><a href="StormLib_8h.html#affcc96014fb0d52f7d555ea5729e526b">MPQ_COMPRESSION_PKWARE</a></div><div class="ttdeci">#define MPQ_COMPRESSION_PKWARE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00269">StormLib.h:269</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a16efe2101191997f3ac8f2e7bb7894b8"><div class="ttname"><a href="StormPort_8h.html#a16efe2101191997f3ac8f2e7bb7894b8">ERROR_FILE_CORRUPT</a></div><div class="ttdeci">#define ERROR_FILE_CORRUPT</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00416">StormPort.h:416</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ad4be5c65706a57411d71edd72bd91e06_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ad4be5c65706a57411d71edd72bd91e06_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ab19c5156a7ff6aea3714bb75a38e9535" name="ab19c5156a7ff6aea3714bb75a38e9535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab19c5156a7ff6aea3714bb75a38e9535">&#9670;&#160;</a></span>SCompDecompress_SC1B()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SCompDecompress_SC1B </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvOutBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pcbOutBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvInBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cbInBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SCompression_8cpp_source.html#l01033">1033</a> of file <a class="el" href="SCompression_8cpp_source.html">SCompression.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1034</span>{</div>
<div class="line"><span class="lineno"> 1035</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="SCompression_8cpp.html#a5a7b28ff1cff651e853712d7b156146d">SCompDecompressInternal</a>(<a class="code hl_variable" href="SCompression_8cpp.html#ad4f449b8e3dc6a2d125aa7ecdccf06db">dcmp_table_sc1b</a>, <a class="code hl_define" href="StormPort_8h.html#a4987dd6844197a1b6267f4261ae70cf3">_countof</a>(<a class="code hl_variable" href="SCompression_8cpp.html#ad4f449b8e3dc6a2d125aa7ecdccf06db">dcmp_table_sc1b</a>), pvOutBuffer, pcbOutBuffer, pvInBuffer, cbInBuffer);</div>
<div class="line"><span class="lineno"> 1036</span>}</div>
<div class="ttc" id="aSCompression_8cpp_html_ad4f449b8e3dc6a2d125aa7ecdccf06db"><div class="ttname"><a href="SCompression_8cpp.html#ad4f449b8e3dc6a2d125aa7ecdccf06db">dcmp_table_sc1b</a></div><div class="ttdeci">static TDecompressTable dcmp_table_sc1b[]</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00914">SCompression.cpp:914</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ab19c5156a7ff6aea3714bb75a38e9535_cgraph.svg" width="598" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ab19c5156a7ff6aea3714bb75a38e9535_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aef9de212ebb17b38d8c1efbbdfeafac4" name="aef9de212ebb17b38d8c1efbbdfeafac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef9de212ebb17b38d8c1efbbdfeafac4">&#9670;&#160;</a></span>SCompExplode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SCompExplode </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvOutBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pcbOutBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvInBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cbInBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SCompression_8cpp_source.html#l00706">706</a> of file <a class="el" href="SCompression_8cpp_source.html">SCompression.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  707</span>{</div>
<div class="line"><span class="lineno">  708</span>    <span class="keywordtype">int</span> cbOutBuffer;</div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span>    <span class="comment">// Check for valid parameters</span></div>
<div class="line"><span class="lineno">  711</span>    <span class="keywordflow">if</span>(!pcbOutBuffer || *pcbOutBuffer &lt; cbInBuffer || !pvOutBuffer || !pvInBuffer)</div>
<div class="line"><span class="lineno">  712</span>    {</div>
<div class="line"><span class="lineno">  713</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  714</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  715</span>    }</div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>    <span class="comment">// If the input length is the same as output length, do nothing.</span></div>
<div class="line"><span class="lineno">  718</span>    cbOutBuffer = *pcbOutBuffer;</div>
<div class="line"><span class="lineno">  719</span>    <span class="keywordflow">if</span>(cbInBuffer == cbOutBuffer)</div>
<div class="line"><span class="lineno">  720</span>    {</div>
<div class="line"><span class="lineno">  721</span>        <span class="comment">// If the buffers are equal, don&#39;t copy anything.</span></div>
<div class="line"><span class="lineno">  722</span>        <span class="keywordflow">if</span>(pvInBuffer == pvOutBuffer)</div>
<div class="line"><span class="lineno">  723</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>        memcpy(pvOutBuffer, pvInBuffer, cbInBuffer);</div>
<div class="line"><span class="lineno">  726</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  727</span>    }</div>
<div class="line"><span class="lineno">  728</span> </div>
<div class="line"><span class="lineno">  729</span>    <span class="comment">// Perform decompression</span></div>
<div class="line"><span class="lineno">  730</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SCompression_8cpp.html#ad7ca5b075e5cb78785844c8d2af58f32">Decompress_PKLIB</a>(pvOutBuffer, &amp;cbOutBuffer, pvInBuffer, cbInBuffer))</div>
<div class="line"><span class="lineno">  731</span>    {</div>
<div class="line"><span class="lineno">  732</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a16efe2101191997f3ac8f2e7bb7894b8">ERROR_FILE_CORRUPT</a>);</div>
<div class="line"><span class="lineno">  733</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  734</span>    }</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>    *pcbOutBuffer = cbOutBuffer;</div>
<div class="line"><span class="lineno">  737</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  738</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_aef9de212ebb17b38d8c1efbbdfeafac4_cgraph.svg" width="100%" height="512"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_aef9de212ebb17b38d8c1efbbdfeafac4_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a430149429a94672d6363426736e6371f" name="a430149429a94672d6363426736e6371f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a430149429a94672d6363426736e6371f">&#9670;&#160;</a></span>SCompImplode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SCompImplode </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvOutBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pcbOutBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvInBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cbInBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SCompression_8cpp_source.html#l00674">674</a> of file <a class="el" href="SCompression_8cpp_source.html">SCompression.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  675</span>{</div>
<div class="line"><span class="lineno">  676</span>    <span class="keywordtype">int</span> cbOutBuffer;</div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span>    <span class="comment">// Check for valid parameters</span></div>
<div class="line"><span class="lineno">  679</span>    <span class="keywordflow">if</span>(!pcbOutBuffer || *pcbOutBuffer &lt; cbInBuffer || !pvOutBuffer || !pvInBuffer)</div>
<div class="line"><span class="lineno">  680</span>    {</div>
<div class="line"><span class="lineno">  681</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  682</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  683</span>    }</div>
<div class="line"><span class="lineno">  684</span> </div>
<div class="line"><span class="lineno">  685</span>    <span class="comment">// Perform the compression</span></div>
<div class="line"><span class="lineno">  686</span>    cbOutBuffer = *pcbOutBuffer;</div>
<div class="line"><span class="lineno">  687</span>    <a class="code hl_function" href="SCompression_8cpp.html#a08ad377f0960cad307aa276b9fcdcd81">Compress_PKLIB</a>(pvOutBuffer, &amp;cbOutBuffer, pvInBuffer, cbInBuffer, NULL, 0);</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>    <span class="comment">// If the compression was unsuccessful, copy the data as-is</span></div>
<div class="line"><span class="lineno">  690</span>    <span class="keywordflow">if</span>(cbOutBuffer &gt;= *pcbOutBuffer)</div>
<div class="line"><span class="lineno">  691</span>    {</div>
<div class="line"><span class="lineno">  692</span>        memcpy(pvOutBuffer, pvInBuffer, cbInBuffer);</div>
<div class="line"><span class="lineno">  693</span>        cbOutBuffer = *pcbOutBuffer;</div>
<div class="line"><span class="lineno">  694</span>    }</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>    *pcbOutBuffer = cbOutBuffer;</div>
<div class="line"><span class="lineno">  697</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  698</span>}</div>
<div class="ttc" id="aSCompression_8cpp_html_a08ad377f0960cad307aa276b9fcdcd81"><div class="ttname"><a href="SCompression_8cpp.html#a08ad377f0960cad307aa276b9fcdcd81">Compress_PKLIB</a></div><div class="ttdeci">static void Compress_PKLIB(void *pvOutBuffer, int *pcbOutBuffer, void *pvInBuffer, int cbInBuffer, int *pCmpType, int nCmpLevel)</div><div class="ttdef"><b>Definition</b> <a href="SCompression_8cpp_source.html#l00236">SCompression.cpp:236</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a430149429a94672d6363426736e6371f_cgraph.svg" width="100%" height="530"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a430149429a94672d6363426736e6371f_icgraph.svg" width="100%" height="532"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a65dd8d3e416ffbd6ac5f468c6bdccac9" name="a65dd8d3e416ffbd6ac5f468c6bdccac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65dd8d3e416ffbd6ac5f468c6bdccac9">&#9670;&#160;</a></span>SetLastError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetLastError </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwErrCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="FileStream_8cpp_source.html#l00049">49</a> of file <a class="el" href="FileStream_8cpp_source.html">FileStream.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   50</span>{</div>
<div class="line"><span class="lineno">   51</span>    <a class="code hl_variable" href="FileStream_8cpp.html#ae1b34ad1b2653fcef5fac54d2fea9943">dwLastError</a> = dwErrCode;</div>
<div class="line"><span class="lineno">   52</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab6184a31092ac5364a8746b1fca3a822" name="ab6184a31092ac5364a8746b1fca3a822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6184a31092ac5364a8746b1fca3a822">&#9670;&#160;</a></span>SFileAddFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileAddFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szArchivedName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAddFile_8cpp_source.html#l01028">1028</a> of file <a class="el" href="SFileAddFile_8cpp_source.html">SFileAddFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1029</span>{</div>
<div class="line"><span class="lineno"> 1030</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="SFileAddFile_8cpp.html#a9d092079ada150e05bfed5a26e65e184">SFileAddFileEx</a>(hMpq,</div>
<div class="line"><span class="lineno"> 1031</span>                          szFileName,</div>
<div class="line"><span class="lineno"> 1032</span>                          szArchivedName,</div>
<div class="line"><span class="lineno"> 1033</span>                          dwFlags,</div>
<div class="line"><span class="lineno"> 1034</span>                          <a class="code hl_variable" href="SFileAddFile_8cpp.html#a2278dde170126cbc9c4172f1204c449b">DefaultDataCompression</a>,</div>
<div class="line"><span class="lineno"> 1035</span>                          <a class="code hl_variable" href="SFileAddFile_8cpp.html#a2278dde170126cbc9c4172f1204c449b">DefaultDataCompression</a>);</div>
<div class="line"><span class="lineno"> 1036</span>}</div>
<div class="ttc" id="aSFileAddFile_8cpp_html_a2278dde170126cbc9c4172f1204c449b"><div class="ttname"><a href="SFileAddFile_8cpp.html#a2278dde170126cbc9c4172f1204c449b">DefaultDataCompression</a></div><div class="ttdeci">static DWORD DefaultDataCompression</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00024">SFileAddFile.cpp:24</a></div></div>
<div class="ttc" id="aSFileAddFile_8cpp_html_a9d092079ada150e05bfed5a26e65e184"><div class="ttname"><a href="SFileAddFile_8cpp.html#a9d092079ada150e05bfed5a26e65e184">SFileAddFileEx</a></div><div class="ttdeci">bool WINAPI SFileAddFileEx(HANDLE hMpq, const TCHAR *szFileName, const char *szArchivedName, DWORD dwFlags, DWORD dwCompression, DWORD dwCompressionNext)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00888">SFileAddFile.cpp:888</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ab6184a31092ac5364a8746b1fca3a822_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a9d092079ada150e05bfed5a26e65e184" name="a9d092079ada150e05bfed5a26e65e184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d092079ada150e05bfed5a26e65e184">&#9670;&#160;</a></span>SFileAddFileEx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileAddFileEx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szArchivedName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwCompression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwCompressionNext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAddFile_8cpp_source.html#l00888">888</a> of file <a class="el" href="SFileAddFile_8cpp_source.html">SFileAddFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  895</span>{</div>
<div class="line"><span class="lineno">  896</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> FileSize = 0;</div>
<div class="line"><span class="lineno">  897</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> FileTime = 0;</div>
<div class="line"><span class="lineno">  898</span>    <a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream = NULL;</div>
<div class="line"><span class="lineno">  899</span>    <a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpqFile = NULL;</div>
<div class="line"><span class="lineno">  900</span>    <a class="code hl_typedef" href="StormPort_8h.html#ac2d3fb16b5b34c1e6ab80014309020eb">LPBYTE</a> pbFileData = NULL;</div>
<div class="line"><span class="lineno">  901</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesRemaining = 0;</div>
<div class="line"><span class="lineno">  902</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesToRead;</div>
<div class="line"><span class="lineno">  903</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwSectorSize = 0x1000;</div>
<div class="line"><span class="lineno">  904</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwChannels = 0;</div>
<div class="line"><span class="lineno">  905</span>    <span class="keywordtype">bool</span> bIsAdpcmCompression = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  906</span>    <span class="keywordtype">bool</span> bIsFirstSector = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  907</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>    <span class="comment">// Check parameters</span></div>
<div class="line"><span class="lineno">  910</span>    <span class="keywordflow">if</span>(hMpq == NULL || szFileName == NULL || *szFileName == 0)</div>
<div class="line"><span class="lineno">  911</span>    {</div>
<div class="line"><span class="lineno">  912</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  913</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  914</span>    }</div>
<div class="line"><span class="lineno">  915</span> </div>
<div class="line"><span class="lineno">  916</span>    <span class="comment">// Open added file</span></div>
<div class="line"><span class="lineno">  917</span>    pStream = <a class="code hl_function" href="FileStream_8cpp.html#a702003c1930c608961b812259bd9dc22">FileStream_OpenFile</a>(szFileName, <a class="code hl_define" href="StormLib_8h.html#abdbbf06488f24699775afe6aadaeafc3">STREAM_FLAG_READ_ONLY</a> | <a class="code hl_define" href="StormLib_8h.html#a45b6170ca9e7880848cdca068234d28c">STREAM_PROVIDER_FLAT</a> | <a class="code hl_define" href="StormLib_8h.html#a3773c068cc9e5acf2ef6a0fd9b4a534e">BASE_PROVIDER_FILE</a>);</div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">if</span>(pStream == NULL)</div>
<div class="line"><span class="lineno">  919</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  920</span> </div>
<div class="line"><span class="lineno">  921</span>    <span class="comment">// Files bigger than 4GB cannot be added to MPQ</span></div>
<div class="line"><span class="lineno">  922</span>    <a class="code hl_function" href="FileStream_8cpp.html#a4ea733800d58589cd80948dd23421dad">FileStream_GetTime</a>(pStream, &amp;FileTime);</div>
<div class="line"><span class="lineno">  923</span>    <a class="code hl_function" href="FileStream_8cpp.html#af505319882f0f4aaf396b6d061a2275b">FileStream_GetSize</a>(pStream, &amp;FileSize);</div>
<div class="line"><span class="lineno">  924</span>    <span class="keywordflow">if</span>(FileSize &gt;&gt; 32)</div>
<div class="line"><span class="lineno">  925</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a5ec52746aa53db64b107d409b8da5372">ERROR_DISK_FULL</a>;</div>
<div class="line"><span class="lineno">  926</span> </div>
<div class="line"><span class="lineno">  927</span>    <span class="comment">// Allocate data buffer for reading from the source file</span></div>
<div class="line"><span class="lineno">  928</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  929</span>    {</div>
<div class="line"><span class="lineno">  930</span>        dwBytesRemaining = (<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)FileSize;</div>
<div class="line"><span class="lineno">  931</span>        pbFileData = <a class="code hl_define" href="StormCommon_8h.html#a6fe0c42173ef1a4b9f0e837b0c631660">STORM_ALLOC</a>(<a class="code hl_typedef" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>, dwSectorSize);</div>
<div class="line"><span class="lineno">  932</span>        <span class="keywordflow">if</span>(pbFileData == NULL)</div>
<div class="line"><span class="lineno">  933</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a>;</div>
<div class="line"><span class="lineno">  934</span>    }</div>
<div class="line"><span class="lineno">  935</span> </div>
<div class="line"><span class="lineno">  936</span>    <span class="comment">// Deal with various combination of compressions</span></div>
<div class="line"><span class="lineno">  937</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  938</span>    {</div>
<div class="line"><span class="lineno">  939</span>        <span class="comment">// When the compression for next blocks is set to default,</span></div>
<div class="line"><span class="lineno">  940</span>        <span class="comment">// we will copy the compression for the first sector</span></div>
<div class="line"><span class="lineno">  941</span>        <span class="keywordflow">if</span>(dwCompressionNext == <a class="code hl_define" href="StormLib_8h.html#a7e8cd5068f8ae19c7af3b48bc505a25d">MPQ_COMPRESSION_NEXT_SAME</a>)</div>
<div class="line"><span class="lineno">  942</span>            dwCompressionNext = dwCompression;</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>        <span class="comment">// If the caller wants ADPCM compression, we make sure</span></div>
<div class="line"><span class="lineno">  945</span>        <span class="comment">// that the first sector is not compressed with lossy compression</span></div>
<div class="line"><span class="lineno">  946</span>        <span class="keywordflow">if</span>(dwCompressionNext &amp; (<a class="code hl_define" href="StormLib_8h.html#a1c53d9ecdba00873daf8b8396ecf3d75">MPQ_COMPRESSION_ADPCM_MONO</a> | <a class="code hl_define" href="StormLib_8h.html#a3b1d4a7c8d9ccbdc02b748ab2fd4f882">MPQ_COMPRESSION_ADPCM_STEREO</a>))</div>
<div class="line"><span class="lineno">  947</span>        {</div>
<div class="line"><span class="lineno">  948</span>            <span class="comment">// The compression of the first file sector must not be ADPCM</span></div>
<div class="line"><span class="lineno">  949</span>            <span class="comment">// in order not to corrupt the headers</span></div>
<div class="line"><span class="lineno">  950</span>            <span class="keywordflow">if</span>(dwCompression &amp; (<a class="code hl_define" href="StormLib_8h.html#a1c53d9ecdba00873daf8b8396ecf3d75">MPQ_COMPRESSION_ADPCM_MONO</a> | <a class="code hl_define" href="StormLib_8h.html#a3b1d4a7c8d9ccbdc02b748ab2fd4f882">MPQ_COMPRESSION_ADPCM_STEREO</a>))</div>
<div class="line"><span class="lineno">  951</span>                dwCompression = <a class="code hl_define" href="StormLib_8h.html#affcc96014fb0d52f7d555ea5729e526b">MPQ_COMPRESSION_PKWARE</a>;</div>
<div class="line"><span class="lineno">  952</span> </div>
<div class="line"><span class="lineno">  953</span>            <span class="comment">// Remove both flag mono and stereo flags.</span></div>
<div class="line"><span class="lineno">  954</span>            <span class="comment">// They will be re-added according to WAVE type</span></div>
<div class="line"><span class="lineno">  955</span>            dwCompressionNext &amp;= ~(<a class="code hl_define" href="StormLib_8h.html#a1c53d9ecdba00873daf8b8396ecf3d75">MPQ_COMPRESSION_ADPCM_MONO</a> | <a class="code hl_define" href="StormLib_8h.html#a3b1d4a7c8d9ccbdc02b748ab2fd4f882">MPQ_COMPRESSION_ADPCM_STEREO</a>);</div>
<div class="line"><span class="lineno">  956</span>            bIsAdpcmCompression = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  957</span>        }</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>        <span class="comment">// Initiate adding file to the MPQ</span></div>
<div class="line"><span class="lineno">  960</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="SFileAddFile_8cpp.html#a85f3b458be41b77c6b6d26f5d09c2bad">SFileCreateFile</a>(hMpq, szArchivedName, FileTime, (<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)FileSize, <a class="code hl_variable" href="SBaseCommon_8cpp.html#a45e71286a36272815b1bf6d4f09aab9a">g_lcFileLocale</a>, dwFlags, &amp;hMpqFile))</div>
<div class="line"><span class="lineno">  961</span>            dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno">  962</span>    }</div>
<div class="line"><span class="lineno">  963</span> </div>
<div class="line"><span class="lineno">  964</span>    <span class="comment">// Write the file data to the MPQ</span></div>
<div class="line"><span class="lineno">  965</span>    <span class="keywordflow">while</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; dwBytesRemaining != 0)</div>
<div class="line"><span class="lineno">  966</span>    {</div>
<div class="line"><span class="lineno">  967</span>        <span class="comment">// Get the number of bytes remaining in the source file</span></div>
<div class="line"><span class="lineno">  968</span>        dwBytesToRead = dwBytesRemaining;</div>
<div class="line"><span class="lineno">  969</span>        <span class="keywordflow">if</span>(dwBytesToRead &gt; dwSectorSize)</div>
<div class="line"><span class="lineno">  970</span>            dwBytesToRead = dwSectorSize;</div>
<div class="line"><span class="lineno">  971</span> </div>
<div class="line"><span class="lineno">  972</span>        <span class="comment">// Read data from the local file</span></div>
<div class="line"><span class="lineno">  973</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="FileStream_8cpp.html#a593f3b1416f7497c28fa5552cd1b3003">FileStream_Read</a>(pStream, NULL, pbFileData, dwBytesToRead))</div>
<div class="line"><span class="lineno">  974</span>        {</div>
<div class="line"><span class="lineno">  975</span>            dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno">  976</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  977</span>        }</div>
<div class="line"><span class="lineno">  978</span> </div>
<div class="line"><span class="lineno">  979</span>        <span class="comment">// If the file being added is a WAVE file, we check number of channels</span></div>
<div class="line"><span class="lineno">  980</span>        <span class="keywordflow">if</span>(bIsFirstSector &amp;&amp; bIsAdpcmCompression)</div>
<div class="line"><span class="lineno">  981</span>        {</div>
<div class="line"><span class="lineno">  982</span>            <span class="comment">// The file must really be a WAVE file with at least 16 bits per sample,</span></div>
<div class="line"><span class="lineno">  983</span>            <span class="comment">// otherwise the ADPCM compression will corrupt it</span></div>
<div class="line"><span class="lineno">  984</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="SFileAddFile_8cpp.html#a08d3d20a3c15f76152c919499a35b463">IsWaveFile_16BitsPerAdpcmSample</a>(pbFileData, dwBytesToRead, &amp;dwChannels))</div>
<div class="line"><span class="lineno">  985</span>            {</div>
<div class="line"><span class="lineno">  986</span>                <span class="comment">// Setup the compression of next sectors according to number of channels</span></div>
<div class="line"><span class="lineno">  987</span>                dwCompressionNext |= (dwChannels == 1) ? <a class="code hl_define" href="StormLib_8h.html#a1c53d9ecdba00873daf8b8396ecf3d75">MPQ_COMPRESSION_ADPCM_MONO</a> : <a class="code hl_define" href="StormLib_8h.html#a3b1d4a7c8d9ccbdc02b748ab2fd4f882">MPQ_COMPRESSION_ADPCM_STEREO</a>;</div>
<div class="line"><span class="lineno">  988</span>            }</div>
<div class="line"><span class="lineno">  989</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  990</span>            {</div>
<div class="line"><span class="lineno">  991</span>                <span class="comment">// Setup the compression of next sectors to a lossless compression</span></div>
<div class="line"><span class="lineno">  992</span>                dwCompressionNext = (dwCompression &amp; <a class="code hl_define" href="SFileAddFile_8cpp.html#af037eda7a4a2f214c6e87418a9d91b99">MPQ_LOSSY_COMPRESSION_MASK</a>) ? <a class="code hl_define" href="StormLib_8h.html#affcc96014fb0d52f7d555ea5729e526b">MPQ_COMPRESSION_PKWARE</a> : dwCompression;</div>
<div class="line"><span class="lineno">  993</span>            }</div>
<div class="line"><span class="lineno">  994</span> </div>
<div class="line"><span class="lineno">  995</span>            bIsFirstSector = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  996</span>        }</div>
<div class="line"><span class="lineno">  997</span> </div>
<div class="line"><span class="lineno">  998</span>        <span class="comment">// Add the file sectors to the MPQ</span></div>
<div class="line"><span class="lineno">  999</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="SFileAddFile_8cpp.html#a70c78df25d758e53550021e82078352e">SFileWriteFile</a>(hMpqFile, pbFileData, dwBytesToRead, dwCompression))</div>
<div class="line"><span class="lineno"> 1000</span>        {</div>
<div class="line"><span class="lineno"> 1001</span>            dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno"> 1002</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1003</span>        }</div>
<div class="line"><span class="lineno"> 1004</span> </div>
<div class="line"><span class="lineno"> 1005</span>        <span class="comment">// Set the next data compression</span></div>
<div class="line"><span class="lineno"> 1006</span>        dwBytesRemaining -= dwBytesToRead;</div>
<div class="line"><span class="lineno"> 1007</span>        dwCompression = dwCompressionNext;</div>
<div class="line"><span class="lineno"> 1008</span>    }</div>
<div class="line"><span class="lineno"> 1009</span> </div>
<div class="line"><span class="lineno"> 1010</span>    <span class="comment">// Finish the file writing</span></div>
<div class="line"><span class="lineno"> 1011</span>    <span class="keywordflow">if</span>(hMpqFile != NULL)</div>
<div class="line"><span class="lineno"> 1012</span>    {</div>
<div class="line"><span class="lineno"> 1013</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="SFileAddFile_8cpp.html#a7829275dccf80bbf47758ebd5515349a">SFileFinishFile</a>(hMpqFile))</div>
<div class="line"><span class="lineno"> 1014</span>            dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno"> 1015</span>    }</div>
<div class="line"><span class="lineno"> 1016</span> </div>
<div class="line"><span class="lineno"> 1017</span>    <span class="comment">// Cleanup and exit</span></div>
<div class="line"><span class="lineno"> 1018</span>    <span class="keywordflow">if</span>(pbFileData != NULL)</div>
<div class="line"><span class="lineno"> 1019</span>        <a class="code hl_define" href="StormCommon_8h.html#a50487dadfceefebfb0de8fa711eaf4b3">STORM_FREE</a>(pbFileData);</div>
<div class="line"><span class="lineno"> 1020</span>    <span class="keywordflow">if</span>(pStream != NULL)</div>
<div class="line"><span class="lineno"> 1021</span>        <a class="code hl_function" href="FileStream_8cpp.html#ae8b75c4797726e9c5ee0b4b03bf31442">FileStream_Close</a>(pStream);</div>
<div class="line"><span class="lineno"> 1022</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 1023</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno"> 1024</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno"> 1025</span>}</div>
<div class="ttc" id="aFileStream_8cpp_html_a4ea733800d58589cd80948dd23421dad"><div class="ttname"><a href="FileStream_8cpp.html#a4ea733800d58589cd80948dd23421dad">FileStream_GetTime</a></div><div class="ttdeci">bool FileStream_GetTime(TFileStream *pStream, ULONGLONG *pFileTime)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02836">FileStream.cpp:2836</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_a593f3b1416f7497c28fa5552cd1b3003"><div class="ttname"><a href="FileStream_8cpp.html#a593f3b1416f7497c28fa5552cd1b3003">FileStream_Read</a></div><div class="ttdeci">bool FileStream_Read(TFileStream *pStream, ULONGLONG *pByteOffset, void *pvBuffer, DWORD dwBytesToRead)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02759">FileStream.cpp:2759</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_a702003c1930c608961b812259bd9dc22"><div class="ttname"><a href="FileStream_8cpp.html#a702003c1930c608961b812259bd9dc22">FileStream_OpenFile</a></div><div class="ttdeci">TFileStream * FileStream_OpenFile(const TCHAR *szFileName, DWORD dwStreamFlags)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02499">FileStream.cpp:2499</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_ad0f1ed530318d4f8cecb3dfb53e15b0a"><div class="ttname"><a href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a></div><div class="ttdeci">DWORD GetLastError()</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l00044">FileStream.cpp:44</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_af505319882f0f4aaf396b6d061a2275b"><div class="ttname"><a href="FileStream_8cpp.html#af505319882f0f4aaf396b6d061a2275b">FileStream_GetSize</a></div><div class="ttdeci">bool FileStream_GetSize(TFileStream *pStream, ULONGLONG *pFileSize)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02795">FileStream.cpp:2795</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a45e71286a36272815b1bf6d4f09aab9a"><div class="ttname"><a href="SBaseCommon_8cpp.html#a45e71286a36272815b1bf6d4f09aab9a">g_lcFileLocale</a></div><div class="ttdeci">LCID g_lcFileLocale</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00026">SBaseCommon.cpp:26</a></div></div>
<div class="ttc" id="aSFileAddFile_8cpp_html_a08d3d20a3c15f76152c919499a35b463"><div class="ttname"><a href="SFileAddFile_8cpp.html#a08d3d20a3c15f76152c919499a35b463">IsWaveFile_16BitsPerAdpcmSample</a></div><div class="ttdeci">static bool IsWaveFile_16BitsPerAdpcmSample(LPBYTE pbFileData, DWORD cbFileData, LPDWORD pdwChannels)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00053">SFileAddFile.cpp:53</a></div></div>
<div class="ttc" id="aSFileAddFile_8cpp_html_a70c78df25d758e53550021e82078352e"><div class="ttname"><a href="SFileAddFile_8cpp.html#a70c78df25d758e53550021e82078352e">SFileWriteFile</a></div><div class="ttdeci">bool WINAPI SFileWriteFile(HANDLE hFile, const void *pvData, DWORD dwSize, DWORD dwCompression)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00818">SFileAddFile.cpp:818</a></div></div>
<div class="ttc" id="aSFileAddFile_8cpp_html_a7829275dccf80bbf47758ebd5515349a"><div class="ttname"><a href="SFileAddFile_8cpp.html#a7829275dccf80bbf47758ebd5515349a">SFileFinishFile</a></div><div class="ttdeci">bool WINAPI SFileFinishFile(HANDLE hFile)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00864">SFileAddFile.cpp:864</a></div></div>
<div class="ttc" id="aSFileAddFile_8cpp_html_a85f3b458be41b77c6b6d26f5d09c2bad"><div class="ttname"><a href="SFileAddFile_8cpp.html#a85f3b458be41b77c6b6d26f5d09c2bad">SFileCreateFile</a></div><div class="ttdeci">bool WINAPI SFileCreateFile(HANDLE hMpq, const char *szArchivedName, ULONGLONG FileTime, DWORD dwFileSize, LCID lcFileLocale, DWORD dwFlags, HANDLE *phFile)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00762">SFileAddFile.cpp:762</a></div></div>
<div class="ttc" id="aSFileAddFile_8cpp_html_af037eda7a4a2f214c6e87418a9d91b99"><div class="ttname"><a href="SFileAddFile_8cpp.html#af037eda7a4a2f214c6e87418a9d91b99">MPQ_LOSSY_COMPRESSION_MASK</a></div><div class="ttdeci">#define MPQ_LOSSY_COMPRESSION_MASK</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00020">SFileAddFile.cpp:20</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a7e8cd5068f8ae19c7af3b48bc505a25d"><div class="ttname"><a href="StormLib_8h.html#a7e8cd5068f8ae19c7af3b48bc505a25d">MPQ_COMPRESSION_NEXT_SAME</a></div><div class="ttdeci">#define MPQ_COMPRESSION_NEXT_SAME</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00275">StormLib.h:275</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a5ec52746aa53db64b107d409b8da5372"><div class="ttname"><a href="StormPort_8h.html#a5ec52746aa53db64b107d409b8da5372">ERROR_DISK_FULL</a></div><div class="ttdeci">#define ERROR_DISK_FULL</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00409">StormPort.h:409</a></div></div>
<div class="ttc" id="aStormPort_8h_html_aea0ae801b7d25c979655a7eb20d034af"><div class="ttname"><a href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a></div><div class="ttdeci">#define ERROR_SUCCESS</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00401">StormPort.h:401</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a9d092079ada150e05bfed5a26e65e184_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a9d092079ada150e05bfed5a26e65e184_icgraph.svg" width="291" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab699405208db728f480c491831904e36" name="ab699405208db728f480c491831904e36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab699405208db728f480c491831904e36">&#9670;&#160;</a></span>SFileAddListFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileAddListFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szListFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileListFile_8cpp_source.html#l00639">639</a> of file <a class="el" href="SFileListFile_8cpp_source.html">SFileListFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  640</span>{</div>
<div class="line"><span class="lineno">  641</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno">  642</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>    <span class="comment">// Add the listfile for each MPQ in the patch chain</span></div>
<div class="line"><span class="lineno">  645</span>    <span class="keywordflow">while</span>(ha != NULL)</div>
<div class="line"><span class="lineno">  646</span>    {</div>
<div class="line"><span class="lineno">  647</span>        <span class="keywordflow">if</span>(szListFile != NULL)</div>
<div class="line"><span class="lineno">  648</span>            dwErrCode = <a class="code hl_function" href="SFileListFile_8cpp.html#aa5f0f70ba9f777b1ba98546d16484070">SFileAddArbitraryListFile</a>(ha, NULL, szListFile, <a class="code hl_define" href="SFileListFile_8cpp.html#a0ca63d621208bf3a7919ed605ee6cdd3">MAX_LISTFILE_SIZE</a>);</div>
<div class="line"><span class="lineno">  649</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  650</span>            dwErrCode = <a class="code hl_function" href="SFileListFile_8cpp.html#ab8880b420fb6890e6d2ae8cc56fdc7e7">SFileAddInternalListFile</a>(ha, hMpq);</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>        <span class="comment">// Also, add three special files to the listfile:</span></div>
<div class="line"><span class="lineno">  653</span>        <span class="comment">// (listfile) itself, (attributes) and (signature)</span></div>
<div class="line"><span class="lineno">  654</span>        <a class="code hl_function" href="SFileListFile_8cpp.html#a28970c3b2769a1db546e497b138e2034">SListFileCreateNodeForAllLocales</a>(ha, <a class="code hl_define" href="StormLib_8h.html#ac797c1c425d999b5bc992e2e39b4169e">LISTFILE_NAME</a>);</div>
<div class="line"><span class="lineno">  655</span>        <a class="code hl_function" href="SFileListFile_8cpp.html#a28970c3b2769a1db546e497b138e2034">SListFileCreateNodeForAllLocales</a>(ha, <a class="code hl_define" href="StormLib_8h.html#ab9ccdfbc136fcd937541b27333e03159">SIGNATURE_NAME</a>);</div>
<div class="line"><span class="lineno">  656</span>        <a class="code hl_function" href="SFileListFile_8cpp.html#a28970c3b2769a1db546e497b138e2034">SListFileCreateNodeForAllLocales</a>(ha, <a class="code hl_define" href="StormLib_8h.html#a5a4e12f2d4a5ad2426f3eb302db71feb">ATTRIBUTES_NAME</a>);</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>        <span class="comment">// Move to the next archive in the chain</span></div>
<div class="line"><span class="lineno">  659</span>        ha = ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aa2646402b5718a74c1908745ea6a46cd">haPatch</a>;</div>
<div class="line"><span class="lineno">  660</span>    }</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    <span class="keywordflow">return</span> dwErrCode;</div>
<div class="line"><span class="lineno">  663</span>}</div>
<div class="ttc" id="aSFileListFile_8cpp_html_a0ca63d621208bf3a7919ed605ee6cdd3"><div class="ttname"><a href="SFileListFile_8cpp.html#a0ca63d621208bf3a7919ed605ee6cdd3">MAX_LISTFILE_SIZE</a></div><div class="ttdeci">#define MAX_LISTFILE_SIZE</div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00020">SFileListFile.cpp:20</a></div></div>
<div class="ttc" id="aSFileListFile_8cpp_html_a28970c3b2769a1db546e497b138e2034"><div class="ttname"><a href="SFileListFile_8cpp.html#a28970c3b2769a1db546e497b138e2034">SListFileCreateNodeForAllLocales</a></div><div class="ttdeci">static DWORD SListFileCreateNodeForAllLocales(TMPQArchive *ha, const char *szFileName)</div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00409">SFileListFile.cpp:409</a></div></div>
<div class="ttc" id="aSFileListFile_8cpp_html_aa5f0f70ba9f777b1ba98546d16484070"><div class="ttname"><a href="SFileListFile_8cpp.html#aa5f0f70ba9f777b1ba98546d16484070">SFileAddArbitraryListFile</a></div><div class="ttdeci">static DWORD SFileAddArbitraryListFile(TMPQArchive *ha, HANDLE hMpq, const TCHAR *szListFile, DWORD dwMaxSize)</div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00531">SFileListFile.cpp:531</a></div></div>
<div class="ttc" id="aSFileListFile_8cpp_html_ab8880b420fb6890e6d2ae8cc56fdc7e7"><div class="ttname"><a href="SFileListFile_8cpp.html#ab8880b420fb6890e6d2ae8cc56fdc7e7">SFileAddInternalListFile</a></div><div class="ttdeci">static DWORD SFileAddInternalListFile(TMPQArchive *ha, HANDLE hMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00561">SFileListFile.cpp:561</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a5a4e12f2d4a5ad2426f3eb302db71feb"><div class="ttname"><a href="StormLib_8h.html#a5a4e12f2d4a5ad2426f3eb302db71feb">ATTRIBUTES_NAME</a></div><div class="ttdeci">#define ATTRIBUTES_NAME</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00292">StormLib.h:292</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ab9ccdfbc136fcd937541b27333e03159"><div class="ttname"><a href="StormLib_8h.html#ab9ccdfbc136fcd937541b27333e03159">SIGNATURE_NAME</a></div><div class="ttdeci">#define SIGNATURE_NAME</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00291">StormLib.h:291</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ac797c1c425d999b5bc992e2e39b4169e"><div class="ttname"><a href="StormLib_8h.html#ac797c1c425d999b5bc992e2e39b4169e">LISTFILE_NAME</a></div><div class="ttdeci">#define LISTFILE_NAME</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00290">StormLib.h:290</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ab699405208db728f480c491831904e36_cgraph.svg" width="100%" height="559"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ab699405208db728f480c491831904e36_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a4cc5ee53bb9a41f91d71a0be809ede22" name="a4cc5ee53bb9a41f91d71a0be809ede22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cc5ee53bb9a41f91d71a0be809ede22">&#9670;&#160;</a></span>SFileAddWave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileAddWave </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szArchivedName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwQuality</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAddFile_8cpp_source.html#l01039">1039</a> of file <a class="el" href="SFileAddFile_8cpp_source.html">SFileAddFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1040</span>{</div>
<div class="line"><span class="lineno"> 1041</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwCompression = 0;</div>
<div class="line"><span class="lineno"> 1042</span> </div>
<div class="line"><span class="lineno"> 1043</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1044</span>    <span class="comment">// Note to wave compression level:</span></div>
<div class="line"><span class="lineno"> 1045</span>    <span class="comment">// The following conversion table applied:</span></div>
<div class="line"><span class="lineno"> 1046</span>    <span class="comment">// High quality:   WaveCompressionLevel = -1</span></div>
<div class="line"><span class="lineno"> 1047</span>    <span class="comment">// Medium quality: WaveCompressionLevel = 4</span></div>
<div class="line"><span class="lineno"> 1048</span>    <span class="comment">// Low quality:    WaveCompressionLevel = 2</span></div>
<div class="line"><span class="lineno"> 1049</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1050</span>    <span class="comment">// Starcraft files are packed as Mono (0x41) on medium quality.</span></div>
<div class="line"><span class="lineno"> 1051</span>    <span class="comment">// Because this compression is not used anymore, our compression functions</span></div>
<div class="line"><span class="lineno"> 1052</span>    <span class="comment">// will default to WaveCompressionLevel = 4 when using ADPCM compression</span></div>
<div class="line"><span class="lineno"> 1053</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1054</span> </div>
<div class="line"><span class="lineno"> 1055</span>    <span class="comment">// Convert quality to data compression</span></div>
<div class="line"><span class="lineno"> 1056</span>    <span class="keywordflow">switch</span>(dwQuality)</div>
<div class="line"><span class="lineno"> 1057</span>    {</div>
<div class="line"><span class="lineno"> 1058</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#aed030ca83ebe6815790b05ae4b459cdc">MPQ_WAVE_QUALITY_HIGH</a>:</div>
<div class="line"><span class="lineno"> 1059</span><span class="comment">//          WaveCompressionLevel = -1;</span></div>
<div class="line"><span class="lineno"> 1060</span>            dwCompression = <a class="code hl_define" href="StormLib_8h.html#affcc96014fb0d52f7d555ea5729e526b">MPQ_COMPRESSION_PKWARE</a>;</div>
<div class="line"><span class="lineno"> 1061</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1062</span> </div>
<div class="line"><span class="lineno"> 1063</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#aec7980211792c800ab5d63ad1d9c9529">MPQ_WAVE_QUALITY_MEDIUM</a>:</div>
<div class="line"><span class="lineno"> 1064</span><span class="comment">//          WaveCompressionLevel = 4;</span></div>
<div class="line"><span class="lineno"> 1065</span>            dwCompression = <a class="code hl_define" href="StormLib_8h.html#a3b1d4a7c8d9ccbdc02b748ab2fd4f882">MPQ_COMPRESSION_ADPCM_STEREO</a> | <a class="code hl_define" href="StormLib_8h.html#a505a02c8e15a72cf17ec5b1e3642ba7c">MPQ_COMPRESSION_HUFFMANN</a>;</div>
<div class="line"><span class="lineno"> 1066</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1067</span> </div>
<div class="line"><span class="lineno"> 1068</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#a909bfc1dc91e7447f063552867ca64f7">MPQ_WAVE_QUALITY_LOW</a>:</div>
<div class="line"><span class="lineno"> 1069</span><span class="comment">//          WaveCompressionLevel = 2;</span></div>
<div class="line"><span class="lineno"> 1070</span>            dwCompression = <a class="code hl_define" href="StormLib_8h.html#a3b1d4a7c8d9ccbdc02b748ab2fd4f882">MPQ_COMPRESSION_ADPCM_STEREO</a> | <a class="code hl_define" href="StormLib_8h.html#a505a02c8e15a72cf17ec5b1e3642ba7c">MPQ_COMPRESSION_HUFFMANN</a>;</div>
<div class="line"><span class="lineno"> 1071</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1072</span>    }</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="SFileAddFile_8cpp.html#a9d092079ada150e05bfed5a26e65e184">SFileAddFileEx</a>(hMpq,</div>
<div class="line"><span class="lineno"> 1075</span>                          szFileName,</div>
<div class="line"><span class="lineno"> 1076</span>                          szArchivedName,</div>
<div class="line"><span class="lineno"> 1077</span>                          dwFlags,</div>
<div class="line"><span class="lineno"> 1078</span>                          <a class="code hl_define" href="StormLib_8h.html#affcc96014fb0d52f7d555ea5729e526b">MPQ_COMPRESSION_PKWARE</a>,   <span class="comment">// First sector should be compressed as data</span></div>
<div class="line"><span class="lineno"> 1079</span>                          dwCompression);           <span class="comment">// Next sectors should be compressed as WAVE</span></div>
<div class="line"><span class="lineno"> 1080</span>}</div>
<div class="ttc" id="aStormLib_8h_html_a909bfc1dc91e7447f063552867ca64f7"><div class="ttname"><a href="StormLib_8h.html#a909bfc1dc91e7447f063552867ca64f7">MPQ_WAVE_QUALITY_LOW</a></div><div class="ttdeci">#define MPQ_WAVE_QUALITY_LOW</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00280">StormLib.h:280</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aec7980211792c800ab5d63ad1d9c9529"><div class="ttname"><a href="StormLib_8h.html#aec7980211792c800ab5d63ad1d9c9529">MPQ_WAVE_QUALITY_MEDIUM</a></div><div class="ttdeci">#define MPQ_WAVE_QUALITY_MEDIUM</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00279">StormLib.h:279</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aed030ca83ebe6815790b05ae4b459cdc"><div class="ttname"><a href="StormLib_8h.html#aed030ca83ebe6815790b05ae4b459cdc">MPQ_WAVE_QUALITY_HIGH</a></div><div class="ttdeci">#define MPQ_WAVE_QUALITY_HIGH</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00278">StormLib.h:278</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a4cc5ee53bb9a41f91d71a0be809ede22_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="abe1ae9917ea665286bffd1524561fceb" name="abe1ae9917ea665286bffd1524561fceb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe1ae9917ea665286bffd1524561fceb">&#9670;&#160;</a></span>SFileCloseArchive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileCloseArchive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileOpenArchive_8cpp_source.html#l00669">669</a> of file <a class="el" href="SFileOpenArchive_8cpp_source.html">SFileOpenArchive.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  670</span>{</div>
<div class="line"><span class="lineno">  671</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = <a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq);</div>
<div class="line"><span class="lineno">  672</span>    <span class="keywordtype">bool</span> bResult = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>    <span class="comment">// Only if the handle is valid</span></div>
<div class="line"><span class="lineno">  675</span>    <span class="keywordflow">if</span>(ha == NULL)</div>
<div class="line"><span class="lineno">  676</span>    {</div>
<div class="line"><span class="lineno">  677</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>);</div>
<div class="line"><span class="lineno">  678</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  679</span>    }</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span>    <span class="comment">// Invalidate the add file callback so it won&#39;t be called</span></div>
<div class="line"><span class="lineno">  682</span>    <span class="comment">// when saving (listfile) and (attributes)</span></div>
<div class="line"><span class="lineno">  683</span>    ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ae614bf73548639003f8243f437ba9624">pfnAddFileCB</a> = NULL;</div>
<div class="line"><span class="lineno">  684</span>    ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a1bb84be2781abcca46fd31c542260430">pvAddFileUserData</a> = NULL;</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>    <span class="comment">// Flush all unsaved data to the storage</span></div>
<div class="line"><span class="lineno">  687</span>    bResult = <a class="code hl_function" href="SFileOpenArchive_8cpp.html#a5f3daefb5c0d87a791fcc42ec40714d2">SFileFlushArchive</a>(hMpq);</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>    <span class="comment">// Free all memory used by MPQ archive</span></div>
<div class="line"><span class="lineno">  690</span>    <a class="code hl_function" href="SBaseCommon_8cpp.html#a8ac0edc687ba86d98e25c700d9cb0710">FreeArchiveHandle</a>(ha);</div>
<div class="line"><span class="lineno">  691</span>    <span class="keywordflow">return</span> bResult;</div>
<div class="line"><span class="lineno">  692</span>}</div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a8ac0edc687ba86d98e25c700d9cb0710"><div class="ttname"><a href="SBaseCommon_8cpp.html#a8ac0edc687ba86d98e25c700d9cb0710">FreeArchiveHandle</a></div><div class="ttdeci">void FreeArchiveHandle(TMPQArchive *&amp;ha)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l01699">SBaseCommon.cpp:1699</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a8d5000a636535d3a630b1704a9b355e1"><div class="ttname"><a href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a></div><div class="ttdeci">TMPQArchive * IsValidMpqHandle(HANDLE hMpq)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00709">SBaseCommon.cpp:709</a></div></div>
<div class="ttc" id="aSFileOpenArchive_8cpp_html_a5f3daefb5c0d87a791fcc42ec40714d2"><div class="ttname"><a href="SFileOpenArchive_8cpp.html#a5f3daefb5c0d87a791fcc42ec40714d2">SFileFlushArchive</a></div><div class="ttdeci">bool WINAPI SFileFlushArchive(HANDLE hMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00586">SFileOpenArchive.cpp:586</a></div></div>
<div class="ttc" id="aStormPort_8h_html_ac5083578cba1fa368ae57edc1b0c6a69"><div class="ttname"><a href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a></div><div class="ttdeci">#define ERROR_INVALID_HANDLE</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00404">StormPort.h:404</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_abe1ae9917ea665286bffd1524561fceb_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_abe1ae9917ea665286bffd1524561fceb_icgraph.svg" width="100%" height="477"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a49a09a38e6dc3b1afd95163a1c9052c6" name="a49a09a38e6dc3b1afd95163a1c9052c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49a09a38e6dc3b1afd95163a1c9052c6">&#9670;&#160;</a></span>SFileCloseFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileCloseFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileOpenFileEx_8cpp_source.html#l00405">405</a> of file <a class="el" href="SFileOpenFileEx_8cpp_source.html">SFileOpenFileEx.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  406</span>{</div>
<div class="line"><span class="lineno">  407</span>    <a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> * hf = (<a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> *)hFile;</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#ab2d3193ce28d1a3b371e0390542d9c23">IsValidFileHandle</a>(hFile))</div>
<div class="line"><span class="lineno">  410</span>    {</div>
<div class="line"><span class="lineno">  411</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>);</div>
<div class="line"><span class="lineno">  412</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  413</span>    }</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>    <span class="comment">// Free the structure</span></div>
<div class="line"><span class="lineno">  416</span>    <a class="code hl_function" href="SBaseCommon_8cpp.html#a18f4fd98a66477ad38b6b12f27cf2ad0">FreeFileHandle</a>(hf);</div>
<div class="line"><span class="lineno">  417</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  418</span>}</div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a18f4fd98a66477ad38b6b12f27cf2ad0"><div class="ttname"><a href="SBaseCommon_8cpp.html#a18f4fd98a66477ad38b6b12f27cf2ad0">FreeFileHandle</a></div><div class="ttdeci">void FreeFileHandle(TMPQFile *&amp;hf)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l01670">SBaseCommon.cpp:1670</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_ab2d3193ce28d1a3b371e0390542d9c23"><div class="ttname"><a href="SBaseCommon_8cpp.html#ab2d3193ce28d1a3b371e0390542d9c23">IsValidFileHandle</a></div><div class="ttdeci">TMPQFile * IsValidFileHandle(HANDLE hFile)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00716">SBaseCommon.cpp:716</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a49a09a38e6dc3b1afd95163a1c9052c6_cgraph.svg" width="492" height="159"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a49a09a38e6dc3b1afd95163a1c9052c6_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="acad7f5afb2f094ca2ef8af9acb893e1b" name="acad7f5afb2f094ca2ef8af9acb893e1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acad7f5afb2f094ca2ef8af9acb893e1b">&#9670;&#160;</a></span>SFileCompactArchive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileCompactArchive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szListFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>bReserved</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileCompactArchive_8cpp_source.html#l00526">526</a> of file <a class="el" href="SFileCompactArchive_8cpp_source.html">SFileCompactArchive.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  527</span>{</div>
<div class="line"><span class="lineno">  528</span>    <a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pTempStream = NULL;</div>
<div class="line"><span class="lineno">  529</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno">  530</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> ByteOffset;</div>
<div class="line"><span class="lineno">  531</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> ByteCount;</div>
<div class="line"><span class="lineno">  532</span>    <a class="code hl_typedef" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> pFileKeys = NULL;</div>
<div class="line"><span class="lineno">  533</span>    <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> szTempFile[<a class="code hl_define" href="StormPort_8h.html#ab99ded389af74001a6298fc9e44e74e5">MAX_PATH</a>+1] = <a class="code hl_define" href="StormPort_8h.html#ae936e4c15227768f7da4e0951def89c8">_T</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  534</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>    <span class="comment">// Test the valid parameters</span></div>
<div class="line"><span class="lineno">  537</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno">  538</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a>)</div>
<div class="line"><span class="lineno">  540</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a>;</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>    <span class="comment">// If the MPQ is changed at this moment, we have to flush the archive</span></div>
<div class="line"><span class="lineno">  543</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; (ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a3c8ed28738e3f0f8fb54fbc395704613">MPQ_FLAG_CHANGED</a>))</div>
<div class="line"><span class="lineno">  544</span>    {</div>
<div class="line"><span class="lineno">  545</span>        <a class="code hl_function" href="SFileOpenArchive_8cpp.html#a5f3daefb5c0d87a791fcc42ec40714d2">SFileFlushArchive</a>(hMpq);</div>
<div class="line"><span class="lineno">  546</span>    }</div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span>    <span class="comment">// Create the table with file keys</span></div>
<div class="line"><span class="lineno">  549</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  550</span>    {</div>
<div class="line"><span class="lineno">  551</span>        <span class="keywordflow">if</span>((pFileKeys = <a class="code hl_define" href="StormCommon_8h.html#a6fe0c42173ef1a4b9f0e837b0c631660">STORM_ALLOC</a>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aae2b6f26cfc5d09d2fc734947c82aabe">dwFileTableSize</a>)) != NULL)</div>
<div class="line"><span class="lineno">  552</span>            memset(pFileKeys, 0, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>) * ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aae2b6f26cfc5d09d2fc734947c82aabe">dwFileTableSize</a>);</div>
<div class="line"><span class="lineno">  553</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  554</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a>;</div>
<div class="line"><span class="lineno">  555</span>    }</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>    <span class="comment">// First of all, we have to check of we are able to decrypt all files.</span></div>
<div class="line"><span class="lineno">  558</span>    <span class="comment">// If not, sorry, but the archive cannot be compacted.</span></div>
<div class="line"><span class="lineno">  559</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  560</span>    {</div>
<div class="line"><span class="lineno">  561</span>        <span class="comment">// Initialize the progress variables for compact callback</span></div>
<div class="line"><span class="lineno">  562</span>        <a class="code hl_function" href="FileStream_8cpp.html#af505319882f0f4aaf396b6d061a2275b">FileStream_GetSize</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>, &amp;(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a00401a81d010165ab945fcf29a1d686e">CompactTotalBytes</a>));</div>
<div class="line"><span class="lineno">  563</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a36bdadf2b67eb194aa5c7ef1399e02b8">CompactBytesProcessed</a> = 0;</div>
<div class="line"><span class="lineno">  564</span>        dwErrCode = <a class="code hl_function" href="SFileCompactArchive_8cpp.html#a7e86a8a0a3a67f898e1f347ced0ffa2a">CheckIfAllKeysKnown</a>(ha, szListFile, pFileKeys);</div>
<div class="line"><span class="lineno">  565</span>    }</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>    <span class="comment">// Get the temporary file name and create it</span></div>
<div class="line"><span class="lineno">  568</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  569</span>    {</div>
<div class="line"><span class="lineno">  570</span>        <span class="comment">// Create temporary file name. Prevent buffer overflow</span></div>
<div class="line"><span class="lineno">  571</span>        <a class="code hl_function" href="SBaseCommon_8cpp.html#ac1750bd8c861039e8dc624fd3e45ebe0">StringCopy</a>(szTempFile, <a class="code hl_define" href="StormPort_8h.html#a4987dd6844197a1b6267f4261ae70cf3">_countof</a>(szTempFile), <a class="code hl_function" href="FileStream_8cpp.html#aac8a29e50fd6c047ee9288073b54804e">FileStream_GetFileName</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>));</div>
<div class="line"><span class="lineno">  572</span>        <a class="code hl_function" href="SBaseCommon_8cpp.html#a10467b63f197e10349f77b1b481efd05">StringCat</a>(szTempFile, <a class="code hl_define" href="StormPort_8h.html#a4987dd6844197a1b6267f4261ae70cf3">_countof</a>(szTempFile), <a class="code hl_define" href="StormPort_8h.html#ae936e4c15227768f7da4e0951def89c8">_T</a>(<span class="stringliteral">&quot;.tmp&quot;</span>));</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>        <span class="comment">// Create temporary file</span></div>
<div class="line"><span class="lineno">  575</span>        pTempStream = <a class="code hl_function" href="FileStream_8cpp.html#aaba1ffb5ec458bc89519a891e28ab10e">FileStream_CreateFile</a>(szTempFile, <a class="code hl_define" href="StormLib_8h.html#a45b6170ca9e7880848cdca068234d28c">STREAM_PROVIDER_FLAT</a> | <a class="code hl_define" href="StormLib_8h.html#a3773c068cc9e5acf2ef6a0fd9b4a534e">BASE_PROVIDER_FILE</a>);</div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordflow">if</span>(pTempStream == NULL)</div>
<div class="line"><span class="lineno">  577</span>            dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno">  578</span>    }</div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>    <span class="comment">// Write the data before MPQ user data (if any)</span></div>
<div class="line"><span class="lineno">  581</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a43334c6a178fc02023a7412d9319136c">UserDataPos</a> != 0)</div>
<div class="line"><span class="lineno">  582</span>    {</div>
<div class="line"><span class="lineno">  583</span>        <span class="comment">// Inform the application about the progress</span></div>
<div class="line"><span class="lineno">  584</span>        <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a77480124f58b4f0314768510471cf62d">pfnCompactCB</a> != NULL)</div>
<div class="line"><span class="lineno">  585</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a77480124f58b4f0314768510471cf62d">pfnCompactCB</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aa67fc1ad0359ad11f58c31187100a4f7">pvCompactUserData</a>, <a class="code hl_define" href="StormLib_8h.html#a17cc018bb22fca30c4198d9e1933f3e7">CCB_COPYING_NON_MPQ_DATA</a>, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a36bdadf2b67eb194aa5c7ef1399e02b8">CompactBytesProcessed</a>, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a00401a81d010165ab945fcf29a1d686e">CompactTotalBytes</a>);</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>        ByteOffset = 0;</div>
<div class="line"><span class="lineno">  588</span>        ByteCount = ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a43334c6a178fc02023a7412d9319136c">UserDataPos</a>;</div>
<div class="line"><span class="lineno">  589</span>        dwErrCode = <a class="code hl_function" href="SFileCompactArchive_8cpp.html#aebfd50e1c58844710f11b21bcffb8135">CopyNonMpqData</a>(ha, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>, pTempStream, ByteOffset, ByteCount);</div>
<div class="line"><span class="lineno">  590</span>    }</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>    <span class="comment">// Write the MPQ user data (if any)</span></div>
<div class="line"><span class="lineno">  593</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a146dee965bc1cb34e569e3637b6e5c82">MpqPos</a> &gt; ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a43334c6a178fc02023a7412d9319136c">UserDataPos</a>)</div>
<div class="line"><span class="lineno">  594</span>    {</div>
<div class="line"><span class="lineno">  595</span>        <span class="comment">// At this point, we assume that the user data size is equal</span></div>
<div class="line"><span class="lineno">  596</span>        <span class="comment">// to pUserData-&gt;dwHeaderOffs.</span></div>
<div class="line"><span class="lineno">  597</span>        <span class="comment">// If this assumption doesn&#39;t work, then we have an unknown version of MPQ</span></div>
<div class="line"><span class="lineno">  598</span>        ByteOffset = ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a43334c6a178fc02023a7412d9319136c">UserDataPos</a>;</div>
<div class="line"><span class="lineno">  599</span>        ByteCount = ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a146dee965bc1cb34e569e3637b6e5c82">MpqPos</a> - ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a43334c6a178fc02023a7412d9319136c">UserDataPos</a>;</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>        assert(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a7583a5113bdd4a857a71bbd92c86eb6e">pUserData</a> != NULL);</div>
<div class="line"><span class="lineno">  602</span>        assert(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a7583a5113bdd4a857a71bbd92c86eb6e">pUserData</a>-&gt;<a class="code hl_variable" href="struct__TMPQUserData.html#a120d3541bbc5279d8121bcb958ffac43">dwHeaderOffs</a> == ByteCount);</div>
<div class="line"><span class="lineno">  603</span>        dwErrCode = <a class="code hl_function" href="SFileCompactArchive_8cpp.html#aebfd50e1c58844710f11b21bcffb8135">CopyNonMpqData</a>(ha, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>, pTempStream, ByteOffset, ByteCount);</div>
<div class="line"><span class="lineno">  604</span>    }</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>    <span class="comment">// Write the MPQ header</span></div>
<div class="line"><span class="lineno">  607</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  608</span>    {</div>
<div class="line"><span class="lineno">  609</span>        <a class="code hl_struct" href="struct__TMPQHeader.html">TMPQHeader</a> SaveMpqHeader;</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>        <span class="comment">// Write the MPQ header to the file</span></div>
<div class="line"><span class="lineno">  612</span>        memcpy(&amp;SaveMpqHeader, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2243a0f4cd3bfcf873062421b063781a">dwHeaderSize</a>);</div>
<div class="line"><span class="lineno">  613</span>        <a class="code hl_define" href="StormPort_8h.html#a9bdc9b9418bc234d362cea616e41e523">BSWAP_TMPQHEADER</a>(&amp;SaveMpqHeader, <a class="code hl_define" href="StormLib_8h.html#aa45e1b9993a87e5d6cb2adf3abb6e0c3">MPQ_FORMAT_VERSION_1</a>);</div>
<div class="line"><span class="lineno">  614</span>        <a class="code hl_define" href="StormPort_8h.html#a9bdc9b9418bc234d362cea616e41e523">BSWAP_TMPQHEADER</a>(&amp;SaveMpqHeader, <a class="code hl_define" href="StormLib_8h.html#a9b68734ff3ecc5d8ca7d4633f42cda4d">MPQ_FORMAT_VERSION_2</a>);</div>
<div class="line"><span class="lineno">  615</span>        <a class="code hl_define" href="StormPort_8h.html#a9bdc9b9418bc234d362cea616e41e523">BSWAP_TMPQHEADER</a>(&amp;SaveMpqHeader, <a class="code hl_define" href="StormLib_8h.html#af9d56babfd44b33bc4b352006fa9c761">MPQ_FORMAT_VERSION_3</a>);</div>
<div class="line"><span class="lineno">  616</span>        <a class="code hl_define" href="StormPort_8h.html#a9bdc9b9418bc234d362cea616e41e523">BSWAP_TMPQHEADER</a>(&amp;SaveMpqHeader, <a class="code hl_define" href="StormLib_8h.html#a6a35c4ad2d3b9ee964c96f325cf25c8f">MPQ_FORMAT_VERSION_4</a>);</div>
<div class="line"><span class="lineno">  617</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="FileStream_8cpp.html#a36307955e8de92f5ea26be07ea3b9cb4">FileStream_Write</a>(pTempStream, NULL, &amp;SaveMpqHeader, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2243a0f4cd3bfcf873062421b063781a">dwHeaderSize</a>))</div>
<div class="line"><span class="lineno">  618</span>            dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno">  619</span> </div>
<div class="line"><span class="lineno">  620</span>        <span class="comment">// Update the progress</span></div>
<div class="line"><span class="lineno">  621</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a36bdadf2b67eb194aa5c7ef1399e02b8">CompactBytesProcessed</a> += ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2243a0f4cd3bfcf873062421b063781a">dwHeaderSize</a>;</div>
<div class="line"><span class="lineno">  622</span>    }</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>    <span class="comment">// Now copy all files</span></div>
<div class="line"><span class="lineno">  625</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  626</span>        dwErrCode = <a class="code hl_function" href="SFileCompactArchive_8cpp.html#a75872e3b10380390fd0d73101ecd3655">CopyMpqFiles</a>(ha, pFileKeys, pTempStream);</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>    <span class="comment">// If succeeded, switch the streams</span></div>
<div class="line"><span class="lineno">  629</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  630</span>    {</div>
<div class="line"><span class="lineno">  631</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> |= <a class="code hl_define" href="StormLib_8h.html#a3c8ed28738e3f0f8fb54fbc395704613">MPQ_FLAG_CHANGED</a>;</div>
<div class="line"><span class="lineno">  632</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="FileStream_8cpp.html#afcf883cb4bc8ff873bb286e8f7bf5002">FileStream_Replace</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>, pTempStream))</div>
<div class="line"><span class="lineno">  633</span>            pTempStream = NULL;</div>
<div class="line"><span class="lineno">  634</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  635</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a9a012e4d53987470e70fa888f0a7ed90">ERROR_CAN_NOT_COMPLETE</a>;</div>
<div class="line"><span class="lineno">  636</span>    }</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>    <span class="comment">// Final user notification</span></div>
<div class="line"><span class="lineno">  639</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a77480124f58b4f0314768510471cf62d">pfnCompactCB</a> != NULL)</div>
<div class="line"><span class="lineno">  640</span>    {</div>
<div class="line"><span class="lineno">  641</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a36bdadf2b67eb194aa5c7ef1399e02b8">CompactBytesProcessed</a> += (ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a67f1869dadee712c8210f77ce69cbfa9">dwHashTableSize</a> * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormLib_8h.html#a3931032d33f7a8276dd15d842b04ce0c">TMPQHash</a>));</div>
<div class="line"><span class="lineno">  642</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a36bdadf2b67eb194aa5c7ef1399e02b8">CompactBytesProcessed</a> += (ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aae2b6f26cfc5d09d2fc734947c82aabe">dwFileTableSize</a> * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormLib_8h.html#ac024b00ba02354b5d3d5d0c594359207">TMPQBlock</a>));</div>
<div class="line"><span class="lineno">  643</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a77480124f58b4f0314768510471cf62d">pfnCompactCB</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aa67fc1ad0359ad11f58c31187100a4f7">pvCompactUserData</a>, <a class="code hl_define" href="StormLib_8h.html#ab3f24feed60dcab56fc348d8c6e3bc42">CCB_CLOSING_ARCHIVE</a>, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a36bdadf2b67eb194aa5c7ef1399e02b8">CompactBytesProcessed</a>, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a00401a81d010165ab945fcf29a1d686e">CompactTotalBytes</a>);</div>
<div class="line"><span class="lineno">  644</span>    }</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>    <span class="comment">// Cleanup and return</span></div>
<div class="line"><span class="lineno">  647</span>    <span class="keywordflow">if</span>(pTempStream != NULL)</div>
<div class="line"><span class="lineno">  648</span>        <a class="code hl_function" href="FileStream_8cpp.html#ae8b75c4797726e9c5ee0b4b03bf31442">FileStream_Close</a>(pTempStream);</div>
<div class="line"><span class="lineno">  649</span>    <span class="keywordflow">if</span>(pFileKeys != NULL)</div>
<div class="line"><span class="lineno">  650</span>        <a class="code hl_define" href="StormCommon_8h.html#a50487dadfceefebfb0de8fa711eaf4b3">STORM_FREE</a>(pFileKeys);</div>
<div class="line"><span class="lineno">  651</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  652</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">  653</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno">  654</span>}</div>
<div class="ttc" id="aFileStream_8cpp_html_a36307955e8de92f5ea26be07ea3b9cb4"><div class="ttname"><a href="FileStream_8cpp.html#a36307955e8de92f5ea26be07ea3b9cb4">FileStream_Write</a></div><div class="ttdeci">bool FileStream_Write(TFileStream *pStream, ULONGLONG *pByteOffset, const void *pvBuffer, DWORD dwBytesToWrite)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02777">FileStream.cpp:2777</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_aaba1ffb5ec458bc89519a891e28ab10e"><div class="ttname"><a href="FileStream_8cpp.html#aaba1ffb5ec458bc89519a891e28ab10e">FileStream_CreateFile</a></div><div class="ttdeci">TFileStream * FileStream_CreateFile(const TCHAR *szFileName, DWORD dwStreamFlags)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02443">FileStream.cpp:2443</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_aac8a29e50fd6c047ee9288073b54804e"><div class="ttname"><a href="FileStream_8cpp.html#aac8a29e50fd6c047ee9288073b54804e">FileStream_GetFileName</a></div><div class="ttdeci">const TCHAR * FileStream_GetFileName(TFileStream *pStream)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02536">FileStream.cpp:2536</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_afcf883cb4bc8ff873bb286e8f7bf5002"><div class="ttname"><a href="FileStream_8cpp.html#afcf883cb4bc8ff873bb286e8f7bf5002">FileStream_Replace</a></div><div class="ttdeci">bool FileStream_Replace(TFileStream *pStream, TFileStream *pNewStream)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02866">FileStream.cpp:2866</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a10467b63f197e10349f77b1b481efd05"><div class="ttname"><a href="SBaseCommon_8cpp.html#a10467b63f197e10349f77b1b481efd05">StringCat</a></div><div class="ttdeci">void StringCat(char *szTarget, size_t cchTargetMax, const char *szSource)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00118">SBaseCommon.cpp:118</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_ac1750bd8c861039e8dc624fd3e45ebe0"><div class="ttname"><a href="SBaseCommon_8cpp.html#ac1750bd8c861039e8dc624fd3e45ebe0">StringCopy</a></div><div class="ttdeci">char * StringCopy(char *szTarget, size_t cchTarget, const char *szSource)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00100">SBaseCommon.cpp:100</a></div></div>
<div class="ttc" id="aSFileCompactArchive_8cpp_html_a75872e3b10380390fd0d73101ecd3655"><div class="ttname"><a href="SFileCompactArchive_8cpp.html#a75872e3b10380390fd0d73101ecd3655">CopyMpqFiles</a></div><div class="ttdeci">static DWORD CopyMpqFiles(TMPQArchive *ha, LPDWORD pFileKeys, TFileStream *pNewStream)</div><div class="ttdef"><b>Definition</b> <a href="SFileCompactArchive_8cpp_source.html#l00373">SFileCompactArchive.cpp:373</a></div></div>
<div class="ttc" id="aSFileCompactArchive_8cpp_html_a7e86a8a0a3a67f898e1f347ced0ffa2a"><div class="ttname"><a href="SFileCompactArchive_8cpp.html#a7e86a8a0a3a67f898e1f347ced0ffa2a">CheckIfAllKeysKnown</a></div><div class="ttdeci">static DWORD CheckIfAllKeysKnown(TMPQArchive *ha, const TCHAR *szListFile, LPDWORD pFileKeys)</div><div class="ttdef"><b>Definition</b> <a href="SFileCompactArchive_8cpp_source.html#l00049">SFileCompactArchive.cpp:49</a></div></div>
<div class="ttc" id="aSFileCompactArchive_8cpp_html_aebfd50e1c58844710f11b21bcffb8135"><div class="ttname"><a href="SFileCompactArchive_8cpp.html#aebfd50e1c58844710f11b21bcffb8135">CopyNonMpqData</a></div><div class="ttdeci">static DWORD CopyNonMpqData(TMPQArchive *ha, TFileStream *pSrcStream, TFileStream *pTrgStream, ULONGLONG &amp;ByteOffset, ULONGLONG &amp;ByteCount)</div><div class="ttdef"><b>Definition</b> <a href="SFileCompactArchive_8cpp_source.html#l00096">SFileCompactArchive.cpp:96</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a17cc018bb22fca30c4198d9e1933f3e7"><div class="ttname"><a href="StormLib_8h.html#a17cc018bb22fca30c4198d9e1933f3e7">CCB_COPYING_NON_MPQ_DATA</a></div><div class="ttdeci">#define CCB_COPYING_NON_MPQ_DATA</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00480">StormLib.h:480</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a3c8ed28738e3f0f8fb54fbc395704613"><div class="ttname"><a href="StormLib_8h.html#a3c8ed28738e3f0f8fb54fbc395704613">MPQ_FLAG_CHANGED</a></div><div class="ttdeci">#define MPQ_FLAG_CHANGED</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00188">StormLib.h:188</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a6a35c4ad2d3b9ee964c96f325cf25c8f"><div class="ttname"><a href="StormLib_8h.html#a6a35c4ad2d3b9ee964c96f325cf25c8f">MPQ_FORMAT_VERSION_4</a></div><div class="ttdeci">#define MPQ_FORMAT_VERSION_4</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00298">StormLib.h:298</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a9b68734ff3ecc5d8ca7d4633f42cda4d"><div class="ttname"><a href="StormLib_8h.html#a9b68734ff3ecc5d8ca7d4633f42cda4d">MPQ_FORMAT_VERSION_2</a></div><div class="ttdeci">#define MPQ_FORMAT_VERSION_2</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00296">StormLib.h:296</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aa45e1b9993a87e5d6cb2adf3abb6e0c3"><div class="ttname"><a href="StormLib_8h.html#aa45e1b9993a87e5d6cb2adf3abb6e0c3">MPQ_FORMAT_VERSION_1</a></div><div class="ttdeci">#define MPQ_FORMAT_VERSION_1</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00295">StormLib.h:295</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ab3f24feed60dcab56fc348d8c6e3bc42"><div class="ttname"><a href="StormLib_8h.html#ab3f24feed60dcab56fc348d8c6e3bc42">CCB_CLOSING_ARCHIVE</a></div><div class="ttdeci">#define CCB_CLOSING_ARCHIVE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00482">StormLib.h:482</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ac79954b2e62ac6c6da211fc5c75973e4"><div class="ttname"><a href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a></div><div class="ttdeci">#define MPQ_FLAG_READ_ONLY</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00187">StormLib.h:187</a></div></div>
<div class="ttc" id="aStormLib_8h_html_af9d56babfd44b33bc4b352006fa9c761"><div class="ttname"><a href="StormLib_8h.html#af9d56babfd44b33bc4b352006fa9c761">MPQ_FORMAT_VERSION_3</a></div><div class="ttdeci">#define MPQ_FORMAT_VERSION_3</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00297">StormLib.h:297</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a9a012e4d53987470e70fa888f0a7ed90"><div class="ttname"><a href="StormPort_8h.html#a9a012e4d53987470e70fa888f0a7ed90">ERROR_CAN_NOT_COMPLETE</a></div><div class="ttdeci">#define ERROR_CAN_NOT_COMPLETE</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00415">StormPort.h:415</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a9bdc9b9418bc234d362cea616e41e523"><div class="ttname"><a href="StormPort_8h.html#a9bdc9b9418bc234d362cea616e41e523">BSWAP_TMPQHEADER</a></div><div class="ttdeci">#define BSWAP_TMPQHEADER(a, b)</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00438">StormPort.h:438</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_acad7f5afb2f094ca2ef8af9acb893e1b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a11342f379ed88e7b54873f1f53feb773" name="a11342f379ed88e7b54873f1f53feb773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11342f379ed88e7b54873f1f53feb773">&#9670;&#160;</a></span>SFileCreateArchive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileCreateArchive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szMpqName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwCreateFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwMaxFileCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *&#160;</td>
          <td class="paramname"><em>phMpq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileCreateArchive_8cpp_source.html#l00072">72</a> of file <a class="el" href="SFileCreateArchive_8cpp_source.html">SFileCreateArchive.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>{</div>
<div class="line"><span class="lineno">   74</span>    <a class="code hl_struct" href="struct__SFILE__CREATE__MPQ.html">SFILE_CREATE_MPQ</a> CreateInfo;</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    <span class="comment">// Fill the create structure</span></div>
<div class="line"><span class="lineno">   77</span>    memset(&amp;CreateInfo, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__SFILE__CREATE__MPQ.html">SFILE_CREATE_MPQ</a>));</div>
<div class="line"><span class="lineno">   78</span>    CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a2e861f6af56a959a5ca7c7adbe89ce37">cbSize</a>         = <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormLib_8h.html#a404dcd27c577084df5f075ab2bb87a6c">SFILE_CREATE_MPQ</a>);</div>
<div class="line"><span class="lineno">   79</span>    CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a45c20ded0f59884ca1452b3f43337622">dwMpqVersion</a>   = (dwCreateFlags &amp; <a class="code hl_define" href="StormLib_8h.html#ab0397d4d1250c2fb4bb49e456e14c5ec">MPQ_CREATE_ARCHIVE_VMASK</a>) &gt;&gt; <a class="code hl_define" href="StormLib_8h.html#ad47fff8ab312819b1ea232ef14539bc5">FLAGS_TO_FORMAT_SHIFT</a>;</div>
<div class="line"><span class="lineno">   80</span>    CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a11489f71fac072b853faa0d3144b54f2">dwStreamFlags</a>  = <a class="code hl_define" href="StormLib_8h.html#a45b6170ca9e7880848cdca068234d28c">STREAM_PROVIDER_FLAT</a> | <a class="code hl_define" href="StormLib_8h.html#a3773c068cc9e5acf2ef6a0fd9b4a534e">BASE_PROVIDER_FILE</a>;</div>
<div class="line"><span class="lineno">   81</span>    CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a42d424e0654461277740fac26d34d442">dwFileFlags1</a>   = (dwCreateFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a720c79849591bfbef1d676d52da477ab">MPQ_CREATE_LISTFILE</a>)   ? <a class="code hl_define" href="StormLib_8h.html#a68eb00ea1d1dc41a4de2bba26a2315e0">MPQ_FILE_DEFAULT_INTERNAL</a> : 0;</div>
<div class="line"><span class="lineno">   82</span>    CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#af146b83571bae3e349b599536f66f270">dwFileFlags2</a>   = (dwCreateFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a604f97b6d0427af5441baa5b91fc86ad">MPQ_CREATE_ATTRIBUTES</a>) ? <a class="code hl_define" href="StormLib_8h.html#a68eb00ea1d1dc41a4de2bba26a2315e0">MPQ_FILE_DEFAULT_INTERNAL</a> : 0;</div>
<div class="line"><span class="lineno">   83</span>    CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#af5f6d35f3f4beb6a6741bcf095a9d37d">dwFileFlags3</a>   = (dwCreateFlags &amp; <a class="code hl_define" href="StormLib_8h.html#af0efd6f8e9cb2a9c3943dc955a083f4e">MPQ_CREATE_SIGNATURE</a>)  ? <a class="code hl_define" href="StormLib_8h.html#a68eb00ea1d1dc41a4de2bba26a2315e0">MPQ_FILE_DEFAULT_INTERNAL</a> : 0;</div>
<div class="line"><span class="lineno">   84</span>    CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a46f1fa8776f0c23327b6f48bd0631927">dwAttrFlags</a>    = (dwCreateFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a604f97b6d0427af5441baa5b91fc86ad">MPQ_CREATE_ATTRIBUTES</a>) ? (<a class="code hl_define" href="StormLib_8h.html#ac644a10d909d5d8dde26be2b4f4236e6">MPQ_ATTRIBUTE_CRC32</a> | <a class="code hl_define" href="StormLib_8h.html#ad21c3706c1eaf54c3a548f3700fcfb99">MPQ_ATTRIBUTE_FILETIME</a> | <a class="code hl_define" href="StormLib_8h.html#a70410c678aa8ca095cf2c1291865165b">MPQ_ATTRIBUTE_MD5</a>) : 0;</div>
<div class="line"><span class="lineno">   85</span>    CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a3d967c366baacbc621aa752ed32a3751">dwSectorSize</a>   = (CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a45c20ded0f59884ca1452b3f43337622">dwMpqVersion</a> &gt;= <a class="code hl_define" href="StormLib_8h.html#af9d56babfd44b33bc4b352006fa9c761">MPQ_FORMAT_VERSION_3</a>) ? 0x4000 : 0x1000;</div>
<div class="line"><span class="lineno">   86</span>    CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a14e831b4a6dd34b1402bd7b551e3b9ca">dwRawChunkSize</a> = (CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a45c20ded0f59884ca1452b3f43337622">dwMpqVersion</a> &gt;= <a class="code hl_define" href="StormLib_8h.html#a6a35c4ad2d3b9ee964c96f325cf25c8f">MPQ_FORMAT_VERSION_4</a>) ? 0x4000 : 0;</div>
<div class="line"><span class="lineno">   87</span>    CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#afaa8856c329f8175c094c907e1660dad">dwMaxFileCount</a> = dwMaxFileCount;</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="comment">// Set the proper attribute parts</span></div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">if</span>((CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a45c20ded0f59884ca1452b3f43337622">dwMpqVersion</a> &gt;= <a class="code hl_define" href="StormLib_8h.html#af9d56babfd44b33bc4b352006fa9c761">MPQ_FORMAT_VERSION_3</a>) &amp;&amp; (dwCreateFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a604f97b6d0427af5441baa5b91fc86ad">MPQ_CREATE_ATTRIBUTES</a>))</div>
<div class="line"><span class="lineno">   91</span>        CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a46f1fa8776f0c23327b6f48bd0631927">dwAttrFlags</a> |= <a class="code hl_define" href="StormLib_8h.html#a2ba5b235fec95d21fa0e31d3a177c532">MPQ_ATTRIBUTE_PATCH_BIT</a>;</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>    <span class="comment">// Backward compatibility: SFileCreateArchive always used to add (listfile)</span></div>
<div class="line"><span class="lineno">   94</span>    <span class="comment">// We would break loads of applications if we change that</span></div>
<div class="line"><span class="lineno">   95</span>    CreateInfo.<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a42d424e0654461277740fac26d34d442">dwFileFlags1</a> = <a class="code hl_define" href="StormLib_8h.html#a68eb00ea1d1dc41a4de2bba26a2315e0">MPQ_FILE_DEFAULT_INTERNAL</a>;</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    <span class="comment">// Let the main function create the archive</span></div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="SFileCreateArchive_8cpp.html#aa2b6fa8f16b5ac42868c546533fe26ce">SFileCreateArchive2</a>(szMpqName, &amp;CreateInfo, phMpq);</div>
<div class="line"><span class="lineno">   99</span>}</div>
<div class="ttc" id="aSFileCreateArchive_8cpp_html_aa2b6fa8f16b5ac42868c546533fe26ce"><div class="ttname"><a href="SFileCreateArchive_8cpp.html#aa2b6fa8f16b5ac42868c546533fe26ce">SFileCreateArchive2</a></div><div class="ttdeci">bool WINAPI SFileCreateArchive2(const TCHAR *szMpqName, PSFILE_CREATE_MPQ pCreateInfo, HANDLE *phMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFileCreateArchive_8cpp_source.html#l00101">SFileCreateArchive.cpp:101</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a2ba5b235fec95d21fa0e31d3a177c532"><div class="ttname"><a href="StormLib_8h.html#a2ba5b235fec95d21fa0e31d3a177c532">MPQ_ATTRIBUTE_PATCH_BIT</a></div><div class="ttdeci">#define MPQ_ATTRIBUTE_PATCH_BIT</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00304">StormLib.h:304</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a604f97b6d0427af5441baa5b91fc86ad"><div class="ttname"><a href="StormLib_8h.html#a604f97b6d0427af5441baa5b91fc86ad">MPQ_CREATE_ATTRIBUTES</a></div><div class="ttdeci">#define MPQ_CREATE_ATTRIBUTES</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00340">StormLib.h:340</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a68eb00ea1d1dc41a4de2bba26a2315e0"><div class="ttname"><a href="StormLib_8h.html#a68eb00ea1d1dc41a4de2bba26a2315e0">MPQ_FILE_DEFAULT_INTERNAL</a></div><div class="ttdeci">#define MPQ_FILE_DEFAULT_INTERNAL</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00231">StormLib.h:231</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a70410c678aa8ca095cf2c1291865165b"><div class="ttname"><a href="StormLib_8h.html#a70410c678aa8ca095cf2c1291865165b">MPQ_ATTRIBUTE_MD5</a></div><div class="ttdeci">#define MPQ_ATTRIBUTE_MD5</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00303">StormLib.h:303</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a720c79849591bfbef1d676d52da477ab"><div class="ttname"><a href="StormLib_8h.html#a720c79849591bfbef1d676d52da477ab">MPQ_CREATE_LISTFILE</a></div><div class="ttdeci">#define MPQ_CREATE_LISTFILE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00339">StormLib.h:339</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ab0397d4d1250c2fb4bb49e456e14c5ec"><div class="ttname"><a href="StormLib_8h.html#ab0397d4d1250c2fb4bb49e456e14c5ec">MPQ_CREATE_ARCHIVE_VMASK</a></div><div class="ttdeci">#define MPQ_CREATE_ARCHIVE_VMASK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00346">StormLib.h:346</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ac644a10d909d5d8dde26be2b4f4236e6"><div class="ttname"><a href="StormLib_8h.html#ac644a10d909d5d8dde26be2b4f4236e6">MPQ_ATTRIBUTE_CRC32</a></div><div class="ttdeci">#define MPQ_ATTRIBUTE_CRC32</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00301">StormLib.h:301</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ad21c3706c1eaf54c3a548f3700fcfb99"><div class="ttname"><a href="StormLib_8h.html#ad21c3706c1eaf54c3a548f3700fcfb99">MPQ_ATTRIBUTE_FILETIME</a></div><div class="ttdeci">#define MPQ_ATTRIBUTE_FILETIME</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00302">StormLib.h:302</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ad47fff8ab312819b1ea232ef14539bc5"><div class="ttname"><a href="StormLib_8h.html#ad47fff8ab312819b1ea232ef14539bc5">FLAGS_TO_FORMAT_SHIFT</a></div><div class="ttdeci">#define FLAGS_TO_FORMAT_SHIFT</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00348">StormLib.h:348</a></div></div>
<div class="ttc" id="aStormLib_8h_html_af0efd6f8e9cb2a9c3943dc955a083f4e"><div class="ttname"><a href="StormLib_8h.html#af0efd6f8e9cb2a9c3943dc955a083f4e">MPQ_CREATE_SIGNATURE</a></div><div class="ttdeci">#define MPQ_CREATE_SIGNATURE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00341">StormLib.h:341</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a11342f379ed88e7b54873f1f53feb773_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa2b6fa8f16b5ac42868c546533fe26ce" name="aa2b6fa8f16b5ac42868c546533fe26ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2b6fa8f16b5ac42868c546533fe26ce">&#9670;&#160;</a></span>SFileCreateArchive2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileCreateArchive2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szMpqName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_8h.html#a97df30ed85f80d5c8fe560750b3efe4a">PSFILE_CREATE_MPQ</a>&#160;</td>
          <td class="paramname"><em>pCreateInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *&#160;</td>
          <td class="paramname"><em>phMpq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileCreateArchive_8cpp_source.html#l00101">101</a> of file <a class="el" href="SFileCreateArchive_8cpp_source.html">SFileCreateArchive.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  102</span>{</div>
<div class="line"><span class="lineno">  103</span>    <a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream = NULL;           <span class="comment">// File stream</span></div>
<div class="line"><span class="lineno">  104</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = NULL;                <span class="comment">// MPQ archive handle</span></div>
<div class="line"><span class="lineno">  105</span>    <a class="code hl_struct" href="struct__TMPQHeader.html">TMPQHeader</a> * pHeader;</div>
<div class="line"><span class="lineno">  106</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> MpqPos = 0;                   <span class="comment">// Position of MPQ header in the file</span></div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpq = NULL;</div>
<div class="line"><span class="lineno">  108</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBlockTableSize = 0;             <span class="comment">// Initial block table size</span></div>
<div class="line"><span class="lineno">  109</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwHashTableSize = 0;</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwReservedFiles = 0;              <span class="comment">// Number of reserved file entries</span></div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwMpqFlags = 0;</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>    <span class="comment">// Check the parameters, if they are valid</span></div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">if</span>(szMpqName == NULL || *szMpqName == 0 || pCreateInfo == NULL || phMpq == NULL)</div>
<div class="line"><span class="lineno">  116</span>    {</div>
<div class="line"><span class="lineno">  117</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  118</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  119</span>    }</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    <span class="comment">// Verify if all variables in SFILE_CREATE_MPQ are correct</span></div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordflow">if</span>((pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a2e861f6af56a959a5ca7c7adbe89ce37">cbSize</a> == 0 || pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a2e861f6af56a959a5ca7c7adbe89ce37">cbSize</a> &gt; <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__SFILE__CREATE__MPQ.html">SFILE_CREATE_MPQ</a>))    ||</div>
<div class="line"><span class="lineno">  123</span>       (pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a45c20ded0f59884ca1452b3f43337622">dwMpqVersion</a> &gt; <a class="code hl_define" href="StormLib_8h.html#a6a35c4ad2d3b9ee964c96f325cf25c8f">MPQ_FORMAT_VERSION_4</a>)                              ||</div>
<div class="line"><span class="lineno">  124</span>       (pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#ad3e941c308c10bc43ff86d280e4fb3e1">pvUserData</a> != NULL || pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a6a527a17447440fa3862df9e87e522c5">cbUserData</a> != 0)               ||</div>
<div class="line"><span class="lineno">  125</span>       (pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a46f1fa8776f0c23327b6f48bd0631927">dwAttrFlags</a> &amp; ~<a class="code hl_define" href="StormLib_8h.html#a0c71a04690bd449dc900b58111364c54">MPQ_ATTRIBUTE_ALL</a>)                                 ||</div>
<div class="line"><span class="lineno">  126</span>       (pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a3d967c366baacbc621aa752ed32a3751">dwSectorSize</a> &amp; (pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a3d967c366baacbc621aa752ed32a3751">dwSectorSize</a> - 1))                   ||</div>
<div class="line"><span class="lineno">  127</span>       (pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a14e831b4a6dd34b1402bd7b551e3b9ca">dwRawChunkSize</a> &amp; (pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a14e831b4a6dd34b1402bd7b551e3b9ca">dwRawChunkSize</a> - 1)))</div>
<div class="line"><span class="lineno">  128</span>    {</div>
<div class="line"><span class="lineno">  129</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  130</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  131</span>    }</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    <span class="comment">// One time initialization of MPQ cryptography</span></div>
<div class="line"><span class="lineno">  134</span>    <a class="code hl_function" href="SBaseCommon_8cpp.html#a771e96257f2889763ee169050c798554">InitializeMpqCryptography</a>();</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>    <span class="comment">// We verify if the file already exists and if it&#39;s a MPQ archive.</span></div>
<div class="line"><span class="lineno">  137</span>    <span class="comment">// If yes, we won&#39;t allow to overwrite it.</span></div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="SFileOpenArchive_8cpp.html#a8b031afa4f88b4b3705c274a0b5b4f73">SFileOpenArchive</a>(szMpqName, 0, <a class="code hl_define" href="StormLib_8h.html#a45b6170ca9e7880848cdca068234d28c">STREAM_PROVIDER_FLAT</a> | <a class="code hl_define" href="StormLib_8h.html#a3773c068cc9e5acf2ef6a0fd9b4a534e">BASE_PROVIDER_FILE</a> | <a class="code hl_define" href="StormLib_8h.html#a018cad433037d094e4b7284bcb5b3592">MPQ_OPEN_NO_ATTRIBUTES</a> | <a class="code hl_define" href="StormLib_8h.html#ab0c2a5d3970ee9739abd4ff3e2a737f5">MPQ_OPEN_NO_LISTFILE</a>, &amp;hMpq))</div>
<div class="line"><span class="lineno">  139</span>    {</div>
<div class="line"><span class="lineno">  140</span>        <a class="code hl_function" href="SFileOpenArchive_8cpp.html#abe1ae9917ea665286bffd1524561fceb">SFileCloseArchive</a>(hMpq);</div>
<div class="line"><span class="lineno">  141</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a122596adcfea9620fdfd43c5c003c84d">ERROR_ALREADY_EXISTS</a>);</div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  143</span>    }</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno">  146</span>    <span class="comment">// At this point, we have to create the archive.</span></div>
<div class="line"><span class="lineno">  147</span>    <span class="comment">// - If the file exists, convert it to MPQ archive.</span></div>
<div class="line"><span class="lineno">  148</span>    <span class="comment">// - If the file doesn&#39;t exist, create new empty file</span></div>
<div class="line"><span class="lineno">  149</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>    pStream = <a class="code hl_function" href="FileStream_8cpp.html#a702003c1930c608961b812259bd9dc22">FileStream_OpenFile</a>(szMpqName, pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a11489f71fac072b853faa0d3144b54f2">dwStreamFlags</a>);</div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">if</span>(pStream == NULL)</div>
<div class="line"><span class="lineno">  153</span>    {</div>
<div class="line"><span class="lineno">  154</span>        pStream = <a class="code hl_function" href="FileStream_8cpp.html#aaba1ffb5ec458bc89519a891e28ab10e">FileStream_CreateFile</a>(szMpqName, pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a11489f71fac072b853faa0d3144b54f2">dwStreamFlags</a>);</div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">if</span>(pStream == NULL)</div>
<div class="line"><span class="lineno">  156</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  157</span>    }</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <span class="comment">// Increment the maximum amount of files to have space for (listfile)</span></div>
<div class="line"><span class="lineno">  160</span>    <span class="keywordflow">if</span>(pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#afaa8856c329f8175c094c907e1660dad">dwMaxFileCount</a> &amp;&amp; pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a42d424e0654461277740fac26d34d442">dwFileFlags1</a>)</div>
<div class="line"><span class="lineno">  161</span>    {</div>
<div class="line"><span class="lineno">  162</span>        dwMpqFlags |= <a class="code hl_define" href="StormLib_8h.html#af0170e1f41f3b3d32bbcdfd769f874f1">MPQ_FLAG_LISTFILE_NEW</a>;</div>
<div class="line"><span class="lineno">  163</span>        dwReservedFiles++;</div>
<div class="line"><span class="lineno">  164</span>    }</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    <span class="comment">// Increment the maximum amount of files to have space for (attributes)</span></div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">if</span>(pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#afaa8856c329f8175c094c907e1660dad">dwMaxFileCount</a> &amp;&amp; pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#af146b83571bae3e349b599536f66f270">dwFileFlags2</a> &amp;&amp; pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a46f1fa8776f0c23327b6f48bd0631927">dwAttrFlags</a>)</div>
<div class="line"><span class="lineno">  168</span>    {</div>
<div class="line"><span class="lineno">  169</span>        dwMpqFlags |= <a class="code hl_define" href="StormLib_8h.html#a97a8fb3f1968a9ff722f9ab904a3884a">MPQ_FLAG_ATTRIBUTES_NEW</a>;</div>
<div class="line"><span class="lineno">  170</span>        dwReservedFiles++;</div>
<div class="line"><span class="lineno">  171</span>    }</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>    <span class="comment">// Increment the maximum amount of files to have space for (signature)</span></div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordflow">if</span>(pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#afaa8856c329f8175c094c907e1660dad">dwMaxFileCount</a> &amp;&amp; pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#af5f6d35f3f4beb6a6741bcf095a9d37d">dwFileFlags3</a>)</div>
<div class="line"><span class="lineno">  175</span>    {</div>
<div class="line"><span class="lineno">  176</span>        dwMpqFlags |= <a class="code hl_define" href="StormLib_8h.html#a4d8e3ca4aa697762957721160d94cca8">MPQ_FLAG_SIGNATURE_NEW</a>;</div>
<div class="line"><span class="lineno">  177</span>        dwReservedFiles++;</div>
<div class="line"><span class="lineno">  178</span>    }</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>    <span class="comment">// If file count is not zero, initialize the hash table size</span></div>
<div class="line"><span class="lineno">  181</span>    dwHashTableSize = <a class="code hl_function" href="SBaseCommon_8cpp.html#a8e83939687ba0972b196f3bfd878f54a">GetNearestPowerOfTwo</a>(pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#afaa8856c329f8175c094c907e1660dad">dwMaxFileCount</a> + dwReservedFiles);</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>    <span class="comment">// Retrieve the file size and round it up to 0x200 bytes</span></div>
<div class="line"><span class="lineno">  184</span>    <a class="code hl_function" href="FileStream_8cpp.html#af505319882f0f4aaf396b6d061a2275b">FileStream_GetSize</a>(pStream, &amp;MpqPos);</div>
<div class="line"><span class="lineno">  185</span>    MpqPos = (MpqPos + 0x1FF) &amp; (<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>)0xFFFFFFFFFFFFFE00ULL;</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="FileStream_8cpp.html#abc0fbb4156c7eef2e3162841ffb0d74a">FileStream_SetSize</a>(pStream, MpqPos))</div>
<div class="line"><span class="lineno">  187</span>        dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span><span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><span class="lineno">  190</span>    <span class="comment">// Debug code, used for testing StormLib</span></div>
<div class="line"><span class="lineno">  191</span><span class="comment">//  dwBlockTableSize = dwHashTableSize * 2;</span></div>
<div class="line"><span class="lineno">  192</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>    <span class="comment">// Create the archive handle</span></div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  196</span>    {</div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">if</span>((ha = <a class="code hl_define" href="StormCommon_8h.html#a6fe0c42173ef1a4b9f0e837b0c631660">STORM_ALLOC</a>(<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a>, 1)) == NULL)</div>
<div class="line"><span class="lineno">  198</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a>;</div>
<div class="line"><span class="lineno">  199</span>    }</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>    <span class="comment">// Fill the MPQ archive handle structure</span></div>
<div class="line"><span class="lineno">  202</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  203</span>    {</div>
<div class="line"><span class="lineno">  204</span>        memset(ha, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a>));</div>
<div class="line"><span class="lineno">  205</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a5075170ac14f68563fd5548ad332fe38">pfnHashString</a>    = <a class="code hl_function" href="SBaseCommon_8cpp.html#a02d21e4503c849811801f033baa4b733">HashStringSlash</a>;</div>
<div class="line"><span class="lineno">  206</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>          = pStream;</div>
<div class="line"><span class="lineno">  207</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3f3661fec3d00a1e93ba3c2212a2e703">dwSectorSize</a>     = pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a3d967c366baacbc621aa752ed32a3751">dwSectorSize</a>;</div>
<div class="line"><span class="lineno">  208</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a43334c6a178fc02023a7412d9319136c">UserDataPos</a>      = MpqPos;</div>
<div class="line"><span class="lineno">  209</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a146dee965bc1cb34e569e3637b6e5c82">MpqPos</a>           = MpqPos;</div>
<div class="line"><span class="lineno">  210</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>          = pHeader = (<a class="code hl_struct" href="struct__TMPQHeader.html">TMPQHeader</a> *)ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a515bd4fb99f5bacb557725b71c3ee3b2">HeaderData</a>;</div>
<div class="line"><span class="lineno">  211</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aefc10ddd33bc3158c683cba1eab71c38">dwMaxFileCount</a>   = dwHashTableSize;</div>
<div class="line"><span class="lineno">  212</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aae2b6f26cfc5d09d2fc734947c82aabe">dwFileTableSize</a>  = 0;</div>
<div class="line"><span class="lineno">  213</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a9eae90efbf3e52b5bb0b400eb157547e">dwReservedFiles</a>  = dwReservedFiles;</div>
<div class="line"><span class="lineno">  214</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ad49b63dce2ee9c6f774c69f22732c8b7">dwValidFileFlags</a> = (pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a45c20ded0f59884ca1452b3f43337622">dwMpqVersion</a> &gt; 1) ? <a class="code hl_define" href="StormLib_8h.html#a30e8562440ee665b1e68625ce7bfc832">MPQ_FILE_VALID_FLAGS</a> : <a class="code hl_define" href="StormLib_8h.html#af4f6e8446dbab55c30403ac6ee444b22">MPQ_FILE_VALID_FLAGS_W3X</a>;</div>
<div class="line"><span class="lineno">  215</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#af277e7bdab70f04a3019a18ef37a701a">dwFileFlags1</a>     = pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a42d424e0654461277740fac26d34d442">dwFileFlags1</a>;</div>
<div class="line"><span class="lineno">  216</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ae2a681db2717763a2908943706839a61">dwFileFlags2</a>     = pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#af146b83571bae3e349b599536f66f270">dwFileFlags2</a>;</div>
<div class="line"><span class="lineno">  217</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ae523b14433e4a9071469133f67c3ac52">dwFileFlags3</a>     = pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#af5f6d35f3f4beb6a6741bcf095a9d37d">dwFileFlags3</a> ? <a class="code hl_define" href="StormLib_8h.html#af6f21d7e58bf7855583c8f9667467432">MPQ_FILE_EXISTS</a> : 0;</div>
<div class="line"><span class="lineno">  218</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ad2519a9b6b0657a19176bbe5d2e5651e">dwAttrFlags</a>      = pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a46f1fa8776f0c23327b6f48bd0631927">dwAttrFlags</a>;</div>
<div class="line"><span class="lineno">  219</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a>          = dwMpqFlags | <a class="code hl_define" href="StormLib_8h.html#a3c8ed28738e3f0f8fb54fbc395704613">MPQ_FLAG_CHANGED</a>;</div>
<div class="line"><span class="lineno">  220</span>        pStream = NULL;</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>        <span class="comment">// Fill the MPQ header</span></div>
<div class="line"><span class="lineno">  223</span>        memset(pHeader, 0, <span class="keyword">sizeof</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a515bd4fb99f5bacb557725b71c3ee3b2">HeaderData</a>));</div>
<div class="line"><span class="lineno">  224</span>        pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#ae383ee3cfeac2520be29344bae32e94c">dwID</a>             = <a class="code hl_variable" href="SBaseCommon_8cpp.html#a35005f326130df31c9ca0497b8a80e17">g_dwMpqSignature</a>;</div>
<div class="line"><span class="lineno">  225</span>        pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2243a0f4cd3bfcf873062421b063781a">dwHeaderSize</a>     = <a class="code hl_variable" href="SFileCreateArchive_8cpp.html#a96db60545854855dc30fe4ed6adf3c74">MpqHeaderSizes</a>[pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a45c20ded0f59884ca1452b3f43337622">dwMpqVersion</a>];</div>
<div class="line"><span class="lineno">  226</span>        pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a4557744f91726c1d4f7f8a3db05ee3e0">dwArchiveSize</a>    = pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2243a0f4cd3bfcf873062421b063781a">dwHeaderSize</a> + dwHashTableSize * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormLib_8h.html#a3931032d33f7a8276dd15d842b04ce0c">TMPQHash</a>);</div>
<div class="line"><span class="lineno">  227</span>        pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a26c350cb08d35f2ffc4e75c380ed7901">wFormatVersion</a>   = (<a class="code hl_typedef" href="StormPort_8h.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a>)pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a45c20ded0f59884ca1452b3f43337622">dwMpqVersion</a>;</div>
<div class="line"><span class="lineno">  228</span>        pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#aa6c9ec440342dfb5ab49bb0d0de3be19">wSectorSize</a>      = <a class="code hl_function" href="SFileCreateArchive_8cpp.html#aa08c51cbf9ff4cb6b3521567f7310389">GetSectorSizeShift</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3f3661fec3d00a1e93ba3c2212a2e703">dwSectorSize</a>);</div>
<div class="line"><span class="lineno">  229</span>        pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#acc150d84abed1f5c39b08e518fa9d7e7">dwHashTablePos</a>   = pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2243a0f4cd3bfcf873062421b063781a">dwHeaderSize</a>;</div>
<div class="line"><span class="lineno">  230</span>        pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a67f1869dadee712c8210f77ce69cbfa9">dwHashTableSize</a>  = dwHashTableSize;</div>
<div class="line"><span class="lineno">  231</span>        pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#ac0cd7ad2175e7713f1ab6e652c305f9d">dwBlockTablePos</a>  = pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#acc150d84abed1f5c39b08e518fa9d7e7">dwHashTablePos</a> + dwHashTableSize * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormLib_8h.html#a3931032d33f7a8276dd15d842b04ce0c">TMPQHash</a>);</div>
<div class="line"><span class="lineno">  232</span>        pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#ad63fd2d3c6c0d1e67d4023c92b130b3b">dwBlockTableSize</a> = dwBlockTableSize;</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>        <span class="comment">// For MPQs version 4 and higher, we set the size of raw data block</span></div>
<div class="line"><span class="lineno">  235</span>        <span class="comment">// for calculating MD5</span></div>
<div class="line"><span class="lineno">  236</span>        <span class="keywordflow">if</span>(pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a45c20ded0f59884ca1452b3f43337622">dwMpqVersion</a> &gt;= <a class="code hl_define" href="StormLib_8h.html#a6a35c4ad2d3b9ee964c96f325cf25c8f">MPQ_FORMAT_VERSION_4</a>)</div>
<div class="line"><span class="lineno">  237</span>            pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a0885c9723a608bc143ebe2f4bbac15de">dwRawChunkSize</a> = pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a14e831b4a6dd34b1402bd7b551e3b9ca">dwRawChunkSize</a>;</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>        <span class="comment">// Write the naked MPQ header</span></div>
<div class="line"><span class="lineno">  240</span>        dwErrCode = <a class="code hl_function" href="SFileCreateArchive_8cpp.html#ac25de1809a768409a12040fd523d0b61">WriteNakedMPQHeader</a>(ha);</div>
<div class="line"><span class="lineno">  241</span>    }</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>    <span class="comment">// Create initial HET table, if the caller required an MPQ format 3.0 or newer</span></div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#a45c20ded0f59884ca1452b3f43337622">dwMpqVersion</a> &gt;= <a class="code hl_define" href="StormLib_8h.html#af9d56babfd44b33bc4b352006fa9c761">MPQ_FORMAT_VERSION_3</a> &amp;&amp; pCreateInfo-&gt;<a class="code hl_variable" href="struct__SFILE__CREATE__MPQ.html#afaa8856c329f8175c094c907e1660dad">dwMaxFileCount</a> != 0)</div>
<div class="line"><span class="lineno">  245</span>    {</div>
<div class="line"><span class="lineno">  246</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a964afcb85acb567a58ef4066b579fd51">pHetTable</a> = <a class="code hl_function" href="SBaseFileTable_8cpp.html#aa1ba85ad9acf4ead8157a7fec98baf49">CreateHetTable</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aae2b6f26cfc5d09d2fc734947c82aabe">dwFileTableSize</a>, 0, 0x40, NULL);</div>
<div class="line"><span class="lineno">  247</span>        <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a964afcb85acb567a58ef4066b579fd51">pHetTable</a> == NULL)</div>
<div class="line"><span class="lineno">  248</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a>;</div>
<div class="line"><span class="lineno">  249</span>    }</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>    <span class="comment">// Create initial hash table</span></div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; dwHashTableSize != 0)</div>
<div class="line"><span class="lineno">  253</span>    {</div>
<div class="line"><span class="lineno">  254</span>        dwErrCode = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a64f9d9392a6a92dc7923de82648273a5">CreateHashTable</a>(ha, dwHashTableSize);</div>
<div class="line"><span class="lineno">  255</span>    }</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>    <span class="comment">// Create initial file table</span></div>
<div class="line"><span class="lineno">  258</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aefc10ddd33bc3158c683cba1eab71c38">dwMaxFileCount</a> != 0)</div>
<div class="line"><span class="lineno">  259</span>    {</div>
<div class="line"><span class="lineno">  260</span>        dwErrCode = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a7d711854c50a24f19c57aeaad14aa27c">CreateFileTable</a>(ha, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aefc10ddd33bc3158c683cba1eab71c38">dwMaxFileCount</a>);</div>
<div class="line"><span class="lineno">  261</span>    }</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>    <span class="comment">// Cleanup : If an error, delete all buffers and return</span></div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  265</span>    {</div>
<div class="line"><span class="lineno">  266</span>        <a class="code hl_function" href="FileStream_8cpp.html#ae8b75c4797726e9c5ee0b4b03bf31442">FileStream_Close</a>(pStream);</div>
<div class="line"><span class="lineno">  267</span>        <a class="code hl_function" href="SBaseCommon_8cpp.html#a8ac0edc687ba86d98e25c700d9cb0710">FreeArchiveHandle</a>(ha);</div>
<div class="line"><span class="lineno">  268</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">  269</span>        ha = NULL;</div>
<div class="line"><span class="lineno">  270</span>    }</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    <span class="comment">// Return the values</span></div>
<div class="line"><span class="lineno">  273</span>    *phMpq = (<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>)ha;</div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno">  275</span>}</div>
<div class="ttc" id="aFileStream_8cpp_html_abc0fbb4156c7eef2e3162841ffb0d74a"><div class="ttname"><a href="FileStream_8cpp.html#abc0fbb4156c7eef2e3162841ffb0d74a">FileStream_SetSize</a></div><div class="ttdeci">bool FileStream_SetSize(TFileStream *pStream, ULONGLONG NewFileSize)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02807">FileStream.cpp:2807</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a02d21e4503c849811801f033baa4b733"><div class="ttname"><a href="SBaseCommon_8cpp.html#a02d21e4503c849811801f033baa4b733">HashStringSlash</a></div><div class="ttdeci">DWORD HashStringSlash(const char *szFileName, DWORD dwHashType)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00294">SBaseCommon.cpp:294</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a35005f326130df31c9ca0497b8a80e17"><div class="ttname"><a href="SBaseCommon_8cpp.html#a35005f326130df31c9ca0497b8a80e17">g_dwMpqSignature</a></div><div class="ttdeci">DWORD g_dwMpqSignature</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00023">SBaseCommon.cpp:23</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a771e96257f2889763ee169050c798554"><div class="ttname"><a href="SBaseCommon_8cpp.html#a771e96257f2889763ee169050c798554">InitializeMpqCryptography</a></div><div class="ttdeci">void InitializeMpqCryptography()</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00219">SBaseCommon.cpp:219</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a8e83939687ba0972b196f3bfd878f54a"><div class="ttname"><a href="SBaseCommon_8cpp.html#a8e83939687ba0972b196f3bfd878f54a">GetNearestPowerOfTwo</a></div><div class="ttdeci">DWORD GetNearestPowerOfTwo(DWORD dwFileCount)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00339">SBaseCommon.cpp:339</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a64f9d9392a6a92dc7923de82648273a5"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a64f9d9392a6a92dc7923de82648273a5">CreateHashTable</a></div><div class="ttdeci">DWORD CreateHashTable(TMPQArchive *ha, DWORD dwHashTableSize)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02302">SBaseFileTable.cpp:2302</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a7d711854c50a24f19c57aeaad14aa27c"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a7d711854c50a24f19c57aeaad14aa27c">CreateFileTable</a></div><div class="ttdeci">DWORD CreateFileTable(TMPQArchive *ha, DWORD dwFileTableSize)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02380">SBaseFileTable.cpp:2380</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_aa1ba85ad9acf4ead8157a7fec98baf49"><div class="ttname"><a href="SBaseFileTable_8cpp.html#aa1ba85ad9acf4ead8157a7fec98baf49">CreateHetTable</a></div><div class="ttdeci">TMPQHetTable * CreateHetTable(DWORD dwEntryCount, DWORD dwTotalCount, DWORD dwNameHashBitSize, LPBYTE pbSrcData)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l01368">SBaseFileTable.cpp:1368</a></div></div>
<div class="ttc" id="aSFileCreateArchive_8cpp_html_a96db60545854855dc30fe4ed6adf3c74"><div class="ttname"><a href="SFileCreateArchive_8cpp.html#a96db60545854855dc30fe4ed6adf3c74">MpqHeaderSizes</a></div><div class="ttdeci">static const DWORD MpqHeaderSizes[]</div><div class="ttdef"><b>Definition</b> <a href="SFileCreateArchive_8cpp_source.html#l00019">SFileCreateArchive.cpp:19</a></div></div>
<div class="ttc" id="aSFileCreateArchive_8cpp_html_aa08c51cbf9ff4cb6b3521567f7310389"><div class="ttname"><a href="SFileCreateArchive_8cpp.html#aa08c51cbf9ff4cb6b3521567f7310389">GetSectorSizeShift</a></div><div class="ttdeci">static USHORT GetSectorSizeShift(DWORD dwSectorSize)</div><div class="ttdef"><b>Definition</b> <a href="SFileCreateArchive_8cpp_source.html#l00030">SFileCreateArchive.cpp:30</a></div></div>
<div class="ttc" id="aSFileCreateArchive_8cpp_html_ac25de1809a768409a12040fd523d0b61"><div class="ttname"><a href="SFileCreateArchive_8cpp.html#ac25de1809a768409a12040fd523d0b61">WriteNakedMPQHeader</a></div><div class="ttdeci">static DWORD WriteNakedMPQHeader(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SFileCreateArchive_8cpp_source.html#l00043">SFileCreateArchive.cpp:43</a></div></div>
<div class="ttc" id="aSFileOpenArchive_8cpp_html_a8b031afa4f88b4b3705c274a0b5b4f73"><div class="ttname"><a href="SFileOpenArchive_8cpp.html#a8b031afa4f88b4b3705c274a0b5b4f73">SFileOpenArchive</a></div><div class="ttdeci">bool WINAPI SFileOpenArchive(const TCHAR *szMpqName, DWORD dwPriority, DWORD dwFlags, HANDLE *phMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00225">SFileOpenArchive.cpp:225</a></div></div>
<div class="ttc" id="aSFileOpenArchive_8cpp_html_abe1ae9917ea665286bffd1524561fceb"><div class="ttname"><a href="SFileOpenArchive_8cpp.html#abe1ae9917ea665286bffd1524561fceb">SFileCloseArchive</a></div><div class="ttdeci">bool WINAPI SFileCloseArchive(HANDLE hMpq)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00669">SFileOpenArchive.cpp:669</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a018cad433037d094e4b7284bcb5b3592"><div class="ttname"><a href="StormLib_8h.html#a018cad433037d094e4b7284bcb5b3592">MPQ_OPEN_NO_ATTRIBUTES</a></div><div class="ttdeci">#define MPQ_OPEN_NO_ATTRIBUTES</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00330">StormLib.h:330</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a0c71a04690bd449dc900b58111364c54"><div class="ttname"><a href="StormLib_8h.html#a0c71a04690bd449dc900b58111364c54">MPQ_ATTRIBUTE_ALL</a></div><div class="ttdeci">#define MPQ_ATTRIBUTE_ALL</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00305">StormLib.h:305</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a30e8562440ee665b1e68625ce7bfc832"><div class="ttname"><a href="StormLib_8h.html#a30e8562440ee665b1e68625ce7bfc832">MPQ_FILE_VALID_FLAGS</a></div><div class="ttdeci">#define MPQ_FILE_VALID_FLAGS</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00233">StormLib.h:233</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a4d8e3ca4aa697762957721160d94cca8"><div class="ttname"><a href="StormLib_8h.html#a4d8e3ca4aa697762957721160d94cca8">MPQ_FLAG_SIGNATURE_NEW</a></div><div class="ttdeci">#define MPQ_FLAG_SIGNATURE_NEW</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00203">StormLib.h:203</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a97a8fb3f1968a9ff722f9ab904a3884a"><div class="ttname"><a href="StormLib_8h.html#a97a8fb3f1968a9ff722f9ab904a3884a">MPQ_FLAG_ATTRIBUTES_NEW</a></div><div class="ttdeci">#define MPQ_FLAG_ATTRIBUTES_NEW</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00201">StormLib.h:201</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ab0c2a5d3970ee9739abd4ff3e2a737f5"><div class="ttname"><a href="StormLib_8h.html#ab0c2a5d3970ee9739abd4ff3e2a737f5">MPQ_OPEN_NO_LISTFILE</a></div><div class="ttdeci">#define MPQ_OPEN_NO_LISTFILE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00329">StormLib.h:329</a></div></div>
<div class="ttc" id="aStormLib_8h_html_af0170e1f41f3b3d32bbcdfd769f874f1"><div class="ttname"><a href="StormLib_8h.html#af0170e1f41f3b3d32bbcdfd769f874f1">MPQ_FLAG_LISTFILE_NEW</a></div><div class="ttdeci">#define MPQ_FLAG_LISTFILE_NEW</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00198">StormLib.h:198</a></div></div>
<div class="ttc" id="aStormLib_8h_html_af4f6e8446dbab55c30403ac6ee444b22"><div class="ttname"><a href="StormLib_8h.html#af4f6e8446dbab55c30403ac6ee444b22">MPQ_FILE_VALID_FLAGS_W3X</a></div><div class="ttdeci">#define MPQ_FILE_VALID_FLAGS_W3X</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00244">StormLib.h:244</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a122596adcfea9620fdfd43c5c003c84d"><div class="ttname"><a href="StormPort_8h.html#a122596adcfea9620fdfd43c5c003c84d">ERROR_ALREADY_EXISTS</a></div><div class="ttdeci">#define ERROR_ALREADY_EXISTS</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00410">StormPort.h:410</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_aa2b6fa8f16b5ac42868c546533fe26ce_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_aa2b6fa8f16b5ac42868c546533fe26ce_icgraph.svg" width="358" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a85f3b458be41b77c6b6d26f5d09c2bad" name="a85f3b458be41b77c6b6d26f5d09c2bad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85f3b458be41b77c6b6d26f5d09c2bad">&#9670;&#160;</a></span>SFileCreateFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileCreateFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szArchivedName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>&#160;</td>
          <td class="paramname"><em>FileTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwFileSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>&#160;</td>
          <td class="paramname"><em>lcFileLocale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *&#160;</td>
          <td class="paramname"><em>phFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAddFile_8cpp_source.html#l00762">762</a> of file <a class="el" href="SFileAddFile_8cpp_source.html">SFileAddFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  770</span>{</div>
<div class="line"><span class="lineno">  771</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno">  772</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>    <span class="comment">// Check valid parameters</span></div>
<div class="line"><span class="lineno">  775</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno">  776</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno">  777</span>    <span class="keywordflow">if</span>(szArchivedName == NULL || *szArchivedName == 0)</div>
<div class="line"><span class="lineno">  778</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  779</span>    <span class="keywordflow">if</span>(phFile == NULL)</div>
<div class="line"><span class="lineno">  780</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>    <span class="comment">// Don&#39;t allow to add file if the MPQ is open for read only</span></div>
<div class="line"><span class="lineno">  783</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  784</span>    {</div>
<div class="line"><span class="lineno">  785</span>        <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a>)</div>
<div class="line"><span class="lineno">  786</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a>;</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>        <span class="comment">// Don&#39;t allow to add a file under pseudo-file name</span></div>
<div class="line"><span class="lineno">  789</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="SBaseCommon_8cpp.html#ad01c4c290fa6caebc77053dbc12c1070">IsPseudoFileName</a>(szArchivedName, NULL))</div>
<div class="line"><span class="lineno">  790</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  791</span> </div>
<div class="line"><span class="lineno">  792</span>        <span class="comment">// Don&#39;t allow to add any of the internal files</span></div>
<div class="line"><span class="lineno">  793</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="SBaseCommon_8cpp.html#a271822a4e6a88edb8f2f53df8b713023">IsInternalMpqFileName</a>(szArchivedName))</div>
<div class="line"><span class="lineno">  794</span>            dwErrCode = <a class="code hl_define" href="StormLib_8h.html#a7683ee00dc0a85461bd66b9b11d729cf">ERROR_INTERNAL_FILE</a>;</div>
<div class="line"><span class="lineno">  795</span>    }</div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span>    <span class="comment">// Perform validity check of the MPQ flags</span></div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  799</span>    {</div>
<div class="line"><span class="lineno">  800</span>        <span class="comment">// Mask all unsupported flags out</span></div>
<div class="line"><span class="lineno">  801</span>        dwFlags &amp;= ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ad49b63dce2ee9c6f774c69f22732c8b7">dwValidFileFlags</a>;</div>
<div class="line"><span class="lineno">  802</span> </div>
<div class="line"><span class="lineno">  803</span>        <span class="comment">// Check for valid flag combinations</span></div>
<div class="line"><span class="lineno">  804</span>        <span class="keywordflow">if</span>((dwFlags &amp; (<a class="code hl_define" href="StormLib_8h.html#adcf67b78a67069b1d79d2bb10247d985">MPQ_FILE_IMPLODE</a> | <a class="code hl_define" href="StormLib_8h.html#a05c0e6be65657562b772b5ca9b667f0b">MPQ_FILE_COMPRESS</a>)) == (<a class="code hl_define" href="StormLib_8h.html#adcf67b78a67069b1d79d2bb10247d985">MPQ_FILE_IMPLODE</a> | <a class="code hl_define" href="StormLib_8h.html#a05c0e6be65657562b772b5ca9b667f0b">MPQ_FILE_COMPRESS</a>))</div>
<div class="line"><span class="lineno">  805</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  806</span>    }</div>
<div class="line"><span class="lineno">  807</span> </div>
<div class="line"><span class="lineno">  808</span>    <span class="comment">// Initiate the add file operation</span></div>
<div class="line"><span class="lineno">  809</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  810</span>        dwErrCode = <a class="code hl_function" href="SFileAddFile_8cpp.html#aaaf4e78e576b14cb224df4e9b07af824">SFileAddFile_Init</a>(ha, szArchivedName, FileTime, dwFileSize, lcFileLocale, dwFlags, (<a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> **)phFile);</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>    <span class="comment">// Deal with the errors</span></div>
<div class="line"><span class="lineno">  813</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  814</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">  815</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno">  816</span>}</div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a271822a4e6a88edb8f2f53df8b713023"><div class="ttname"><a href="SBaseCommon_8cpp.html#a271822a4e6a88edb8f2f53df8b713023">IsInternalMpqFileName</a></div><div class="ttdeci">bool IsInternalMpqFileName(const char *szFileName)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l01738">SBaseCommon.cpp:1738</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_ad01c4c290fa6caebc77053dbc12c1070"><div class="ttname"><a href="SBaseCommon_8cpp.html#ad01c4c290fa6caebc77053dbc12c1070">IsPseudoFileName</a></div><div class="ttdeci">bool IsPseudoFileName(const char *szFileName, DWORD *pdwFileIndex)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l01754">SBaseCommon.cpp:1754</a></div></div>
<div class="ttc" id="aSFileAddFile_8cpp_html_aaaf4e78e576b14cb224df4e9b07af824"><div class="ttname"><a href="SFileAddFile_8cpp.html#aaaf4e78e576b14cb224df4e9b07af824">SFileAddFile_Init</a></div><div class="ttdeci">DWORD SFileAddFile_Init(TMPQArchive *ha, const char *szFileName, ULONGLONG FileTime, DWORD dwFileSize, LCID lcFileLocale, DWORD dwFlags, TMPQFile **phf)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00398">SFileAddFile.cpp:398</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a7683ee00dc0a85461bd66b9b11d729cf"><div class="ttname"><a href="StormLib_8h.html#a7683ee00dc0a85461bd66b9b11d729cf">ERROR_INTERNAL_FILE</a></div><div class="ttdeci">#define ERROR_INTERNAL_FILE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00156">StormLib.h:156</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a85f3b458be41b77c6b6d26f5d09c2bad_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a85f3b458be41b77c6b6d26f5d09c2bad_icgraph.svg" width="458" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a186cae4ee63830bb2fec5a2e8b24e626" name="a186cae4ee63830bb2fec5a2e8b24e626"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a186cae4ee63830bb2fec5a2e8b24e626">&#9670;&#160;</a></span>SFileEnumLocales()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileEnumLocales </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a> *&#160;</td>
          <td class="paramname"><em>PtrFileLocales</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>&#160;</td>
          <td class="paramname"><em>PtrMaxLocales</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwSearchScope</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileOpenFileEx_8cpp_source.html#l00176">176</a> of file <a class="el" href="SFileOpenFileEx_8cpp_source.html">SFileOpenFileEx.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  182</span>{</div>
<div class="line"><span class="lineno">  183</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno">  184</span>    <a class="code hl_struct" href="struct__TMPQHash.html">TMPQHash</a> * pFirstHash;</div>
<div class="line"><span class="lineno">  185</span>    <a class="code hl_struct" href="struct__TMPQHash.html">TMPQHash</a> * pHash;</div>
<div class="line"><span class="lineno">  186</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFileIndex = 0;</div>
<div class="line"><span class="lineno">  187</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwMaxLocales;</div>
<div class="line"><span class="lineno">  188</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwLocales = 0;</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>    <span class="comment">// Test the parameters</span></div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">if</span>(szFileName == NULL || *szFileName == 0)</div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ad3ec9127fcae2cd440073adbc3f21fba">pHashTable</a> == NULL)</div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#ab72d05032a6d1152bad9af394811d447">ERROR_NOT_SUPPORTED</a>;</div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">if</span>(PtrMaxLocales == NULL)</div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="SBaseCommon_8cpp.html#ad01c4c290fa6caebc77053dbc12c1070">IsPseudoFileName</a>(szFileName, &amp;dwFileIndex))</div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    <span class="comment">// Keep compiler happy</span></div>
<div class="line"><span class="lineno">  203</span>    dwMaxLocales = PtrMaxLocales[0];</div>
<div class="line"><span class="lineno">  204</span>    dwSearchScope = dwSearchScope;</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>    <span class="comment">// Parse all files with that name</span></div>
<div class="line"><span class="lineno">  207</span>    pFirstHash = pHash = <a class="code hl_function" href="SBaseCommon_8cpp.html#a30262df6aa40d7d4f4d37814a8de734c">GetFirstHashEntry</a>(ha, szFileName);</div>
<div class="line"><span class="lineno">  208</span>    <span class="keywordflow">while</span>(pHash != NULL)</div>
<div class="line"><span class="lineno">  209</span>    {</div>
<div class="line"><span class="lineno">  210</span>        <span class="comment">// Put the locales to the buffer</span></div>
<div class="line"><span class="lineno">  211</span>        <span class="keywordflow">if</span>(PtrFileLocales != NULL &amp;&amp; dwLocales &lt; dwMaxLocales)</div>
<div class="line"><span class="lineno">  212</span>            *PtrFileLocales++ = <a class="code hl_define" href="StormLib_8h.html#aac5d37546e56cecc39acc9223a466f74">SFILE_MAKE_LCID</a>(pHash-&gt;<a class="code hl_variable" href="struct__TMPQHash.html#a739c78235438c89d2cd6e6c0d44402ce">Locale</a>, pHash-&gt;<a class="code hl_variable" href="struct__TMPQHash.html#a8712ff7211834dfc7314c5d682866d88">Platform</a>);</div>
<div class="line"><span class="lineno">  213</span>        dwLocales++;</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>        <span class="comment">// Get the next locale</span></div>
<div class="line"><span class="lineno">  216</span>        pHash = <a class="code hl_function" href="SBaseCommon_8cpp.html#aa9b3131395d4877f9d3793f2c7671886">GetNextHashEntry</a>(ha, pFirstHash, pHash);</div>
<div class="line"><span class="lineno">  217</span>    }</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>    <span class="comment">// Give the caller the number of locales and return</span></div>
<div class="line"><span class="lineno">  220</span>    PtrMaxLocales[0] = dwLocales;</div>
<div class="line"><span class="lineno">  221</span>    <span class="keywordflow">return</span> (dwLocales &lt;= dwMaxLocales) ? <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> : <a class="code hl_define" href="StormPort_8h.html#a9ea4797ca694b9d2dfe6b408dfee69c1">ERROR_INSUFFICIENT_BUFFER</a>;</div>
<div class="line"><span class="lineno">  222</span>}</div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a30262df6aa40d7d4f4d37814a8de734c"><div class="ttname"><a href="SBaseCommon_8cpp.html#a30262df6aa40d7d4f4d37814a8de734c">GetFirstHashEntry</a></div><div class="ttdeci">TMPQHash * GetFirstHashEntry(TMPQArchive *ha, const char *szFileName)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00787">SBaseCommon.cpp:787</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_aa9b3131395d4877f9d3793f2c7671886"><div class="ttname"><a href="SBaseCommon_8cpp.html#aa9b3131395d4877f9d3793f2c7671886">GetNextHashEntry</a></div><div class="ttdeci">TMPQHash * GetNextHashEntry(TMPQArchive *ha, TMPQHash *pFirstHash, TMPQHash *pHash)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00819">SBaseCommon.cpp:819</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aac5d37546e56cecc39acc9223a466f74"><div class="ttname"><a href="StormLib_8h.html#aac5d37546e56cecc39acc9223a466f74">SFILE_MAKE_LCID</a></div><div class="ttdeci">#define SFILE_MAKE_LCID(locale, platform)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00999">StormLib.h:999</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a186cae4ee63830bb2fec5a2e8b24e626_cgraph.svg" width="340" height="184"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a25532910e8392ffc4b5fd57878d67316" name="a25532910e8392ffc4b5fd57878d67316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25532910e8392ffc4b5fd57878d67316">&#9670;&#160;</a></span>SFileExtractFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileExtractFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szToExtract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szExtracted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwSearchScope</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileExtractFile_8cpp_source.html#l00015">15</a> of file <a class="el" href="SFileExtractFile_8cpp_source.html">SFileExtractFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   16</span>{</div>
<div class="line"><span class="lineno">   17</span>    <a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pLocalFile = NULL;</div>
<div class="line"><span class="lineno">   18</span>    <a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hMpqFile = NULL;</div>
<div class="line"><span class="lineno">   19</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   20</span> </div>
<div class="line"><span class="lineno">   21</span>    <span class="comment">// Open the MPQ file</span></div>
<div class="line"><span class="lineno">   22</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">   23</span>    {</div>
<div class="line"><span class="lineno">   24</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="SFileOpenFileEx_8cpp.html#a0049c66b1dbb981f5b69afe6bbe60313">SFileOpenFileEx</a>(hMpq, szToExtract, dwSearchScope, &amp;hMpqFile))</div>
<div class="line"><span class="lineno">   25</span>            dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno">   26</span>    }</div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span>    <span class="comment">// Create the local file</span></div>
<div class="line"><span class="lineno">   29</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">   30</span>    {</div>
<div class="line"><span class="lineno">   31</span>        pLocalFile = <a class="code hl_function" href="FileStream_8cpp.html#aaba1ffb5ec458bc89519a891e28ab10e">FileStream_CreateFile</a>(szExtracted, 0);</div>
<div class="line"><span class="lineno">   32</span>        <span class="keywordflow">if</span>(pLocalFile == NULL)</div>
<div class="line"><span class="lineno">   33</span>            dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno">   34</span>    }</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>    <span class="comment">// Copy the file&#39;s content</span></div>
<div class="line"><span class="lineno">   37</span>    <span class="keywordflow">while</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">   38</span>    {</div>
<div class="line"><span class="lineno">   39</span>        <span class="keywordtype">char</span>  szBuffer[0x1000];</div>
<div class="line"><span class="lineno">   40</span>        <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwTransferred = 0;</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>        <span class="comment">// dwTransferred is only set to nonzero if something has been read.</span></div>
<div class="line"><span class="lineno">   43</span>        <span class="comment">// dwErrCode can be ERROR_SUCCESS or ERROR_HANDLE_EOF</span></div>
<div class="line"><span class="lineno">   44</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="SFileReadFile_8cpp.html#a3c81a68cbecef70ab57c9d3145ef8b7d">SFileReadFile</a>(hMpqFile, szBuffer, <span class="keyword">sizeof</span>(szBuffer), &amp;dwTransferred, NULL))</div>
<div class="line"><span class="lineno">   45</span>            dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno">   46</span>        <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#a71791529fd25c32cd91d6a716e5e1755">ERROR_HANDLE_EOF</a>)</div>
<div class="line"><span class="lineno">   47</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   48</span>        <span class="keywordflow">if</span>(dwTransferred == 0)</div>
<div class="line"><span class="lineno">   49</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>        <span class="comment">// If something has been actually read, write it</span></div>
<div class="line"><span class="lineno">   52</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="FileStream_8cpp.html#a36307955e8de92f5ea26be07ea3b9cb4">FileStream_Write</a>(pLocalFile, NULL, szBuffer, dwTransferred))</div>
<div class="line"><span class="lineno">   53</span>            dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno">   54</span>    }</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>    <span class="comment">// Close the files</span></div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordflow">if</span>(hMpqFile != NULL)</div>
<div class="line"><span class="lineno">   58</span>        <a class="code hl_function" href="SFileOpenFileEx_8cpp.html#a49a09a38e6dc3b1afd95163a1c9052c6">SFileCloseFile</a>(hMpqFile);</div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">if</span>(pLocalFile != NULL)</div>
<div class="line"><span class="lineno">   60</span>        <a class="code hl_function" href="FileStream_8cpp.html#ae8b75c4797726e9c5ee0b4b03bf31442">FileStream_Close</a>(pLocalFile);</div>
<div class="line"><span class="lineno">   61</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">   62</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno">   64</span>}</div>
<div class="ttc" id="aSFileOpenFileEx_8cpp_html_a0049c66b1dbb981f5b69afe6bbe60313"><div class="ttname"><a href="SFileOpenFileEx_8cpp.html#a0049c66b1dbb981f5b69afe6bbe60313">SFileOpenFileEx</a></div><div class="ttdeci">bool WINAPI SFileOpenFileEx(HANDLE hMpq, const char *szFileName, DWORD dwSearchScope, HANDLE *PtrFile)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenFileEx_8cpp_source.html#l00232">SFileOpenFileEx.cpp:232</a></div></div>
<div class="ttc" id="aSFileOpenFileEx_8cpp_html_a49a09a38e6dc3b1afd95163a1c9052c6"><div class="ttname"><a href="SFileOpenFileEx_8cpp.html#a49a09a38e6dc3b1afd95163a1c9052c6">SFileCloseFile</a></div><div class="ttdeci">bool WINAPI SFileCloseFile(HANDLE hFile)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenFileEx_8cpp_source.html#l00405">SFileOpenFileEx.cpp:405</a></div></div>
<div class="ttc" id="aSFileReadFile_8cpp_html_a3c81a68cbecef70ab57c9d3145ef8b7d"><div class="ttname"><a href="SFileReadFile_8cpp.html#a3c81a68cbecef70ab57c9d3145ef8b7d">SFileReadFile</a></div><div class="ttdeci">bool WINAPI SFileReadFile(HANDLE hFile, void *pvBuffer, DWORD dwToRead, LPDWORD pdwRead, LPOVERLAPPED lpOverlapped)</div><div class="ttdef"><b>Definition</b> <a href="SFileReadFile_8cpp_source.html#l00678">SFileReadFile.cpp:678</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a71791529fd25c32cd91d6a716e5e1755"><div class="ttname"><a href="StormPort_8h.html#a71791529fd25c32cd91d6a716e5e1755">ERROR_HANDLE_EOF</a></div><div class="ttdeci">#define ERROR_HANDLE_EOF</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00414">StormPort.h:414</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a25532910e8392ffc4b5fd57878d67316_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a33ff6856104b147ef82a90e86699ca15" name="a33ff6856104b147ef82a90e86699ca15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33ff6856104b147ef82a90e86699ca15">&#9670;&#160;</a></span>SFileFindClose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileFindClose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hFind</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileFindFile_8cpp_source.html#l00468">468</a> of file <a class="el" href="SFileFindFile_8cpp_source.html">SFileFindFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  469</span>{</div>
<div class="line"><span class="lineno">  470</span>    <a class="code hl_struct" href="structTMPQSearch.html">TMPQSearch</a> * hs = <a class="code hl_function" href="SFileFindFile_8cpp.html#ae86cfd67ac2d45b236721b35e2ca1313">IsValidSearchHandle</a>(hFind);</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>    <span class="comment">// Check the parameters</span></div>
<div class="line"><span class="lineno">  473</span>    <span class="keywordflow">if</span>(hs == NULL)</div>
<div class="line"><span class="lineno">  474</span>    {</div>
<div class="line"><span class="lineno">  475</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>);</div>
<div class="line"><span class="lineno">  476</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  477</span>    }</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>    <a class="code hl_function" href="SFileFindFile_8cpp.html#ac5b7f1280ba34ac20d05c9bd02d59c22">FreeMPQSearch</a>(hs);</div>
<div class="line"><span class="lineno">  480</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  481</span>}</div>
<div class="ttc" id="aSFileFindFile_8cpp_html_ac5b7f1280ba34ac20d05c9bd02d59c22"><div class="ttname"><a href="SFileFindFile_8cpp.html#ac5b7f1280ba34ac20d05c9bd02d59c22">FreeMPQSearch</a></div><div class="ttdeci">static void FreeMPQSearch(TMPQSearch *&amp;hs)</div><div class="ttdef"><b>Definition</b> <a href="SFileFindFile_8cpp_source.html#l00369">SFileFindFile.cpp:369</a></div></div>
<div class="ttc" id="aSFileFindFile_8cpp_html_ae86cfd67ac2d45b236721b35e2ca1313"><div class="ttname"><a href="SFileFindFile_8cpp.html#ae86cfd67ac2d45b236721b35e2ca1313">IsValidSearchHandle</a></div><div class="ttdeci">static TMPQSearch * IsValidSearchHandle(HANDLE hFind)</div><div class="ttdef"><b>Definition</b> <a href="SFileFindFile_8cpp_source.html#l00032">SFileFindFile.cpp:32</a></div></div>
<div class="ttc" id="astructTMPQSearch_html"><div class="ttname"><a href="structTMPQSearch.html">TMPQSearch</a></div><div class="ttdef"><b>Definition</b> <a href="SFileFindFile_8cpp_source.html#l00019">SFileFindFile.cpp:20</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a33ff6856104b147ef82a90e86699ca15_cgraph.svg" width="516" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a33ff6856104b147ef82a90e86699ca15_icgraph.svg" width="404" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0d4954b949694dc170b05364c2add5cd" name="a0d4954b949694dc170b05364c2add5cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d4954b949694dc170b05364c2add5cd">&#9670;&#160;</a></span>SFileFindFirstFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileFindFirstFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_8h.html#ac80854a06a92ee69e22c1d2c1fc5b5b9">SFILE_FIND_DATA</a> *&#160;</td>
          <td class="paramname"><em>lpFindFileData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szListFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileFindFile_8cpp_source.html#l00383">383</a> of file <a class="el" href="SFileFindFile_8cpp_source.html">SFileFindFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  384</span>{</div>
<div class="line"><span class="lineno">  385</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno">  386</span>    <a class="code hl_struct" href="structTMPQSearch.html">TMPQSearch</a> * hs = NULL;</div>
<div class="line"><span class="lineno">  387</span>    <span class="keywordtype">size_t</span> nSize  = 0;</div>
<div class="line"><span class="lineno">  388</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>    <span class="comment">// Check for the valid parameters</span></div>
<div class="line"><span class="lineno">  391</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno">  392</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno">  393</span>    <span class="keywordflow">if</span>(szMask == NULL || lpFindFileData == NULL)</div>
<div class="line"><span class="lineno">  394</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>    <span class="comment">// Include the listfile into the MPQ&#39;s internal listfile</span></div>
<div class="line"><span class="lineno">  397</span>    <span class="comment">// Note that if the listfile name is NULL, do nothing because the</span></div>
<div class="line"><span class="lineno">  398</span>    <span class="comment">// internal listfile is always included.</span></div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; szListFile != NULL &amp;&amp; *szListFile != 0)</div>
<div class="line"><span class="lineno">  400</span>        dwErrCode = <a class="code hl_function" href="SFileListFile_8cpp.html#ab699405208db728f480c491831904e36">SFileAddListFile</a>((<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>)ha, szListFile);</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>    <span class="comment">// Allocate the structure for MPQ search</span></div>
<div class="line"><span class="lineno">  403</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  404</span>    {</div>
<div class="line"><span class="lineno">  405</span>        nSize = <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structTMPQSearch.html">TMPQSearch</a>) + strlen(szMask) + 1;</div>
<div class="line"><span class="lineno">  406</span>        <span class="keywordflow">if</span>((hs = (<a class="code hl_struct" href="structTMPQSearch.html">TMPQSearch</a> *)<a class="code hl_define" href="StormCommon_8h.html#a6fe0c42173ef1a4b9f0e837b0c631660">STORM_ALLOC</a>(<span class="keywordtype">char</span>, nSize)) == NULL)</div>
<div class="line"><span class="lineno">  407</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a>;</div>
<div class="line"><span class="lineno">  408</span>    }</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>    <span class="comment">// Perform the first search</span></div>
<div class="line"><span class="lineno">  411</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  412</span>    {</div>
<div class="line"><span class="lineno">  413</span>        memset(hs, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structTMPQSearch.html">TMPQSearch</a>));</div>
<div class="line"><span class="lineno">  414</span>        strcpy(hs-&gt;<a class="code hl_variable" href="structTMPQSearch.html#ab9584a44e0ce7f6bdc530909ed2b8349">szSearchMask</a>, szMask);</div>
<div class="line"><span class="lineno">  415</span>        hs-&gt;<a class="code hl_variable" href="structTMPQSearch.html#ad79b7c9e8e617622f2c3fc8c9f9220f9">dwFlagMask</a> = <a class="code hl_define" href="StormLib_8h.html#af6f21d7e58bf7855583c8f9667467432">MPQ_FILE_EXISTS</a>;</div>
<div class="line"><span class="lineno">  416</span>        hs-&gt;<a class="code hl_variable" href="structTMPQSearch.html#ab780ac9f795773523f227d9e7209fa2e">ha</a> = ha;</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>        <span class="comment">// If the archive is patched archive, we have to create a merge table</span></div>
<div class="line"><span class="lineno">  419</span>        <span class="comment">// to prevent files being repeated</span></div>
<div class="line"><span class="lineno">  420</span>        <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aa2646402b5718a74c1908745ea6a46cd">haPatch</a> != NULL)</div>
<div class="line"><span class="lineno">  421</span>        {</div>
<div class="line"><span class="lineno">  422</span>            hs-&gt;<a class="code hl_variable" href="structTMPQSearch.html#ab29741917b722f60e9bbb9c12b4d3f3c">dwSearchTableItems</a> = <a class="code hl_function" href="SFileFindFile_8cpp.html#ad20237f9fdc0cdd196e238b09c00e07e">GetSearchTableItems</a>(ha);</div>
<div class="line"><span class="lineno">  423</span>            hs-&gt;<a class="code hl_variable" href="structTMPQSearch.html#a8e4185e2ee1a45373adca67a87c39bd5">pSearchTable</a> = <a class="code hl_define" href="StormCommon_8h.html#a6fe0c42173ef1a4b9f0e837b0c631660">STORM_ALLOC</a>(<a class="code hl_struct" href="struct__TFileEntry.html">TFileEntry</a> *, hs-&gt;<a class="code hl_variable" href="structTMPQSearch.html#ab29741917b722f60e9bbb9c12b4d3f3c">dwSearchTableItems</a>);</div>
<div class="line"><span class="lineno">  424</span>            hs-&gt;<a class="code hl_variable" href="structTMPQSearch.html#ad79b7c9e8e617622f2c3fc8c9f9220f9">dwFlagMask</a> = <a class="code hl_define" href="StormLib_8h.html#af6f21d7e58bf7855583c8f9667467432">MPQ_FILE_EXISTS</a> | <a class="code hl_define" href="StormLib_8h.html#a437c4920546d0e3e3a7a4e040e9aef20">MPQ_FILE_PATCH_FILE</a>;</div>
<div class="line"><span class="lineno">  425</span>            <span class="keywordflow">if</span>(hs-&gt;<a class="code hl_variable" href="structTMPQSearch.html#a8e4185e2ee1a45373adca67a87c39bd5">pSearchTable</a> != NULL)</div>
<div class="line"><span class="lineno">  426</span>                memset(hs-&gt;<a class="code hl_variable" href="structTMPQSearch.html#a8e4185e2ee1a45373adca67a87c39bd5">pSearchTable</a>, 0, hs-&gt;<a class="code hl_variable" href="structTMPQSearch.html#ab29741917b722f60e9bbb9c12b4d3f3c">dwSearchTableItems</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__TFileEntry.html">TFileEntry</a> *));</div>
<div class="line"><span class="lineno">  427</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  428</span>                dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a>;</div>
<div class="line"><span class="lineno">  429</span>        }</div>
<div class="line"><span class="lineno">  430</span>    }</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    <span class="comment">// Perform first item searching</span></div>
<div class="line"><span class="lineno">  433</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  434</span>    {</div>
<div class="line"><span class="lineno">  435</span>        dwErrCode = <a class="code hl_function" href="SFileFindFile_8cpp.html#acc4812686674104aa8e2938531cf2111">DoMPQSearch</a>(hs, lpFindFileData);</div>
<div class="line"><span class="lineno">  436</span>    }</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>    <span class="comment">// Cleanup</span></div>
<div class="line"><span class="lineno">  439</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  440</span>    {</div>
<div class="line"><span class="lineno">  441</span>        <a class="code hl_function" href="SFileFindFile_8cpp.html#ac5b7f1280ba34ac20d05c9bd02d59c22">FreeMPQSearch</a>(hs);</div>
<div class="line"><span class="lineno">  442</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">  443</span>    }</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>    <span class="comment">// Return the result value</span></div>
<div class="line"><span class="lineno">  446</span>    <span class="keywordflow">return</span> (<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>)hs;</div>
<div class="line"><span class="lineno">  447</span>}</div>
<div class="ttc" id="aSFileFindFile_8cpp_html_acc4812686674104aa8e2938531cf2111"><div class="ttname"><a href="SFileFindFile_8cpp.html#acc4812686674104aa8e2938531cf2111">DoMPQSearch</a></div><div class="ttdeci">static DWORD DoMPQSearch(TMPQSearch *hs, SFILE_FIND_DATA *lpFindFileData)</div><div class="ttdef"><b>Definition</b> <a href="SFileFindFile_8cpp_source.html#l00337">SFileFindFile.cpp:337</a></div></div>
<div class="ttc" id="aSFileFindFile_8cpp_html_ad20237f9fdc0cdd196e238b09c00e07e"><div class="ttname"><a href="SFileFindFile_8cpp.html#ad20237f9fdc0cdd196e238b09c00e07e">GetSearchTableItems</a></div><div class="ttdeci">static DWORD GetSearchTableItems(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SFileFindFile_8cpp_source.html#l00095">SFileFindFile.cpp:95</a></div></div>
<div class="ttc" id="aSFileListFile_8cpp_html_ab699405208db728f480c491831904e36"><div class="ttname"><a href="SFileListFile_8cpp.html#ab699405208db728f480c491831904e36">SFileAddListFile</a></div><div class="ttdeci">DWORD WINAPI SFileAddListFile(HANDLE hMpq, const TCHAR *szListFile)</div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00639">SFileListFile.cpp:639</a></div></div>
<div class="ttc" id="astructTMPQSearch_html_a8e4185e2ee1a45373adca67a87c39bd5"><div class="ttname"><a href="structTMPQSearch.html#a8e4185e2ee1a45373adca67a87c39bd5">TMPQSearch::pSearchTable</a></div><div class="ttdeci">TFileEntry ** pSearchTable</div><div class="ttdef"><b>Definition</b> <a href="SFileFindFile_8cpp_source.html#l00022">SFileFindFile.cpp:22</a></div></div>
<div class="ttc" id="astructTMPQSearch_html_ab29741917b722f60e9bbb9c12b4d3f3c"><div class="ttname"><a href="structTMPQSearch.html#ab29741917b722f60e9bbb9c12b4d3f3c">TMPQSearch::dwSearchTableItems</a></div><div class="ttdeci">DWORD dwSearchTableItems</div><div class="ttdef"><b>Definition</b> <a href="SFileFindFile_8cpp_source.html#l00023">SFileFindFile.cpp:23</a></div></div>
<div class="ttc" id="astructTMPQSearch_html_ab780ac9f795773523f227d9e7209fa2e"><div class="ttname"><a href="structTMPQSearch.html#ab780ac9f795773523f227d9e7209fa2e">TMPQSearch::ha</a></div><div class="ttdeci">TMPQArchive * ha</div><div class="ttdef"><b>Definition</b> <a href="SFileFindFile_8cpp_source.html#l00021">SFileFindFile.cpp:21</a></div></div>
<div class="ttc" id="astructTMPQSearch_html_ab9584a44e0ce7f6bdc530909ed2b8349"><div class="ttname"><a href="structTMPQSearch.html#ab9584a44e0ce7f6bdc530909ed2b8349">TMPQSearch::szSearchMask</a></div><div class="ttdeci">char szSearchMask[1]</div><div class="ttdef"><b>Definition</b> <a href="SFileFindFile_8cpp_source.html#l00026">SFileFindFile.cpp:26</a></div></div>
<div class="ttc" id="astructTMPQSearch_html_ad79b7c9e8e617622f2c3fc8c9f9220f9"><div class="ttname"><a href="structTMPQSearch.html#ad79b7c9e8e617622f2c3fc8c9f9220f9">TMPQSearch::dwFlagMask</a></div><div class="ttdeci">DWORD dwFlagMask</div><div class="ttdef"><b>Definition</b> <a href="SFileFindFile_8cpp_source.html#l00025">SFileFindFile.cpp:25</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a0d4954b949694dc170b05364c2add5cd_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a0d4954b949694dc170b05364c2add5cd_icgraph.svg" width="419" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9a04c684ebc812ab085d9615d1bce183" name="a9a04c684ebc812ab085d9615d1bce183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a04c684ebc812ab085d9615d1bce183">&#9670;&#160;</a></span>SFileFindNextFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileFindNextFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hFind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_8h.html#ac80854a06a92ee69e22c1d2c1fc5b5b9">SFILE_FIND_DATA</a> *&#160;</td>
          <td class="paramname"><em>lpFindFileData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileFindFile_8cpp_source.html#l00449">449</a> of file <a class="el" href="SFileFindFile_8cpp_source.html">SFileFindFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  450</span>{</div>
<div class="line"><span class="lineno">  451</span>    <a class="code hl_struct" href="structTMPQSearch.html">TMPQSearch</a> * hs = <a class="code hl_function" href="SFileFindFile_8cpp.html#ae86cfd67ac2d45b236721b35e2ca1313">IsValidSearchHandle</a>(hFind);</div>
<div class="line"><span class="lineno">  452</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>    <span class="comment">// Check the parameters</span></div>
<div class="line"><span class="lineno">  455</span>    <span class="keywordflow">if</span>(hs == NULL)</div>
<div class="line"><span class="lineno">  456</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno">  457</span>    <span class="keywordflow">if</span>(lpFindFileData == NULL)</div>
<div class="line"><span class="lineno">  458</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  461</span>        dwErrCode = <a class="code hl_function" href="SFileFindFile_8cpp.html#acc4812686674104aa8e2938531cf2111">DoMPQSearch</a>(hs, lpFindFileData);</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  464</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">  465</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno">  466</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a9a04c684ebc812ab085d9615d1bce183_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a9a04c684ebc812ab085d9615d1bce183_icgraph.svg" width="423" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a7829275dccf80bbf47758ebd5515349a" name="a7829275dccf80bbf47758ebd5515349a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7829275dccf80bbf47758ebd5515349a">&#9670;&#160;</a></span>SFileFinishFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileFinishFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAddFile_8cpp_source.html#l00864">864</a> of file <a class="el" href="SFileAddFile_8cpp_source.html">SFileAddFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  865</span>{</div>
<div class="line"><span class="lineno">  866</span>    <a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> * hf = (<a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> *)hFile;</div>
<div class="line"><span class="lineno">  867</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  868</span> </div>
<div class="line"><span class="lineno">  869</span>    <span class="comment">// Check the proper parameters</span></div>
<div class="line"><span class="lineno">  870</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#ab2d3193ce28d1a3b371e0390542d9c23">IsValidFileHandle</a>(hFile))</div>
<div class="line"><span class="lineno">  871</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno">  872</span>    <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#aab3e91574271fd7c8df43361fe74a4be">bIsWriteHandle</a> == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  873</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno">  874</span> </div>
<div class="line"><span class="lineno">  875</span>    <span class="comment">// Finish the file</span></div>
<div class="line"><span class="lineno">  876</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  877</span>        dwErrCode = <a class="code hl_function" href="SFileAddFile_8cpp.html#ad506ad6eb0b4f76671ddc7e4a827daa0">SFileAddFile_Finish</a>(hf);</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>    <span class="comment">// Deal with errors</span></div>
<div class="line"><span class="lineno">  880</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  881</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">  882</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno">  883</span>}</div>
<div class="ttc" id="aSFileAddFile_8cpp_html_ad506ad6eb0b4f76671ddc7e4a827daa0"><div class="ttname"><a href="SFileAddFile_8cpp.html#ad506ad6eb0b4f76671ddc7e4a827daa0">SFileAddFile_Finish</a></div><div class="ttdeci">DWORD SFileAddFile_Finish(TMPQFile *hf)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00711">SFileAddFile.cpp:711</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a7829275dccf80bbf47758ebd5515349a_cgraph.svg" width="100%" height="520"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a7829275dccf80bbf47758ebd5515349a_icgraph.svg" width="454" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a5f3daefb5c0d87a791fcc42ec40714d2" name="a5f3daefb5c0d87a791fcc42ec40714d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f3daefb5c0d87a791fcc42ec40714d2">&#9670;&#160;</a></span>SFileFlushArchive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileFlushArchive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileOpenArchive_8cpp_source.html#l00586">586</a> of file <a class="el" href="SFileOpenArchive_8cpp_source.html">SFileOpenArchive.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  587</span>{</div>
<div class="line"><span class="lineno">  588</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha;</div>
<div class="line"><span class="lineno">  589</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwResultError = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  590</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode;</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>    <span class="comment">// Do nothing if &#39;hMpq&#39; is bad parameter</span></div>
<div class="line"><span class="lineno">  593</span>    <span class="keywordflow">if</span>((ha = <a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq)) == NULL)</div>
<div class="line"><span class="lineno">  594</span>    {</div>
<div class="line"><span class="lineno">  595</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>);</div>
<div class="line"><span class="lineno">  596</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  597</span>    }</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>    <span class="comment">// Only if the MPQ was changed</span></div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a3c8ed28738e3f0f8fb54fbc395704613">MPQ_FLAG_CHANGED</a>)</div>
<div class="line"><span class="lineno">  601</span>    {</div>
<div class="line"><span class="lineno">  602</span>        <span class="comment">// Indicate that we are saving MPQ internal structures</span></div>
<div class="line"><span class="lineno">  603</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> |= <a class="code hl_define" href="StormLib_8h.html#a4acb2f84a836d801e0b5b663f8075d56">MPQ_FLAG_SAVING_TABLES</a>;</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>        <span class="comment">// Defragment the file table. This will allow us to put the internal files to the end</span></div>
<div class="line"><span class="lineno">  606</span>        <a class="code hl_function" href="SBaseFileTable_8cpp.html#a3ebbec03cf0fb03c496a58cb06471cae">DefragmentFileTable</a>(ha);</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno">  609</span>        <span class="comment">// Create each internal file</span></div>
<div class="line"><span class="lineno">  610</span>        <span class="comment">// Note that the (signature) file is usually before (listfile) in the file table</span></div>
<div class="line"><span class="lineno">  611</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>        <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a4d8e3ca4aa697762957721160d94cca8">MPQ_FLAG_SIGNATURE_NEW</a>)</div>
<div class="line"><span class="lineno">  614</span>        {</div>
<div class="line"><span class="lineno">  615</span>            dwErrCode = <a class="code hl_function" href="SFileVerify_8cpp.html#acfd75687fac546d3001892b77d8d18ed">SSignFileCreate</a>(ha);</div>
<div class="line"><span class="lineno">  616</span>            <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  617</span>                dwResultError = dwErrCode;</div>
<div class="line"><span class="lineno">  618</span>        }</div>
<div class="line"><span class="lineno">  619</span> </div>
<div class="line"><span class="lineno">  620</span>        <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; (<a class="code hl_define" href="StormLib_8h.html#af0170e1f41f3b3d32bbcdfd769f874f1">MPQ_FLAG_LISTFILE_NEW</a> | <a class="code hl_define" href="StormLib_8h.html#a0f1a56ed6868a60a65b59708c5b2c7d8">MPQ_FLAG_LISTFILE_FORCE</a>))</div>
<div class="line"><span class="lineno">  621</span>        {</div>
<div class="line"><span class="lineno">  622</span>            dwErrCode = <a class="code hl_function" href="SFileListFile_8cpp.html#ae3a5effd18cd4d2e541c23e87f4c52ea">SListFileSaveToMpq</a>(ha);</div>
<div class="line"><span class="lineno">  623</span>            <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  624</span>                dwResultError = dwErrCode;</div>
<div class="line"><span class="lineno">  625</span>        }</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>        <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a97a8fb3f1968a9ff722f9ab904a3884a">MPQ_FLAG_ATTRIBUTES_NEW</a>)</div>
<div class="line"><span class="lineno">  628</span>        {</div>
<div class="line"><span class="lineno">  629</span>            dwErrCode = <a class="code hl_function" href="SFileAttributes_8cpp.html#a55bbaf42444fe0d992f7c299ac6b23d3">SAttrFileSaveToMpq</a>(ha);</div>
<div class="line"><span class="lineno">  630</span>            <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  631</span>                dwResultError = dwErrCode;</div>
<div class="line"><span class="lineno">  632</span>        }</div>
<div class="line"><span class="lineno">  633</span> </div>
<div class="line"><span class="lineno">  634</span>        <span class="comment">// Save HET table, BET table, hash table, block table, hi-block table</span></div>
<div class="line"><span class="lineno">  635</span>        <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a3c8ed28738e3f0f8fb54fbc395704613">MPQ_FLAG_CHANGED</a>)</div>
<div class="line"><span class="lineno">  636</span>        {</div>
<div class="line"><span class="lineno">  637</span>            <span class="comment">// Rebuild the HET table</span></div>
<div class="line"><span class="lineno">  638</span>            <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a964afcb85acb567a58ef4066b579fd51">pHetTable</a> != NULL)</div>
<div class="line"><span class="lineno">  639</span>                <a class="code hl_function" href="SBaseFileTable_8cpp.html#a8fc021d269a6b0e62af30309c0e041c9">RebuildHetTable</a>(ha);</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>            <span class="comment">// Save all MPQ tables first</span></div>
<div class="line"><span class="lineno">  642</span>            dwErrCode = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a1826714b12b5cc93cc07c29c4aa1eb1c">SaveMPQTables</a>(ha);</div>
<div class="line"><span class="lineno">  643</span>            <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  644</span>                dwResultError = dwErrCode;</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>            <span class="comment">// If the archive has weak signature, we need to finish it</span></div>
<div class="line"><span class="lineno">  647</span>            <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ae523b14433e4a9071469133f67c3ac52">dwFileFlags3</a> != 0)</div>
<div class="line"><span class="lineno">  648</span>            {</div>
<div class="line"><span class="lineno">  649</span>                dwErrCode = <a class="code hl_function" href="SFileVerify_8cpp.html#ae9160e7f8935a9ce3dd140b97b4da2d3">SSignFileFinish</a>(ha);</div>
<div class="line"><span class="lineno">  650</span>                <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  651</span>                    dwResultError = dwErrCode;</div>
<div class="line"><span class="lineno">  652</span>            }</div>
<div class="line"><span class="lineno">  653</span>        }</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>        <span class="comment">// We are no longer saving internal MPQ structures</span></div>
<div class="line"><span class="lineno">  656</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp;= ~MPQ_FLAG_SAVING_TABLES;</div>
<div class="line"><span class="lineno">  657</span>    }</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>    <span class="comment">// Return the error</span></div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">if</span>(dwResultError != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  661</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwResultError);</div>
<div class="line"><span class="lineno">  662</span>    <span class="keywordflow">return</span> (dwResultError == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno">  663</span>}</div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a1826714b12b5cc93cc07c29c4aa1eb1c"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a1826714b12b5cc93cc07c29c4aa1eb1c">SaveMPQTables</a></div><div class="ttdeci">DWORD SaveMPQTables(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02954">SBaseFileTable.cpp:2954</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a3ebbec03cf0fb03c496a58cb06471cae"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a3ebbec03cf0fb03c496a58cb06471cae">DefragmentFileTable</a></div><div class="ttdeci">DWORD DefragmentFileTable(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02763">SBaseFileTable.cpp:2763</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a8fc021d269a6b0e62af30309c0e041c9"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a8fc021d269a6b0e62af30309c0e041c9">RebuildHetTable</a></div><div class="ttdeci">DWORD RebuildHetTable(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02846">SBaseFileTable.cpp:2846</a></div></div>
<div class="ttc" id="aSFileAttributes_8cpp_html_a55bbaf42444fe0d992f7c299ac6b23d3"><div class="ttname"><a href="SFileAttributes_8cpp.html#a55bbaf42444fe0d992f7c299ac6b23d3">SAttrFileSaveToMpq</a></div><div class="ttdeci">DWORD SAttrFileSaveToMpq(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SFileAttributes_8cpp_source.html#l00411">SFileAttributes.cpp:411</a></div></div>
<div class="ttc" id="aSFileListFile_8cpp_html_ae3a5effd18cd4d2e541c23e87f4c52ea"><div class="ttname"><a href="SFileListFile_8cpp.html#ae3a5effd18cd4d2e541c23e87f4c52ea">SListFileSaveToMpq</a></div><div class="ttdeci">DWORD SListFileSaveToMpq(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00473">SFileListFile.cpp:473</a></div></div>
<div class="ttc" id="aSFileVerify_8cpp_html_acfd75687fac546d3001892b77d8d18ed"><div class="ttname"><a href="SFileVerify_8cpp.html#acfd75687fac546d3001892b77d8d18ed">SSignFileCreate</a></div><div class="ttdeci">DWORD SSignFileCreate(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SFileVerify_8cpp_source.html#l00783">SFileVerify.cpp:783</a></div></div>
<div class="ttc" id="aSFileVerify_8cpp_html_ae9160e7f8935a9ce3dd140b97b4da2d3"><div class="ttname"><a href="SFileVerify_8cpp.html#ae9160e7f8935a9ce3dd140b97b4da2d3">SSignFileFinish</a></div><div class="ttdeci">DWORD SSignFileFinish(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SFileVerify_8cpp_source.html#l00823">SFileVerify.cpp:823</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a0f1a56ed6868a60a65b59708c5b2c7d8"><div class="ttname"><a href="StormLib_8h.html#a0f1a56ed6868a60a65b59708c5b2c7d8">MPQ_FLAG_LISTFILE_FORCE</a></div><div class="ttdeci">#define MPQ_FLAG_LISTFILE_FORCE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00199">StormLib.h:199</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a4acb2f84a836d801e0b5b663f8075d56"><div class="ttname"><a href="StormLib_8h.html#a4acb2f84a836d801e0b5b663f8075d56">MPQ_FLAG_SAVING_TABLES</a></div><div class="ttdeci">#define MPQ_FLAG_SAVING_TABLES</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00193">StormLib.h:193</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a5f3daefb5c0d87a791fcc42ec40714d2_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a5f3daefb5c0d87a791fcc42ec40714d2_icgraph.svg" width="100%" height="477"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae8ebf606a756cf0bbd7c3670ac7d0b7f" name="ae8ebf606a756cf0bbd7c3670ac7d0b7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8ebf606a756cf0bbd7c3670ac7d0b7f">&#9670;&#160;</a></span>SFileFreeFileInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileFreeFileInfo </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvFileInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_8h.html#a67d641b05043414b7c8efe066af79bf3">SFileInfoClass</a>&#160;</td>
          <td class="paramname"><em>InfoClass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileGetFileInfo_8cpp_source.html#l00452">452</a> of file <a class="el" href="SFileGetFileInfo_8cpp_source.html">SFileGetFileInfo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  453</span>{</div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">switch</span>(InfoClass)</div>
<div class="line"><span class="lineno">  455</span>    {</div>
<div class="line"><span class="lineno">  456</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a97a82d443138c8cc728c481e10432325">SFileMpqHetTable</a>:</div>
<div class="line"><span class="lineno">  457</span>            <a class="code hl_function" href="SBaseFileTable_8cpp.html#a01959b3dc86a80003a50a1483937ce7d">FreeHetTable</a>((<a class="code hl_struct" href="struct__TMPQHetTable.html">TMPQHetTable</a> *)pvFileInfo);</div>
<div class="line"><span class="lineno">  458</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ab0cb978f8746ea272bbe0ac9878b43a0">SFileMpqBetTable</a>:</div>
<div class="line"><span class="lineno">  461</span>            <a class="code hl_function" href="SBaseFileTable_8cpp.html#a658272ad1160a2562532baec37512bb9">FreeBetTable</a>((<a class="code hl_struct" href="struct__TMPQBetTable.html">TMPQBetTable</a> *)pvFileInfo);</div>
<div class="line"><span class="lineno">  462</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  465</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  466</span>    }</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>    <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  469</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  470</span>}</div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a01959b3dc86a80003a50a1483937ce7d"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a01959b3dc86a80003a50a1483937ce7d">FreeHetTable</a></div><div class="ttdeci">void FreeHetTable(TMPQHetTable *pHetTable)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l01619">SBaseFileTable.cpp:1619</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a658272ad1160a2562532baec37512bb9"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a658272ad1160a2562532baec37512bb9">FreeBetTable</a></div><div class="ttdeci">void FreeBetTable(TMPQBetTable *pBetTable)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l01958">SBaseFileTable.cpp:1958</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ae8ebf606a756cf0bbd7c3670ac7d0b7f_cgraph.svg" width="295" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ae8ebf606a756cf0bbd7c3670ac7d0b7f_icgraph.svg" width="100%" height="364"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae189da614befca23b053c36b9f93f460" name="ae189da614befca23b053c36b9f93f460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae189da614befca23b053c36b9f93f460">&#9670;&#160;</a></span>SFileGetAttributes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileGetAttributes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAttributes_8cpp_source.html#l00471">471</a> of file <a class="el" href="SFileAttributes_8cpp_source.html">SFileAttributes.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  472</span>{</div>
<div class="line"><span class="lineno">  473</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>    <span class="comment">// Verify the parameters</span></div>
<div class="line"><span class="lineno">  476</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno">  477</span>    {</div>
<div class="line"><span class="lineno">  478</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  479</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_8h.html#aa4e1878a70e0134ae5b02fcd4b31d317">SFILE_INVALID_ATTRIBUTES</a>;</div>
<div class="line"><span class="lineno">  480</span>    }</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordflow">return</span> ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ad2519a9b6b0657a19176bbe5d2e5651e">dwAttrFlags</a>;</div>
<div class="line"><span class="lineno">  483</span>}</div>
<div class="ttc" id="aStormLib_8h_html_aa4e1878a70e0134ae5b02fcd4b31d317"><div class="ttname"><a href="StormLib_8h.html#aa4e1878a70e0134ae5b02fcd4b31d317">SFILE_INVALID_ATTRIBUTES</a></div><div class="ttdeci">#define SFILE_INVALID_ATTRIBUTES</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00213">StormLib.h:213</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ae189da614befca23b053c36b9f93f460_cgraph.svg" width="338" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2dd23cd4dc08bc726ec9d4a41152b6ec" name="a2dd23cd4dc08bc726ec9d4a41152b6ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dd23cd4dc08bc726ec9d4a41152b6ec">&#9670;&#160;</a></span>SFileGetFileChecksums()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileGetFileChecksums </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>&#160;</td>
          <td class="paramname"><em>pdwCrc32</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pMD5</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileVerify_8cpp_source.html#l00869">869</a> of file <a class="el" href="SFileVerify_8cpp_source.html">SFileVerify.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  870</span>{</div>
<div class="line"><span class="lineno">  871</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwVerifyResult;</div>
<div class="line"><span class="lineno">  872</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwVerifyFlags = 0;</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>    <span class="keywordflow">if</span>(pdwCrc32 != NULL)</div>
<div class="line"><span class="lineno">  875</span>        dwVerifyFlags |= <a class="code hl_define" href="StormLib_8h.html#aecbacf5da4f209745e3e4a29b6acbcb1">SFILE_VERIFY_FILE_CRC</a>;</div>
<div class="line"><span class="lineno">  876</span>    <span class="keywordflow">if</span>(pMD5 != NULL)</div>
<div class="line"><span class="lineno">  877</span>        dwVerifyFlags |= <a class="code hl_define" href="StormLib_8h.html#a3aad6c57f5c8791e70fd964a4856308d">SFILE_VERIFY_FILE_MD5</a>;</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>    dwVerifyResult = <a class="code hl_function" href="SFileVerify_8cpp.html#ac3dfd7d63601309154f3a1b7757796c7">VerifyFile</a>(hMpq,</div>
<div class="line"><span class="lineno">  880</span>                                szFileName,</div>
<div class="line"><span class="lineno">  881</span>                                pdwCrc32,</div>
<div class="line"><span class="lineno">  882</span>                                pMD5,</div>
<div class="line"><span class="lineno">  883</span>                                dwVerifyFlags);</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>    <span class="comment">// If verification failed, return zero</span></div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordflow">if</span>(dwVerifyResult &amp; <a class="code hl_define" href="StormLib_8h.html#a8206034be7a98f99549fab9ce2e2aef8">VERIFY_FILE_ERROR_MASK</a>)</div>
<div class="line"><span class="lineno">  887</span>    {</div>
<div class="line"><span class="lineno">  888</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a16efe2101191997f3ac8f2e7bb7894b8">ERROR_FILE_CORRUPT</a>);</div>
<div class="line"><span class="lineno">  889</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  890</span>    }</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  893</span>}</div>
<div class="ttc" id="aSFileVerify_8cpp_html_ac3dfd7d63601309154f3a1b7757796c7"><div class="ttname"><a href="SFileVerify_8cpp.html#ac3dfd7d63601309154f3a1b7757796c7">VerifyFile</a></div><div class="ttdeci">static DWORD VerifyFile(HANDLE hMpq, const char *szFileName, LPDWORD pdwCrc32, char *pMD5, DWORD dwFlags)</div><div class="ttdef"><b>Definition</b> <a href="SFileVerify_8cpp_source.html#l00554">SFileVerify.cpp:554</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a3aad6c57f5c8791e70fd964a4856308d"><div class="ttname"><a href="StormLib_8h.html#a3aad6c57f5c8791e70fd964a4856308d">SFILE_VERIFY_FILE_MD5</a></div><div class="ttdeci">#define SFILE_VERIFY_FILE_MD5</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00353">StormLib.h:353</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a8206034be7a98f99549fab9ce2e2aef8"><div class="ttname"><a href="StormLib_8h.html#a8206034be7a98f99549fab9ce2e2aef8">VERIFY_FILE_ERROR_MASK</a></div><div class="ttdeci">#define VERIFY_FILE_ERROR_MASK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00368">StormLib.h:368</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aecbacf5da4f209745e3e4a29b6acbcb1"><div class="ttname"><a href="StormLib_8h.html#aecbacf5da4f209745e3e4a29b6acbcb1">SFILE_VERIFY_FILE_CRC</a></div><div class="ttdeci">#define SFILE_VERIFY_FILE_CRC</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00352">StormLib.h:352</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a2dd23cd4dc08bc726ec9d4a41152b6ec_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a65c5c13489a621c481282da76b101e16" name="a65c5c13489a621c481282da76b101e16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65c5c13489a621c481282da76b101e16">&#9670;&#160;</a></span>SFileGetFileInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileGetFileInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpqOrFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_8h.html#a67d641b05043414b7c8efe066af79bf3">SFileInfoClass</a>&#160;</td>
          <td class="paramname"><em>InfoClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvFileInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>cbFileInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>&#160;</td>
          <td class="paramname"><em>pcbLengthNeeded</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileGetFileInfo_8cpp_source.html#l00189">189</a> of file <a class="el" href="SFileGetFileInfo_8cpp_source.html">SFileGetFileInfo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  195</span>{</div>
<div class="line"><span class="lineno">  196</span>    <a class="code hl_struct" href="struct__MPQ__SIGNATURE__INFO.html">MPQ_SIGNATURE_INFO</a> SignatureInfo;</div>
<div class="line"><span class="lineno">  197</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szSrcFileInfo;</div>
<div class="line"><span class="lineno">  198</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = NULL;</div>
<div class="line"><span class="lineno">  199</span>    <a class="code hl_struct" href="struct__TFileEntry.html">TFileEntry</a> * pFileEntry = NULL;</div>
<div class="line"><span class="lineno">  200</span>    <a class="code hl_struct" href="struct__TMPQHeader.html">TMPQHeader</a> * pHeader = NULL;</div>
<div class="line"><span class="lineno">  201</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> Int64Value = 0;</div>
<div class="line"><span class="lineno">  202</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> ByteOffset;</div>
<div class="line"><span class="lineno">  203</span>    <a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> * hf = NULL;</div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordtype">void</span> * pvSrcFileInfo = NULL;</div>
<div class="line"><span class="lineno">  205</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> cbSrcFileInfo = 0;</div>
<div class="line"><span class="lineno">  206</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwInt32Value = 0;</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    <span class="comment">// Validate archive/file handle</span></div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">if</span>((<span class="keywordtype">int</span>)InfoClass &lt;= (<span class="keywordtype">int</span>)<a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8f7439fddc4f1798c92b1fa35d25074c">SFileMpqFlags</a>)</div>
<div class="line"><span class="lineno">  210</span>    {</div>
<div class="line"><span class="lineno">  211</span>        <span class="keywordflow">if</span>((ha = <a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpqOrFile)) == NULL)</div>
<div class="line"><span class="lineno">  212</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>);</div>
<div class="line"><span class="lineno">  213</span>        pHeader = ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>;</div>
<div class="line"><span class="lineno">  214</span>    }</div>
<div class="line"><span class="lineno">  215</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  216</span>    {</div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">if</span>((hf = <a class="code hl_function" href="SBaseCommon_8cpp.html#ab2d3193ce28d1a3b371e0390542d9c23">IsValidFileHandle</a>(hMpqOrFile)) == NULL)</div>
<div class="line"><span class="lineno">  218</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>);</div>
<div class="line"><span class="lineno">  219</span>        pFileEntry = hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>;</div>
<div class="line"><span class="lineno">  220</span>    }</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>    <span class="comment">// Return info-class-specific data</span></div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">switch</span>(InfoClass)</div>
<div class="line"><span class="lineno">  224</span>    {</div>
<div class="line"><span class="lineno">  225</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a6f586faa00c75a8cdad953e5efde6286">SFileMpqFileName</a>:</div>
<div class="line"><span class="lineno">  226</span>            szSrcFileInfo = <a class="code hl_function" href="FileStream_8cpp.html#aac8a29e50fd6c047ee9288073b54804e">FileStream_GetFileName</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>);</div>
<div class="line"><span class="lineno">  227</span>            cbSrcFileInfo = (<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)((<a class="code hl_define" href="StormPort_8h.html#ad253c68ce58b12b277fedc2d785d7977">_tcslen</a>(szSrcFileInfo) + 1) * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a>));</div>
<div class="line"><span class="lineno">  228</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, szSrcFileInfo, cbSrcFileInfo, pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a16b9fe55c427a5197e7a74440c639f6d">SFileMpqStreamBitmap</a>:</div>
<div class="line"><span class="lineno">  231</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="FileStream_8cpp.html#a079730e5345bc1141a1057d4e13e95ac">FileStream_GetBitmap</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>, pvFileInfo, cbFileInfo, pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ab6ac50d041070ae4b65f53681f0854e9">SFileMpqUserDataOffset</a>:</div>
<div class="line"><span class="lineno">  234</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a43334c6a178fc02023a7412d9319136c">UserDataPos</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a13361d2361f48e8b52f78f132027f4ae">SFileMpqUserDataHeader</a>:</div>
<div class="line"><span class="lineno">  237</span>            <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a7583a5113bdd4a857a71bbd92c86eb6e">pUserData</a> == NULL)</div>
<div class="line"><span class="lineno">  238</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  239</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a919dc8768b71d7d1a1d5906128e09300">GetInfo_ReadFromFile</a>(pvFileInfo, cbFileInfo, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a43334c6a178fc02023a7412d9319136c">UserDataPos</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__TMPQUserData.html">TMPQUserData</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3adc9d2e7fb46b5897767196d43b4e383f">SFileMpqUserData</a>:</div>
<div class="line"><span class="lineno">  242</span>            <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a7583a5113bdd4a857a71bbd92c86eb6e">pUserData</a> == NULL)</div>
<div class="line"><span class="lineno">  243</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  244</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a919dc8768b71d7d1a1d5906128e09300">GetInfo_ReadFromFile</a>(pvFileInfo, cbFileInfo, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a43334c6a178fc02023a7412d9319136c">UserDataPos</a> + <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__TMPQUserData.html">TMPQUserData</a>), ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a7583a5113bdd4a857a71bbd92c86eb6e">pUserData</a>-&gt;<a class="code hl_variable" href="struct__TMPQUserData.html#a120d3541bbc5279d8121bcb958ffac43">dwHeaderOffs</a> - <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__TMPQUserData.html">TMPQUserData</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae9b6712848b58355a408f3daab83f96e">SFileMpqHeaderOffset</a>:</div>
<div class="line"><span class="lineno">  247</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a146dee965bc1cb34e569e3637b6e5c82">MpqPos</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a2c89240e1cb6ab15bd904d349454aa28">SFileMpqHeaderSize</a>:</div>
<div class="line"><span class="lineno">  250</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2243a0f4cd3bfcf873062421b063781a">dwHeaderSize</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3abf8849fd539c2b9ef471ed7dc7fd2db1">SFileMpqHeader</a>:</div>
<div class="line"><span class="lineno">  253</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a919dc8768b71d7d1a1d5906128e09300">GetInfo_ReadFromFile</a>(pvFileInfo, cbFileInfo, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a146dee965bc1cb34e569e3637b6e5c82">MpqPos</a>, pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2243a0f4cd3bfcf873062421b063781a">dwHeaderSize</a>, pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a476e6fcb3d5f43970f887ac598556585">SFileMpqHetTableOffset</a>:</div>
<div class="line"><span class="lineno">  256</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2bde025233503af80b7adb206a2c7c5f">HetTablePos64</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a55c455cf9a5ed02df0394977077a9f49">SFileMpqHetTableSize</a>:</div>
<div class="line"><span class="lineno">  259</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a55ca5cca128bc0f3a19963f584ee21ea">HetTableSize64</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3fd7de9c4ab74548e75dee295e81fd52">SFileMpqHetHeader</a>:</div>
<div class="line"><span class="lineno">  262</span>            pvSrcFileInfo = <a class="code hl_function" href="SBaseFileTable_8cpp.html#ad736db7551d7cbb4ad5e4e19495bf199">LoadExtTable</a>(ha, pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2bde025233503af80b7adb206a2c7c5f">HetTablePos64</a>, (<span class="keywordtype">size_t</span>)pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a55ca5cca128bc0f3a19963f584ee21ea">HetTableSize64</a>, <a class="code hl_define" href="StormLib_8h.html#a2ca11d3a6a1b2a0c7e18961e6881af5a">HET_TABLE_SIGNATURE</a>, <a class="code hl_define" href="StormLib_8h.html#a1a49495e73433f2ed5692e36d5231337">MPQ_KEY_HASH_TABLE</a>);</div>
<div class="line"><span class="lineno">  263</span>            <span class="keywordflow">if</span>(pvSrcFileInfo == NULL)</div>
<div class="line"><span class="lineno">  264</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#aecc8b368d5ba0386b219fdd6a916b0b2">ERROR_FILE_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  265</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a6b98c819ee9c1ebe8f72830d8dc51440">GetInfo_Allocated</a>(pvFileInfo, cbFileInfo, pvSrcFileInfo, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__TMPQHetHeader.html">TMPQHetHeader</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a97a82d443138c8cc728c481e10432325">SFileMpqHetTable</a>:</div>
<div class="line"><span class="lineno">  268</span>            <span class="keywordflow">if</span>((pvSrcFileInfo = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a468b8e702bb7a303bcc49b8c2a3b2bb7">LoadHetTable</a>(ha)) == NULL)</div>
<div class="line"><span class="lineno">  269</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a>);</div>
<div class="line"><span class="lineno">  270</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a002f1907190ea466822014066e158d36">GetInfo_TablePointer</a>(pvFileInfo, cbFileInfo, pvSrcFileInfo, InfoClass, pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aa4f4b7d0ffa6370a0422aa549f5e3bac">SFileMpqBetTableOffset</a>:</div>
<div class="line"><span class="lineno">  273</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a6b14b9ec494cc3ecff09bfec81a41bca">BetTablePos64</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af4b818adfb2d7cfa16ff245a18338eb5">SFileMpqBetTableSize</a>:</div>
<div class="line"><span class="lineno">  276</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a3e0f089c07641c31742d8003a018e4d9">BetTableSize64</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a105f024e278c43445c1c5ff1f8ea1f1b">SFileMpqBetHeader</a>:</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>            <span class="comment">// Retrieve the table and its size</span></div>
<div class="line"><span class="lineno">  281</span>            pvSrcFileInfo = <a class="code hl_function" href="SBaseFileTable_8cpp.html#ad736db7551d7cbb4ad5e4e19495bf199">LoadExtTable</a>(ha, pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a6b14b9ec494cc3ecff09bfec81a41bca">BetTablePos64</a>, (<span class="keywordtype">size_t</span>)pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a3e0f089c07641c31742d8003a018e4d9">BetTableSize64</a>, <a class="code hl_define" href="StormLib_8h.html#aed26bd0c6cd280f2dffb483779b448f3">BET_TABLE_SIGNATURE</a>, <a class="code hl_define" href="StormLib_8h.html#a2ba8acbca4e801d8cd224cac146d1a78">MPQ_KEY_BLOCK_TABLE</a>);</div>
<div class="line"><span class="lineno">  282</span>            <span class="keywordflow">if</span>(pvSrcFileInfo == NULL)</div>
<div class="line"><span class="lineno">  283</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#aecc8b368d5ba0386b219fdd6a916b0b2">ERROR_FILE_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  284</span>            cbSrcFileInfo = <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormLib_8h.html#a44e520bfaca46f55ce915af6df9dd265">TMPQBetHeader</a>) + ((<a class="code hl_struct" href="struct__TMPQBetHeader.html">TMPQBetHeader</a> *)pvSrcFileInfo)-&gt;dwFlagCount * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>);</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>            <span class="comment">// It is allowed for the caller to only require BET header</span></div>
<div class="line"><span class="lineno">  287</span>            <span class="keywordflow">if</span>(cbFileInfo == <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__TMPQBetHeader.html">TMPQBetHeader</a>))</div>
<div class="line"><span class="lineno">  288</span>                cbSrcFileInfo = <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__TMPQBetHeader.html">TMPQBetHeader</a>);</div>
<div class="line"><span class="lineno">  289</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a6b98c819ee9c1ebe8f72830d8dc51440">GetInfo_Allocated</a>(pvFileInfo, cbFileInfo, pvSrcFileInfo, cbSrcFileInfo, pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ab0cb978f8746ea272bbe0ac9878b43a0">SFileMpqBetTable</a>:</div>
<div class="line"><span class="lineno">  292</span>            <span class="keywordflow">if</span>((pvSrcFileInfo = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a952a75799b89913bc06f52c236206f5e">LoadBetTable</a>(ha)) == NULL)</div>
<div class="line"><span class="lineno">  293</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a>);</div>
<div class="line"><span class="lineno">  294</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a002f1907190ea466822014066e158d36">GetInfo_TablePointer</a>(pvFileInfo, cbFileInfo, pvSrcFileInfo, InfoClass, pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a6315b32e12c8d68c3e7e0e6be68cd3db">SFileMpqHashTableOffset</a>:</div>
<div class="line"><span class="lineno">  297</span>            Int64Value = <a class="code hl_define" href="StormCommon_8h.html#ac67482b4d06c66c34ad0dc9686c12fd4">MAKE_OFFSET64</a>(pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#aa11ca5528aff4f3901967ea28919d3ee">wHashTablePosHi</a>, pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#acc150d84abed1f5c39b08e518fa9d7e7">dwHashTablePos</a>);</div>
<div class="line"><span class="lineno">  298</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;Int64Value, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ad90a58ed8a272c3f31ddd666113e3b1b">SFileMpqHashTableSize64</a>:</div>
<div class="line"><span class="lineno">  301</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#aacaa38b5b060df20bd8185fbbcbb2c05">HashTableSize64</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a1d751d6d4f05c1b5f8b5c4767948aa06">SFileMpqHashTableSize</a>:</div>
<div class="line"><span class="lineno">  304</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a67f1869dadee712c8210f77ce69cbfa9">dwHashTableSize</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3ff802559cd74fa3f55ef039630f4d88">SFileMpqHashTable</a>:</div>
<div class="line"><span class="lineno">  307</span>            cbSrcFileInfo = pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a67f1869dadee712c8210f77ce69cbfa9">dwHashTableSize</a> * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormLib_8h.html#a3931032d33f7a8276dd15d842b04ce0c">TMPQHash</a>);</div>
<div class="line"><span class="lineno">  308</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ad3ec9127fcae2cd440073adbc3f21fba">pHashTable</a>, cbSrcFileInfo, pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a167d10513bfa74b57afd388de41c7fd4">SFileMpqBlockTableOffset</a>:</div>
<div class="line"><span class="lineno">  311</span>            Int64Value = <a class="code hl_define" href="StormCommon_8h.html#ac67482b4d06c66c34ad0dc9686c12fd4">MAKE_OFFSET64</a>(pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a5b94172d822a2348f6952a900c9a67b6">wBlockTablePosHi</a>, pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#ac0cd7ad2175e7713f1ab6e652c305f9d">dwBlockTablePos</a>);</div>
<div class="line"><span class="lineno">  312</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;Int64Value, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af39f8a570fbe2e3b3adb8ed81711680f">SFileMpqBlockTableSize64</a>:</div>
<div class="line"><span class="lineno">  315</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a49a8c685ecb568b7cc34a7d869d9eb36">BlockTableSize64</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aaa004bf74465d3053cf255a8ce621a43">SFileMpqBlockTableSize</a>:</div>
<div class="line"><span class="lineno">  318</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#ad63fd2d3c6c0d1e67d4023c92b130b3b">dwBlockTableSize</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae59d94899507065297ca567a4c2d0655">SFileMpqBlockTable</a>:</div>
<div class="line"><span class="lineno">  321</span>            ByteOffset = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a72966ee0745131c3b844e376106653d7">FileOffsetFromMpqOffset</a>(ha, <a class="code hl_define" href="StormCommon_8h.html#ac67482b4d06c66c34ad0dc9686c12fd4">MAKE_OFFSET64</a>(pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a5b94172d822a2348f6952a900c9a67b6">wBlockTablePosHi</a>, pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#ac0cd7ad2175e7713f1ab6e652c305f9d">dwBlockTablePos</a>));</div>
<div class="line"><span class="lineno">  322</span>            <span class="keywordflow">if</span>(ByteOffset &gt;= ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a98a7c7bef18769c1ff4a9ea917a4e4a4">FileSize</a>)</div>
<div class="line"><span class="lineno">  323</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#aecc8b368d5ba0386b219fdd6a916b0b2">ERROR_FILE_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  324</span>            cbSrcFileInfo = pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#ad63fd2d3c6c0d1e67d4023c92b130b3b">dwBlockTableSize</a> * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormLib_8h.html#ac024b00ba02354b5d3d5d0c594359207">TMPQBlock</a>);</div>
<div class="line"><span class="lineno">  325</span>            pvSrcFileInfo = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a4019d3f2ebfc2b37e5fe6b0dafb859fd">LoadBlockTable</a>(ha, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  326</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a6b98c819ee9c1ebe8f72830d8dc51440">GetInfo_Allocated</a>(pvFileInfo, cbFileInfo, pvSrcFileInfo, cbSrcFileInfo, pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5b738a9c20b08546c02eed33084401c8">SFileMpqHiBlockTableOffset</a>:</div>
<div class="line"><span class="lineno">  329</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#ac22724a3b16bc3352a0dff72495d39a6">HiBlockTablePos64</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  330</span> </div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5e7fe06d85cb8e4bab77e9cc35e8d354">SFileMpqHiBlockTableSize64</a>:</div>
<div class="line"><span class="lineno">  332</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#ab94daea97aa276ddda65853f8713b281">HiBlockTableSize64</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a65ed9eb773b2039af8bf641c88c527c0">SFileMpqHiBlockTable</a>:</div>
<div class="line"><span class="lineno">  335</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#aecc8b368d5ba0386b219fdd6a916b0b2">ERROR_FILE_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a2f12ee38d1f1fe0cf8adc58f36cabacd">SFileMpqSignatures</a>:</div>
<div class="line"><span class="lineno">  338</span>            <span class="keywordflow">if</span>(!<a class="code hl_function" href="SFileVerify_8cpp.html#ad1d1397c13ad8207112ea6bbd6218ea9">QueryMpqSignatureInfo</a>(ha, &amp;SignatureInfo))</div>
<div class="line"><span class="lineno">  339</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#aecc8b368d5ba0386b219fdd6a916b0b2">ERROR_FILE_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  340</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;SignatureInfo.<a class="code hl_variable" href="struct__MPQ__SIGNATURE__INFO.html#a3094e3a410ac87a505e1282b1bf65c07">SignatureTypes</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a23f3df00ce3c24ce8803771624604c00">SFileMpqStrongSignatureOffset</a>:</div>
<div class="line"><span class="lineno">  343</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="SFileVerify_8cpp.html#ad1d1397c13ad8207112ea6bbd6218ea9">QueryMpqSignatureInfo</a>(ha, &amp;SignatureInfo) == <span class="keyword">false</span> || (SignatureInfo.<a class="code hl_variable" href="struct__MPQ__SIGNATURE__INFO.html#a3094e3a410ac87a505e1282b1bf65c07">SignatureTypes</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ab77da79e415e52afa44cb2a346bc55c7">SIGNATURE_TYPE_STRONG</a>) == 0)</div>
<div class="line"><span class="lineno">  344</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#aecc8b368d5ba0386b219fdd6a916b0b2">ERROR_FILE_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  345</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;SignatureInfo.<a class="code hl_variable" href="struct__MPQ__SIGNATURE__INFO.html#a1e737f764e9830338f5c6f7a9ef078e5">EndMpqData</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3af011be22f9762d226813819a20241305">SFileMpqStrongSignatureSize</a>:</div>
<div class="line"><span class="lineno">  348</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="SFileVerify_8cpp.html#ad1d1397c13ad8207112ea6bbd6218ea9">QueryMpqSignatureInfo</a>(ha, &amp;SignatureInfo) == <span class="keyword">false</span> || (SignatureInfo.<a class="code hl_variable" href="struct__MPQ__SIGNATURE__INFO.html#a3094e3a410ac87a505e1282b1bf65c07">SignatureTypes</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ab77da79e415e52afa44cb2a346bc55c7">SIGNATURE_TYPE_STRONG</a>) == 0)</div>
<div class="line"><span class="lineno">  349</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#aecc8b368d5ba0386b219fdd6a916b0b2">ERROR_FILE_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  350</span>            dwInt32Value = <a class="code hl_define" href="StormCommon_8h.html#aa2556e4b9e179aa51654ece65c87fa13">MPQ_STRONG_SIGNATURE_SIZE</a> + 4;</div>
<div class="line"><span class="lineno">  351</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;dwInt32Value, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3aedae906162459673c4cbeebd17bad09b">SFileMpqStrongSignature</a>:</div>
<div class="line"><span class="lineno">  354</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="SFileVerify_8cpp.html#ad1d1397c13ad8207112ea6bbd6218ea9">QueryMpqSignatureInfo</a>(ha, &amp;SignatureInfo) == <span class="keyword">false</span> || (SignatureInfo.<a class="code hl_variable" href="struct__MPQ__SIGNATURE__INFO.html#a3094e3a410ac87a505e1282b1bf65c07">SignatureTypes</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ab77da79e415e52afa44cb2a346bc55c7">SIGNATURE_TYPE_STRONG</a>) == 0)</div>
<div class="line"><span class="lineno">  355</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#aecc8b368d5ba0386b219fdd6a916b0b2">ERROR_FILE_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  356</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, SignatureInfo.<a class="code hl_variable" href="struct__MPQ__SIGNATURE__INFO.html#a9336bfe0493f5c6a49a69abbbcaf8cfd">Signature</a>, <a class="code hl_define" href="StormCommon_8h.html#aa2556e4b9e179aa51654ece65c87fa13">MPQ_STRONG_SIGNATURE_SIZE</a> + 4, pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a4d0e602be713ff6a1d1d8e348360f42d">SFileMpqArchiveSize64</a>:</div>
<div class="line"><span class="lineno">  359</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a41fd63853e752056e6928d90e76e2299">ArchiveSize64</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a9a16252d9bbd2c2e670ea78d6a054491">SFileMpqArchiveSize</a>:</div>
<div class="line"><span class="lineno">  362</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a4557744f91726c1d4f7f8a3db05ee3e0">dwArchiveSize</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a4ef6ceed6897535cbce154d7d5edc1b3">SFileMpqMaxFileCount</a>:</div>
<div class="line"><span class="lineno">  365</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aefc10ddd33bc3158c683cba1eab71c38">dwMaxFileCount</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a274c6fef3d8e74a8f82ac86bc9fb2924">SFileMpqFileTableSize</a>:</div>
<div class="line"><span class="lineno">  368</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aae2b6f26cfc5d09d2fc734947c82aabe">dwFileTableSize</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5a11b123a8517ce48f7afa1a393b8e19">SFileMpqSectorSize</a>:</div>
<div class="line"><span class="lineno">  371</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3f3661fec3d00a1e93ba3c2212a2e703">dwSectorSize</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a53b7024d554b409bd22e0ad589964cf4">SFileMpqNumberOfFiles</a>:</div>
<div class="line"><span class="lineno">  374</span>            dwInt32Value = <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#af6d1aad5e21d0b351094da8eb08f0ed4">GetMpqFileCount</a>(ha);</div>
<div class="line"><span class="lineno">  375</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;dwInt32Value, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae4553d5ac5e1229fc6ef79e5e87041fe">SFileMpqRawChunkSize</a>:</div>
<div class="line"><span class="lineno">  378</span>            <span class="keywordflow">if</span>(pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a0885c9723a608bc143ebe2f4bbac15de">dwRawChunkSize</a> == 0)</div>
<div class="line"><span class="lineno">  379</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#aecc8b368d5ba0386b219fdd6a916b0b2">ERROR_FILE_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  380</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a0885c9723a608bc143ebe2f4bbac15de">dwRawChunkSize</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a61467b9f7e76bde17f3f83f4fbd6b73e">SFileMpqStreamFlags</a>:</div>
<div class="line"><span class="lineno">  383</span>            <a class="code hl_function" href="FileStream_8cpp.html#a3b0eb2320c6401f6f1b5a92e53bc57dd">FileStream_GetFlags</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>, &amp;dwInt32Value);</div>
<div class="line"><span class="lineno">  384</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;dwInt32Value, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8f7439fddc4f1798c92b1fa35d25074c">SFileMpqFlags</a>:</div>
<div class="line"><span class="lineno">  387</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3abd4bc7d7c777f43efb5f22680b6f852d">SFileInfoPatchChain</a>:</div>
<div class="line"><span class="lineno">  390</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a9fa6d6f800224e4ed3733c21042891e2">GetInfo_PatchChain</a>(hf, pvFileInfo, cbFileInfo, pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a142ae8882ece33970ef1b984fc4e3cbf">SFileInfoFileEntry</a>:</div>
<div class="line"><span class="lineno">  393</span>            <span class="keywordflow">if</span>(pFileEntry == NULL)</div>
<div class="line"><span class="lineno">  394</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#aecc8b368d5ba0386b219fdd6a916b0b2">ERROR_FILE_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  395</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a219e9d707f61f3a8abb9bbd2f85a12a5">GetInfo_FileEntry</a>(pvFileInfo, cbFileInfo, pFileEntry, pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a820fd5371b151b244ffd08393f8877e9">SFileInfoHashEntry</a>:</div>
<div class="line"><span class="lineno">  398</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#ac47b0ac68412a48e7f22fcb0257ba3b9">pHashEntry</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__TMPQHash.html">TMPQHash</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3acc9cd4f89a71bf69a6a70fe45b9a9ecf">SFileInfoHashIndex</a>:</div>
<div class="line"><span class="lineno">  401</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#adaf88b7bacc3eb11f3fe7b9fb53c73af">dwHashIndex</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ac63b8edf2c463ee184a571071c84abd3">SFileInfoNameHash1</a>:</div>
<div class="line"><span class="lineno">  404</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#ac47b0ac68412a48e7f22fcb0257ba3b9">pHashEntry</a>-&gt;<a class="code hl_variable" href="struct__TMPQHash.html#a696c4e84a6fe64e4307dac7e06a1c907">dwName1</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8e337bfdf364a4c3a253a9e80c5a5cdc">SFileInfoNameHash2</a>:</div>
<div class="line"><span class="lineno">  407</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#ac47b0ac68412a48e7f22fcb0257ba3b9">pHashEntry</a>-&gt;<a class="code hl_variable" href="struct__TMPQHash.html#ad005ba7c70d25b34c5756db9ce29c304">dwName2</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a5e0fdb5a3e5f95a0bce6b86916bcea56">SFileInfoNameHash3</a>:</div>
<div class="line"><span class="lineno">  410</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#a0813b376166461382eb1e86784cdc8cc">FileNameHash</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a891d6032f0a540a2fed2021fa80f0376">SFileInfoLocale</a>:</div>
<div class="line"><span class="lineno">  413</span>            dwInt32Value = <a class="code hl_define" href="StormLib_8h.html#aac5d37546e56cecc39acc9223a466f74">SFILE_MAKE_LCID</a>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#ac47b0ac68412a48e7f22fcb0257ba3b9">pHashEntry</a>-&gt;<a class="code hl_variable" href="struct__TMPQHash.html#a739c78235438c89d2cd6e6c0d44402ce">Locale</a>, hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#ac47b0ac68412a48e7f22fcb0257ba3b9">pHashEntry</a>-&gt;<a class="code hl_variable" href="struct__TMPQHash.html#a8712ff7211834dfc7314c5d682866d88">Platform</a>);</div>
<div class="line"><span class="lineno">  414</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;dwInt32Value, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ac31921058e9e17c0901d2938abda5312">SFileInfoFileIndex</a>:</div>
<div class="line"><span class="lineno">  417</span>            dwInt32Value = (<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)(pFileEntry - hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a3d3e5acf9eea51e01ee22aa9c64d75a8">ha</a>-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a82a7283606d9775df50cb1c683280db1">pFileTable</a>);</div>
<div class="line"><span class="lineno">  418</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;dwInt32Value, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a72601c2519d44d5dee8b069dacd51964">SFileInfoByteOffset</a>:</div>
<div class="line"><span class="lineno">  421</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#a4aa00b411c027d71b59b61d31025397a">ByteOffset</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a8b376a37df412d4aa5f983a2f6211fcf">SFileInfoFileTime</a>:</div>
<div class="line"><span class="lineno">  424</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#a642c4c57f60732e0daef2343acd443f5">FileTime</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a3726b227a14fe257ae8aeb7be7d83437">SFileInfoFileSize</a>:</div>
<div class="line"><span class="lineno">  427</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#ac1d03293cafba09c581d1ce3b20cce11">dwFileSize</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3afe2e60dff9fc8f6c6103e5697739229c">SFileInfoCompressedSize</a>:</div>
<div class="line"><span class="lineno">  430</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#af0800e75c1cfe47b9fdab963b33c003d">dwCmpSize</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3ae19e7046a1be4813d81eeeaba366b582">SFileInfoFlags</a>:</div>
<div class="line"><span class="lineno">  433</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a74e085d098861aeebebff5d863f2ff83">SFileInfoEncryptionKey</a>:</div>
<div class="line"><span class="lineno">  436</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8ab42b6a429f382c93bb79b413541ab6">dwFileKey</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3a944e704c35366e96a180762c0efcc24e">SFileInfoEncryptionKeyRaw</a>:</div>
<div class="line"><span class="lineno">  439</span>            dwInt32Value = hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8ab42b6a429f382c93bb79b413541ab6">dwFileKey</a>;</div>
<div class="line"><span class="lineno">  440</span>            <span class="keywordflow">if</span>(pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a0e7165d33cb4239684eb19fe59f8a8d7">MPQ_FILE_FIX_KEY</a>)</div>
<div class="line"><span class="lineno">  441</span>                dwInt32Value = (dwInt32Value ^ pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#ac1d03293cafba09c581d1ce3b20cce11">dwFileSize</a>) - (<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#aa3f1dd4380ab784cf651b5191573cc26">MpqFilePos</a>;</div>
<div class="line"><span class="lineno">  442</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;dwInt32Value, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="StormLib_8h.html#a90f178cc391e156ead40ea74dc0414d3acb29b757e6456e144941098494558ea0">SFileInfoCRC32</a>:</div>
<div class="line"><span class="lineno">  445</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a>(pvFileInfo, cbFileInfo, &amp;hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#a06fcb7c74ebf45703eed4543dc1593fc">dwCrc32</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>), pcbLengthNeeded);</div>
<div class="line"><span class="lineno">  446</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  447</span>            <span class="comment">// Invalid info class</span></div>
<div class="line"><span class="lineno">  448</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  449</span>    }</div>
<div class="line"><span class="lineno">  450</span>}</div>
<div class="ttc" id="aFileStream_8cpp_html_a079730e5345bc1141a1057d4e13e95ac"><div class="ttname"><a href="FileStream_8cpp.html#a079730e5345bc1141a1057d4e13e95ac">FileStream_GetBitmap</a></div><div class="ttdeci">bool FileStream_GetBitmap(TFileStream *pStream, void *pvBitmap, DWORD cbBitmap, DWORD *pcbLengthNeeded)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02659">FileStream.cpp:2659</a></div></div>
<div class="ttc" id="aFileStream_8cpp_html_a3b0eb2320c6401f6f1b5a92e53bc57dd"><div class="ttname"><a href="FileStream_8cpp.html#a3b0eb2320c6401f6f1b5a92e53bc57dd">FileStream_GetFlags</a></div><div class="ttdeci">bool FileStream_GetFlags(TFileStream *pStream, LPDWORD pdwStreamFlags)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02849">FileStream.cpp:2849</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a4019d3f2ebfc2b37e5fe6b0dafb859fd"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a4019d3f2ebfc2b37e5fe6b0dafb859fd">LoadBlockTable</a></div><div class="ttdeci">TMPQBlock * LoadBlockTable(TMPQArchive *ha, bool)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02391">SBaseFileTable.cpp:2391</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a468b8e702bb7a303bcc49b8c2a3b2bb7"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a468b8e702bb7a303bcc49b8c2a3b2bb7">LoadHetTable</a></div><div class="ttdeci">TMPQHetTable * LoadHetTable(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02441">SBaseFileTable.cpp:2441</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a72966ee0745131c3b844e376106653d7"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a72966ee0745131c3b844e376106653d7">FileOffsetFromMpqOffset</a></div><div class="ttdeci">ULONGLONG FileOffsetFromMpqOffset(TMPQArchive *ha, ULONGLONG MpqOffset)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l00384">SBaseFileTable.cpp:384</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a952a75799b89913bc06f52c236206f5e"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a952a75799b89913bc06f52c236206f5e">LoadBetTable</a></div><div class="ttdeci">TMPQBetTable * LoadBetTable(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02463">SBaseFileTable.cpp:2463</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_ad736db7551d7cbb4ad5e4e19495bf199"><div class="ttname"><a href="SBaseFileTable_8cpp.html#ad736db7551d7cbb4ad5e4e19495bf199">LoadExtTable</a></div><div class="ttdeci">TMPQExtHeader * LoadExtTable(TMPQArchive *ha, ULONGLONG ByteOffset, size_t Size, DWORD dwSignature, DWORD dwKey)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l01120">SBaseFileTable.cpp:1120</a></div></div>
<div class="ttc" id="aSFileGetFileInfo_8cpp_html_a002f1907190ea466822014066e158d36"><div class="ttname"><a href="SFileGetFileInfo_8cpp.html#a002f1907190ea466822014066e158d36">GetInfo_TablePointer</a></div><div class="ttdeci">static bool GetInfo_TablePointer(void *pvFileInfo, DWORD cbFileInfo, void *pvTablePointer, SFileInfoClass InfoClass, LPDWORD pcbLengthNeeded)</div><div class="ttdef"><b>Definition</b> <a href="SFileGetFileInfo_8cpp_source.html#l00093">SFileGetFileInfo.cpp:93</a></div></div>
<div class="ttc" id="aSFileGetFileInfo_8cpp_html_a219e9d707f61f3a8abb9bbd2f85a12a5"><div class="ttname"><a href="SFileGetFileInfo_8cpp.html#a219e9d707f61f3a8abb9bbd2f85a12a5">GetInfo_FileEntry</a></div><div class="ttdeci">static bool GetInfo_FileEntry(void *pvFileInfo, DWORD cbFileInfo, TFileEntry *pFileEntry, LPDWORD pcbLengthNeeded)</div><div class="ttdef"><b>Definition</b> <a href="SFileGetFileInfo_8cpp_source.html#l00117">SFileGetFileInfo.cpp:117</a></div></div>
<div class="ttc" id="aSFileGetFileInfo_8cpp_html_a5ab74ce0c535a11e9b3745b98fc906ad"><div class="ttname"><a href="SFileGetFileInfo_8cpp.html#a5ab74ce0c535a11e9b3745b98fc906ad">GetInfo_ReturdwErrCode</a></div><div class="ttdeci">static bool GetInfo_ReturdwErrCode(DWORD dwErrCode)</div><div class="ttdef"><b>Definition</b> <a href="SFileGetFileInfo_8cpp_source.html#l00045">SFileGetFileInfo.cpp:45</a></div></div>
<div class="ttc" id="aSFileGetFileInfo_8cpp_html_a6b98c819ee9c1ebe8f72830d8dc51440"><div class="ttname"><a href="SFileGetFileInfo_8cpp.html#a6b98c819ee9c1ebe8f72830d8dc51440">GetInfo_Allocated</a></div><div class="ttdeci">static bool GetInfo_Allocated(void *pvFileInfo, DWORD cbFileInfo, void *pvData, DWORD cbData, LPDWORD pcbLengthNeeded)</div><div class="ttdef"><b>Definition</b> <a href="SFileGetFileInfo_8cpp_source.html#l00080">SFileGetFileInfo.cpp:80</a></div></div>
<div class="ttc" id="aSFileGetFileInfo_8cpp_html_a919dc8768b71d7d1a1d5906128e09300"><div class="ttname"><a href="SFileGetFileInfo_8cpp.html#a919dc8768b71d7d1a1d5906128e09300">GetInfo_ReadFromFile</a></div><div class="ttdeci">static bool GetInfo_ReadFromFile(void *pvFileInfo, DWORD cbFileInfo, TFileStream *pStream, ULONGLONG ByteOffset, DWORD cbData, LPDWORD pcbLengthNeeded)</div><div class="ttdef"><b>Definition</b> <a href="SFileGetFileInfo_8cpp_source.html#l00108">SFileGetFileInfo.cpp:108</a></div></div>
<div class="ttc" id="aSFileGetFileInfo_8cpp_html_a9fa6d6f800224e4ed3733c21042891e2"><div class="ttname"><a href="SFileGetFileInfo_8cpp.html#a9fa6d6f800224e4ed3733c21042891e2">GetInfo_PatchChain</a></div><div class="ttdeci">static bool GetInfo_PatchChain(TMPQFile *hf, void *pvFileInfo, DWORD cbFileInfo, LPDWORD pcbLengthNeeded)</div><div class="ttdef"><b>Definition</b> <a href="SFileGetFileInfo_8cpp_source.html#l00143">SFileGetFileInfo.cpp:143</a></div></div>
<div class="ttc" id="aSFileGetFileInfo_8cpp_html_acbe1e4c82c9f6af5bfa5fcd865b37e7e"><div class="ttname"><a href="SFileGetFileInfo_8cpp.html#acbe1e4c82c9f6af5bfa5fcd865b37e7e">GetInfo</a></div><div class="ttdeci">static bool GetInfo(void *pvFileInfo, DWORD cbFileInfo, const void *pvData, DWORD cbData, LPDWORD pcbLengthNeeded)</div><div class="ttdef"><b>Definition</b> <a href="SFileGetFileInfo_8cpp_source.html#l00069">SFileGetFileInfo.cpp:69</a></div></div>
<div class="ttc" id="aSFileGetFileInfo_8cpp_html_af6d1aad5e21d0b351094da8eb08f0ed4"><div class="ttname"><a href="SFileGetFileInfo_8cpp.html#af6d1aad5e21d0b351094da8eb08f0ed4">GetMpqFileCount</a></div><div class="ttdeci">static DWORD GetMpqFileCount(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SFileGetFileInfo_8cpp_source.html#l00018">SFileGetFileInfo.cpp:18</a></div></div>
<div class="ttc" id="aSFileVerify_8cpp_html_ad1d1397c13ad8207112ea6bbd6218ea9"><div class="ttname"><a href="SFileVerify_8cpp.html#ad1d1397c13ad8207112ea6bbd6218ea9">QueryMpqSignatureInfo</a></div><div class="ttdeci">bool QueryMpqSignatureInfo(TMPQArchive *ha, PMPQ_SIGNATURE_INFO pSI)</div><div class="ttdef"><b>Definition</b> <a href="SFileVerify_8cpp_source.html#l00723">SFileVerify.cpp:723</a></div></div>
<div class="ttc" id="aStormCommon_8h_html_aa2556e4b9e179aa51654ece65c87fa13"><div class="ttname"><a href="StormCommon_8h.html#aa2556e4b9e179aa51654ece65c87fa13">MPQ_STRONG_SIGNATURE_SIZE</a></div><div class="ttdeci">#define MPQ_STRONG_SIGNATURE_SIZE</div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00094">StormCommon.h:94</a></div></div>
<div class="ttc" id="aStormCommon_8h_html_ac67482b4d06c66c34ad0dc9686c12fd4"><div class="ttname"><a href="StormCommon_8h.html#ac67482b4d06c66c34ad0dc9686c12fd4">MAKE_OFFSET64</a></div><div class="ttdeci">#define MAKE_OFFSET64(hi, lo)</div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00074">StormCommon.h:74</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a1a49495e73433f2ed5692e36d5231337"><div class="ttname"><a href="StormLib_8h.html#a1a49495e73433f2ed5692e36d5231337">MPQ_KEY_HASH_TABLE</a></div><div class="ttdeci">#define MPQ_KEY_HASH_TABLE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00287">StormLib.h:287</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a2ba8acbca4e801d8cd224cac146d1a78"><div class="ttname"><a href="StormLib_8h.html#a2ba8acbca4e801d8cd224cac146d1a78">MPQ_KEY_BLOCK_TABLE</a></div><div class="ttdeci">#define MPQ_KEY_BLOCK_TABLE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00288">StormLib.h:288</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a2ca11d3a6a1b2a0c7e18961e6881af5a"><div class="ttname"><a href="StormLib_8h.html#a2ca11d3a6a1b2a0c7e18961e6881af5a">HET_TABLE_SIGNATURE</a></div><div class="ttdeci">#define HET_TABLE_SIGNATURE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00283">StormLib.h:283</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ab77da79e415e52afa44cb2a346bc55c7"><div class="ttname"><a href="StormLib_8h.html#ab77da79e415e52afa44cb2a346bc55c7">SIGNATURE_TYPE_STRONG</a></div><div class="ttdeci">#define SIGNATURE_TYPE_STRONG</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00382">StormLib.h:382</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aed26bd0c6cd280f2dffb483779b448f3"><div class="ttname"><a href="StormLib_8h.html#aed26bd0c6cd280f2dffb483779b448f3">BET_TABLE_SIGNATURE</a></div><div class="ttdeci">#define BET_TABLE_SIGNATURE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00284">StormLib.h:284</a></div></div>
<div class="ttc" id="aStormPort_8h_html_ad253c68ce58b12b277fedc2d785d7977"><div class="ttname"><a href="StormPort_8h.html#ad253c68ce58b12b277fedc2d785d7977">_tcslen</a></div><div class="ttdeci">#define _tcslen</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00370">StormPort.h:370</a></div></div>
<div class="ttc" id="aStormPort_8h_html_aecc8b368d5ba0386b219fdd6a916b0b2"><div class="ttname"><a href="StormPort_8h.html#aecc8b368d5ba0386b219fdd6a916b0b2">ERROR_FILE_NOT_FOUND</a></div><div class="ttdeci">#define ERROR_FILE_NOT_FOUND</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00402">StormPort.h:402</a></div></div>
<div class="ttc" id="astruct__MPQ__SIGNATURE__INFO_html"><div class="ttname"><a href="struct__MPQ__SIGNATURE__INFO.html">_MPQ_SIGNATURE_INFO</a></div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00099">StormCommon.h:100</a></div></div>
<div class="ttc" id="astruct__MPQ__SIGNATURE__INFO_html_a1e737f764e9830338f5c6f7a9ef078e5"><div class="ttname"><a href="struct__MPQ__SIGNATURE__INFO.html#a1e737f764e9830338f5c6f7a9ef078e5">_MPQ_SIGNATURE_INFO::EndMpqData</a></div><div class="ttdeci">ULONGLONG EndMpqData</div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00104">StormCommon.h:104</a></div></div>
<div class="ttc" id="astruct__MPQ__SIGNATURE__INFO_html_a3094e3a410ac87a505e1282b1bf65c07"><div class="ttname"><a href="struct__MPQ__SIGNATURE__INFO.html#a3094e3a410ac87a505e1282b1bf65c07">_MPQ_SIGNATURE_INFO::SignatureTypes</a></div><div class="ttdeci">DWORD SignatureTypes</div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00108">StormCommon.h:108</a></div></div>
<div class="ttc" id="astruct__MPQ__SIGNATURE__INFO_html_a9336bfe0493f5c6a49a69abbbcaf8cfd"><div class="ttname"><a href="struct__MPQ__SIGNATURE__INFO.html#a9336bfe0493f5c6a49a69abbbcaf8cfd">_MPQ_SIGNATURE_INFO::Signature</a></div><div class="ttdeci">BYTE Signature[MPQ_STRONG_SIGNATURE_SIZE+0x10]</div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00106">StormCommon.h:106</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a65c5c13489a621c481282da76b101e16_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a65c5c13489a621c481282da76b101e16_icgraph.svg" width="100%" height="364"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3909beee4f92f439ad52faef54a6a296" name="a3909beee4f92f439ad52faef54a6a296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3909beee4f92f439ad52faef54a6a296">&#9670;&#160;</a></span>SFileGetFileName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileGetFileName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>szFileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileGetFileInfo_8cpp_source.html#l00565">565</a> of file <a class="el" href="SFileGetFileInfo_8cpp_source.html">SFileGetFileInfo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  566</span>{</div>
<div class="line"><span class="lineno">  567</span>    <a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> * hf = (<a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> *)hFile;  <span class="comment">// MPQ File handle</span></div>
<div class="line"><span class="lineno">  568</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno">  569</span> </div>
<div class="line"><span class="lineno">  570</span>    <span class="comment">// Check valid parameters</span></div>
<div class="line"><span class="lineno">  571</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="SBaseCommon_8cpp.html#ab2d3193ce28d1a3b371e0390542d9c23">IsValidFileHandle</a>(hFile))</div>
<div class="line"><span class="lineno">  572</span>    {</div>
<div class="line"><span class="lineno">  573</span>        <a class="code hl_struct" href="struct__TFileEntry.html">TFileEntry</a> * pFileEntry = hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>;</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>        <span class="comment">// For MPQ files, retrieve the file name from the file entry</span></div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8c3a90e5d6abcbc6757bf7fdae94a5d9">pStream</a> == NULL)</div>
<div class="line"><span class="lineno">  577</span>        {</div>
<div class="line"><span class="lineno">  578</span>            <span class="keywordflow">if</span>(pFileEntry != NULL)</div>
<div class="line"><span class="lineno">  579</span>            {</div>
<div class="line"><span class="lineno">  580</span>                <span class="comment">// If the file name is not there yet, create a pseudo name</span></div>
<div class="line"><span class="lineno">  581</span>                <span class="keywordflow">if</span>(pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aa00a675cf553d128b1e3b5fdd9cdca0e">szFileName</a> == NULL)</div>
<div class="line"><span class="lineno">  582</span>                    dwErrCode = <a class="code hl_function" href="SFileGetFileInfo_8cpp.html#aad8baa0bd74b203174f9166ec98272a5">CreatePseudoFileName</a>(hFile, pFileEntry, szFileName);</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>                <span class="comment">// Copy the file name to the output buffer, if any</span></div>
<div class="line"><span class="lineno">  585</span>                <span class="keywordflow">if</span>(pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aa00a675cf553d128b1e3b5fdd9cdca0e">szFileName</a> &amp;&amp; szFileName)</div>
<div class="line"><span class="lineno">  586</span>                {</div>
<div class="line"><span class="lineno">  587</span>                    strcpy(szFileName, pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aa00a675cf553d128b1e3b5fdd9cdca0e">szFileName</a>);</div>
<div class="line"><span class="lineno">  588</span>                    dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  589</span>                }</div>
<div class="line"><span class="lineno">  590</span>            }</div>
<div class="line"><span class="lineno">  591</span>        }</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>        <span class="comment">// For local files, copy the file name from the stream</span></div>
<div class="line"><span class="lineno">  594</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  595</span>        {</div>
<div class="line"><span class="lineno">  596</span>            <span class="keywordflow">if</span>(szFileName != NULL)</div>
<div class="line"><span class="lineno">  597</span>            {</div>
<div class="line"><span class="lineno">  598</span>                <span class="keyword">const</span> <a class="code hl_typedef" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> * szStreamName = <a class="code hl_function" href="FileStream_8cpp.html#aac8a29e50fd6c047ee9288073b54804e">FileStream_GetFileName</a>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8c3a90e5d6abcbc6757bf7fdae94a5d9">pStream</a>);</div>
<div class="line"><span class="lineno">  599</span>                <a class="code hl_function" href="SBaseCommon_8cpp.html#ac1750bd8c861039e8dc624fd3e45ebe0">StringCopy</a>(szFileName, <a class="code hl_define" href="StormPort_8h.html#ab99ded389af74001a6298fc9e44e74e5">MAX_PATH</a>, szStreamName);</div>
<div class="line"><span class="lineno">  600</span>            }</div>
<div class="line"><span class="lineno">  601</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  602</span>        }</div>
<div class="line"><span class="lineno">  603</span>    }</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  606</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">  607</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno">  608</span>}</div>
<div class="ttc" id="aSFileGetFileInfo_8cpp_html_aad8baa0bd74b203174f9166ec98272a5"><div class="ttname"><a href="SFileGetFileInfo_8cpp.html#aad8baa0bd74b203174f9166ec98272a5">CreatePseudoFileName</a></div><div class="ttdeci">static DWORD CreatePseudoFileName(HANDLE hFile, TFileEntry *pFileEntry, char *szFileName)</div><div class="ttdef"><b>Definition</b> <a href="SFileGetFileInfo_8cpp_source.html#l00523">SFileGetFileInfo.cpp:523</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a3909beee4f92f439ad52faef54a6a296_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a3909beee4f92f439ad52faef54a6a296_icgraph.svg" width="100%" height="401"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a1d30c5a49fb9c1c1669884646282e4d3" name="a1d30c5a49fb9c1c1669884646282e4d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d30c5a49fb9c1c1669884646282e4d3">&#9670;&#160;</a></span>SFileGetFileSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileGetFileSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>&#160;</td>
          <td class="paramname"><em>pdwFileSizeHigh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileReadFile_8cpp_source.html#l00769">769</a> of file <a class="el" href="SFileReadFile_8cpp_source.html">SFileReadFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  770</span>{</div>
<div class="line"><span class="lineno">  771</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> FileSize;</div>
<div class="line"><span class="lineno">  772</span>    <a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> * hf = (<a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> *)hFile;</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>    <span class="comment">// Validate the file handle before we go on</span></div>
<div class="line"><span class="lineno">  775</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="SBaseCommon_8cpp.html#ab2d3193ce28d1a3b371e0390542d9c23">IsValidFileHandle</a>(hFile))</div>
<div class="line"><span class="lineno">  776</span>    {</div>
<div class="line"><span class="lineno">  777</span>        <span class="comment">// Make sure that the variable is initialized</span></div>
<div class="line"><span class="lineno">  778</span>        FileSize = 0;</div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>        <span class="comment">// If the file is patched file, we have to get the size of the last version</span></div>
<div class="line"><span class="lineno">  781</span>        <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#add8833bffe289c96c79f641789a9743b">hfPatch</a> != NULL)</div>
<div class="line"><span class="lineno">  782</span>        {</div>
<div class="line"><span class="lineno">  783</span>            <span class="comment">// Walk through the entire patch chain, take the last version</span></div>
<div class="line"><span class="lineno">  784</span>            <span class="keywordflow">while</span>(hf != NULL)</div>
<div class="line"><span class="lineno">  785</span>            {</div>
<div class="line"><span class="lineno">  786</span>                <span class="comment">// Get the size of the currently pointed version</span></div>
<div class="line"><span class="lineno">  787</span>                FileSize = hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#ac1d03293cafba09c581d1ce3b20cce11">dwFileSize</a>;</div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>                <span class="comment">// Move to the next patch file in the hierarchy</span></div>
<div class="line"><span class="lineno">  790</span>                hf = hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#add8833bffe289c96c79f641789a9743b">hfPatch</a>;</div>
<div class="line"><span class="lineno">  791</span>            }</div>
<div class="line"><span class="lineno">  792</span>        }</div>
<div class="line"><span class="lineno">  793</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  794</span>        {</div>
<div class="line"><span class="lineno">  795</span>            <span class="comment">// Is it a local file ?</span></div>
<div class="line"><span class="lineno">  796</span>            <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8c3a90e5d6abcbc6757bf7fdae94a5d9">pStream</a> != NULL)</div>
<div class="line"><span class="lineno">  797</span>            {</div>
<div class="line"><span class="lineno">  798</span>                <a class="code hl_function" href="FileStream_8cpp.html#af505319882f0f4aaf396b6d061a2275b">FileStream_GetSize</a>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8c3a90e5d6abcbc6757bf7fdae94a5d9">pStream</a>, &amp;FileSize);</div>
<div class="line"><span class="lineno">  799</span>            }</div>
<div class="line"><span class="lineno">  800</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  801</span>            {</div>
<div class="line"><span class="lineno">  802</span>                FileSize = hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#abb13213fd24c430f1910a8309fa13111">dwDataSize</a>;</div>
<div class="line"><span class="lineno">  803</span>            }</div>
<div class="line"><span class="lineno">  804</span>        }</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>        <span class="comment">// If opened from archive, return file size</span></div>
<div class="line"><span class="lineno">  807</span>        <span class="keywordflow">if</span>(pdwFileSizeHigh != NULL)</div>
<div class="line"><span class="lineno">  808</span>            *pdwFileSizeHigh = (<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)(FileSize &gt;&gt; 32);</div>
<div class="line"><span class="lineno">  809</span>        <span class="keywordflow">return</span> (<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)FileSize;</div>
<div class="line"><span class="lineno">  810</span>    }</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>    <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>);</div>
<div class="line"><span class="lineno">  813</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_8h.html#a022049f94d664793d5bdf9825b5dc368">SFILE_INVALID_SIZE</a>;</div>
<div class="line"><span class="lineno">  814</span>}</div>
<div class="ttc" id="aStormLib_8h_html_a022049f94d664793d5bdf9825b5dc368"><div class="ttname"><a href="StormLib_8h.html#a022049f94d664793d5bdf9825b5dc368">SFILE_INVALID_SIZE</a></div><div class="ttdeci">#define SFILE_INVALID_SIZE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00211">StormLib.h:211</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a1d30c5a49fb9c1c1669884646282e4d3_cgraph.svg" width="522" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a1d30c5a49fb9c1c1669884646282e4d3_icgraph.svg" width="100%" height="597"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a2c9950c2f8316507888d5b1245e7bebc" name="a2c9950c2f8316507888d5b1245e7bebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c9950c2f8316507888d5b1245e7bebc">&#9670;&#160;</a></span>SFileGetLocale()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileGetLocale </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileOpenArchive_8cpp_source.html#l00207">207</a> of file <a class="el" href="SFileOpenArchive_8cpp_source.html">SFileOpenArchive.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  208</span>{</div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="SBaseCommon_8cpp.html#a45e71286a36272815b1bf6d4f09aab9a">g_lcFileLocale</a>;</div>
<div class="line"><span class="lineno">  210</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a04e66295252e3b1f4b36a010941127f8" name="a04e66295252e3b1f4b36a010941127f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04e66295252e3b1f4b36a010941127f8">&#9670;&#160;</a></span>SFileGetMaxFileCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileGetMaxFileCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileCompactArchive_8cpp_source.html#l00456">456</a> of file <a class="el" href="SFileCompactArchive_8cpp_source.html">SFileCompactArchive.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  457</span>{</div>
<div class="line"><span class="lineno">  458</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordflow">return</span> ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aefc10ddd33bc3158c683cba1eab71c38">dwMaxFileCount</a>;</div>
<div class="line"><span class="lineno">  461</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7fb756b76326ffec7dbe07e4167490c0" name="a7fb756b76326ffec7dbe07e4167490c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fb756b76326ffec7dbe07e4167490c0">&#9670;&#160;</a></span>SFileHasFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileHasFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szFileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileOpenFileEx_8cpp_source.html#l00397">397</a> of file <a class="el" href="SFileOpenFileEx_8cpp_source.html">SFileOpenFileEx.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  398</span>{</div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="SFileOpenFileEx_8cpp.html#a0049c66b1dbb981f5b69afe6bbe60313">SFileOpenFileEx</a>(hMpq, szFileName, <a class="code hl_define" href="StormLib_8h.html#a05f421e24b84a6adf09346b8c023bfbf">SFILE_OPEN_CHECK_EXISTS</a>, NULL);</div>
<div class="line"><span class="lineno">  400</span>}</div>
<div class="ttc" id="aStormLib_8h_html_a05f421e24b84a6adf09346b8c023bfbf"><div class="ttname"><a href="StormLib_8h.html#a05f421e24b84a6adf09346b8c023bfbf">SFILE_OPEN_CHECK_EXISTS</a></div><div class="ttdeci">#define SFILE_OPEN_CHECK_EXISTS</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00181">StormLib.h:181</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a7fb756b76326ffec7dbe07e4167490c0_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a485461c38e347d9f3de4348e81bca043" name="a485461c38e347d9f3de4348e81bca043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485461c38e347d9f3de4348e81bca043">&#9670;&#160;</a></span>SFileIsPatchedArchive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileIsPatchedArchive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFilePatchArchives_8cpp_source.html#l01166">1166</a> of file <a class="el" href="SFilePatchArchives_8cpp_source.html">SFilePatchArchives.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1167</span>{</div>
<div class="line"><span class="lineno"> 1168</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno"> 1169</span> </div>
<div class="line"><span class="lineno"> 1170</span>    <span class="comment">// Verify input parameters</span></div>
<div class="line"><span class="lineno"> 1171</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno"> 1172</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1173</span> </div>
<div class="line"><span class="lineno"> 1174</span>    <span class="keywordflow">return</span> (ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aa2646402b5718a74c1908745ea6a46cd">haPatch</a> != NULL);</div>
<div class="line"><span class="lineno"> 1175</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a485461c38e347d9f3de4348e81bca043_cgraph.svg" width="362" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8b031afa4f88b4b3705c274a0b5b4f73" name="a8b031afa4f88b4b3705c274a0b5b4f73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b031afa4f88b4b3705c274a0b5b4f73">&#9670;&#160;</a></span>SFileOpenArchive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileOpenArchive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szMpqName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwPriority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *&#160;</td>
          <td class="paramname"><em>phMpq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileOpenArchive_8cpp_source.html#l00225">225</a> of file <a class="el" href="SFileOpenArchive_8cpp_source.html">SFileOpenArchive.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  230</span>{</div>
<div class="line"><span class="lineno">  231</span>    <a class="code hl_struct" href="struct__TMPQUserData.html">TMPQUserData</a> * pUserData;</div>
<div class="line"><span class="lineno">  232</span>    <a class="code hl_struct" href="structTFileStream.html">TFileStream</a> * pStream = NULL;       <span class="comment">// Open file stream</span></div>
<div class="line"><span class="lineno">  233</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = NULL;            <span class="comment">// Archive handle</span></div>
<div class="line"><span class="lineno">  234</span>    <a class="code hl_struct" href="struct__TFileEntry.html">TFileEntry</a> * pFileEntry;</div>
<div class="line"><span class="lineno">  235</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> FileSize = 0;             <span class="comment">// Size of the file</span></div>
<div class="line"><span class="lineno">  236</span>    <a class="code hl_typedef" href="StormPort_8h.html#ac2d3fb16b5b34c1e6ab80014309020eb">LPBYTE</a> pbHeaderBuffer = NULL;       <span class="comment">// Buffer for searching MPQ header</span></div>
<div class="line"><span class="lineno">  237</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwStreamFlags = (dwFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a9f173a8fcf0edc58cb2f8a6d41739e86">STREAM_FLAGS_MASK</a>);</div>
<div class="line"><span class="lineno">  238</span>    <a class="code hl_typedef" href="StormCommon_8h.html#a5f6561b39d152f389623dadf4b239557">MTYPE</a> MapType = <a class="code hl_enumvalue" href="StormCommon_8h.html#aad58060ffa72dbd5283893aa3360a2daa16247e8586a7c5d73e9ee3f3cf9f7d8c">MapTypeNotChecked</a>;</div>
<div class="line"><span class="lineno">  239</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>    <span class="comment">// Verify the parameters</span></div>
<div class="line"><span class="lineno">  242</span>    <span class="keywordflow">if</span>(szMpqName == NULL || *szMpqName == 0 || phMpq == NULL)</div>
<div class="line"><span class="lineno">  243</span>    {</div>
<div class="line"><span class="lineno">  244</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  245</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  246</span>    }</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>    <span class="comment">// One time initialization of MPQ cryptography</span></div>
<div class="line"><span class="lineno">  249</span>    <a class="code hl_function" href="SBaseCommon_8cpp.html#a771e96257f2889763ee169050c798554">InitializeMpqCryptography</a>();</div>
<div class="line"><span class="lineno">  250</span>    dwPriority = dwPriority;</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>    <span class="comment">// If not forcing MPQ v 1.0, also use file bitmap</span></div>
<div class="line"><span class="lineno">  253</span>    dwStreamFlags |= (dwFlags &amp; <a class="code hl_define" href="StormLib_8h.html#abc1fb88a688d62bd6c515533a783f484">MPQ_OPEN_FORCE_MPQ_V1</a>) ? 0 : <a class="code hl_define" href="StormLib_8h.html#a77521bc89504101b3294646ad1b462c0">STREAM_FLAG_USE_BITMAP</a>;</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    <span class="comment">// Open the MPQ archive file</span></div>
<div class="line"><span class="lineno">  256</span>    pStream = <a class="code hl_function" href="FileStream_8cpp.html#a702003c1930c608961b812259bd9dc22">FileStream_OpenFile</a>(szMpqName, dwStreamFlags);</div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">if</span>(pStream == NULL)</div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>    <span class="comment">// Check the file size. There must be at least 0x20 bytes</span></div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  262</span>    {</div>
<div class="line"><span class="lineno">  263</span>        <a class="code hl_function" href="FileStream_8cpp.html#af505319882f0f4aaf396b6d061a2275b">FileStream_GetSize</a>(pStream, &amp;FileSize);</div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordflow">if</span>(FileSize &lt; <a class="code hl_define" href="StormLib_8h.html#ae490c625dc0aa427dcb416343535962f">MPQ_HEADER_SIZE_V1</a>)</div>
<div class="line"><span class="lineno">  265</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aac798118bc41679864a280a79f6449da">ERROR_BAD_FORMAT</a>;</div>
<div class="line"><span class="lineno">  266</span>    }</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>    <span class="comment">// Allocate the MPQhandle</span></div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  270</span>    {</div>
<div class="line"><span class="lineno">  271</span>        <span class="keywordflow">if</span>((ha = <a class="code hl_define" href="StormCommon_8h.html#a6fe0c42173ef1a4b9f0e837b0c631660">STORM_ALLOC</a>(<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a>, 1)) == NULL)</div>
<div class="line"><span class="lineno">  272</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a>;</div>
<div class="line"><span class="lineno">  273</span>    }</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>    <span class="comment">// Allocate buffer for searching MPQ header</span></div>
<div class="line"><span class="lineno">  276</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  277</span>    {</div>
<div class="line"><span class="lineno">  278</span>        pbHeaderBuffer = <a class="code hl_define" href="StormCommon_8h.html#a6fe0c42173ef1a4b9f0e837b0c631660">STORM_ALLOC</a>(<a class="code hl_typedef" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>, <a class="code hl_define" href="SFileOpenArchive_8cpp.html#a7bd3ecf2e7ce4f4f50bd7752493c1476">HEADER_SEARCH_BUFFER_SIZE</a>);</div>
<div class="line"><span class="lineno">  279</span>        <span class="keywordflow">if</span>(pbHeaderBuffer == NULL)</div>
<div class="line"><span class="lineno">  280</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a>;</div>
<div class="line"><span class="lineno">  281</span>    }</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    <span class="comment">// Find the position of MPQ header</span></div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  285</span>    {</div>
<div class="line"><span class="lineno">  286</span>        <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> ByteOffset = 0;</div>
<div class="line"><span class="lineno">  287</span>        <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> EndOfSearch = FileSize;</div>
<div class="line"><span class="lineno">  288</span>        <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwStrmFlags = 0;</div>
<div class="line"><span class="lineno">  289</span>        <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwHeaderSize;</div>
<div class="line"><span class="lineno">  290</span>        <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwHeaderID;</div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordtype">bool</span> bSearchComplete = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>        memset(ha, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a>));</div>
<div class="line"><span class="lineno">  294</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ad49b63dce2ee9c6f774c69f22732c8b7">dwValidFileFlags</a> = <a class="code hl_define" href="StormLib_8h.html#a30e8562440ee665b1e68625ce7bfc832">MPQ_FILE_VALID_FLAGS</a>;</div>
<div class="line"><span class="lineno">  295</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a5075170ac14f68563fd5548ad332fe38">pfnHashString</a> = <a class="code hl_function" href="SBaseCommon_8cpp.html#a02d21e4503c849811801f033baa4b733">HashStringSlash</a>;</div>
<div class="line"><span class="lineno">  296</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a> = pStream;</div>
<div class="line"><span class="lineno">  297</span>        pStream = NULL;</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>        <span class="comment">// Set the archive read only if the stream is read-only</span></div>
<div class="line"><span class="lineno">  300</span>        <a class="code hl_function" href="FileStream_8cpp.html#a3b0eb2320c6401f6f1b5a92e53bc57dd">FileStream_GetFlags</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>, &amp;dwStrmFlags);</div>
<div class="line"><span class="lineno">  301</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> |= (dwStrmFlags &amp; <a class="code hl_define" href="StormLib_8h.html#abdbbf06488f24699775afe6aadaeafc3">STREAM_FLAG_READ_ONLY</a>) ? <a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a> : 0;</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>        <span class="comment">// Also remember if we shall check sector CRCs when reading file</span></div>
<div class="line"><span class="lineno">  304</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> |= (dwFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a67a24865bfa8b31f56ed8ebc558f2677">MPQ_OPEN_CHECK_SECTOR_CRC</a>) ? <a class="code hl_define" href="StormLib_8h.html#aa95c447187bfeb909739ad2c64158d2e">MPQ_FLAG_CHECK_SECTOR_CRC</a> : 0;</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>        <span class="comment">// Also remember if this MPQ is a patch</span></div>
<div class="line"><span class="lineno">  307</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> |= (dwFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a02144c034d87bb5bfa9c49eb78eea3cb">MPQ_OPEN_PATCH</a>) ? <a class="code hl_define" href="StormLib_8h.html#a2252bbf0465c58ef06b2dea7a5015b0d">MPQ_FLAG_PATCH</a> : 0;</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>        <span class="comment">// Limit the header searching to about 130 MB of data</span></div>
<div class="line"><span class="lineno">  310</span>        <span class="keywordflow">if</span>(EndOfSearch &gt; 0x08000000)</div>
<div class="line"><span class="lineno">  311</span>            EndOfSearch = 0x08000000;</div>
<div class="line"><span class="lineno">  312</span>        <span class="keywordflow">if</span>(FileSize &lt; <a class="code hl_define" href="SFileOpenArchive_8cpp.html#a7bd3ecf2e7ce4f4f50bd7752493c1476">HEADER_SEARCH_BUFFER_SIZE</a>)</div>
<div class="line"><span class="lineno">  313</span>            memset(pbHeaderBuffer, 0, <a class="code hl_define" href="SFileOpenArchive_8cpp.html#a7bd3ecf2e7ce4f4f50bd7752493c1476">HEADER_SEARCH_BUFFER_SIZE</a>);</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>        <span class="comment">// Find the offset of MPQ header within the file</span></div>
<div class="line"><span class="lineno">  316</span>        <span class="keywordflow">while</span>(bSearchComplete == <span class="keyword">false</span> &amp;&amp; ByteOffset &lt; EndOfSearch)</div>
<div class="line"><span class="lineno">  317</span>        {</div>
<div class="line"><span class="lineno">  318</span>            <span class="comment">// Always read at least 0x1000 bytes for performance.</span></div>
<div class="line"><span class="lineno">  319</span>            <span class="comment">// This is what Storm.dll (2002) does.</span></div>
<div class="line"><span class="lineno">  320</span>            <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesAvailable = <a class="code hl_define" href="SFileOpenArchive_8cpp.html#a7bd3ecf2e7ce4f4f50bd7752493c1476">HEADER_SEARCH_BUFFER_SIZE</a>;</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>            <span class="comment">// Cut the bytes available, if needed</span></div>
<div class="line"><span class="lineno">  323</span>            <span class="keywordflow">if</span>((FileSize - ByteOffset) &lt; <a class="code hl_define" href="SFileOpenArchive_8cpp.html#a7bd3ecf2e7ce4f4f50bd7752493c1476">HEADER_SEARCH_BUFFER_SIZE</a>)</div>
<div class="line"><span class="lineno">  324</span>                dwBytesAvailable = (<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)(FileSize - ByteOffset);</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>            <span class="comment">// Read the eventual MPQ header</span></div>
<div class="line"><span class="lineno">  327</span>            <span class="keywordflow">if</span>(!<a class="code hl_function" href="FileStream_8cpp.html#a593f3b1416f7497c28fa5552cd1b3003">FileStream_Read</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>, &amp;ByteOffset, pbHeaderBuffer, dwBytesAvailable))</div>
<div class="line"><span class="lineno">  328</span>            {</div>
<div class="line"><span class="lineno">  329</span>                dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno">  330</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  331</span>            }</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>            <span class="comment">// Check whether the file is AVI file or a Warcraft III/Starcraft II map</span></div>
<div class="line"><span class="lineno">  334</span>            <span class="keywordflow">if</span>(MapType == <a class="code hl_enumvalue" href="StormCommon_8h.html#aad58060ffa72dbd5283893aa3360a2daa16247e8586a7c5d73e9ee3f3cf9f7d8c">MapTypeNotChecked</a>)</div>
<div class="line"><span class="lineno">  335</span>            {</div>
<div class="line"><span class="lineno">  336</span>                <span class="comment">// Do nothing if the file is an AVI file</span></div>
<div class="line"><span class="lineno">  337</span>                <span class="keywordflow">if</span>((MapType = <a class="code hl_function" href="SFileOpenArchive_8cpp.html#a508b4e88c10d444d73fb78df7cc4d951">CheckMapType</a>(szMpqName, pbHeaderBuffer, dwBytesAvailable)) == <a class="code hl_enumvalue" href="StormCommon_8h.html#aad58060ffa72dbd5283893aa3360a2daabcc04b695404f4b557fc25bcf69b130e">MapTypeAviFile</a>)</div>
<div class="line"><span class="lineno">  338</span>                {</div>
<div class="line"><span class="lineno">  339</span>                    dwErrCode = <a class="code hl_define" href="StormLib_8h.html#a5a1367b6d80332535b570badd03ef220">ERROR_AVI_FILE</a>;</div>
<div class="line"><span class="lineno">  340</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  341</span>                }</div>
<div class="line"><span class="lineno">  342</span>            }</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>            <span class="comment">// Search the header buffer</span></div>
<div class="line"><span class="lineno">  345</span>            <span class="keywordflow">for</span>(<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwInBufferOffset = 0; dwInBufferOffset &lt; dwBytesAvailable; dwInBufferOffset += 0x200)</div>
<div class="line"><span class="lineno">  346</span>            {</div>
<div class="line"><span class="lineno">  347</span>                <span class="comment">// Copy the data from the potential header buffer to the MPQ header</span></div>
<div class="line"><span class="lineno">  348</span>                memcpy(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a515bd4fb99f5bacb557725b71c3ee3b2">HeaderData</a>, pbHeaderBuffer + dwInBufferOffset, <span class="keyword">sizeof</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a515bd4fb99f5bacb557725b71c3ee3b2">HeaderData</a>));</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>                <span class="comment">// If there is the MPQ user data, process it</span></div>
<div class="line"><span class="lineno">  351</span>                <span class="comment">// Note that Warcraft III does not check for user data, which is abused by many map protectors</span></div>
<div class="line"><span class="lineno">  352</span>                dwHeaderID = <a class="code hl_define" href="StormPort_8h.html#a4885cc151894581f130c677ffdefeb6b">BSWAP_INT32_UNSIGNED</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a515bd4fb99f5bacb557725b71c3ee3b2">HeaderData</a>[0]);</div>
<div class="line"><span class="lineno">  353</span>                <span class="keywordflow">if</span>(MapType != <a class="code hl_enumvalue" href="StormCommon_8h.html#aad58060ffa72dbd5283893aa3360a2daa09d5607db983fa9d23422ac71502c740">MapTypeWarcraft3</a> &amp;&amp; (dwFlags &amp; <a class="code hl_define" href="StormLib_8h.html#abc1fb88a688d62bd6c515533a783f484">MPQ_OPEN_FORCE_MPQ_V1</a>) == 0)</div>
<div class="line"><span class="lineno">  354</span>                {</div>
<div class="line"><span class="lineno">  355</span>                    <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a7583a5113bdd4a857a71bbd92c86eb6e">pUserData</a> == NULL &amp;&amp; dwHeaderID == <a class="code hl_define" href="StormLib_8h.html#a4e2e3020558d60961dfcc8ef291b5a23">ID_MPQ_USERDATA</a>)</div>
<div class="line"><span class="lineno">  356</span>                    {</div>
<div class="line"><span class="lineno">  357</span>                        <span class="comment">// Verify if this looks like a valid user data</span></div>
<div class="line"><span class="lineno">  358</span>                        pUserData = <a class="code hl_function" href="SFileOpenArchive_8cpp.html#a7b3601cc33fe92757335965d4d572bd0">IsValidMpqUserData</a>(ByteOffset, FileSize, ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a515bd4fb99f5bacb557725b71c3ee3b2">HeaderData</a>);</div>
<div class="line"><span class="lineno">  359</span>                        <span class="keywordflow">if</span>(pUserData != NULL)</div>
<div class="line"><span class="lineno">  360</span>                        {</div>
<div class="line"><span class="lineno">  361</span>                            <span class="comment">// Fill the user data header</span></div>
<div class="line"><span class="lineno">  362</span>                            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a43334c6a178fc02023a7412d9319136c">UserDataPos</a> = ByteOffset;</div>
<div class="line"><span class="lineno">  363</span>                            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a7583a5113bdd4a857a71bbd92c86eb6e">pUserData</a> = &amp;ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#adc3931555ea4e7dd2b1e4858eee48c0a">UserData</a>;</div>
<div class="line"><span class="lineno">  364</span>                            memcpy(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a7583a5113bdd4a857a71bbd92c86eb6e">pUserData</a>, pUserData, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__TMPQUserData.html">TMPQUserData</a>));</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>                            <span class="comment">// Continue searching from that position</span></div>
<div class="line"><span class="lineno">  367</span>                            ByteOffset += ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a7583a5113bdd4a857a71bbd92c86eb6e">pUserData</a>-&gt;<a class="code hl_variable" href="struct__TMPQUserData.html#a120d3541bbc5279d8121bcb958ffac43">dwHeaderOffs</a>;</div>
<div class="line"><span class="lineno">  368</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  369</span>                        }</div>
<div class="line"><span class="lineno">  370</span>                    }</div>
<div class="line"><span class="lineno">  371</span>                }</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>                <span class="comment">// There must be MPQ header signature. Note that STORM.dll from Warcraft III actually</span></div>
<div class="line"><span class="lineno">  374</span>                <span class="comment">// tests the MPQ header size. It must be at least 0x20 bytes in order to load it</span></div>
<div class="line"><span class="lineno">  375</span>                <span class="comment">// Abused by Spazzler Map protector. Note that the size check is not present</span></div>
<div class="line"><span class="lineno">  376</span>                <span class="comment">// in Storm.dll v 1.00, so Diablo I code would load the MPQ anyway.</span></div>
<div class="line"><span class="lineno">  377</span>                dwHeaderSize = <a class="code hl_define" href="StormPort_8h.html#a4885cc151894581f130c677ffdefeb6b">BSWAP_INT32_UNSIGNED</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a515bd4fb99f5bacb557725b71c3ee3b2">HeaderData</a>[1]);</div>
<div class="line"><span class="lineno">  378</span>                <span class="keywordflow">if</span>(dwHeaderID == <a class="code hl_variable" href="SBaseCommon_8cpp.html#a35005f326130df31c9ca0497b8a80e17">g_dwMpqSignature</a> &amp;&amp; dwHeaderSize &gt;= <a class="code hl_define" href="StormLib_8h.html#ae490c625dc0aa427dcb416343535962f">MPQ_HEADER_SIZE_V1</a>)</div>
<div class="line"><span class="lineno">  379</span>                {</div>
<div class="line"><span class="lineno">  380</span>                    <span class="comment">// Now convert the header to version 4</span></div>
<div class="line"><span class="lineno">  381</span>                    dwErrCode = <a class="code hl_function" href="SBaseFileTable_8cpp.html#abdd52c536dacbdd8b135c90047d9231b">ConvertMpqHeaderToFormat4</a>(ha, ByteOffset, FileSize, dwFlags, MapType);</div>
<div class="line"><span class="lineno">  382</span>                    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormLib_8h.html#ae5130639f290c0bd6cd90291d2e7bd68">ERROR_FAKE_MPQ_HEADER</a>)</div>
<div class="line"><span class="lineno">  383</span>                    {</div>
<div class="line"><span class="lineno">  384</span>                        bSearchComplete = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  385</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  386</span>                    }</div>
<div class="line"><span class="lineno">  387</span>                }</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>                <span class="comment">// Check for MPK archives (Longwu Online - MPQ fork)</span></div>
<div class="line"><span class="lineno">  390</span>                <span class="keywordflow">if</span>(MapType == <a class="code hl_enumvalue" href="StormCommon_8h.html#aad58060ffa72dbd5283893aa3360a2daafd58f5dc72e7b702562892f48693306d">MapTypeNotRecognized</a> &amp;&amp; dwHeaderID == <a class="code hl_define" href="StormLib_8h.html#abe07659fac241778a323f2f9cfec7863">ID_MPK</a>)</div>
<div class="line"><span class="lineno">  391</span>                {</div>
<div class="line"><span class="lineno">  392</span>                    <span class="comment">// Now convert the MPK header to MPQ Header version 4</span></div>
<div class="line"><span class="lineno">  393</span>                    dwErrCode = <a class="code hl_function" href="SBaseSubTypes_8cpp.html#a3f4c58392fd64b2798861704efa0e513">ConvertMpkHeaderToFormat4</a>(ha, FileSize, dwFlags);</div>
<div class="line"><span class="lineno">  394</span>                    bSearchComplete = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  395</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  396</span>                }</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>                <span class="comment">// If searching for the MPQ header is disabled, return an error</span></div>
<div class="line"><span class="lineno">  399</span>                <span class="keywordflow">if</span>(dwFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a09a1921f8ee78b95d6c06042f1f8b6e9">MPQ_OPEN_NO_HEADER_SEARCH</a>)</div>
<div class="line"><span class="lineno">  400</span>                {</div>
<div class="line"><span class="lineno">  401</span>                    dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ab72d05032a6d1152bad9af394811d447">ERROR_NOT_SUPPORTED</a>;</div>
<div class="line"><span class="lineno">  402</span>                    bSearchComplete = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  403</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  404</span>                }</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>                <span class="comment">// Move the pointers</span></div>
<div class="line"><span class="lineno">  407</span>                ByteOffset += 0x200;</div>
<div class="line"><span class="lineno">  408</span>            }</div>
<div class="line"><span class="lineno">  409</span>        }</div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>        <span class="comment">// Did we identify one of the supported headers?</span></div>
<div class="line"><span class="lineno">  412</span>        <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  413</span>        {</div>
<div class="line"><span class="lineno">  414</span>            <span class="comment">// Set the user data position to the MPQ header, if none</span></div>
<div class="line"><span class="lineno">  415</span>            <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a7583a5113bdd4a857a71bbd92c86eb6e">pUserData</a> == NULL)</div>
<div class="line"><span class="lineno">  416</span>                ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a43334c6a178fc02023a7412d9319136c">UserDataPos</a> = ByteOffset;</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>            <span class="comment">// Set the position of the MPQ header</span></div>
<div class="line"><span class="lineno">  419</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>  = (<a class="code hl_struct" href="struct__TMPQHeader.html">TMPQHeader</a> *)ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a515bd4fb99f5bacb557725b71c3ee3b2">HeaderData</a>;</div>
<div class="line"><span class="lineno">  420</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a146dee965bc1cb34e569e3637b6e5c82">MpqPos</a>   = ByteOffset;</div>
<div class="line"><span class="lineno">  421</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a98a7c7bef18769c1ff4a9ea917a4e4a4">FileSize</a> = FileSize;</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>            <span class="comment">// Sector size must be nonzero.</span></div>
<div class="line"><span class="lineno">  424</span>            <span class="keywordflow">if</span>(ByteOffset &gt;= FileSize || ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#aa6c9ec440342dfb5ab49bb0d0de3be19">wSectorSize</a> == 0)</div>
<div class="line"><span class="lineno">  425</span>                dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aac798118bc41679864a280a79f6449da">ERROR_BAD_FORMAT</a>;</div>
<div class="line"><span class="lineno">  426</span>        }</div>
<div class="line"><span class="lineno">  427</span>    }</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>    <span class="comment">// Fix table positions according to format</span></div>
<div class="line"><span class="lineno">  430</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  431</span>    {</div>
<div class="line"><span class="lineno">  432</span>        <span class="comment">// Dump the header</span></div>
<div class="line"><span class="lineno">  433</span><span class="comment">//      DumpMpqHeader(ha-&gt;pHeader);</span></div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>        <span class="comment">// W3x Map Protectors use the fact that War3&#39;s Storm.dll ignores the MPQ user data,</span></div>
<div class="line"><span class="lineno">  436</span>        <span class="comment">// and ignores the MPQ format version as well. The trick is to</span></div>
<div class="line"><span class="lineno">  437</span>        <span class="comment">// fake MPQ format 2, with an improper hi-word position of hash table and block table</span></div>
<div class="line"><span class="lineno">  438</span>        <span class="comment">// We can overcome such protectors by forcing opening the archive as MPQ v 1.0</span></div>
<div class="line"><span class="lineno">  439</span>        <span class="keywordflow">if</span>(dwFlags &amp; <a class="code hl_define" href="StormLib_8h.html#abc1fb88a688d62bd6c515533a783f484">MPQ_OPEN_FORCE_MPQ_V1</a>)</div>
<div class="line"><span class="lineno">  440</span>        {</div>
<div class="line"><span class="lineno">  441</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a26c350cb08d35f2ffc4e75c380ed7901">wFormatVersion</a> = <a class="code hl_define" href="StormLib_8h.html#aa45e1b9993a87e5d6cb2adf3abb6e0c3">MPQ_FORMAT_VERSION_1</a>;</div>
<div class="line"><span class="lineno">  442</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2243a0f4cd3bfcf873062421b063781a">dwHeaderSize</a> = <a class="code hl_define" href="StormLib_8h.html#ae490c625dc0aa427dcb416343535962f">MPQ_HEADER_SIZE_V1</a>;</div>
<div class="line"><span class="lineno">  443</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> |= <a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a>;</div>
<div class="line"><span class="lineno">  444</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a7583a5113bdd4a857a71bbd92c86eb6e">pUserData</a> = NULL;</div>
<div class="line"><span class="lineno">  445</span>        }</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>        <span class="comment">// Anti-overflow. If the hash table size in the header is</span></div>
<div class="line"><span class="lineno">  448</span>        <span class="comment">// higher than 0x10000000, it would overflow in 32-bit version</span></div>
<div class="line"><span class="lineno">  449</span>        <span class="comment">// Observed in the malformed Warcraft III maps</span></div>
<div class="line"><span class="lineno">  450</span>        <span class="comment">// Example map: MPQ_2016_v1_ProtectedMap_TableSizeOverflow.w3x</span></div>
<div class="line"><span class="lineno">  451</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#ad63fd2d3c6c0d1e67d4023c92b130b3b">dwBlockTableSize</a> = (ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#ad63fd2d3c6c0d1e67d4023c92b130b3b">dwBlockTableSize</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ae7aee560fb29050e6c7a2131279af2ba">BLOCK_INDEX_MASK</a>);</div>
<div class="line"><span class="lineno">  452</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a67f1869dadee712c8210f77ce69cbfa9">dwHashTableSize</a> = (ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a67f1869dadee712c8210f77ce69cbfa9">dwHashTableSize</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ae7aee560fb29050e6c7a2131279af2ba">BLOCK_INDEX_MASK</a>);</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>        <span class="comment">// Both MPQ_OPEN_NO_LISTFILE or MPQ_OPEN_NO_ATTRIBUTES trigger read only mode</span></div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">if</span>(dwFlags &amp; (<a class="code hl_define" href="StormLib_8h.html#ab0c2a5d3970ee9739abd4ff3e2a737f5">MPQ_OPEN_NO_LISTFILE</a> | <a class="code hl_define" href="StormLib_8h.html#a018cad433037d094e4b7284bcb5b3592">MPQ_OPEN_NO_ATTRIBUTES</a>))</div>
<div class="line"><span class="lineno">  456</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> |= <a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a>;</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>        <span class="comment">// Check if the caller wants to force adding listfile</span></div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordflow">if</span>(dwFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a436029ad0d396c529d41a8c9f4bd70a4">MPQ_OPEN_FORCE_LISTFILE</a>)</div>
<div class="line"><span class="lineno">  460</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> |= <a class="code hl_define" href="StormLib_8h.html#a0f1a56ed6868a60a65b59708c5b2c7d8">MPQ_FLAG_LISTFILE_FORCE</a>;</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>        <span class="comment">// StarDat.mpq from Starcraft I BETA: Enable special compression types</span></div>
<div class="line"><span class="lineno">  463</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="SFileOpenArchive_8cpp.html#a8f2dcbacbbfdbe351abbe2ebb6659fdc">IsStarcraftBetaArchive</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>))</div>
<div class="line"><span class="lineno">  464</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> |= <a class="code hl_define" href="StormLib_8h.html#abda1c3dc6af9ff2ad21e7baf0007e772">MPQ_FLAG_STARCRAFT_BETA</a>;</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>        <span class="comment">// Remember whether whis is a map for Warcraft III</span></div>
<div class="line"><span class="lineno">  467</span>        <span class="keywordflow">if</span>(MapType == <a class="code hl_enumvalue" href="StormCommon_8h.html#aad58060ffa72dbd5283893aa3360a2daa09d5607db983fa9d23422ac71502c740">MapTypeWarcraft3</a>)</div>
<div class="line"><span class="lineno">  468</span>        {</div>
<div class="line"><span class="lineno">  469</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ad49b63dce2ee9c6f774c69f22732c8b7">dwValidFileFlags</a> = <a class="code hl_define" href="StormLib_8h.html#af4f6e8446dbab55c30403ac6ee444b22">MPQ_FILE_VALID_FLAGS_W3X</a>;</div>
<div class="line"><span class="lineno">  470</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> |= <a class="code hl_define" href="StormLib_8h.html#ab22184fce52e714e8c5b81d6fd62742c">MPQ_FLAG_WAR3_MAP</a>;</div>
<div class="line"><span class="lineno">  471</span>        }</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>        <span class="comment">// If this is starcraft map, set the flag mask</span></div>
<div class="line"><span class="lineno">  474</span>        <span class="keywordflow">if</span>(MapType == <a class="code hl_enumvalue" href="StormCommon_8h.html#aad58060ffa72dbd5283893aa3360a2daa7c9a597d2c2915d250e83a9990c829d1">MapTypeStarcraft</a>)</div>
<div class="line"><span class="lineno">  475</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ad49b63dce2ee9c6f774c69f22732c8b7">dwValidFileFlags</a> = <a class="code hl_define" href="StormLib_8h.html#a34930d66007b95e0d5b90a929cc7977f">MPQ_FILE_VALID_FLAGS_SCX</a>;</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>        <span class="comment">// Set the size of file sector</span></div>
<div class="line"><span class="lineno">  478</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3f3661fec3d00a1e93ba3c2212a2e703">dwSectorSize</a> = (0x200 &lt;&lt; ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#aa6c9ec440342dfb5ab49bb0d0de3be19">wSectorSize</a>);</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>        <span class="comment">// Verify if any of the tables doesn&#39;t start beyond the end of the file</span></div>
<div class="line"><span class="lineno">  481</span>        dwErrCode = <a class="code hl_function" href="SFileOpenArchive_8cpp.html#abaf646e70602bd793bf410c865511218">VerifyMpqTablePositions</a>(ha, FileSize);</div>
<div class="line"><span class="lineno">  482</span>    }</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>    <span class="comment">// Read the hash table. Ignore the result, as hash table is no longer required</span></div>
<div class="line"><span class="lineno">  485</span>    <span class="comment">// Read HET table. Ignore the result, as HET table is no longer required</span></div>
<div class="line"><span class="lineno">  486</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  487</span>    {</div>
<div class="line"><span class="lineno">  488</span>        dwErrCode = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a3a1765e50bd7360f7341a41d767bd6f3">LoadAnyHashTable</a>(ha);</div>
<div class="line"><span class="lineno">  489</span>    }</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>    <span class="comment">// Now, build the file table. It will be built by combining</span></div>
<div class="line"><span class="lineno">  492</span>    <span class="comment">// the block table, BET table, hi-block table, (attributes) and (listfile).</span></div>
<div class="line"><span class="lineno">  493</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  494</span>    {</div>
<div class="line"><span class="lineno">  495</span>        dwErrCode = <a class="code hl_function" href="SBaseFileTable_8cpp.html#aea96b62b5dffb72998380e487f107169">BuildFileTable</a>(ha);</div>
<div class="line"><span class="lineno">  496</span>    }</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>    <span class="comment">// Load the internal listfile and include it to the file table</span></div>
<div class="line"><span class="lineno">  499</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; (dwFlags &amp; <a class="code hl_define" href="StormLib_8h.html#ab0c2a5d3970ee9739abd4ff3e2a737f5">MPQ_OPEN_NO_LISTFILE</a>) == 0)</div>
<div class="line"><span class="lineno">  500</span>    {</div>
<div class="line"><span class="lineno">  501</span>        <span class="comment">// Quick check for (listfile)</span></div>
<div class="line"><span class="lineno">  502</span>        pFileEntry = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a0f0ecaa05c2cc900064865a814a8f587">GetFileEntryLocale</a>(ha, <a class="code hl_define" href="StormLib_8h.html#ac797c1c425d999b5bc992e2e39b4169e">LISTFILE_NAME</a>, <a class="code hl_define" href="StormLib_8h.html#a1e2d59a08fba74a56a63865a6001cdfc">LANG_NEUTRAL</a>);</div>
<div class="line"><span class="lineno">  503</span>        <span class="keywordflow">if</span>(pFileEntry != NULL)</div>
<div class="line"><span class="lineno">  504</span>        {</div>
<div class="line"><span class="lineno">  505</span>            <span class="comment">// Ignore result of the operation. (listfile) is optional.</span></div>
<div class="line"><span class="lineno">  506</span>            <a class="code hl_function" href="SFileListFile_8cpp.html#ab699405208db728f480c491831904e36">SFileAddListFile</a>((<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>)ha, NULL);</div>
<div class="line"><span class="lineno">  507</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#af277e7bdab70f04a3019a18ef37a701a">dwFileFlags1</a> = pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a>;</div>
<div class="line"><span class="lineno">  508</span>        }</div>
<div class="line"><span class="lineno">  509</span>    }</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>    <span class="comment">// Load the &quot;(attributes)&quot; file and merge it to the file table</span></div>
<div class="line"><span class="lineno">  512</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; (dwFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a018cad433037d094e4b7284bcb5b3592">MPQ_OPEN_NO_ATTRIBUTES</a>) == 0 &amp;&amp; (ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#addbad71b1b3c0a952128de5e3cbd2ae7">MPQ_FLAG_BLOCK_TABLE_CUT</a>) == 0)</div>
<div class="line"><span class="lineno">  513</span>    {</div>
<div class="line"><span class="lineno">  514</span>        <span class="comment">// Quick check for (attributes)</span></div>
<div class="line"><span class="lineno">  515</span>        pFileEntry = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a0f0ecaa05c2cc900064865a814a8f587">GetFileEntryLocale</a>(ha, <a class="code hl_define" href="StormLib_8h.html#a5a4e12f2d4a5ad2426f3eb302db71feb">ATTRIBUTES_NAME</a>, <a class="code hl_define" href="StormLib_8h.html#a1e2d59a08fba74a56a63865a6001cdfc">LANG_NEUTRAL</a>);</div>
<div class="line"><span class="lineno">  516</span>        <span class="keywordflow">if</span>(pFileEntry != NULL)</div>
<div class="line"><span class="lineno">  517</span>        {</div>
<div class="line"><span class="lineno">  518</span>            <span class="comment">// Ignore result of the operation. (attributes) is optional.</span></div>
<div class="line"><span class="lineno">  519</span>            <a class="code hl_function" href="SFileAttributes_8cpp.html#a93e3148f1880f7bd17b737460de2c1ff">SAttrLoadAttributes</a>(ha);</div>
<div class="line"><span class="lineno">  520</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ae2a681db2717763a2908943706839a61">dwFileFlags2</a> = pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a>;</div>
<div class="line"><span class="lineno">  521</span>        }</div>
<div class="line"><span class="lineno">  522</span>    }</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span>    <span class="comment">// Remember whether the archive has weak signature. Only for MPQs format 1.0.</span></div>
<div class="line"><span class="lineno">  525</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  526</span>    {</div>
<div class="line"><span class="lineno">  527</span>        <span class="comment">// Quick check for (signature)</span></div>
<div class="line"><span class="lineno">  528</span>        pFileEntry = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a0f0ecaa05c2cc900064865a814a8f587">GetFileEntryLocale</a>(ha, <a class="code hl_define" href="StormLib_8h.html#ab9ccdfbc136fcd937541b27333e03159">SIGNATURE_NAME</a>, <a class="code hl_define" href="StormLib_8h.html#a1e2d59a08fba74a56a63865a6001cdfc">LANG_NEUTRAL</a>);</div>
<div class="line"><span class="lineno">  529</span>        <span class="keywordflow">if</span>(pFileEntry != NULL)</div>
<div class="line"><span class="lineno">  530</span>        {</div>
<div class="line"><span class="lineno">  531</span>            <span class="comment">// Just remember that the archive is weak-signed</span></div>
<div class="line"><span class="lineno">  532</span>            assert((pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#af6f21d7e58bf7855583c8f9667467432">MPQ_FILE_EXISTS</a>) != 0);</div>
<div class="line"><span class="lineno">  533</span>            ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ae523b14433e4a9071469133f67c3ac52">dwFileFlags3</a> = pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a>;</div>
<div class="line"><span class="lineno">  534</span>        }</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>        <span class="comment">// Finally, set the MPQ_FLAG_READ_ONLY if the MPQ was found malformed</span></div>
<div class="line"><span class="lineno">  537</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> |= (ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a4e78695275e602042f25c946a7a8fdb5">MPQ_FLAG_MALFORMED</a>) ? <a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a> : 0;</div>
<div class="line"><span class="lineno">  538</span>    }</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>    <span class="comment">// Cleanup and exit</span></div>
<div class="line"><span class="lineno">  541</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  542</span>    {</div>
<div class="line"><span class="lineno">  543</span>        <a class="code hl_function" href="FileStream_8cpp.html#ae8b75c4797726e9c5ee0b4b03bf31442">FileStream_Close</a>(pStream);</div>
<div class="line"><span class="lineno">  544</span>        <a class="code hl_function" href="SBaseCommon_8cpp.html#a8ac0edc687ba86d98e25c700d9cb0710">FreeArchiveHandle</a>(ha);</div>
<div class="line"><span class="lineno">  545</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">  546</span>        ha = NULL;</div>
<div class="line"><span class="lineno">  547</span>    }</div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span>    <span class="comment">// Free the header buffer</span></div>
<div class="line"><span class="lineno">  550</span>    <span class="keywordflow">if</span>(pbHeaderBuffer != NULL)</div>
<div class="line"><span class="lineno">  551</span>        <a class="code hl_define" href="StormCommon_8h.html#a50487dadfceefebfb0de8fa711eaf4b3">STORM_FREE</a>(pbHeaderBuffer);</div>
<div class="line"><span class="lineno">  552</span>    <span class="keywordflow">if</span>(phMpq != NULL)</div>
<div class="line"><span class="lineno">  553</span>        *phMpq = ha;</div>
<div class="line"><span class="lineno">  554</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno">  555</span>}</div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a0f0ecaa05c2cc900064865a814a8f587"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a0f0ecaa05c2cc900064865a814a8f587">GetFileEntryLocale</a></div><div class="ttdeci">TFileEntry * GetFileEntryLocale(TMPQArchive *ha, const char *szFileName, LCID lcFileLocale, LPDWORD PtrHashIndex)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l01976">SBaseFileTable.cpp:1976</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a3a1765e50bd7360f7341a41d767bd6f3"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a3a1765e50bd7360f7341a41d767bd6f3">LoadAnyHashTable</a></div><div class="ttdeci">DWORD LoadAnyHashTable(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02486">SBaseFileTable.cpp:2486</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_abdd52c536dacbdd8b135c90047d9231b"><div class="ttname"><a href="SBaseFileTable_8cpp.html#abdd52c536dacbdd8b135c90047d9231b">ConvertMpqHeaderToFormat4</a></div><div class="ttdeci">DWORD ConvertMpqHeaderToFormat4(TMPQArchive *ha, ULONGLONG ByteOffset, ULONGLONG FileSize, DWORD dwFlags, MTYPE MapType)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l00430">SBaseFileTable.cpp:430</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_aea96b62b5dffb72998380e487f107169"><div class="ttname"><a href="SBaseFileTable_8cpp.html#aea96b62b5dffb72998380e487f107169">BuildFileTable</a></div><div class="ttdeci">DWORD BuildFileTable(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02696">SBaseFileTable.cpp:2696</a></div></div>
<div class="ttc" id="aSBaseSubTypes_8cpp_html_a3f4c58392fd64b2798861704efa0e513"><div class="ttname"><a href="SBaseSubTypes_8cpp.html#a3f4c58392fd64b2798861704efa0e513">ConvertMpkHeaderToFormat4</a></div><div class="ttdeci">DWORD ConvertMpkHeaderToFormat4(TMPQArchive *ha, ULONGLONG FileSize, DWORD dwFlags)</div><div class="ttdef"><b>Definition</b> <a href="SBaseSubTypes_8cpp_source.html#l00390">SBaseSubTypes.cpp:390</a></div></div>
<div class="ttc" id="aSFileAttributes_8cpp_html_a93e3148f1880f7bd17b737460de2c1ff"><div class="ttname"><a href="SFileAttributes_8cpp.html#a93e3148f1880f7bd17b737460de2c1ff">SAttrLoadAttributes</a></div><div class="ttdeci">DWORD SAttrLoadAttributes(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SFileAttributes_8cpp_source.html#l00360">SFileAttributes.cpp:360</a></div></div>
<div class="ttc" id="aSFileOpenArchive_8cpp_html_a508b4e88c10d444d73fb78df7cc4d951"><div class="ttname"><a href="SFileOpenArchive_8cpp.html#a508b4e88c10d444d73fb78df7cc4d951">CheckMapType</a></div><div class="ttdeci">static MTYPE CheckMapType(LPCTSTR szFileName, LPBYTE pbHeaderBuffer, size_t cbHeaderBuffer)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00025">SFileOpenArchive.cpp:25</a></div></div>
<div class="ttc" id="aSFileOpenArchive_8cpp_html_a7b3601cc33fe92757335965d4d572bd0"><div class="ttname"><a href="SFileOpenArchive_8cpp.html#a7b3601cc33fe92757335965d4d572bd0">IsValidMpqUserData</a></div><div class="ttdeci">static TMPQUserData * IsValidMpqUserData(ULONGLONG ByteOffset, ULONGLONG FileSize, void *pvUserData)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00092">SFileOpenArchive.cpp:92</a></div></div>
<div class="ttc" id="aSFileOpenArchive_8cpp_html_a7bd3ecf2e7ce4f4f50bd7752493c1476"><div class="ttname"><a href="SFileOpenArchive_8cpp.html#a7bd3ecf2e7ce4f4f50bd7752493c1476">HEADER_SEARCH_BUFFER_SIZE</a></div><div class="ttdeci">#define HEADER_SEARCH_BUFFER_SIZE</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00020">SFileOpenArchive.cpp:20</a></div></div>
<div class="ttc" id="aSFileOpenArchive_8cpp_html_a8f2dcbacbbfdbe351abbe2ebb6659fdc"><div class="ttname"><a href="SFileOpenArchive_8cpp.html#a8f2dcbacbbfdbe351abbe2ebb6659fdc">IsStarcraftBetaArchive</a></div><div class="ttdeci">static bool IsStarcraftBetaArchive(TMPQHeader *pHeader)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00078">SFileOpenArchive.cpp:78</a></div></div>
<div class="ttc" id="aSFileOpenArchive_8cpp_html_abaf646e70602bd793bf410c865511218"><div class="ttname"><a href="SFileOpenArchive_8cpp.html#abaf646e70602bd793bf410c865511218">VerifyMpqTablePositions</a></div><div class="ttdeci">static DWORD VerifyMpqTablePositions(TMPQArchive *ha, ULONGLONG FileSize)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00120">SFileOpenArchive.cpp:120</a></div></div>
<div class="ttc" id="aStormCommon_8h_html_a5f6561b39d152f389623dadf4b239557"><div class="ttname"><a href="StormCommon_8h.html#a5f6561b39d152f389623dadf4b239557">MTYPE</a></div><div class="ttdeci">enum _MTYPE MTYPE</div></div>
<div class="ttc" id="aStormCommon_8h_html_aad58060ffa72dbd5283893aa3360a2daa09d5607db983fa9d23422ac71502c740"><div class="ttname"><a href="StormCommon_8h.html#aad58060ffa72dbd5283893aa3360a2daa09d5607db983fa9d23422ac71502c740">MapTypeWarcraft3</a></div><div class="ttdeci">@ MapTypeWarcraft3</div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00085">StormCommon.h:85</a></div></div>
<div class="ttc" id="aStormCommon_8h_html_aad58060ffa72dbd5283893aa3360a2daa16247e8586a7c5d73e9ee3f3cf9f7d8c"><div class="ttname"><a href="StormCommon_8h.html#aad58060ffa72dbd5283893aa3360a2daa16247e8586a7c5d73e9ee3f3cf9f7d8c">MapTypeNotChecked</a></div><div class="ttdeci">@ MapTypeNotChecked</div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00081">StormCommon.h:81</a></div></div>
<div class="ttc" id="aStormCommon_8h_html_aad58060ffa72dbd5283893aa3360a2daa7c9a597d2c2915d250e83a9990c829d1"><div class="ttname"><a href="StormCommon_8h.html#aad58060ffa72dbd5283893aa3360a2daa7c9a597d2c2915d250e83a9990c829d1">MapTypeStarcraft</a></div><div class="ttdeci">@ MapTypeStarcraft</div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00084">StormCommon.h:84</a></div></div>
<div class="ttc" id="aStormCommon_8h_html_aad58060ffa72dbd5283893aa3360a2daabcc04b695404f4b557fc25bcf69b130e"><div class="ttname"><a href="StormCommon_8h.html#aad58060ffa72dbd5283893aa3360a2daabcc04b695404f4b557fc25bcf69b130e">MapTypeAviFile</a></div><div class="ttdeci">@ MapTypeAviFile</div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00083">StormCommon.h:83</a></div></div>
<div class="ttc" id="aStormCommon_8h_html_aad58060ffa72dbd5283893aa3360a2daafd58f5dc72e7b702562892f48693306d"><div class="ttname"><a href="StormCommon_8h.html#aad58060ffa72dbd5283893aa3360a2daafd58f5dc72e7b702562892f48693306d">MapTypeNotRecognized</a></div><div class="ttdeci">@ MapTypeNotRecognized</div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00082">StormCommon.h:82</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a02144c034d87bb5bfa9c49eb78eea3cb"><div class="ttname"><a href="StormLib_8h.html#a02144c034d87bb5bfa9c49eb78eea3cb">MPQ_OPEN_PATCH</a></div><div class="ttdeci">#define MPQ_OPEN_PATCH</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00334">StormLib.h:334</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a09a1921f8ee78b95d6c06042f1f8b6e9"><div class="ttname"><a href="StormLib_8h.html#a09a1921f8ee78b95d6c06042f1f8b6e9">MPQ_OPEN_NO_HEADER_SEARCH</a></div><div class="ttdeci">#define MPQ_OPEN_NO_HEADER_SEARCH</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00331">StormLib.h:331</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a1e2d59a08fba74a56a63865a6001cdfc"><div class="ttname"><a href="StormLib_8h.html#a1e2d59a08fba74a56a63865a6001cdfc">LANG_NEUTRAL</a></div><div class="ttdeci">#define LANG_NEUTRAL</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00401">StormLib.h:401</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a2252bbf0465c58ef06b2dea7a5015b0d"><div class="ttname"><a href="StormLib_8h.html#a2252bbf0465c58ef06b2dea7a5015b0d">MPQ_FLAG_PATCH</a></div><div class="ttdeci">#define MPQ_FLAG_PATCH</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00194">StormLib.h:194</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a34930d66007b95e0d5b90a929cc7977f"><div class="ttname"><a href="StormLib_8h.html#a34930d66007b95e0d5b90a929cc7977f">MPQ_FILE_VALID_FLAGS_SCX</a></div><div class="ttdeci">#define MPQ_FILE_VALID_FLAGS_SCX</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00253">StormLib.h:253</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a436029ad0d396c529d41a8c9f4bd70a4"><div class="ttname"><a href="StormLib_8h.html#a436029ad0d396c529d41a8c9f4bd70a4">MPQ_OPEN_FORCE_LISTFILE</a></div><div class="ttdeci">#define MPQ_OPEN_FORCE_LISTFILE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00335">StormLib.h:335</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a4e2e3020558d60961dfcc8ef291b5a23"><div class="ttname"><a href="StormLib_8h.html#a4e2e3020558d60961dfcc8ef291b5a23">ID_MPQ_USERDATA</a></div><div class="ttdeci">#define ID_MPQ_USERDATA</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00150">StormLib.h:150</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a4e78695275e602042f25c946a7a8fdb5"><div class="ttname"><a href="StormLib_8h.html#a4e78695275e602042f25c946a7a8fdb5">MPQ_FLAG_MALFORMED</a></div><div class="ttdeci">#define MPQ_FLAG_MALFORMED</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00189">StormLib.h:189</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a5a1367b6d80332535b570badd03ef220"><div class="ttname"><a href="StormLib_8h.html#a5a1367b6d80332535b570badd03ef220">ERROR_AVI_FILE</a></div><div class="ttdeci">#define ERROR_AVI_FILE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00153">StormLib.h:153</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a67a24865bfa8b31f56ed8ebc558f2677"><div class="ttname"><a href="StormLib_8h.html#a67a24865bfa8b31f56ed8ebc558f2677">MPQ_OPEN_CHECK_SECTOR_CRC</a></div><div class="ttdeci">#define MPQ_OPEN_CHECK_SECTOR_CRC</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00333">StormLib.h:333</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a77521bc89504101b3294646ad1b462c0"><div class="ttname"><a href="StormLib_8h.html#a77521bc89504101b3294646ad1b462c0">STREAM_FLAG_USE_BITMAP</a></div><div class="ttdeci">#define STREAM_FLAG_USE_BITMAP</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00323">StormLib.h:323</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a9f173a8fcf0edc58cb2f8a6d41739e86"><div class="ttname"><a href="StormLib_8h.html#a9f173a8fcf0edc58cb2f8a6d41739e86">STREAM_FLAGS_MASK</a></div><div class="ttdeci">#define STREAM_FLAGS_MASK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00327">StormLib.h:327</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aa95c447187bfeb909739ad2c64158d2e"><div class="ttname"><a href="StormLib_8h.html#aa95c447187bfeb909739ad2c64158d2e">MPQ_FLAG_CHECK_SECTOR_CRC</a></div><div class="ttdeci">#define MPQ_FLAG_CHECK_SECTOR_CRC</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00192">StormLib.h:192</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ab22184fce52e714e8c5b81d6fd62742c"><div class="ttname"><a href="StormLib_8h.html#ab22184fce52e714e8c5b81d6fd62742c">MPQ_FLAG_WAR3_MAP</a></div><div class="ttdeci">#define MPQ_FLAG_WAR3_MAP</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00195">StormLib.h:195</a></div></div>
<div class="ttc" id="aStormLib_8h_html_abc1fb88a688d62bd6c515533a783f484"><div class="ttname"><a href="StormLib_8h.html#abc1fb88a688d62bd6c515533a783f484">MPQ_OPEN_FORCE_MPQ_V1</a></div><div class="ttdeci">#define MPQ_OPEN_FORCE_MPQ_V1</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00332">StormLib.h:332</a></div></div>
<div class="ttc" id="aStormLib_8h_html_abda1c3dc6af9ff2ad21e7baf0007e772"><div class="ttname"><a href="StormLib_8h.html#abda1c3dc6af9ff2ad21e7baf0007e772">MPQ_FLAG_STARCRAFT_BETA</a></div><div class="ttdeci">#define MPQ_FLAG_STARCRAFT_BETA</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00196">StormLib.h:196</a></div></div>
<div class="ttc" id="aStormLib_8h_html_abe07659fac241778a323f2f9cfec7863"><div class="ttname"><a href="StormLib_8h.html#abe07659fac241778a323f2f9cfec7863">ID_MPK</a></div><div class="ttdeci">#define ID_MPK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00151">StormLib.h:151</a></div></div>
<div class="ttc" id="aStormLib_8h_html_addbad71b1b3c0a952128de5e3cbd2ae7"><div class="ttname"><a href="StormLib_8h.html#addbad71b1b3c0a952128de5e3cbd2ae7">MPQ_FLAG_BLOCK_TABLE_CUT</a></div><div class="ttdeci">#define MPQ_FLAG_BLOCK_TABLE_CUT</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00191">StormLib.h:191</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ae490c625dc0aa427dcb416343535962f"><div class="ttname"><a href="StormLib_8h.html#ae490c625dc0aa427dcb416343535962f">MPQ_HEADER_SIZE_V1</a></div><div class="ttdeci">#define MPQ_HEADER_SIZE_V1</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00501">StormLib.h:501</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ae5130639f290c0bd6cd90291d2e7bd68"><div class="ttname"><a href="StormLib_8h.html#ae5130639f290c0bd6cd90291d2e7bd68">ERROR_FAKE_MPQ_HEADER</a></div><div class="ttdeci">#define ERROR_FAKE_MPQ_HEADER</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00162">StormLib.h:162</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ae7aee560fb29050e6c7a2131279af2ba"><div class="ttname"><a href="StormLib_8h.html#ae7aee560fb29050e6c7a2131279af2ba">BLOCK_INDEX_MASK</a></div><div class="ttdeci">#define BLOCK_INDEX_MASK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00263">StormLib.h:263</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a4885cc151894581f130c677ffdefeb6b"><div class="ttname"><a href="StormPort_8h.html#a4885cc151894581f130c677ffdefeb6b">BSWAP_INT32_UNSIGNED</a></div><div class="ttdeci">#define BSWAP_INT32_UNSIGNED(a)</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00430">StormPort.h:430</a></div></div>
<div class="ttc" id="aStormPort_8h_html_aac798118bc41679864a280a79f6449da"><div class="ttname"><a href="StormPort_8h.html#aac798118bc41679864a280a79f6449da">ERROR_BAD_FORMAT</a></div><div class="ttdeci">#define ERROR_BAD_FORMAT</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00412">StormPort.h:412</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a8b031afa4f88b4b3705c274a0b5b4f73_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a8b031afa4f88b4b3705c274a0b5b4f73_icgraph.svg" width="100%" height="463"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af9090bd528ef09a1c58bdb3931be5ec3" name="af9090bd528ef09a1c58bdb3931be5ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9090bd528ef09a1c58bdb3931be5ec3">&#9670;&#160;</a></span>SFileOpenFileEx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileOpenFileEx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwSearchScope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *&#160;</td>
          <td class="paramname"><em>phFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileOpenFileEx_8cpp_source.html#l00232">232</a> of file <a class="el" href="SFileOpenFileEx_8cpp_source.html">SFileOpenFileEx.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  233</span>{</div>
<div class="line"><span class="lineno">  234</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = <a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq);</div>
<div class="line"><span class="lineno">  235</span>    <a class="code hl_struct" href="struct__TFileEntry.html">TFileEntry</a>  * pFileEntry = NULL;</div>
<div class="line"><span class="lineno">  236</span>    <a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a>    * hf = NULL;</div>
<div class="line"><span class="lineno">  237</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwHashIndex = <a class="code hl_define" href="StormLib_8h.html#add57a74c393d7762e00da5327cff55b5">HASH_ENTRY_FREE</a>;</div>
<div class="line"><span class="lineno">  238</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwFileIndex = 0;</div>
<div class="line"><span class="lineno">  239</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordtype">bool</span> bOpenByIndex = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>    <span class="comment">// Don&#39;t accept NULL pointer to file handle</span></div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordflow">if</span>(szFileName == NULL || *szFileName == 0)</div>
<div class="line"><span class="lineno">  244</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>    <span class="comment">// When opening a file from MPQ, the handle must be valid</span></div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">if</span>(dwSearchScope != <a class="code hl_define" href="StormLib_8h.html#a52c689d0a82d6fd9b5c71519d1ef95ea">SFILE_OPEN_LOCAL_FILE</a> &amp;&amp; ha == NULL)</div>
<div class="line"><span class="lineno">  248</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>    <span class="comment">// When not checking for existence, the pointer to file handle must be valid</span></div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordflow">if</span>(dwSearchScope != <a class="code hl_define" href="StormLib_8h.html#a05f421e24b84a6adf09346b8c023bfbf">SFILE_OPEN_CHECK_EXISTS</a> &amp;&amp; PtrFile == NULL)</div>
<div class="line"><span class="lineno">  252</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <span class="comment">// Prepare the file opening</span></div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  256</span>    {</div>
<div class="line"><span class="lineno">  257</span>        <span class="keywordflow">switch</span>(dwSearchScope)</div>
<div class="line"><span class="lineno">  258</span>        {</div>
<div class="line"><span class="lineno">  259</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#aa0487a431f6f1a0104457adccdff675f">SFILE_OPEN_FROM_MPQ</a>:</div>
<div class="line"><span class="lineno">  260</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#a1624257a38d19c0d19bb4af7edbec9c7">SFILE_OPEN_BASE_FILE</a>:</div>
<div class="line"><span class="lineno">  261</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#a05f421e24b84a6adf09346b8c023bfbf">SFILE_OPEN_CHECK_EXISTS</a>:</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>                <span class="comment">// If this MPQ has no patches, open the file from this MPQ directly</span></div>
<div class="line"><span class="lineno">  264</span>                <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aa2646402b5718a74c1908745ea6a46cd">haPatch</a> == NULL || dwSearchScope == <a class="code hl_define" href="StormLib_8h.html#a1624257a38d19c0d19bb4af7edbec9c7">SFILE_OPEN_BASE_FILE</a>)</div>
<div class="line"><span class="lineno">  265</span>                {</div>
<div class="line"><span class="lineno">  266</span>                    pFileEntry = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a0f0ecaa05c2cc900064865a814a8f587">GetFileEntryLocale</a>(ha, szFileName, <a class="code hl_variable" href="SBaseCommon_8cpp.html#a45e71286a36272815b1bf6d4f09aab9a">g_lcFileLocale</a>, &amp;dwHashIndex);</div>
<div class="line"><span class="lineno">  267</span>                }</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>                <span class="comment">// If this MPQ is a patched archive, open the file as patched</span></div>
<div class="line"><span class="lineno">  270</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  271</span>                {</div>
<div class="line"><span class="lineno">  272</span>                    <span class="keywordflow">return</span> <a class="code hl_function" href="SFileOpenFileEx_8cpp.html#a635f17731b7e1bb6ea1c34e26c6711b3">OpenPatchedFile</a>(hMpq, szFileName, PtrFile);</div>
<div class="line"><span class="lineno">  273</span>                }</div>
<div class="line"><span class="lineno">  274</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#ac2bfdfbe63dbc19f7c508d3eaebef8aa">SFILE_OPEN_ANY_LOCALE</a>:</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>                <span class="comment">// This open option is reserved for opening MPQ internal listfile.</span></div>
<div class="line"><span class="lineno">  279</span>                <span class="comment">// No argument validation. Tries to open file with neutral locale first,</span></div>
<div class="line"><span class="lineno">  280</span>                <span class="comment">// then any other available.</span></div>
<div class="line"><span class="lineno">  281</span>                pFileEntry = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a0f0ecaa05c2cc900064865a814a8f587">GetFileEntryLocale</a>(ha, szFileName, 0, &amp;dwHashIndex);</div>
<div class="line"><span class="lineno">  282</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#a52c689d0a82d6fd9b5c71519d1ef95ea">SFILE_OPEN_LOCAL_FILE</a>:</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>                <span class="comment">// Open a local file</span></div>
<div class="line"><span class="lineno">  287</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileOpenFileEx_8cpp.html#aba68fad9baf7899050fb85f763186596">OpenLocalFile</a>(szFileName, PtrFile);</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>                <span class="comment">// Don&#39;t accept any other value</span></div>
<div class="line"><span class="lineno">  292</span>                dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  293</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  294</span>        }</div>
<div class="line"><span class="lineno">  295</span>    }</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    <span class="comment">// Check whether the file really exists in the MPQ</span></div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  299</span>    {</div>
<div class="line"><span class="lineno">  300</span>        <span class="comment">// If we didn&#39;t find the file, try to open it using pseudo file name (&quot;File</span></div>
<div class="line"><span class="lineno">  301</span>        <span class="keywordflow">if</span> (pFileEntry == NULL || (pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#af6f21d7e58bf7855583c8f9667467432">MPQ_FILE_EXISTS</a>) == 0)</div>
<div class="line"><span class="lineno">  302</span>        {</div>
<div class="line"><span class="lineno">  303</span>            <span class="comment">// Check the pseudo-file name (&quot;File00000001.ext&quot;)</span></div>
<div class="line"><span class="lineno">  304</span>            <span class="keywordflow">if</span> ((bOpenByIndex = <a class="code hl_function" href="SBaseCommon_8cpp.html#ad01c4c290fa6caebc77053dbc12c1070">IsPseudoFileName</a>(szFileName, &amp;dwFileIndex)) == <span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  305</span>            {</div>
<div class="line"><span class="lineno">  306</span>                <span class="comment">// Get the file entry for the file</span></div>
<div class="line"><span class="lineno">  307</span>                <span class="keywordflow">if</span> (dwFileIndex &lt; ha-&gt;dwFileTableSize)</div>
<div class="line"><span class="lineno">  308</span>                {</div>
<div class="line"><span class="lineno">  309</span>                    pFileEntry = ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a82a7283606d9775df50cb1c683280db1">pFileTable</a> + dwFileIndex;</div>
<div class="line"><span class="lineno">  310</span>                }</div>
<div class="line"><span class="lineno">  311</span>            }</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>            <span class="comment">// Still not found?</span></div>
<div class="line"><span class="lineno">  314</span>            <span class="keywordflow">if</span> (pFileEntry == NULL)</div>
<div class="line"><span class="lineno">  315</span>            {</div>
<div class="line"><span class="lineno">  316</span>                dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aecc8b368d5ba0386b219fdd6a916b0b2">ERROR_FILE_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  317</span>            }</div>
<div class="line"><span class="lineno">  318</span>        }</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>        <span class="comment">// Perform some checks of invalid files</span></div>
<div class="line"><span class="lineno">  321</span>        <span class="keywordflow">if</span> (pFileEntry != NULL)</div>
<div class="line"><span class="lineno">  322</span>        {</div>
<div class="line"><span class="lineno">  323</span>            <span class="comment">// MPQ protectors use insanely amount of fake files, often with very high size.</span></div>
<div class="line"><span class="lineno">  324</span>            <span class="comment">// We won&#39;t open any files whose compressed size is bigger than archive size</span></div>
<div class="line"><span class="lineno">  325</span>            <span class="comment">// If the file is not compressed, its size cannot be bigger than archive size</span></div>
<div class="line"><span class="lineno">  326</span>            <span class="keywordflow">if</span> ((pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a16951666146d61c988c6d7155493be82">MPQ_FILE_COMPRESS_MASK</a>) == 0 &amp;&amp; (pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#ac1d03293cafba09c581d1ce3b20cce11">dwFileSize</a> &gt; ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a98a7c7bef18769c1ff4a9ea917a4e4a4">FileSize</a>))</div>
<div class="line"><span class="lineno">  327</span>            {</div>
<div class="line"><span class="lineno">  328</span>                dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a16efe2101191997f3ac8f2e7bb7894b8">ERROR_FILE_CORRUPT</a>;</div>
<div class="line"><span class="lineno">  329</span>                pFileEntry = NULL;</div>
<div class="line"><span class="lineno">  330</span>            }</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>            <span class="comment">// Ignore unknown loading flags (example: MPQ_2016_v1_WME4_4.w3x)</span></div>
<div class="line"><span class="lineno">  333</span><span class="comment">//          if(pFileEntry-&gt;dwFlags &amp; ~MPQ_FILE_VALID_FLAGS)</span></div>
<div class="line"><span class="lineno">  334</span><span class="comment">//          {</span></div>
<div class="line"><span class="lineno">  335</span><span class="comment">//              dwErrCode = ERROR_NOT_SUPPORTED;</span></div>
<div class="line"><span class="lineno">  336</span><span class="comment">//              pFileEntry = NULL;</span></div>
<div class="line"><span class="lineno">  337</span><span class="comment">//          }</span></div>
<div class="line"><span class="lineno">  338</span>        }</div>
<div class="line"><span class="lineno">  339</span>    }</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>    <span class="comment">// Did the caller just wanted to know if the file exists?</span></div>
<div class="line"><span class="lineno">  342</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; dwSearchScope != <a class="code hl_define" href="StormLib_8h.html#a05f421e24b84a6adf09346b8c023bfbf">SFILE_OPEN_CHECK_EXISTS</a>)</div>
<div class="line"><span class="lineno">  343</span>    {</div>
<div class="line"><span class="lineno">  344</span>        <span class="comment">// Allocate file handle</span></div>
<div class="line"><span class="lineno">  345</span>        hf = <a class="code hl_function" href="SBaseCommon_8cpp.html#aa9c53668f510ba9aef9a74859368104f">CreateFileHandle</a>(ha, pFileEntry);</div>
<div class="line"><span class="lineno">  346</span>        <span class="keywordflow">if</span>(hf != NULL)</div>
<div class="line"><span class="lineno">  347</span>        {</div>
<div class="line"><span class="lineno">  348</span>            <span class="comment">// Get the hash index for the file</span></div>
<div class="line"><span class="lineno">  349</span>            <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ad3ec9127fcae2cd440073adbc3f21fba">pHashTable</a> != NULL &amp;&amp; dwHashIndex == <a class="code hl_define" href="StormLib_8h.html#add57a74c393d7762e00da5327cff55b5">HASH_ENTRY_FREE</a>)</div>
<div class="line"><span class="lineno">  350</span>                dwHashIndex = <a class="code hl_function" href="SFileOpenFileEx_8cpp.html#a759a798a7c2b5dd6c08cc7325e543b54">FindHashIndex</a>(ha, dwFileIndex);</div>
<div class="line"><span class="lineno">  351</span>            <span class="keywordflow">if</span>(dwHashIndex != <a class="code hl_define" href="StormLib_8h.html#add57a74c393d7762e00da5327cff55b5">HASH_ENTRY_FREE</a>)</div>
<div class="line"><span class="lineno">  352</span>                hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#ac47b0ac68412a48e7f22fcb0257ba3b9">pHashEntry</a> = ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ad3ec9127fcae2cd440073adbc3f21fba">pHashTable</a> + dwHashIndex;</div>
<div class="line"><span class="lineno">  353</span>            hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#adaf88b7bacc3eb11f3fe7b9fb53c73af">dwHashIndex</a> = dwHashIndex;</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>            <span class="comment">// If the MPQ has sector CRC enabled, enable if for the file</span></div>
<div class="line"><span class="lineno">  356</span>            <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#aa95c447187bfeb909739ad2c64158d2e">MPQ_FLAG_CHECK_SECTOR_CRC</a>)</div>
<div class="line"><span class="lineno">  357</span>                hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a7c3ebe367c666981a04423d16c28ef2a">bCheckSectorCRCs</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>            <span class="comment">// If we know the real file name, copy it to the file entry</span></div>
<div class="line"><span class="lineno">  360</span>            <span class="keywordflow">if</span>(bOpenByIndex == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  361</span>            {</div>
<div class="line"><span class="lineno">  362</span>                <span class="comment">// If there is no file name yet, allocate it</span></div>
<div class="line"><span class="lineno">  363</span>                <a class="code hl_function" href="SBaseFileTable_8cpp.html#a551f6e01e95accafb0042ae9b8d81e61">AllocateFileName</a>(ha, pFileEntry, szFileName);</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>                <span class="comment">// If the file is encrypted, we should detect the file key</span></div>
<div class="line"><span class="lineno">  366</span>                <span class="keywordflow">if</span>(pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a08fa41196410aea4c03e8e9210cc6606">MPQ_FILE_ENCRYPTED</a>)</div>
<div class="line"><span class="lineno">  367</span>                {</div>
<div class="line"><span class="lineno">  368</span>                    hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8ab42b6a429f382c93bb79b413541ab6">dwFileKey</a> = <a class="code hl_function" href="SBaseCommon_8cpp.html#af48f792817421c6ae782d3ea4f6e8772">DecryptFileKey</a>(szFileName,</div>
<div class="line"><span class="lineno">  369</span>                                                   pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#a4aa00b411c027d71b59b61d31025397a">ByteOffset</a>,</div>
<div class="line"><span class="lineno">  370</span>                                                   pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#ac1d03293cafba09c581d1ce3b20cce11">dwFileSize</a>,</div>
<div class="line"><span class="lineno">  371</span>                                                   pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a>);</div>
<div class="line"><span class="lineno">  372</span>                }</div>
<div class="line"><span class="lineno">  373</span>            }</div>
<div class="line"><span class="lineno">  374</span>        }</div>
<div class="line"><span class="lineno">  375</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  376</span>        {</div>
<div class="line"><span class="lineno">  377</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a0e8ed8133680d2d6b8909e71b8048307">ERROR_NOT_ENOUGH_MEMORY</a>;</div>
<div class="line"><span class="lineno">  378</span>        }</div>
<div class="line"><span class="lineno">  379</span>    }</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>    <span class="comment">// Give the file entry</span></div>
<div class="line"><span class="lineno">  382</span>    <span class="keywordflow">if</span>(PtrFile != NULL)</div>
<div class="line"><span class="lineno">  383</span>        PtrFile[0] = hf;</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    <span class="comment">// Return error code</span></div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  387</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">  388</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno">  389</span>}</div>
<div class="ttc" id="aSBaseCommon_8cpp_html_aa9c53668f510ba9aef9a74859368104f"><div class="ttname"><a href="SBaseCommon_8cpp.html#aa9c53668f510ba9aef9a74859368104f">CreateFileHandle</a></div><div class="ttdeci">TMPQFile * CreateFileHandle(TMPQArchive *ha, TFileEntry *pFileEntry)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00920">SBaseCommon.cpp:920</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_af48f792817421c6ae782d3ea4f6e8772"><div class="ttname"><a href="SBaseCommon_8cpp.html#af48f792817421c6ae782d3ea4f6e8772">DecryptFileKey</a></div><div class="ttdeci">DWORD DecryptFileKey(const char *szFileName, ULONGLONG MpqPos, DWORD dwFileSize, DWORD dwFlags)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00685">SBaseCommon.cpp:685</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a551f6e01e95accafb0042ae9b8d81e61"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a551f6e01e95accafb0042ae9b8d81e61">AllocateFileName</a></div><div class="ttdeci">void AllocateFileName(TMPQArchive *ha, TFileEntry *pFileEntry, const char *szFileName)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02040">SBaseFileTable.cpp:2040</a></div></div>
<div class="ttc" id="aSFileOpenFileEx_8cpp_html_a635f17731b7e1bb6ea1c34e26c6711b3"><div class="ttname"><a href="SFileOpenFileEx_8cpp.html#a635f17731b7e1bb6ea1c34e26c6711b3">OpenPatchedFile</a></div><div class="ttdeci">bool OpenPatchedFile(HANDLE hMpq, const char *szFileName, HANDLE *PtrFile)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenFileEx_8cpp_source.html#l00102">SFileOpenFileEx.cpp:102</a></div></div>
<div class="ttc" id="aSFileOpenFileEx_8cpp_html_a759a798a7c2b5dd6c08cc7325e543b54"><div class="ttname"><a href="SFileOpenFileEx_8cpp.html#a759a798a7c2b5dd6c08cc7325e543b54">FindHashIndex</a></div><div class="ttdeci">static DWORD FindHashIndex(TMPQArchive *ha, DWORD dwFileIndex)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenFileEx_8cpp_source.html#l00019">SFileOpenFileEx.cpp:19</a></div></div>
<div class="ttc" id="aSFileOpenFileEx_8cpp_html_aba68fad9baf7899050fb85f763186596"><div class="ttname"><a href="SFileOpenFileEx_8cpp.html#aba68fad9baf7899050fb85f763186596">OpenLocalFile</a></div><div class="ttdeci">static bool OpenLocalFile(const char *szFileName, HANDLE *PtrFile)</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenFileEx_8cpp_source.html#l00071">SFileOpenFileEx.cpp:71</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a1624257a38d19c0d19bb4af7edbec9c7"><div class="ttname"><a href="StormLib_8h.html#a1624257a38d19c0d19bb4af7edbec9c7">SFILE_OPEN_BASE_FILE</a></div><div class="ttdeci">#define SFILE_OPEN_BASE_FILE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00182">StormLib.h:182</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a16951666146d61c988c6d7155493be82"><div class="ttname"><a href="StormLib_8h.html#a16951666146d61c988c6d7155493be82">MPQ_FILE_COMPRESS_MASK</a></div><div class="ttdeci">#define MPQ_FILE_COMPRESS_MASK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00229">StormLib.h:229</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a52c689d0a82d6fd9b5c71519d1ef95ea"><div class="ttname"><a href="StormLib_8h.html#a52c689d0a82d6fd9b5c71519d1ef95ea">SFILE_OPEN_LOCAL_FILE</a></div><div class="ttdeci">#define SFILE_OPEN_LOCAL_FILE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00184">StormLib.h:184</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aa0487a431f6f1a0104457adccdff675f"><div class="ttname"><a href="StormLib_8h.html#aa0487a431f6f1a0104457adccdff675f">SFILE_OPEN_FROM_MPQ</a></div><div class="ttdeci">#define SFILE_OPEN_FROM_MPQ</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00180">StormLib.h:180</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ac2bfdfbe63dbc19f7c508d3eaebef8aa"><div class="ttname"><a href="StormLib_8h.html#ac2bfdfbe63dbc19f7c508d3eaebef8aa">SFILE_OPEN_ANY_LOCALE</a></div><div class="ttdeci">#define SFILE_OPEN_ANY_LOCALE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00183">StormLib.h:183</a></div></div>
<div class="ttc" id="aStormLib_8h_html_add57a74c393d7762e00da5327cff55b5"><div class="ttname"><a href="StormLib_8h.html#add57a74c393d7762e00da5327cff55b5">HASH_ENTRY_FREE</a></div><div class="ttdeci">#define HASH_ENTRY_FREE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00170">StormLib.h:170</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_af9090bd528ef09a1c58bdb3931be5ec3_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_af9090bd528ef09a1c58bdb3931be5ec3_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6daebdc66320d44284e960bbff33e886" name="a6daebdc66320d44284e960bbff33e886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6daebdc66320d44284e960bbff33e886">&#9670;&#160;</a></span>SFileOpenPatchArchive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileOpenPatchArchive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szPatchMpqName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szPatchPathPrefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFilePatchArchives_8cpp_source.html#l01088">1088</a> of file <a class="el" href="SFilePatchArchives_8cpp_source.html">SFilePatchArchives.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1093</span>{</div>
<div class="line"><span class="lineno"> 1094</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * haPatch;</div>
<div class="line"><span class="lineno"> 1095</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno"> 1096</span>    <a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hPatchMpq = NULL;</div>
<div class="line"><span class="lineno"> 1097</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 1098</span> </div>
<div class="line"><span class="lineno"> 1099</span>    <span class="comment">// Keep compiler happy</span></div>
<div class="line"><span class="lineno"> 1100</span>    dwFlags = dwFlags;</div>
<div class="line"><span class="lineno"> 1101</span> </div>
<div class="line"><span class="lineno"> 1102</span>    <span class="comment">// Verify input parameters</span></div>
<div class="line"><span class="lineno"> 1103</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno"> 1104</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno"> 1105</span>    <span class="keywordflow">if</span>(szPatchMpqName == NULL || *szPatchMpqName == 0)</div>
<div class="line"><span class="lineno"> 1106</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno"> 1107</span> </div>
<div class="line"><span class="lineno"> 1108</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1109</span>    <span class="comment">// We don&#39;t allow adding patches to archives that have been open for write</span></div>
<div class="line"><span class="lineno"> 1110</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1111</span>    <span class="comment">// Error scenario:</span></div>
<div class="line"><span class="lineno"> 1112</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1113</span>    <span class="comment">// 1) Open archive for writing</span></div>
<div class="line"><span class="lineno"> 1114</span>    <span class="comment">// 2) Modify or replace a file</span></div>
<div class="line"><span class="lineno"> 1115</span>    <span class="comment">// 3) Add patch archive to the opened MPQ</span></div>
<div class="line"><span class="lineno"> 1116</span>    <span class="comment">// 4) Read patched file</span></div>
<div class="line"><span class="lineno"> 1117</span>    <span class="comment">// 5) Now what ?</span></div>
<div class="line"><span class="lineno"> 1118</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1119</span> </div>
<div class="line"><span class="lineno"> 1120</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 1121</span>    {</div>
<div class="line"><span class="lineno"> 1122</span>        <span class="keywordflow">if</span>(!(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a>))</div>
<div class="line"><span class="lineno"> 1123</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a>;</div>
<div class="line"><span class="lineno"> 1124</span>    }</div>
<div class="line"><span class="lineno"> 1125</span> </div>
<div class="line"><span class="lineno"> 1126</span>    <span class="comment">// Open the archive like it is normal archive</span></div>
<div class="line"><span class="lineno"> 1127</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 1128</span>    {</div>
<div class="line"><span class="lineno"> 1129</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="SFileOpenArchive_8cpp.html#a8b031afa4f88b4b3705c274a0b5b4f73">SFileOpenArchive</a>(szPatchMpqName, 0, <a class="code hl_define" href="StormLib_8h.html#adf19ed8ad3e0e1c2c57c5b614e73323f">MPQ_OPEN_READ_ONLY</a> | <a class="code hl_define" href="StormLib_8h.html#a02144c034d87bb5bfa9c49eb78eea3cb">MPQ_OPEN_PATCH</a>, &amp;hPatchMpq))</div>
<div class="line"><span class="lineno"> 1130</span>        {</div>
<div class="line"><span class="lineno"> 1131</span>            <span class="comment">// Cast the archive handle to structure pointer</span></div>
<div class="line"><span class="lineno"> 1132</span>            haPatch = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hPatchMpq;</div>
<div class="line"><span class="lineno"> 1133</span> </div>
<div class="line"><span class="lineno"> 1134</span>            <span class="comment">// We need to remember the proper patch prefix to match names of patched files</span></div>
<div class="line"><span class="lineno"> 1135</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="SFilePatchArchives_8cpp.html#aecf9c73715d72b327b35d2e69c6cdb59">FindPatchPrefix</a>(ha, (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hPatchMpq, szPatchPathPrefix))</div>
<div class="line"><span class="lineno"> 1136</span>            {</div>
<div class="line"><span class="lineno"> 1137</span>                <span class="comment">// Now add the patch archive to the list of patches to the original MPQ</span></div>
<div class="line"><span class="lineno"> 1138</span>                <span class="keywordflow">while</span>(ha != NULL)</div>
<div class="line"><span class="lineno"> 1139</span>                {</div>
<div class="line"><span class="lineno"> 1140</span>                    <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aa2646402b5718a74c1908745ea6a46cd">haPatch</a> == NULL)</div>
<div class="line"><span class="lineno"> 1141</span>                    {</div>
<div class="line"><span class="lineno"> 1142</span>                        haPatch-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a6e455bdb9e81a614ed10d954ee846293">haBase</a> = ha;</div>
<div class="line"><span class="lineno"> 1143</span>                        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aa2646402b5718a74c1908745ea6a46cd">haPatch</a> = haPatch;</div>
<div class="line"><span class="lineno"> 1144</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1145</span>                    }</div>
<div class="line"><span class="lineno"> 1146</span> </div>
<div class="line"><span class="lineno"> 1147</span>                    <span class="comment">// Move to the next archive</span></div>
<div class="line"><span class="lineno"> 1148</span>                    ha = ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aa2646402b5718a74c1908745ea6a46cd">haPatch</a>;</div>
<div class="line"><span class="lineno"> 1149</span>                }</div>
<div class="line"><span class="lineno"> 1150</span>            }</div>
<div class="line"><span class="lineno"> 1151</span> </div>
<div class="line"><span class="lineno"> 1152</span>            <span class="comment">// Close the archive</span></div>
<div class="line"><span class="lineno"> 1153</span>            <a class="code hl_function" href="SFileOpenArchive_8cpp.html#abe1ae9917ea665286bffd1524561fceb">SFileCloseArchive</a>(hPatchMpq);</div>
<div class="line"><span class="lineno"> 1154</span>            dwErrCode = <a class="code hl_define" href="StormLib_8h.html#ab3cb06f73f06a81c44c08632c90b9c80">ERROR_CANT_FIND_PATCH_PREFIX</a>;</div>
<div class="line"><span class="lineno"> 1155</span>        }</div>
<div class="line"><span class="lineno"> 1156</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1157</span>        {</div>
<div class="line"><span class="lineno"> 1158</span>            dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno"> 1159</span>        }</div>
<div class="line"><span class="lineno"> 1160</span>    }</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>    <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno"> 1163</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1164</span>}</div>
<div class="ttc" id="aSFilePatchArchives_8cpp_html_aecf9c73715d72b327b35d2e69c6cdb59"><div class="ttname"><a href="SFilePatchArchives_8cpp.html#aecf9c73715d72b327b35d2e69c6cdb59">FindPatchPrefix</a></div><div class="ttdeci">static bool FindPatchPrefix(TMPQArchive *haBase, TMPQArchive *haPatch, const char *szPatchPathPrefix)</div><div class="ttdef"><b>Definition</b> <a href="SFilePatchArchives_8cpp_source.html#l00883">SFilePatchArchives.cpp:883</a></div></div>
<div class="ttc" id="aStormLib_8h_html_ab3cb06f73f06a81c44c08632c90b9c80"><div class="ttname"><a href="StormLib_8h.html#ab3cb06f73f06a81c44c08632c90b9c80">ERROR_CANT_FIND_PATCH_PREFIX</a></div><div class="ttdeci">#define ERROR_CANT_FIND_PATCH_PREFIX</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00161">StormLib.h:161</a></div></div>
<div class="ttc" id="aStormLib_8h_html_adf19ed8ad3e0e1c2c57c5b614e73323f"><div class="ttname"><a href="StormLib_8h.html#adf19ed8ad3e0e1c2c57c5b614e73323f">MPQ_OPEN_READ_ONLY</a></div><div class="ttdeci">#define MPQ_OPEN_READ_ONLY</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00336">StormLib.h:336</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a6daebdc66320d44284e960bbff33e886_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a6daebdc66320d44284e960bbff33e886_icgraph.svg" width="504" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="add9a438b42fbf4c132990d61bd2b6347" name="add9a438b42fbf4c132990d61bd2b6347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add9a438b42fbf4c132990d61bd2b6347">&#9670;&#160;</a></span>SFileReadFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileReadFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lpBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwToRead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>&#160;</td>
          <td class="paramname"><em>pdwRead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#adfd8166ccad505199a5bf3b5fb0ec8d8">LPOVERLAPPED</a>&#160;</td>
          <td class="paramname"><em>lpOverlapped</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileReadFile_8cpp_source.html#l00678">678</a> of file <a class="el" href="SFileReadFile_8cpp_source.html">SFileReadFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  679</span>{</div>
<div class="line"><span class="lineno">  680</span>    <a class="code hl_struct" href="struct__TFileEntry.html">TFileEntry</a> * pFileEntry;</div>
<div class="line"><span class="lineno">  681</span>    <a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> * hf;</div>
<div class="line"><span class="lineno">  682</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesRead = 0;                      <span class="comment">// Number of bytes read</span></div>
<div class="line"><span class="lineno">  683</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  684</span> </div>
<div class="line"><span class="lineno">  685</span>    <span class="comment">// Always zero the result</span></div>
<div class="line"><span class="lineno">  686</span>    <span class="keywordflow">if</span>(pdwRead != NULL)</div>
<div class="line"><span class="lineno">  687</span>        *pdwRead = 0;</div>
<div class="line"><span class="lineno">  688</span>    lpOverlapped = lpOverlapped;</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>    <span class="comment">// Check valid parameters</span></div>
<div class="line"><span class="lineno">  691</span>    <span class="keywordflow">if</span>((hf = <a class="code hl_function" href="SBaseCommon_8cpp.html#ab2d3193ce28d1a3b371e0390542d9c23">IsValidFileHandle</a>(hFile)) == NULL)</div>
<div class="line"><span class="lineno">  692</span>    {</div>
<div class="line"><span class="lineno">  693</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>);</div>
<div class="line"><span class="lineno">  694</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  695</span>    }</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>    <span class="keywordflow">if</span>(pvBuffer == NULL)</div>
<div class="line"><span class="lineno">  698</span>    {</div>
<div class="line"><span class="lineno">  699</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  700</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  701</span>    }</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>    <span class="comment">// If we didn&#39;t load the patch info yet, do it now</span></div>
<div class="line"><span class="lineno">  704</span>    <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a> != NULL &amp;&amp; (hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a437c4920546d0e3e3a7a4e040e9aef20">MPQ_FILE_PATCH_FILE</a>) &amp;&amp; hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1aa2c25c7ff34803ce1c5086fe3422a3">pPatchInfo</a> == NULL)</div>
<div class="line"><span class="lineno">  705</span>    {</div>
<div class="line"><span class="lineno">  706</span>        dwErrCode = <a class="code hl_function" href="SBaseCommon_8cpp.html#ad746eda0d7434e14474c1f7bfc5f2dec">AllocatePatchInfo</a>(hf, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> || hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1aa2c25c7ff34803ce1c5086fe3422a3">pPatchInfo</a> == NULL)</div>
<div class="line"><span class="lineno">  708</span>        {</div>
<div class="line"><span class="lineno">  709</span>            <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">  710</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  711</span>        }</div>
<div class="line"><span class="lineno">  712</span>    }</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>    <span class="comment">// Clear the last used compression</span></div>
<div class="line"><span class="lineno">  715</span>    pFileEntry = hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>;</div>
<div class="line"><span class="lineno">  716</span>    hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#abf6d716abdd4200f5d8c521037426952">dwCompression0</a> = 0;</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>    <span class="comment">// If the file is local file, read the data directly from the stream</span></div>
<div class="line"><span class="lineno">  719</span>    <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8c3a90e5d6abcbc6757bf7fdae94a5d9">pStream</a> != NULL)</div>
<div class="line"><span class="lineno">  720</span>    {</div>
<div class="line"><span class="lineno">  721</span>        dwErrCode = <a class="code hl_function" href="SFileReadFile_8cpp.html#a02ea63c2ecc4171e0bd7408b47e8867e">ReadMpqFileLocalFile</a>(hf, pvBuffer, hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#acc7d222ba9bf68719f415e433dc8694c">dwFilePos</a>, dwToRead, &amp;dwBytesRead);</div>
<div class="line"><span class="lineno">  722</span>    }</div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>    <span class="comment">// If the file is a patch file, we have to read it special way</span></div>
<div class="line"><span class="lineno">  725</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#add8833bffe289c96c79f641789a9743b">hfPatch</a> != NULL &amp;&amp; (pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a437c4920546d0e3e3a7a4e040e9aef20">MPQ_FILE_PATCH_FILE</a>) == 0)</div>
<div class="line"><span class="lineno">  726</span>    {</div>
<div class="line"><span class="lineno">  727</span>        dwErrCode = <a class="code hl_function" href="SFileReadFile_8cpp.html#ac025a70349fe86a63c5b917efec3336c">ReadMpqFilePatchFile</a>(hf, pvBuffer, hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#acc7d222ba9bf68719f415e433dc8694c">dwFilePos</a>, dwToRead, &amp;dwBytesRead);</div>
<div class="line"><span class="lineno">  728</span>    }</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>    <span class="comment">// If the archive is a MPK archive, we need special way to read the file</span></div>
<div class="line"><span class="lineno">  731</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a3d3e5acf9eea51e01ee22aa9c64d75a8">ha</a>-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#adfa7731ad54c7b934ed2e8f590b41958">dwSubType</a> == <a class="code hl_define" href="StormLib_8h.html#a651b9c2037d450d51b1a6926a074c216">MPQ_SUBTYPE_MPK</a>)</div>
<div class="line"><span class="lineno">  732</span>    {</div>
<div class="line"><span class="lineno">  733</span>        dwErrCode = <a class="code hl_function" href="SFileReadFile_8cpp.html#afc1cecce239645e84aaf4073adbdd239">ReadMpkFileSingleUnit</a>(hf, pvBuffer, hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#acc7d222ba9bf68719f415e433dc8694c">dwFilePos</a>, dwToRead, &amp;dwBytesRead);</div>
<div class="line"><span class="lineno">  734</span>    }</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>    <span class="comment">// If the file is single unit file, redirect it to read file</span></div>
<div class="line"><span class="lineno">  737</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ad8b6a5c0f3a3c71f60202ba17b5210df">MPQ_FILE_SINGLE_UNIT</a>)</div>
<div class="line"><span class="lineno">  738</span>    {</div>
<div class="line"><span class="lineno">  739</span>        dwErrCode = <a class="code hl_function" href="SFileReadFile_8cpp.html#a2308f5d6257a66746e5dd6843c1724e9">ReadMpqFileSingleUnit</a>(hf, pvBuffer, hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#acc7d222ba9bf68719f415e433dc8694c">dwFilePos</a>, dwToRead, &amp;dwBytesRead);</div>
<div class="line"><span class="lineno">  740</span>    }</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>    <span class="comment">// Otherwise read it as sector based MPQ file</span></div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  744</span>    {</div>
<div class="line"><span class="lineno">  745</span>        dwErrCode = <a class="code hl_function" href="SFileReadFile_8cpp.html#a2e06f01acc56d9200d0670aec8f07f2a">ReadMpqFileSectorFile</a>(hf, pvBuffer, hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#acc7d222ba9bf68719f415e433dc8694c">dwFilePos</a>, dwToRead, &amp;dwBytesRead);</div>
<div class="line"><span class="lineno">  746</span>    }</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>    <span class="comment">// Increment the file position</span></div>
<div class="line"><span class="lineno">  749</span>    hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#acc7d222ba9bf68719f415e433dc8694c">dwFilePos</a> += dwBytesRead;</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>    <span class="comment">// Give the caller the number of bytes read</span></div>
<div class="line"><span class="lineno">  752</span>    <span class="keywordflow">if</span>(pdwRead != NULL)</div>
<div class="line"><span class="lineno">  753</span>        *pdwRead = dwBytesRead;</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>    <span class="comment">// If the read operation succeeded, but not full number of bytes was read,</span></div>
<div class="line"><span class="lineno">  756</span>    <span class="comment">// set the last error to ERROR_HANDLE_EOF</span></div>
<div class="line"><span class="lineno">  757</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; (dwBytesRead &lt; dwToRead))</div>
<div class="line"><span class="lineno">  758</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a71791529fd25c32cd91d6a716e5e1755">ERROR_HANDLE_EOF</a>;</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>    <span class="comment">// If something failed, set the last error value</span></div>
<div class="line"><span class="lineno">  761</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  762</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">  763</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno">  764</span>}</div>
<div class="ttc" id="aSBaseCommon_8cpp_html_ad746eda0d7434e14474c1f7bfc5f2dec"><div class="ttname"><a href="SBaseCommon_8cpp.html#ad746eda0d7434e14474c1f7bfc5f2dec">AllocatePatchInfo</a></div><div class="ttdeci">DWORD AllocatePatchInfo(TMPQFile *hf, bool bLoadFromFile)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l01152">SBaseCommon.cpp:1152</a></div></div>
<div class="ttc" id="aSFileReadFile_8cpp_html_a02ea63c2ecc4171e0bd7408b47e8867e"><div class="ttname"><a href="SFileReadFile_8cpp.html#a02ea63c2ecc4171e0bd7408b47e8867e">ReadMpqFileLocalFile</a></div><div class="ttdeci">static DWORD ReadMpqFileLocalFile(TMPQFile *hf, void *pvBuffer, DWORD dwFilePos, DWORD dwToRead, LPDWORD pdwBytesRead)</div><div class="ttdef"><b>Definition</b> <a href="SFileReadFile_8cpp_source.html#l00643">SFileReadFile.cpp:643</a></div></div>
<div class="ttc" id="aSFileReadFile_8cpp_html_a2308f5d6257a66746e5dd6843c1724e9"><div class="ttname"><a href="SFileReadFile_8cpp.html#a2308f5d6257a66746e5dd6843c1724e9">ReadMpqFileSingleUnit</a></div><div class="ttdeci">static DWORD ReadMpqFileSingleUnit(TMPQFile *hf, void *pvBuffer, DWORD dwFilePos, DWORD dwToRead, LPDWORD pdwBytesRead)</div><div class="ttdef"><b>Definition</b> <a href="SFileReadFile_8cpp_source.html#l00235">SFileReadFile.cpp:235</a></div></div>
<div class="ttc" id="aSFileReadFile_8cpp_html_a2e06f01acc56d9200d0670aec8f07f2a"><div class="ttname"><a href="SFileReadFile_8cpp.html#a2e06f01acc56d9200d0670aec8f07f2a">ReadMpqFileSectorFile</a></div><div class="ttdeci">static DWORD ReadMpqFileSectorFile(TMPQFile *hf, void *pvBuffer, DWORD dwFilePos, DWORD dwBytesToRead, LPDWORD pdwBytesRead)</div><div class="ttdef"><b>Definition</b> <a href="SFileReadFile_8cpp_source.html#l00465">SFileReadFile.cpp:465</a></div></div>
<div class="ttc" id="aSFileReadFile_8cpp_html_ac025a70349fe86a63c5b917efec3336c"><div class="ttname"><a href="SFileReadFile_8cpp.html#ac025a70349fe86a63c5b917efec3336c">ReadMpqFilePatchFile</a></div><div class="ttdeci">static DWORD ReadMpqFilePatchFile(TMPQFile *hf, void *pvBuffer, DWORD dwFilePos, DWORD dwToRead, LPDWORD pdwBytesRead)</div><div class="ttdef"><b>Definition</b> <a href="SFileReadFile_8cpp_source.html#l00586">SFileReadFile.cpp:586</a></div></div>
<div class="ttc" id="aSFileReadFile_8cpp_html_afc1cecce239645e84aaf4073adbdd239"><div class="ttname"><a href="SFileReadFile_8cpp.html#afc1cecce239645e84aaf4073adbdd239">ReadMpkFileSingleUnit</a></div><div class="ttdeci">static DWORD ReadMpkFileSingleUnit(TMPQFile *hf, void *pvBuffer, DWORD dwFilePos, DWORD dwToRead, LPDWORD pdwBytesRead)</div><div class="ttdef"><b>Definition</b> <a href="SFileReadFile_8cpp_source.html#l00367">SFileReadFile.cpp:367</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a651b9c2037d450d51b1a6926a074c216"><div class="ttname"><a href="StormLib_8h.html#a651b9c2037d450d51b1a6926a074c216">MPQ_SUBTYPE_MPK</a></div><div class="ttdeci">#define MPQ_SUBTYPE_MPK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00208">StormLib.h:208</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_add9a438b42fbf4c132990d61bd2b6347_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_add9a438b42fbf4c132990d61bd2b6347_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a78b84dd7671288c4fa62d0ae748b831d" name="a78b84dd7671288c4fa62d0ae748b831d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b84dd7671288c4fa62d0ae748b831d">&#9670;&#160;</a></span>SFileRemoveFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileRemoveFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwSearchScope</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAddFile_8cpp_source.html#l01088">1088</a> of file <a class="el" href="SFileAddFile_8cpp_source.html">SFileAddFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1089</span>{</div>
<div class="line"><span class="lineno"> 1090</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = <a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq);</div>
<div class="line"><span class="lineno"> 1091</span>    <a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> * hf = NULL;</div>
<div class="line"><span class="lineno"> 1092</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>    <span class="comment">// Keep compiler happy</span></div>
<div class="line"><span class="lineno"> 1095</span>    dwSearchScope = dwSearchScope;</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>    <span class="comment">// Check the parameters</span></div>
<div class="line"><span class="lineno"> 1098</span>    <span class="keywordflow">if</span>(ha == NULL)</div>
<div class="line"><span class="lineno"> 1099</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno"> 1100</span>    <span class="keywordflow">if</span>(szFileName == NULL || *szFileName == 0)</div>
<div class="line"><span class="lineno"> 1101</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno"> 1102</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="SBaseCommon_8cpp.html#a271822a4e6a88edb8f2f53df8b713023">IsInternalMpqFileName</a>(szFileName))</div>
<div class="line"><span class="lineno"> 1103</span>        dwErrCode = <a class="code hl_define" href="StormLib_8h.html#a7683ee00dc0a85461bd66b9b11d729cf">ERROR_INTERNAL_FILE</a>;</div>
<div class="line"><span class="lineno"> 1104</span> </div>
<div class="line"><span class="lineno"> 1105</span>    <span class="comment">// Do not allow to remove files from read-only or patched MPQs</span></div>
<div class="line"><span class="lineno"> 1106</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 1107</span>    {</div>
<div class="line"><span class="lineno"> 1108</span>        <span class="keywordflow">if</span>((ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a>) || (ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aa2646402b5718a74c1908745ea6a46cd">haPatch</a> != NULL))</div>
<div class="line"><span class="lineno"> 1109</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a>;</div>
<div class="line"><span class="lineno"> 1110</span>    }</div>
<div class="line"><span class="lineno"> 1111</span> </div>
<div class="line"><span class="lineno"> 1112</span>    <span class="comment">// If all checks have passed, we can delete the file from the MPQ</span></div>
<div class="line"><span class="lineno"> 1113</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 1114</span>    {</div>
<div class="line"><span class="lineno"> 1115</span>        <span class="comment">// Open the file from the MPQ</span></div>
<div class="line"><span class="lineno"> 1116</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="SFileOpenFileEx_8cpp.html#a0049c66b1dbb981f5b69afe6bbe60313">SFileOpenFileEx</a>(hMpq, szFileName, <a class="code hl_define" href="StormLib_8h.html#a1624257a38d19c0d19bb4af7edbec9c7">SFILE_OPEN_BASE_FILE</a>, (<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *)&amp;hf))</div>
<div class="line"><span class="lineno"> 1117</span>        {</div>
<div class="line"><span class="lineno"> 1118</span>            <span class="comment">// Delete the file entry</span></div>
<div class="line"><span class="lineno"> 1119</span>            dwErrCode = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a03752fc4d676a0f0c20a318a73c79b3a">DeleteFileEntry</a>(ha, hf);</div>
<div class="line"><span class="lineno"> 1120</span>            <a class="code hl_function" href="SBaseCommon_8cpp.html#a18f4fd98a66477ad38b6b12f27cf2ad0">FreeFileHandle</a>(hf);</div>
<div class="line"><span class="lineno"> 1121</span>        }</div>
<div class="line"><span class="lineno"> 1122</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1123</span>            dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno"> 1124</span>    }</div>
<div class="line"><span class="lineno"> 1125</span> </div>
<div class="line"><span class="lineno"> 1126</span>    <span class="comment">// If the file has been deleted, we need to invalidate</span></div>
<div class="line"><span class="lineno"> 1127</span>    <span class="comment">// the internal files and recreate HET table</span></div>
<div class="line"><span class="lineno"> 1128</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 1129</span>    {</div>
<div class="line"><span class="lineno"> 1130</span>        <span class="comment">// Invalidate the entries for internal files</span></div>
<div class="line"><span class="lineno"> 1131</span>        <span class="comment">// After we are done with MPQ changes, we need to re-create them anyway</span></div>
<div class="line"><span class="lineno"> 1132</span>        <a class="code hl_function" href="SBaseFileTable_8cpp.html#a49c99a591813b88b38d9d219af88a8d4">InvalidateInternalFiles</a>(ha);</div>
<div class="line"><span class="lineno"> 1133</span> </div>
<div class="line"><span class="lineno"> 1134</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1135</span>        <span class="comment">// Don&#39;t rebuild HET table now; the file&#39;s flags indicate</span></div>
<div class="line"><span class="lineno"> 1136</span>        <span class="comment">// that it&#39;s been deleted, which is enough</span></div>
<div class="line"><span class="lineno"> 1137</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1138</span>    }</div>
<div class="line"><span class="lineno"> 1139</span> </div>
<div class="line"><span class="lineno"> 1140</span>    <span class="comment">// Resolve error and exit</span></div>
<div class="line"><span class="lineno"> 1141</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 1142</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno"> 1143</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno"> 1144</span>}</div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a03752fc4d676a0f0c20a318a73c79b3a"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a03752fc4d676a0f0c20a318a73c79b3a">DeleteFileEntry</a></div><div class="ttdeci">DWORD DeleteFileEntry(TMPQArchive *ha, TMPQFile *hf)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02189">SBaseFileTable.cpp:2189</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a49c99a591813b88b38d9d219af88a8d4"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a49c99a591813b88b38d9d219af88a8d4">InvalidateInternalFiles</a></div><div class="ttdeci">void InvalidateInternalFiles(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02265">SBaseFileTable.cpp:2265</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a78b84dd7671288c4fa62d0ae748b831d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="abf315c2be57e5ebb9790cf84fe88ef03" name="abf315c2be57e5ebb9790cf84fe88ef03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf315c2be57e5ebb9790cf84fe88ef03">&#9670;&#160;</a></span>SFileRenameFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileRenameFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szOldFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szNewFileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAddFile_8cpp_source.html#l01147">1147</a> of file <a class="el" href="SFileAddFile_8cpp_source.html">SFileAddFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1148</span>{</div>
<div class="line"><span class="lineno"> 1149</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = <a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq);</div>
<div class="line"><span class="lineno"> 1150</span>    <a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> * hf;</div>
<div class="line"><span class="lineno"> 1151</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 1152</span> </div>
<div class="line"><span class="lineno"> 1153</span>    <span class="comment">// Test the valid parameters</span></div>
<div class="line"><span class="lineno"> 1154</span>    <span class="keywordflow">if</span>(ha == NULL)</div>
<div class="line"><span class="lineno"> 1155</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno"> 1156</span>    <span class="keywordflow">if</span>(szFileName == NULL || *szFileName == 0 || szNewFileName == NULL || *szNewFileName == 0)</div>
<div class="line"><span class="lineno"> 1157</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno"> 1158</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="SBaseCommon_8cpp.html#a271822a4e6a88edb8f2f53df8b713023">IsInternalMpqFileName</a>(szFileName) || <a class="code hl_function" href="SBaseCommon_8cpp.html#a271822a4e6a88edb8f2f53df8b713023">IsInternalMpqFileName</a>(szNewFileName))</div>
<div class="line"><span class="lineno"> 1159</span>        dwErrCode = <a class="code hl_define" href="StormLib_8h.html#a7683ee00dc0a85461bd66b9b11d729cf">ERROR_INTERNAL_FILE</a>;</div>
<div class="line"><span class="lineno"> 1160</span> </div>
<div class="line"><span class="lineno"> 1161</span>    <span class="comment">// Do not allow to rename files in MPQ open for read only</span></div>
<div class="line"><span class="lineno"> 1162</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 1163</span>    {</div>
<div class="line"><span class="lineno"> 1164</span>        <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a>)</div>
<div class="line"><span class="lineno"> 1165</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a>;</div>
<div class="line"><span class="lineno"> 1166</span>    }</div>
<div class="line"><span class="lineno"> 1167</span> </div>
<div class="line"><span class="lineno"> 1168</span>    <span class="comment">// Open the new file. If exists, we don&#39;t allow rename operation</span></div>
<div class="line"><span class="lineno"> 1169</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 1170</span>    {</div>
<div class="line"><span class="lineno"> 1171</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="SBaseFileTable_8cpp.html#a0f0ecaa05c2cc900064865a814a8f587">GetFileEntryLocale</a>(ha, szNewFileName, <a class="code hl_variable" href="SBaseCommon_8cpp.html#a45e71286a36272815b1bf6d4f09aab9a">g_lcFileLocale</a>) != NULL)</div>
<div class="line"><span class="lineno"> 1172</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a122596adcfea9620fdfd43c5c003c84d">ERROR_ALREADY_EXISTS</a>;</div>
<div class="line"><span class="lineno"> 1173</span>    }</div>
<div class="line"><span class="lineno"> 1174</span> </div>
<div class="line"><span class="lineno"> 1175</span>    <span class="comment">// Open the file from the MPQ</span></div>
<div class="line"><span class="lineno"> 1176</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 1177</span>    {</div>
<div class="line"><span class="lineno"> 1178</span>        <span class="comment">// Attempt to open the file</span></div>
<div class="line"><span class="lineno"> 1179</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="SFileOpenFileEx_8cpp.html#a0049c66b1dbb981f5b69afe6bbe60313">SFileOpenFileEx</a>(hMpq, szFileName, <a class="code hl_define" href="StormLib_8h.html#a1624257a38d19c0d19bb4af7edbec9c7">SFILE_OPEN_BASE_FILE</a>, (<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *)&amp;hf))</div>
<div class="line"><span class="lineno"> 1180</span>        {</div>
<div class="line"><span class="lineno"> 1181</span>            <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> RawDataOffs;</div>
<div class="line"><span class="lineno"> 1182</span>            <a class="code hl_struct" href="struct__TFileEntry.html">TFileEntry</a> * pFileEntry = hf-&gt;pFileEntry;</div>
<div class="line"><span class="lineno"> 1183</span> </div>
<div class="line"><span class="lineno"> 1184</span>            <span class="comment">// Invalidate the entries for internal files</span></div>
<div class="line"><span class="lineno"> 1185</span>            <a class="code hl_function" href="SBaseFileTable_8cpp.html#a49c99a591813b88b38d9d219af88a8d4">InvalidateInternalFiles</a>(ha);</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>            <span class="comment">// Rename the file entry in the table</span></div>
<div class="line"><span class="lineno"> 1188</span>            dwErrCode = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a59fd0759d4fc95b16716939a7387f3fd">RenameFileEntry</a>(ha, hf, szNewFileName);</div>
<div class="line"><span class="lineno"> 1189</span> </div>
<div class="line"><span class="lineno"> 1190</span>            <span class="comment">// If the file is encrypted, we have to re-crypt the file content</span></div>
<div class="line"><span class="lineno"> 1191</span>            <span class="comment">// with the new decryption key</span></div>
<div class="line"><span class="lineno"> 1192</span>            <span class="keywordflow">if</span>((dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>) &amp;&amp; (pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a08fa41196410aea4c03e8e9210cc6606">MPQ_FILE_ENCRYPTED</a>))</div>
<div class="line"><span class="lineno"> 1193</span>            {</div>
<div class="line"><span class="lineno"> 1194</span>                <span class="comment">// Recrypt the file data in the MPQ</span></div>
<div class="line"><span class="lineno"> 1195</span>                dwErrCode = <a class="code hl_function" href="SFileAddFile_8cpp.html#a5fd3c51ff89a854982bf13726fdb6a47">RecryptFileData</a>(ha, hf, szFileName, szNewFileName);</div>
<div class="line"><span class="lineno"> 1196</span> </div>
<div class="line"><span class="lineno"> 1197</span>                <span class="comment">// Update the MD5 of the raw block</span></div>
<div class="line"><span class="lineno"> 1198</span>                <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a0885c9723a608bc143ebe2f4bbac15de">dwRawChunkSize</a> != 0)</div>
<div class="line"><span class="lineno"> 1199</span>                {</div>
<div class="line"><span class="lineno"> 1200</span>                    RawDataOffs = ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a146dee965bc1cb34e569e3637b6e5c82">MpqPos</a> + pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#a4aa00b411c027d71b59b61d31025397a">ByteOffset</a>;</div>
<div class="line"><span class="lineno"> 1201</span>                    <a class="code hl_function" href="SBaseCommon_8cpp.html#a89f1d76f45f44628ce9d01404f830479">WriteMpqDataMD5</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>,</div>
<div class="line"><span class="lineno"> 1202</span>                                    RawDataOffs,</div>
<div class="line"><span class="lineno"> 1203</span>                                    pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#af0800e75c1cfe47b9fdab963b33c003d">dwCmpSize</a>,</div>
<div class="line"><span class="lineno"> 1204</span>                                    ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a0885c9723a608bc143ebe2f4bbac15de">dwRawChunkSize</a>);</div>
<div class="line"><span class="lineno"> 1205</span>                }</div>
<div class="line"><span class="lineno"> 1206</span>            }</div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span>            <span class="comment">// Free the file handle</span></div>
<div class="line"><span class="lineno"> 1209</span>            <a class="code hl_function" href="SBaseCommon_8cpp.html#a18f4fd98a66477ad38b6b12f27cf2ad0">FreeFileHandle</a>(hf);</div>
<div class="line"><span class="lineno"> 1210</span>        }</div>
<div class="line"><span class="lineno"> 1211</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1212</span>        {</div>
<div class="line"><span class="lineno"> 1213</span>            dwErrCode = <a class="code hl_function" href="FileStream_8cpp.html#ad0f1ed530318d4f8cecb3dfb53e15b0a">GetLastError</a>();</div>
<div class="line"><span class="lineno"> 1214</span>        }</div>
<div class="line"><span class="lineno"> 1215</span>    }</div>
<div class="line"><span class="lineno"> 1216</span> </div>
<div class="line"><span class="lineno"> 1217</span>    <span class="comment">// We also need to rebuild the HET table, if present</span></div>
<div class="line"><span class="lineno"> 1218</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a964afcb85acb567a58ef4066b579fd51">pHetTable</a> != NULL)</div>
<div class="line"><span class="lineno"> 1219</span>        dwErrCode = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a8fc021d269a6b0e62af30309c0e041c9">RebuildHetTable</a>(ha);</div>
<div class="line"><span class="lineno"> 1220</span> </div>
<div class="line"><span class="lineno"> 1221</span>    <span class="comment">// Resolve error and exit</span></div>
<div class="line"><span class="lineno"> 1222</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 1223</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno"> 1224</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno"> 1225</span>}</div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a89f1d76f45f44628ce9d01404f830479"><div class="ttname"><a href="SBaseCommon_8cpp.html#a89f1d76f45f44628ce9d01404f830479">WriteMpqDataMD5</a></div><div class="ttdeci">DWORD WriteMpqDataMD5(TFileStream *pStream, ULONGLONG RawDataOffs, DWORD dwRawDataSize, DWORD dwChunkSize)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l01608">SBaseCommon.cpp:1608</a></div></div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_a59fd0759d4fc95b16716939a7387f3fd"><div class="ttname"><a href="SBaseFileTable_8cpp.html#a59fd0759d4fc95b16716939a7387f3fd">RenameFileEntry</a></div><div class="ttdeci">DWORD RenameFileEntry(TMPQArchive *ha, TMPQFile *hf, const char *szNewFileName)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02141">SBaseFileTable.cpp:2141</a></div></div>
<div class="ttc" id="aSFileAddFile_8cpp_html_a5fd3c51ff89a854982bf13726fdb6a47"><div class="ttname"><a href="SFileAddFile_8cpp.html#a5fd3c51ff89a854982bf13726fdb6a47">RecryptFileData</a></div><div class="ttdeci">static DWORD RecryptFileData(TMPQArchive *ha, TMPQFile *hf, const char *szFileName, const char *szNewFileName)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00277">SFileAddFile.cpp:277</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_abf315c2be57e5ebb9790cf84fe88ef03_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a680ef09a7f9c363c2373b822152ab6b6" name="a680ef09a7f9c363c2373b822152ab6b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a680ef09a7f9c363c2373b822152ab6b6">&#9670;&#160;</a></span>SFileSetAddFileCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileSetAddFileCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_8h.html#a8e310b34dc27b4b6bfc6c0ccc4c725f4">SFILE_ADDFILE_CALLBACK</a>&#160;</td>
          <td class="paramname"><em>AddFileCB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvUserData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAddFile_8cpp_source.html#l01308">1308</a> of file <a class="el" href="SFileAddFile_8cpp_source.html">SFileAddFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1309</span>{</div>
<div class="line"><span class="lineno"> 1310</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *) hMpq;</div>
<div class="line"><span class="lineno"> 1311</span> </div>
<div class="line"><span class="lineno"> 1312</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno"> 1313</span>    {</div>
<div class="line"><span class="lineno"> 1314</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>);</div>
<div class="line"><span class="lineno"> 1315</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1316</span>    }</div>
<div class="line"><span class="lineno"> 1317</span> </div>
<div class="line"><span class="lineno"> 1318</span>    ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a1bb84be2781abcca46fd31c542260430">pvAddFileUserData</a> = pvUserData;</div>
<div class="line"><span class="lineno"> 1319</span>    ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ae614bf73548639003f8243f437ba9624">pfnAddFileCB</a> = AddFileCB;</div>
<div class="line"><span class="lineno"> 1320</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1321</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a680ef09a7f9c363c2373b822152ab6b6_cgraph.svg" width="376" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a31e25aa9964041a88acc6a37b84b93f8" name="a31e25aa9964041a88acc6a37b84b93f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31e25aa9964041a88acc6a37b84b93f8">&#9670;&#160;</a></span>SFileSetArchiveMarkers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileSetArchiveMarkers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_8h.html#a9ff5e95dd1385dd48527ff9a2c66c425">PSFILE_MARKERS</a>&#160;</td>
          <td class="paramname"><em>pMarkers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileOpenArchive_8cpp_source.html#l00175">175</a> of file <a class="el" href="SFileOpenArchive_8cpp_source.html">SFileOpenArchive.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  176</span>{</div>
<div class="line"><span class="lineno">  177</span>    <span class="comment">// Check structure minimum size</span></div>
<div class="line"><span class="lineno">  178</span>    <span class="keywordflow">if</span>(pMarkers == NULL || pMarkers-&gt;<a class="code hl_variable" href="struct__SFILE__MARKERS.html#a8904db4da3c2afe15ea58abf5fa2c81d">dwSize</a> &lt; <a class="code hl_define" href="SFileOpenArchive_8cpp.html#aa04c34b1b401193ce277323b0cae4a29">SFILE_MARKERS_MIN_SIZE</a>)</div>
<div class="line"><span class="lineno">  179</span>    {</div>
<div class="line"><span class="lineno">  180</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  181</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  182</span>    }</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>    <span class="comment">// Make sure that the MPQ cryptography is initialized at this time</span></div>
<div class="line"><span class="lineno">  185</span>    <a class="code hl_function" href="SBaseCommon_8cpp.html#a771e96257f2889763ee169050c798554">InitializeMpqCryptography</a>();</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>    <span class="comment">// Remember the marker for MPQ header</span></div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">if</span>(pMarkers-&gt;<a class="code hl_variable" href="struct__SFILE__MARKERS.html#af259523d1f424593de2cd1c4225e93a9">dwSignature</a> != 0)</div>
<div class="line"><span class="lineno">  189</span>        <a class="code hl_variable" href="SBaseCommon_8cpp.html#a35005f326130df31c9ca0497b8a80e17">g_dwMpqSignature</a> = pMarkers-&gt;<a class="code hl_variable" href="struct__SFILE__MARKERS.html#af259523d1f424593de2cd1c4225e93a9">dwSignature</a>;</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    <span class="comment">// Remember the encryption key for hash table</span></div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordflow">if</span>(pMarkers-&gt;<a class="code hl_variable" href="struct__SFILE__MARKERS.html#a588c375175cc519a50e8c742014a3354">szHashTableKey</a> != NULL)</div>
<div class="line"><span class="lineno">  193</span>        <a class="code hl_variable" href="SBaseCommon_8cpp.html#a1ce464f1f6a3b82e64629ffd4793c4f8">g_dwHashTableKey</a> = <a class="code hl_function" href="SBaseCommon_8cpp.html#a253e7854c54b950673d285bc8ceba83a">HashString</a>(pMarkers-&gt;<a class="code hl_variable" href="struct__SFILE__MARKERS.html#a588c375175cc519a50e8c742014a3354">szHashTableKey</a>, <a class="code hl_define" href="StormCommon_8h.html#a1795a7b5fd56e50e0fb1c8ba0025c57f">MPQ_HASH_FILE_KEY</a>);</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    <span class="comment">// Remember the encryption key for block table</span></div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordflow">if</span>(pMarkers-&gt;<a class="code hl_variable" href="struct__SFILE__MARKERS.html#afe165fe9d185f2cb6c7e6351326ebdee">szBlockTableKey</a> != NULL)</div>
<div class="line"><span class="lineno">  197</span>        <a class="code hl_variable" href="SBaseCommon_8cpp.html#ac6b99afc5da35ee0f6db8fbba2d6d8a1">g_dwBlockTableKey</a> = <a class="code hl_function" href="SBaseCommon_8cpp.html#a253e7854c54b950673d285bc8ceba83a">HashString</a>(pMarkers-&gt;<a class="code hl_variable" href="struct__SFILE__MARKERS.html#afe165fe9d185f2cb6c7e6351326ebdee">szBlockTableKey</a>, <a class="code hl_define" href="StormCommon_8h.html#a1795a7b5fd56e50e0fb1c8ba0025c57f">MPQ_HASH_FILE_KEY</a>);</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>    <span class="comment">// Succeeded</span></div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  201</span>}</div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a1ce464f1f6a3b82e64629ffd4793c4f8"><div class="ttname"><a href="SBaseCommon_8cpp.html#a1ce464f1f6a3b82e64629ffd4793c4f8">g_dwHashTableKey</a></div><div class="ttdeci">DWORD g_dwHashTableKey</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00024">SBaseCommon.cpp:24</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_a253e7854c54b950673d285bc8ceba83a"><div class="ttname"><a href="SBaseCommon_8cpp.html#a253e7854c54b950673d285bc8ceba83a">HashString</a></div><div class="ttdeci">DWORD HashString(const char *szFileName, DWORD dwHashType)</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00274">SBaseCommon.cpp:274</a></div></div>
<div class="ttc" id="aSBaseCommon_8cpp_html_ac6b99afc5da35ee0f6db8fbba2d6d8a1"><div class="ttname"><a href="SBaseCommon_8cpp.html#ac6b99afc5da35ee0f6db8fbba2d6d8a1">g_dwBlockTableKey</a></div><div class="ttdeci">DWORD g_dwBlockTableKey</div><div class="ttdef"><b>Definition</b> <a href="SBaseCommon_8cpp_source.html#l00025">SBaseCommon.cpp:25</a></div></div>
<div class="ttc" id="aSFileOpenArchive_8cpp_html_aa04c34b1b401193ce277323b0cae4a29"><div class="ttname"><a href="SFileOpenArchive_8cpp.html#aa04c34b1b401193ce277323b0cae4a29">SFILE_MARKERS_MIN_SIZE</a></div><div class="ttdeci">#define SFILE_MARKERS_MIN_SIZE</div><div class="ttdef"><b>Definition</b> <a href="SFileOpenArchive_8cpp_source.html#l00173">SFileOpenArchive.cpp:173</a></div></div>
<div class="ttc" id="aStormCommon_8h_html_a1795a7b5fd56e50e0fb1c8ba0025c57f"><div class="ttname"><a href="StormCommon_8h.html#a1795a7b5fd56e50e0fb1c8ba0025c57f">MPQ_HASH_FILE_KEY</a></div><div class="ttdeci">#define MPQ_HASH_FILE_KEY</div><div class="ttdef"><b>Definition</b> <a href="StormCommon_8h_source.html#l00209">StormCommon.h:209</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a31e25aa9964041a88acc6a37b84b93f8_cgraph.svg" width="587" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad8c8767ef66fc69dad98bd3a88f67def" name="ad8c8767ef66fc69dad98bd3a88f67def"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8c8767ef66fc69dad98bd3a88f67def">&#9670;&#160;</a></span>SFileSetAttributes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileSetAttributes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAttributes_8cpp_source.html#l00485">485</a> of file <a class="el" href="SFileAttributes_8cpp_source.html">SFileAttributes.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  486</span>{</div>
<div class="line"><span class="lineno">  487</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>    <span class="comment">// Verify the parameters</span></div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno">  491</span>    {</div>
<div class="line"><span class="lineno">  492</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  493</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  494</span>    }</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    <span class="comment">// Not allowed when the archive is read-only</span></div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a>)</div>
<div class="line"><span class="lineno">  498</span>    {</div>
<div class="line"><span class="lineno">  499</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a>);</div>
<div class="line"><span class="lineno">  500</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  501</span>    }</div>
<div class="line"><span class="lineno">  502</span> </div>
<div class="line"><span class="lineno">  503</span>    <span class="comment">// Set the attributes</span></div>
<div class="line"><span class="lineno">  504</span>    <a class="code hl_function" href="SBaseFileTable_8cpp.html#a49c99a591813b88b38d9d219af88a8d4">InvalidateInternalFiles</a>(ha);</div>
<div class="line"><span class="lineno">  505</span>    ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ad2519a9b6b0657a19176bbe5d2e5651e">dwAttrFlags</a> = (dwFlags &amp; <a class="code hl_define" href="StormLib_8h.html#a0c71a04690bd449dc900b58111364c54">MPQ_ATTRIBUTE_ALL</a>);</div>
<div class="line"><span class="lineno">  506</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  507</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ad8c8767ef66fc69dad98bd3a88f67def_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a15ce517e65659cbcf058b5574e950162" name="a15ce517e65659cbcf058b5574e950162"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15ce517e65659cbcf058b5574e950162">&#9670;&#160;</a></span>SFileSetCompactCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileSetCompactCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_8h.html#accf539777d623a74eb6b4394dd7fd6a1">SFILE_COMPACT_CALLBACK</a>&#160;</td>
          <td class="paramname"><em>CompactCB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvUserData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileCompactArchive_8cpp_source.html#l00511">511</a> of file <a class="el" href="SFileCompactArchive_8cpp_source.html">SFileCompactArchive.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  512</span>{</div>
<div class="line"><span class="lineno">  513</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *) hMpq;</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno">  516</span>    {</div>
<div class="line"><span class="lineno">  517</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>);</div>
<div class="line"><span class="lineno">  518</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  519</span>    }</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>    ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a77480124f58b4f0314768510471cf62d">pfnCompactCB</a> = pfnCompactCB;</div>
<div class="line"><span class="lineno">  522</span>    ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#aa67fc1ad0359ad11f58c31187100a4f7">pvCompactUserData</a> = pvUserData;</div>
<div class="line"><span class="lineno">  523</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  524</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a15ce517e65659cbcf058b5574e950162_cgraph.svg" width="386" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab8a9149a71da405f906dd388f77ceb0c" name="ab8a9149a71da405f906dd388f77ceb0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8a9149a71da405f906dd388f77ceb0c">&#9670;&#160;</a></span>SFileSetDataCompression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileSetDataCompression </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>DataCompression</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAddFile_8cpp_source.html#l01230">1230</a> of file <a class="el" href="SFileAddFile_8cpp_source.html">SFileAddFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1231</span>{</div>
<div class="line"><span class="lineno"> 1232</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uValidMask = (<a class="code hl_define" href="StormLib_8h.html#ac70d5d9d0a9f5d020ba7c84b6d441edb">MPQ_COMPRESSION_ZLIB</a> | <a class="code hl_define" href="StormLib_8h.html#affcc96014fb0d52f7d555ea5729e526b">MPQ_COMPRESSION_PKWARE</a> | <a class="code hl_define" href="StormLib_8h.html#ac44b18d438b10b9dab3e0097423248ad">MPQ_COMPRESSION_BZIP2</a> | <a class="code hl_define" href="StormLib_8h.html#ac85b92394ff58491ebaee0aff8e50169">MPQ_COMPRESSION_SPARSE</a>);</div>
<div class="line"><span class="lineno"> 1233</span> </div>
<div class="line"><span class="lineno"> 1234</span>    <span class="keywordflow">if</span>((DataCompression &amp; uValidMask) != DataCompression)</div>
<div class="line"><span class="lineno"> 1235</span>    {</div>
<div class="line"><span class="lineno"> 1236</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 1237</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1238</span>    }</div>
<div class="line"><span class="lineno"> 1239</span> </div>
<div class="line"><span class="lineno"> 1240</span>    <a class="code hl_variable" href="SFileAddFile_8cpp.html#a2278dde170126cbc9c4172f1204c449b">DefaultDataCompression</a> = DataCompression;</div>
<div class="line"><span class="lineno"> 1241</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1242</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ab8a9149a71da405f906dd388f77ceb0c_cgraph.svg" width="351" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a32a52c97aba08f40e5a2933d66cceb02" name="a32a52c97aba08f40e5a2933d66cceb02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32a52c97aba08f40e5a2933d66cceb02">&#9670;&#160;</a></span>SFileSetDownloadCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileSetDownloadCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_8h.html#aec85f6efb05064d79de5e05fff77c639">SFILE_DOWNLOAD_CALLBACK</a>&#160;</td>
          <td class="paramname"><em>DownloadCB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvUserData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileOpenArchive_8cpp_source.html#l00563">563</a> of file <a class="el" href="SFileOpenArchive_8cpp_source.html">SFileOpenArchive.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  564</span>{</div>
<div class="line"><span class="lineno">  565</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>    <span class="comment">// Do nothing if &#39;hMpq&#39; is bad parameter</span></div>
<div class="line"><span class="lineno">  568</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno">  569</span>    {</div>
<div class="line"><span class="lineno">  570</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>);</div>
<div class="line"><span class="lineno">  571</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  572</span>    }</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="FileStream_8cpp.html#ae33c8e38a5379adbbe49471f8d0ca5af">FileStream_SetCallback</a>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a3dac14b565b2d617f5f3e65db2d7fa05">pStream</a>, DownloadCB, pvUserData);</div>
<div class="line"><span class="lineno">  575</span>}</div>
<div class="ttc" id="aFileStream_8cpp_html_ae33c8e38a5379adbbe49471f8d0ca5af"><div class="ttname"><a href="FileStream_8cpp.html#ae33c8e38a5379adbbe49471f8d0ca5af">FileStream_SetCallback</a></div><div class="ttdeci">bool FileStream_SetCallback(TFileStream *pStream, SFILE_DOWNLOAD_CALLBACK pfnCallback, void *pvUserData)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02632">FileStream.cpp:2632</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a32a52c97aba08f40e5a2933d66cceb02_cgraph.svg" width="579" height="138"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a7b5145c080be1df3647b57e93454a7fb" name="a7b5145c080be1df3647b57e93454a7fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b5145c080be1df3647b57e93454a7fb">&#9670;&#160;</a></span>SFileSetFileLocale()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileSetFileLocale </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>&#160;</td>
          <td class="paramname"><em>lcNewLocale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAddFile_8cpp_source.html#l01247">1247</a> of file <a class="el" href="SFileAddFile_8cpp_source.html">SFileAddFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1248</span>{</div>
<div class="line"><span class="lineno"> 1249</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha;</div>
<div class="line"><span class="lineno"> 1250</span>    <a class="code hl_struct" href="struct__TFileEntry.html">TFileEntry</a> * pFileEntry;</div>
<div class="line"><span class="lineno"> 1251</span>    <a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> * hf = <a class="code hl_function" href="SBaseCommon_8cpp.html#ab2d3193ce28d1a3b371e0390542d9c23">IsValidFileHandle</a>(hFile);</div>
<div class="line"><span class="lineno"> 1252</span> </div>
<div class="line"><span class="lineno"> 1253</span>    <span class="comment">// Invalid handle =&gt; do nothing</span></div>
<div class="line"><span class="lineno"> 1254</span>    <span class="keywordflow">if</span>(hf == NULL)</div>
<div class="line"><span class="lineno"> 1255</span>    {</div>
<div class="line"><span class="lineno"> 1256</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>);</div>
<div class="line"><span class="lineno"> 1257</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1258</span>    }</div>
<div class="line"><span class="lineno"> 1259</span> </div>
<div class="line"><span class="lineno"> 1260</span>    <span class="comment">// Do not allow to rename files in MPQ open for read only</span></div>
<div class="line"><span class="lineno"> 1261</span>    ha = hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a3d3e5acf9eea51e01ee22aa9c64d75a8">ha</a>;</div>
<div class="line"><span class="lineno"> 1262</span>    <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a>)</div>
<div class="line"><span class="lineno"> 1263</span>    {</div>
<div class="line"><span class="lineno"> 1264</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a>);</div>
<div class="line"><span class="lineno"> 1265</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1266</span>    }</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>    <span class="comment">// Do not allow unnamed access</span></div>
<div class="line"><span class="lineno"> 1269</span>    <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aa00a675cf553d128b1e3b5fdd9cdca0e">szFileName</a> == NULL)</div>
<div class="line"><span class="lineno"> 1270</span>    {</div>
<div class="line"><span class="lineno"> 1271</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a9a012e4d53987470e70fa888f0a7ed90">ERROR_CAN_NOT_COMPLETE</a>);</div>
<div class="line"><span class="lineno"> 1272</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1273</span>    }</div>
<div class="line"><span class="lineno"> 1274</span> </div>
<div class="line"><span class="lineno"> 1275</span>    <span class="comment">// Do not allow to change locale of any internal file</span></div>
<div class="line"><span class="lineno"> 1276</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="SBaseCommon_8cpp.html#a271822a4e6a88edb8f2f53df8b713023">IsInternalMpqFileName</a>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aa00a675cf553d128b1e3b5fdd9cdca0e">szFileName</a>))</div>
<div class="line"><span class="lineno"> 1277</span>    {</div>
<div class="line"><span class="lineno"> 1278</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormLib_8h.html#a7683ee00dc0a85461bd66b9b11d729cf">ERROR_INTERNAL_FILE</a>);</div>
<div class="line"><span class="lineno"> 1279</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1280</span>    }</div>
<div class="line"><span class="lineno"> 1281</span> </div>
<div class="line"><span class="lineno"> 1282</span>    <span class="comment">// Do not allow changing file locales if there is no hash table</span></div>
<div class="line"><span class="lineno"> 1283</span>    <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#ac47b0ac68412a48e7f22fcb0257ba3b9">pHashEntry</a> == NULL)</div>
<div class="line"><span class="lineno"> 1284</span>    {</div>
<div class="line"><span class="lineno"> 1285</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ab72d05032a6d1152bad9af394811d447">ERROR_NOT_SUPPORTED</a>);</div>
<div class="line"><span class="lineno"> 1286</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1287</span>    }</div>
<div class="line"><span class="lineno"> 1288</span> </div>
<div class="line"><span class="lineno"> 1289</span>    <span class="comment">// We have to check if the file+locale is not already there</span></div>
<div class="line"><span class="lineno"> 1290</span>    pFileEntry = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a0f0ecaa05c2cc900064865a814a8f587">GetFileEntryLocale</a>(ha, hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aa00a675cf553d128b1e3b5fdd9cdca0e">szFileName</a>, lcNewLocale, NULL);</div>
<div class="line"><span class="lineno"> 1291</span>    <span class="keywordflow">if</span>(pFileEntry != NULL)</div>
<div class="line"><span class="lineno"> 1292</span>    {</div>
<div class="line"><span class="lineno"> 1293</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a122596adcfea9620fdfd43c5c003c84d">ERROR_ALREADY_EXISTS</a>);</div>
<div class="line"><span class="lineno"> 1294</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1295</span>    }</div>
<div class="line"><span class="lineno"> 1296</span> </div>
<div class="line"><span class="lineno"> 1297</span>    <span class="comment">// Update the locale in the hash table entry</span></div>
<div class="line"><span class="lineno"> 1298</span>    hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#ac47b0ac68412a48e7f22fcb0257ba3b9">pHashEntry</a>-&gt;<a class="code hl_variable" href="struct__TMPQHash.html#a739c78235438c89d2cd6e6c0d44402ce">Locale</a> = <a class="code hl_define" href="StormLib_8h.html#a333d1f8448f3052fcba766be325c6ca3">SFILE_LOCALE</a>(lcNewLocale);</div>
<div class="line"><span class="lineno"> 1299</span>    hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#ac47b0ac68412a48e7f22fcb0257ba3b9">pHashEntry</a>-&gt;<a class="code hl_variable" href="struct__TMPQHash.html#a8712ff7211834dfc7314c5d682866d88">Platform</a> = <a class="code hl_define" href="StormLib_8h.html#adf4be5d17b5f6632333c12ddd17d4ff5">SFILE_PLATFORM</a>(lcNewLocale);</div>
<div class="line"><span class="lineno"> 1300</span>    hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#ac47b0ac68412a48e7f22fcb0257ba3b9">pHashEntry</a>-&gt;<a class="code hl_variable" href="struct__TMPQHash.html#a01c0f1e07232d15b0d22d294ae7e8b25">Reserved</a> = 0;</div>
<div class="line"><span class="lineno"> 1301</span>    ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> |= <a class="code hl_define" href="StormLib_8h.html#a3c8ed28738e3f0f8fb54fbc395704613">MPQ_FLAG_CHANGED</a>;</div>
<div class="line"><span class="lineno"> 1302</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1303</span>}</div>
<div class="ttc" id="aStormLib_8h_html_a333d1f8448f3052fcba766be325c6ca3"><div class="ttname"><a href="StormLib_8h.html#a333d1f8448f3052fcba766be325c6ca3">SFILE_LOCALE</a></div><div class="ttdeci">#define SFILE_LOCALE(lcFileLocale)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l01000">StormLib.h:1000</a></div></div>
<div class="ttc" id="aStormLib_8h_html_adf4be5d17b5f6632333c12ddd17d4ff5"><div class="ttname"><a href="StormLib_8h.html#adf4be5d17b5f6632333c12ddd17d4ff5">SFILE_PLATFORM</a></div><div class="ttdeci">#define SFILE_PLATFORM(lcFileLocale)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l01001">StormLib.h:1001</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a7b5145c080be1df3647b57e93454a7fb_cgraph.svg" width="100%" height="493"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6e34d029cecd26331b44985dd5622927" name="a6e34d029cecd26331b44985dd5622927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e34d029cecd26331b44985dd5622927">&#9670;&#160;</a></span>SFileSetFilePointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileSetFilePointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a>&#160;</td>
          <td class="paramname"><em>lFilePos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a> *&#160;</td>
          <td class="paramname"><em>plFilePosHigh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwMoveMethod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileReadFile_8cpp_source.html#l00816">816</a> of file <a class="el" href="SFileReadFile_8cpp_source.html">SFileReadFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  817</span>{</div>
<div class="line"><span class="lineno">  818</span>    <a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> * hf = (<a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> *)hFile;</div>
<div class="line"><span class="lineno">  819</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> OldPosition;</div>
<div class="line"><span class="lineno">  820</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> NewPosition;</div>
<div class="line"><span class="lineno">  821</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> FileSize;</div>
<div class="line"><span class="lineno">  822</span>    <a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> DeltaPos;</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>    <span class="comment">// If the hFile is not a valid file handle, return an error.</span></div>
<div class="line"><span class="lineno">  825</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#ab2d3193ce28d1a3b371e0390542d9c23">IsValidFileHandle</a>(hFile))</div>
<div class="line"><span class="lineno">  826</span>    {</div>
<div class="line"><span class="lineno">  827</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>);</div>
<div class="line"><span class="lineno">  828</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_8h.html#a4b28e2af68b69ed953f40f888d3756d5">SFILE_INVALID_POS</a>;</div>
<div class="line"><span class="lineno">  829</span>    }</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>    <span class="comment">// Retrieve the file size for handling the limits</span></div>
<div class="line"><span class="lineno">  832</span>    <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8c3a90e5d6abcbc6757bf7fdae94a5d9">pStream</a> != NULL)</div>
<div class="line"><span class="lineno">  833</span>    {</div>
<div class="line"><span class="lineno">  834</span>        <a class="code hl_function" href="FileStream_8cpp.html#af505319882f0f4aaf396b6d061a2275b">FileStream_GetSize</a>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8c3a90e5d6abcbc6757bf7fdae94a5d9">pStream</a>, &amp;FileSize);</div>
<div class="line"><span class="lineno">  835</span>    }</div>
<div class="line"><span class="lineno">  836</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  837</span>    {</div>
<div class="line"><span class="lineno">  838</span>        FileSize = <a class="code hl_function" href="SFileReadFile_8cpp.html#a1d30c5a49fb9c1c1669884646282e4d3">SFileGetFileSize</a>(hFile, NULL);</div>
<div class="line"><span class="lineno">  839</span>    }</div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span>    <span class="comment">// Handle the NULL and non-NULL values of plFilePosHigh</span></div>
<div class="line"><span class="lineno">  842</span>    <span class="comment">// Non-NULL: The DeltaPos is combined from lFilePos and *lpFilePosHigh</span></div>
<div class="line"><span class="lineno">  843</span>    <span class="comment">// NULL: The DeltaPos is sign-extended value of lFilePos</span></div>
<div class="line"><span class="lineno">  844</span>    DeltaPos = (plFilePosHigh != NULL) ? <a class="code hl_define" href="StormCommon_8h.html#ac67482b4d06c66c34ad0dc9686c12fd4">MAKE_OFFSET64</a>(plFilePosHigh[0], lFilePos) : (<a class="code hl_typedef" href="StormPort_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>)(<a class="code hl_typedef" href="StormPort_8h.html#af559a7ae68520d96f21d0655d6792508">LONGLONG</a>)lFilePos;</div>
<div class="line"><span class="lineno">  845</span> </div>
<div class="line"><span class="lineno">  846</span>    <span class="comment">// Get the relative point where to move from</span></div>
<div class="line"><span class="lineno">  847</span>    <span class="keywordflow">switch</span>(dwMoveMethod)</div>
<div class="line"><span class="lineno">  848</span>    {</div>
<div class="line"><span class="lineno">  849</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormPort_8h.html#a1b6a16ca70fb99d4c13aeae1e7283680">FILE_BEGIN</a>:</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>            <span class="comment">// Move relative to the file begin.</span></div>
<div class="line"><span class="lineno">  852</span>            OldPosition = 0;</div>
<div class="line"><span class="lineno">  853</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormPort_8h.html#a815ce73e2d97f51e08c4f0cb39acc389">FILE_CURRENT</a>:</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span>            <span class="comment">// Retrieve the current file position</span></div>
<div class="line"><span class="lineno">  858</span>            <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8c3a90e5d6abcbc6757bf7fdae94a5d9">pStream</a> != NULL)</div>
<div class="line"><span class="lineno">  859</span>            {</div>
<div class="line"><span class="lineno">  860</span>                <a class="code hl_function" href="FileStream_8cpp.html#a4cda734fc220ab4b32e1f2bf9b5446fc">FileStream_GetPos</a>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8c3a90e5d6abcbc6757bf7fdae94a5d9">pStream</a>, &amp;OldPosition);</div>
<div class="line"><span class="lineno">  861</span>            }</div>
<div class="line"><span class="lineno">  862</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  863</span>            {</div>
<div class="line"><span class="lineno">  864</span>                OldPosition = hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#acc7d222ba9bf68719f415e433dc8694c">dwFilePos</a>;</div>
<div class="line"><span class="lineno">  865</span>            }</div>
<div class="line"><span class="lineno">  866</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  867</span> </div>
<div class="line"><span class="lineno">  868</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormPort_8h.html#a1f36ce1882fa7f063018087a226e4867">FILE_END</a>:</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>            <span class="comment">// Move relative to the end of the file</span></div>
<div class="line"><span class="lineno">  871</span>            OldPosition = FileSize;</div>
<div class="line"><span class="lineno">  872</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  875</span>            <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  876</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_8h.html#a4b28e2af68b69ed953f40f888d3756d5">SFILE_INVALID_POS</a>;</div>
<div class="line"><span class="lineno">  877</span>    }</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>    <span class="comment">// Calculate the new position</span></div>
<div class="line"><span class="lineno">  880</span>    NewPosition = OldPosition + DeltaPos;</div>
<div class="line"><span class="lineno">  881</span> </div>
<div class="line"><span class="lineno">  882</span>    <span class="comment">// If moving backward, don&#39;t allow the new position go negative</span></div>
<div class="line"><span class="lineno">  883</span>    <span class="keywordflow">if</span>((<a class="code hl_typedef" href="StormPort_8h.html#af559a7ae68520d96f21d0655d6792508">LONGLONG</a>)DeltaPos &lt; 0)</div>
<div class="line"><span class="lineno">  884</span>    {</div>
<div class="line"><span class="lineno">  885</span>        <span class="keywordflow">if</span>(NewPosition &gt; FileSize) <span class="comment">// Position is negative</span></div>
<div class="line"><span class="lineno">  886</span>        {</div>
<div class="line"><span class="lineno">  887</span>            <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a5c4bf2ee3af189a04f8c918bf566d243">ERROR_NEGATIVE_SEEK</a>);</div>
<div class="line"><span class="lineno">  888</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_8h.html#a4b28e2af68b69ed953f40f888d3756d5">SFILE_INVALID_POS</a>;</div>
<div class="line"><span class="lineno">  889</span>        }</div>
<div class="line"><span class="lineno">  890</span>    }</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>    <span class="comment">// If moving forward, don&#39;t allow the new position go past the end of the file</span></div>
<div class="line"><span class="lineno">  893</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  894</span>    {</div>
<div class="line"><span class="lineno">  895</span>        <span class="keywordflow">if</span>(NewPosition &gt; FileSize)</div>
<div class="line"><span class="lineno">  896</span>            NewPosition = FileSize;</div>
<div class="line"><span class="lineno">  897</span>    }</div>
<div class="line"><span class="lineno">  898</span> </div>
<div class="line"><span class="lineno">  899</span>    <span class="comment">// Now apply the file pointer to the file</span></div>
<div class="line"><span class="lineno">  900</span>    <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8c3a90e5d6abcbc6757bf7fdae94a5d9">pStream</a> != NULL)</div>
<div class="line"><span class="lineno">  901</span>    {</div>
<div class="line"><span class="lineno">  902</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="FileStream_8cpp.html#a593f3b1416f7497c28fa5552cd1b3003">FileStream_Read</a>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a8c3a90e5d6abcbc6757bf7fdae94a5d9">pStream</a>, &amp;NewPosition, NULL, 0))</div>
<div class="line"><span class="lineno">  903</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_8h.html#a4b28e2af68b69ed953f40f888d3756d5">SFILE_INVALID_POS</a>;</div>
<div class="line"><span class="lineno">  904</span>    }</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>    <span class="comment">// Also, store the new file position to the TMPQFile struct</span></div>
<div class="line"><span class="lineno">  907</span>    hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#acc7d222ba9bf68719f415e433dc8694c">dwFilePos</a> = (<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)NewPosition;</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>    <span class="comment">// Return the new file position</span></div>
<div class="line"><span class="lineno">  910</span>    <span class="keywordflow">if</span>(plFilePosHigh != NULL)</div>
<div class="line"><span class="lineno">  911</span>        *plFilePosHigh = (<a class="code hl_typedef" href="StormPort_8h.html#a9154c0d0c21af4686624543215b4e5f2">LONG</a>)(NewPosition &gt;&gt; 32);</div>
<div class="line"><span class="lineno">  912</span>    <span class="keywordflow">return</span> (<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)NewPosition;</div>
<div class="line"><span class="lineno">  913</span>}</div>
<div class="ttc" id="aFileStream_8cpp_html_a4cda734fc220ab4b32e1f2bf9b5446fc"><div class="ttname"><a href="FileStream_8cpp.html#a4cda734fc220ab4b32e1f2bf9b5446fc">FileStream_GetPos</a></div><div class="ttdeci">bool FileStream_GetPos(TFileStream *pStream, ULONGLONG *pByteOffset)</div><div class="ttdef"><b>Definition</b> <a href="FileStream_8cpp_source.html#l02824">FileStream.cpp:2824</a></div></div>
<div class="ttc" id="aSFileReadFile_8cpp_html_a1d30c5a49fb9c1c1669884646282e4d3"><div class="ttname"><a href="SFileReadFile_8cpp.html#a1d30c5a49fb9c1c1669884646282e4d3">SFileGetFileSize</a></div><div class="ttdeci">DWORD WINAPI SFileGetFileSize(HANDLE hFile, LPDWORD pdwFileSizeHigh)</div><div class="ttdef"><b>Definition</b> <a href="SFileReadFile_8cpp_source.html#l00769">SFileReadFile.cpp:769</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a4b28e2af68b69ed953f40f888d3756d5"><div class="ttname"><a href="StormLib_8h.html#a4b28e2af68b69ed953f40f888d3756d5">SFILE_INVALID_POS</a></div><div class="ttdeci">#define SFILE_INVALID_POS</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00212">StormLib.h:212</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a1b6a16ca70fb99d4c13aeae1e7283680"><div class="ttname"><a href="StormPort_8h.html#a1b6a16ca70fb99d4c13aeae1e7283680">FILE_BEGIN</a></div><div class="ttdeci">#define FILE_BEGIN</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00365">StormPort.h:365</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a1f36ce1882fa7f063018087a226e4867"><div class="ttname"><a href="StormPort_8h.html#a1f36ce1882fa7f063018087a226e4867">FILE_END</a></div><div class="ttdeci">#define FILE_END</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00367">StormPort.h:367</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a5c4bf2ee3af189a04f8c918bf566d243"><div class="ttname"><a href="StormPort_8h.html#a5c4bf2ee3af189a04f8c918bf566d243">ERROR_NEGATIVE_SEEK</a></div><div class="ttdeci">#define ERROR_NEGATIVE_SEEK</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00408">StormPort.h:408</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a815ce73e2d97f51e08c4f0cb39acc389"><div class="ttname"><a href="StormPort_8h.html#a815ce73e2d97f51e08c4f0cb39acc389">FILE_CURRENT</a></div><div class="ttdeci">#define FILE_CURRENT</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00366">StormPort.h:366</a></div></div>
<div class="ttc" id="aStormPort_8h_html_af559a7ae68520d96f21d0655d6792508"><div class="ttname"><a href="StormPort_8h.html#af559a7ae68520d96f21d0655d6792508">LONGLONG</a></div><div class="ttdeci">long long LONGLONG</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00340">StormPort.h:340</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a6e34d029cecd26331b44985dd5622927_cgraph.svg" width="100%" height="517"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a6e34d029cecd26331b44985dd5622927_icgraph.svg" width="100%" height="401"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ab0683c4b0bbf74b521c9f382b51b6e23" name="ab0683c4b0bbf74b521c9f382b51b6e23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0683c4b0bbf74b521c9f382b51b6e23">&#9670;&#160;</a></span>SFileSetLocale()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileSetLocale </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#ab1742dccc5f422e3ca4eee21d56e0086">LCID</a>&#160;</td>
          <td class="paramname"><em>lcFileLocale</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileOpenArchive_8cpp_source.html#l00212">212</a> of file <a class="el" href="SFileOpenArchive_8cpp_source.html">SFileOpenArchive.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  213</span>{</div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordflow">return</span> (<a class="code hl_variable" href="SBaseCommon_8cpp.html#a45e71286a36272815b1bf6d4f09aab9a">g_lcFileLocale</a> = lcFileLocale);</div>
<div class="line"><span class="lineno">  215</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ab0683c4b0bbf74b521c9f382b51b6e23_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa0066fc17b79fdbd976230a7d395d731" name="aa0066fc17b79fdbd976230a7d395d731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0066fc17b79fdbd976230a7d395d731">&#9670;&#160;</a></span>SFileSetMaxFileCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileSetMaxFileCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwMaxFileCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileCompactArchive_8cpp_source.html#l00463">463</a> of file <a class="el" href="SFileCompactArchive_8cpp_source.html">SFileCompactArchive.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  464</span>{</div>
<div class="line"><span class="lineno">  465</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno">  466</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwNewHashTableSize = 0;</div>
<div class="line"><span class="lineno">  467</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>    <span class="comment">// Test the valid parameters</span></div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno">  471</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a>)</div>
<div class="line"><span class="lineno">  473</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a>;</div>
<div class="line"><span class="lineno">  474</span>    <span class="keywordflow">if</span>(dwMaxFileCount &lt; ha-&gt;dwFileTableSize)</div>
<div class="line"><span class="lineno">  475</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a5ec52746aa53db64b107d409b8da5372">ERROR_DISK_FULL</a>;</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>    <span class="comment">// ALL file names must be known in order to be able to rebuild hash table</span></div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ad3ec9127fcae2cd440073adbc3f21fba">pHashTable</a> != NULL)</div>
<div class="line"><span class="lineno">  479</span>    {</div>
<div class="line"><span class="lineno">  480</span>        dwErrCode = <a class="code hl_function" href="SFileCompactArchive_8cpp.html#a5b7b489ab901ba9d8ac8465090dc2e6b">CheckIfAllFilesKnown</a>(ha);</div>
<div class="line"><span class="lineno">  481</span>        <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  482</span>        {</div>
<div class="line"><span class="lineno">  483</span>            <span class="comment">// Calculate the hash table size for the new file limit</span></div>
<div class="line"><span class="lineno">  484</span>            dwNewHashTableSize = <a class="code hl_function" href="SBaseCommon_8cpp.html#a8e83939687ba0972b196f3bfd878f54a">GetNearestPowerOfTwo</a>(dwMaxFileCount);</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>            <span class="comment">// Rebuild both file tables</span></div>
<div class="line"><span class="lineno">  487</span>            dwErrCode = <a class="code hl_function" href="SBaseFileTable_8cpp.html#ae090822d08e5d6b4401f98956dc5f8bb">RebuildFileTable</a>(ha, dwNewHashTableSize);</div>
<div class="line"><span class="lineno">  488</span>        }</div>
<div class="line"><span class="lineno">  489</span>    }</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>    <span class="comment">// We always have to rebuild the (attributes) file due to file table change</span></div>
<div class="line"><span class="lineno">  492</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  493</span>    {</div>
<div class="line"><span class="lineno">  494</span>        <span class="comment">// Invalidate (listfile) and (attributes)</span></div>
<div class="line"><span class="lineno">  495</span>        <a class="code hl_function" href="SBaseFileTable_8cpp.html#a49c99a591813b88b38d9d219af88a8d4">InvalidateInternalFiles</a>(ha);</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>        <span class="comment">// Rebuild the HET table, if we have any</span></div>
<div class="line"><span class="lineno">  498</span>        <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a964afcb85acb567a58ef4066b579fd51">pHetTable</a> != NULL)</div>
<div class="line"><span class="lineno">  499</span>            dwErrCode = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a8fc021d269a6b0e62af30309c0e041c9">RebuildHetTable</a>(ha);</div>
<div class="line"><span class="lineno">  500</span>    }</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>    <span class="comment">// Return the error</span></div>
<div class="line"><span class="lineno">  503</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  504</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">  505</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno">  506</span>}</div>
<div class="ttc" id="aSBaseFileTable_8cpp_html_ae090822d08e5d6b4401f98956dc5f8bb"><div class="ttname"><a href="SBaseFileTable_8cpp.html#ae090822d08e5d6b4401f98956dc5f8bb">RebuildFileTable</a></div><div class="ttdeci">DWORD RebuildFileTable(TMPQArchive *ha, DWORD dwNewHashTableSize)</div><div class="ttdef"><b>Definition</b> <a href="SBaseFileTable_8cpp_source.html#l02888">SBaseFileTable.cpp:2888</a></div></div>
<div class="ttc" id="aSFileCompactArchive_8cpp_html_a5b7b489ab901ba9d8ac8465090dc2e6b"><div class="ttname"><a href="SFileCompactArchive_8cpp.html#a5b7b489ab901ba9d8ac8465090dc2e6b">CheckIfAllFilesKnown</a></div><div class="ttdeci">static DWORD CheckIfAllFilesKnown(TMPQArchive *ha)</div><div class="ttdef"><b>Definition</b> <a href="SFileCompactArchive_8cpp_source.html#l00021">SFileCompactArchive.cpp:21</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_aa0066fc17b79fdbd976230a7d395d731_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ab0bc747dfb565ea0ac3a10eaa77e1c31" name="ab0bc747dfb565ea0ac3a10eaa77e1c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0bc747dfb565ea0ac3a10eaa77e1c31">&#9670;&#160;</a></span>SFileSignArchive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileSignArchive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwSignatureType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileVerify_8cpp_source.html#l01016">1016</a> of file <a class="el" href="SFileVerify_8cpp_source.html">SFileVerify.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1017</span>{</div>
<div class="line"><span class="lineno"> 1018</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha;</div>
<div class="line"><span class="lineno"> 1019</span> </div>
<div class="line"><span class="lineno"> 1020</span>    <span class="comment">// Verify the archive handle</span></div>
<div class="line"><span class="lineno"> 1021</span>    ha = <a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq);</div>
<div class="line"><span class="lineno"> 1022</span>    <span class="keywordflow">if</span>(ha == NULL)</div>
<div class="line"><span class="lineno"> 1023</span>    {</div>
<div class="line"><span class="lineno"> 1024</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 1025</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1026</span>    }</div>
<div class="line"><span class="lineno"> 1027</span> </div>
<div class="line"><span class="lineno"> 1028</span>    <span class="comment">// We only support weak signature, and only for MPQs version 1.0</span></div>
<div class="line"><span class="lineno"> 1029</span>    <span class="keywordflow">if</span>(dwSignatureType != <a class="code hl_define" href="StormLib_8h.html#a4cac1edf4a3101da9c369e81fd7c0908">SIGNATURE_TYPE_WEAK</a>)</div>
<div class="line"><span class="lineno"> 1030</span>    {</div>
<div class="line"><span class="lineno"> 1031</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 1032</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1033</span>    }</div>
<div class="line"><span class="lineno"> 1034</span> </div>
<div class="line"><span class="lineno"> 1035</span>    <span class="comment">// The archive must not be malformed and must not be read-only</span></div>
<div class="line"><span class="lineno"> 1036</span>    <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; (<a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a> | <a class="code hl_define" href="StormLib_8h.html#a4e78695275e602042f25c946a7a8fdb5">MPQ_FLAG_MALFORMED</a>))</div>
<div class="line"><span class="lineno"> 1037</span>    {</div>
<div class="line"><span class="lineno"> 1038</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a>);</div>
<div class="line"><span class="lineno"> 1039</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1040</span>    }</div>
<div class="line"><span class="lineno"> 1041</span> </div>
<div class="line"><span class="lineno"> 1042</span>    <span class="comment">// If the signature is not there yet</span></div>
<div class="line"><span class="lineno"> 1043</span>    <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ae523b14433e4a9071469133f67c3ac52">dwFileFlags3</a> == 0)</div>
<div class="line"><span class="lineno"> 1044</span>    {</div>
<div class="line"><span class="lineno"> 1045</span>        <span class="comment">// Turn the signature on. The signature will</span></div>
<div class="line"><span class="lineno"> 1046</span>        <span class="comment">// be applied when the archive is closed</span></div>
<div class="line"><span class="lineno"> 1047</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> |= <a class="code hl_define" href="StormLib_8h.html#a4d8e3ca4aa697762957721160d94cca8">MPQ_FLAG_SIGNATURE_NEW</a> | <a class="code hl_define" href="StormLib_8h.html#a3c8ed28738e3f0f8fb54fbc395704613">MPQ_FLAG_CHANGED</a>;</div>
<div class="line"><span class="lineno"> 1048</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#ae523b14433e4a9071469133f67c3ac52">dwFileFlags3</a> = <a class="code hl_define" href="StormLib_8h.html#af6f21d7e58bf7855583c8f9667467432">MPQ_FILE_EXISTS</a>;</div>
<div class="line"><span class="lineno"> 1049</span>        ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a9eae90efbf3e52b5bb0b400eb157547e">dwReservedFiles</a>++;</div>
<div class="line"><span class="lineno"> 1050</span>    }</div>
<div class="line"><span class="lineno"> 1051</span> </div>
<div class="line"><span class="lineno"> 1052</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1053</span>}</div>
<div class="ttc" id="aStormLib_8h_html_a4cac1edf4a3101da9c369e81fd7c0908"><div class="ttname"><a href="StormLib_8h.html#a4cac1edf4a3101da9c369e81fd7c0908">SIGNATURE_TYPE_WEAK</a></div><div class="ttdeci">#define SIGNATURE_TYPE_WEAK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00381">StormLib.h:381</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ab0bc747dfb565ea0ac3a10eaa77e1c31_cgraph.svg" width="328" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a7f66db40266cb2d78416b2f9cc2804ba" name="a7f66db40266cb2d78416b2f9cc2804ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f66db40266cb2d78416b2f9cc2804ba">&#9670;&#160;</a></span>SFileUpdateFileAttributes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileUpdateFileAttributes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szFileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAttributes_8cpp_source.html#l00509">509</a> of file <a class="el" href="SFileAttributes_8cpp_source.html">SFileAttributes.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  510</span>{</div>
<div class="line"><span class="lineno">  511</span>    <a class="code hl_union" href="unionHash__state.html">hash_state</a> md5_state;</div>
<div class="line"><span class="lineno">  512</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno">  513</span>    <a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> * hf;</div>
<div class="line"><span class="lineno">  514</span>    <a class="code hl_typedef" href="StormPort_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> Buffer[0x1000];</div>
<div class="line"><span class="lineno">  515</span>    <a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile = NULL;</div>
<div class="line"><span class="lineno">  516</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwTotalBytes = 0;</div>
<div class="line"><span class="lineno">  517</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesRead;</div>
<div class="line"><span class="lineno">  518</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwCrc32;</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>    <span class="comment">// Verify the parameters</span></div>
<div class="line"><span class="lineno">  521</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(ha))</div>
<div class="line"><span class="lineno">  522</span>    {</div>
<div class="line"><span class="lineno">  523</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  524</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  525</span>    }</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>    <span class="comment">// Not allowed when the archive is read-only</span></div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ac79954b2e62ac6c6da211fc5c75973e4">MPQ_FLAG_READ_ONLY</a>)</div>
<div class="line"><span class="lineno">  529</span>    {</div>
<div class="line"><span class="lineno">  530</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#aeed98d3d6aec00b22a04eb8836d77a51">ERROR_ACCESS_DENIED</a>);</div>
<div class="line"><span class="lineno">  531</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  532</span>    }</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>    <span class="comment">// Attempt to open the file</span></div>
<div class="line"><span class="lineno">  535</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SFileOpenFileEx_8cpp.html#a0049c66b1dbb981f5b69afe6bbe60313">SFileOpenFileEx</a>(hMpq, szFileName, <a class="code hl_define" href="StormLib_8h.html#a1624257a38d19c0d19bb4af7edbec9c7">SFILE_OPEN_BASE_FILE</a>, &amp;hFile))</div>
<div class="line"><span class="lineno">  536</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>    <span class="comment">// Get the file size</span></div>
<div class="line"><span class="lineno">  539</span>    hf = (<a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> *)hFile;</div>
<div class="line"><span class="lineno">  540</span>    dwTotalBytes = hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#ac1d03293cafba09c581d1ce3b20cce11">dwFileSize</a>;</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>    <span class="comment">// Initialize the CRC32 and MD5 contexts</span></div>
<div class="line"><span class="lineno">  543</span>    <a class="code hl_function" href="md5_8c.html#a26c1379e5ead2590effec89de6b8cd11">md5_init</a>(&amp;md5_state);</div>
<div class="line"><span class="lineno">  544</span>    dwCrc32 = <a class="code hl_function" href="StormLib_2src_2zlib_2crc32_8c.html#af5a1c7b05170540ef3bb084e6cf903c4">crc32</a>(0, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>, 0);</div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>    <span class="comment">// Go through entire file and calculate both CRC32 and MD5</span></div>
<div class="line"><span class="lineno">  547</span>    <span class="keywordflow">while</span>(dwTotalBytes != 0)</div>
<div class="line"><span class="lineno">  548</span>    {</div>
<div class="line"><span class="lineno">  549</span>        <span class="comment">// Read data from file</span></div>
<div class="line"><span class="lineno">  550</span>        <a class="code hl_function" href="SFileReadFile_8cpp.html#a3c81a68cbecef70ab57c9d3145ef8b7d">SFileReadFile</a>(hFile, Buffer, <span class="keyword">sizeof</span>(Buffer), &amp;dwBytesRead, NULL);</div>
<div class="line"><span class="lineno">  551</span>        <span class="keywordflow">if</span>(dwBytesRead == 0)</div>
<div class="line"><span class="lineno">  552</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>        <span class="comment">// Update CRC32 and MD5</span></div>
<div class="line"><span class="lineno">  555</span>        dwCrc32 = <a class="code hl_function" href="StormLib_2src_2zlib_2crc32_8c.html#af5a1c7b05170540ef3bb084e6cf903c4">crc32</a>(dwCrc32, Buffer, dwBytesRead);</div>
<div class="line"><span class="lineno">  556</span>        md5_process(&amp;md5_state, Buffer, dwBytesRead);</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>        <span class="comment">// Decrement the total size</span></div>
<div class="line"><span class="lineno">  559</span>        dwTotalBytes -= dwBytesRead;</div>
<div class="line"><span class="lineno">  560</span>    }</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>    <span class="comment">// Update both CRC32 and MD5</span></div>
<div class="line"><span class="lineno">  563</span>    hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#a06fcb7c74ebf45703eed4543dc1593fc">dwCrc32</a> = dwCrc32;</div>
<div class="line"><span class="lineno">  564</span>    <a class="code hl_function" href="md5_8c.html#aee76a4c9f37bfe88d943301f3fa8126f">md5_done</a>(&amp;md5_state, hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#ab1d1decddc482561a60752168238a9c4">md5</a>);</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>    <span class="comment">// Remember that we need to save the MPQ tables</span></div>
<div class="line"><span class="lineno">  567</span>    <a class="code hl_function" href="SBaseFileTable_8cpp.html#a49c99a591813b88b38d9d219af88a8d4">InvalidateInternalFiles</a>(ha);</div>
<div class="line"><span class="lineno">  568</span>    <a class="code hl_function" href="SFileOpenFileEx_8cpp.html#a49a09a38e6dc3b1afd95163a1c9052c6">SFileCloseFile</a>(hFile);</div>
<div class="line"><span class="lineno">  569</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  570</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2crc32_8c_html_af5a1c7b05170540ef3bb084e6cf903c4"><div class="ttname"><a href="StormLib_2src_2zlib_2crc32_8c.html#af5a1c7b05170540ef3bb084e6cf903c4">crc32</a></div><div class="ttdeci">unsigned long ZEXPORT crc32(unsigned long crc, const unsigned char FAR *buf, uInt len)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2crc32_8c_source.html#l00221">crc32.c:221</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_ad15afa2776b41b2f4d8582dd152bd736"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a></div><div class="ttdeci">#define Z_NULL</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00208">zlib.h:208</a></div></div>
<div class="ttc" id="amd5_8c_html_a26c1379e5ead2590effec89de6b8cd11"><div class="ttname"><a href="md5_8c.html#a26c1379e5ead2590effec89de6b8cd11">md5_init</a></div><div class="ttdeci">int md5_init(hash_state *md)</div><div class="ttdef"><b>Definition</b> <a href="md5_8c_source.html#l00233">md5.c:233</a></div></div>
<div class="ttc" id="amd5_8c_html_aee76a4c9f37bfe88d943301f3fa8126f"><div class="ttname"><a href="md5_8c.html#aee76a4c9f37bfe88d943301f3fa8126f">md5_done</a></div><div class="ttdeci">int md5_done(hash_state *md, unsigned char *out)</div><div class="ttdef"><b>Definition</b> <a href="md5_8c_source.html#l00260">md5.c:260</a></div></div>
<div class="ttc" id="aunionHash__state_html"><div class="ttname"><a href="unionHash__state.html">Hash_state</a></div><div class="ttdef"><b>Definition</b> <a href="tomcrypt__hash_8h_source.html#l00105">tomcrypt_hash.h:105</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a7f66db40266cb2d78416b2f9cc2804ba_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a5d1f891bd3e6c98a94a13cc5745ae6f4" name="a5d1f891bd3e6c98a94a13cc5745ae6f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d1f891bd3e6c98a94a13cc5745ae6f4">&#9670;&#160;</a></span>SFileVerifyArchive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileVerifyArchive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileVerify_8cpp_source.html#l00979">979</a> of file <a class="el" href="SFileVerify_8cpp_source.html">SFileVerify.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  980</span>{</div>
<div class="line"><span class="lineno">  981</span>    <a class="code hl_struct" href="struct__MPQ__SIGNATURE__INFO.html">MPQ_SIGNATURE_INFO</a> si;</div>
<div class="line"><span class="lineno">  982</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno">  983</span> </div>
<div class="line"><span class="lineno">  984</span>    <span class="comment">// Verify input parameters</span></div>
<div class="line"><span class="lineno">  985</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno">  986</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_8h.html#a80c17a568554b991f15c75f4ad29c3c1">ERROR_VERIFY_FAILED</a>;</div>
<div class="line"><span class="lineno">  987</span> </div>
<div class="line"><span class="lineno">  988</span>    <span class="comment">// If the archive was modified, we need to flush it</span></div>
<div class="line"><span class="lineno">  989</span>    <span class="keywordflow">if</span>(ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#a4f1bf356f8e6dd8d3ec1faeec821aa6c">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a3c8ed28738e3f0f8fb54fbc395704613">MPQ_FLAG_CHANGED</a>)</div>
<div class="line"><span class="lineno">  990</span>        <a class="code hl_function" href="SFileOpenArchive_8cpp.html#a5f3daefb5c0d87a791fcc42ec40714d2">SFileFlushArchive</a>(hMpq);</div>
<div class="line"><span class="lineno">  991</span> </div>
<div class="line"><span class="lineno">  992</span>    <span class="comment">// Get the MPQ signature and signature type</span></div>
<div class="line"><span class="lineno">  993</span>    memset(&amp;si, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__MPQ__SIGNATURE__INFO.html">MPQ_SIGNATURE_INFO</a>));</div>
<div class="line"><span class="lineno">  994</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SFileVerify_8cpp.html#ad1d1397c13ad8207112ea6bbd6218ea9">QueryMpqSignatureInfo</a>(ha, &amp;si))</div>
<div class="line"><span class="lineno">  995</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_8h.html#a80c17a568554b991f15c75f4ad29c3c1">ERROR_VERIFY_FAILED</a>;</div>
<div class="line"><span class="lineno">  996</span> </div>
<div class="line"><span class="lineno">  997</span>    <span class="comment">// If there is no signature</span></div>
<div class="line"><span class="lineno">  998</span>    <span class="keywordflow">if</span>(si.<a class="code hl_variable" href="struct__MPQ__SIGNATURE__INFO.html#a3094e3a410ac87a505e1282b1bf65c07">SignatureTypes</a> == 0)</div>
<div class="line"><span class="lineno">  999</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_8h.html#a4cfaf1c7907e9a9602946ef99b826bba">ERROR_NO_SIGNATURE</a>;</div>
<div class="line"><span class="lineno"> 1000</span> </div>
<div class="line"><span class="lineno"> 1001</span>    <span class="comment">// We haven&#39;t seen a MPQ with both signatures</span></div>
<div class="line"><span class="lineno"> 1002</span>    assert(si.<a class="code hl_variable" href="struct__MPQ__SIGNATURE__INFO.html#a3094e3a410ac87a505e1282b1bf65c07">SignatureTypes</a> == <a class="code hl_define" href="StormLib_8h.html#a4cac1edf4a3101da9c369e81fd7c0908">SIGNATURE_TYPE_WEAK</a> || si.<a class="code hl_variable" href="struct__MPQ__SIGNATURE__INFO.html#a3094e3a410ac87a505e1282b1bf65c07">SignatureTypes</a> == <a class="code hl_define" href="StormLib_8h.html#ab77da79e415e52afa44cb2a346bc55c7">SIGNATURE_TYPE_STRONG</a>);</div>
<div class="line"><span class="lineno"> 1003</span> </div>
<div class="line"><span class="lineno"> 1004</span>    <span class="comment">// Verify the strong signature, if present</span></div>
<div class="line"><span class="lineno"> 1005</span>    <span class="keywordflow">if</span>(si.<a class="code hl_variable" href="struct__MPQ__SIGNATURE__INFO.html#a3094e3a410ac87a505e1282b1bf65c07">SignatureTypes</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ab77da79e415e52afa44cb2a346bc55c7">SIGNATURE_TYPE_STRONG</a>)</div>
<div class="line"><span class="lineno"> 1006</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="SFileVerify_8cpp.html#ac839790f99e4249101c16dfdbf3b7982">VerifyStrongSignature</a>(ha, &amp;si);</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>    <span class="comment">// Verify the weak signature, if present</span></div>
<div class="line"><span class="lineno"> 1009</span>    <span class="keywordflow">if</span>(si.<a class="code hl_variable" href="struct__MPQ__SIGNATURE__INFO.html#a3094e3a410ac87a505e1282b1bf65c07">SignatureTypes</a> &amp; <a class="code hl_define" href="StormLib_8h.html#a4cac1edf4a3101da9c369e81fd7c0908">SIGNATURE_TYPE_WEAK</a>)</div>
<div class="line"><span class="lineno"> 1010</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="SFileVerify_8cpp.html#aae5a40ce2a08aed477fbb6be02620d42">VerifyWeakSignature</a>(ha, &amp;si);</div>
<div class="line"><span class="lineno"> 1011</span> </div>
<div class="line"><span class="lineno"> 1012</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_8h.html#a4cfaf1c7907e9a9602946ef99b826bba">ERROR_NO_SIGNATURE</a>;</div>
<div class="line"><span class="lineno"> 1013</span>}</div>
<div class="ttc" id="aSFileVerify_8cpp_html_aae5a40ce2a08aed477fbb6be02620d42"><div class="ttname"><a href="SFileVerify_8cpp.html#aae5a40ce2a08aed477fbb6be02620d42">VerifyWeakSignature</a></div><div class="ttdeci">static DWORD VerifyWeakSignature(TMPQArchive *ha, PMPQ_SIGNATURE_INFO pSI)</div><div class="ttdef"><b>Definition</b> <a href="SFileVerify_8cpp_source.html#l00435">SFileVerify.cpp:435</a></div></div>
<div class="ttc" id="aSFileVerify_8cpp_html_ac839790f99e4249101c16dfdbf3b7982"><div class="ttname"><a href="SFileVerify_8cpp.html#ac839790f99e4249101c16dfdbf3b7982">VerifyStrongSignature</a></div><div class="ttdeci">static DWORD VerifyStrongSignature(TMPQArchive *ha, PMPQ_SIGNATURE_INFO pSI)</div><div class="ttdef"><b>Definition</b> <a href="SFileVerify_8cpp_source.html#l00491">SFileVerify.cpp:491</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a4cfaf1c7907e9a9602946ef99b826bba"><div class="ttname"><a href="StormLib_8h.html#a4cfaf1c7907e9a9602946ef99b826bba">ERROR_NO_SIGNATURE</a></div><div class="ttdeci">#define ERROR_NO_SIGNATURE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00385">StormLib.h:385</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a80c17a568554b991f15c75f4ad29c3c1"><div class="ttname"><a href="StormLib_8h.html#a80c17a568554b991f15c75f4ad29c3c1">ERROR_VERIFY_FAILED</a></div><div class="ttdeci">#define ERROR_VERIFY_FAILED</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00386">StormLib.h:386</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a5d1f891bd3e6c98a94a13cc5745ae6f4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a1bb21d44888e21c7525298bbfcef1ba2" name="a1bb21d44888e21c7525298bbfcef1ba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bb21d44888e21c7525298bbfcef1ba2">&#9670;&#160;</a></span>SFileVerifyFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileVerifyFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileVerify_8cpp_source.html#l00896">896</a> of file <a class="el" href="SFileVerify_8cpp_source.html">SFileVerify.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  897</span>{</div>
<div class="line"><span class="lineno">  898</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="SFileVerify_8cpp.html#ac3dfd7d63601309154f3a1b7757796c7">VerifyFile</a>(hMpq,</div>
<div class="line"><span class="lineno">  899</span>                      szFileName,</div>
<div class="line"><span class="lineno">  900</span>                      NULL,</div>
<div class="line"><span class="lineno">  901</span>                      NULL,</div>
<div class="line"><span class="lineno">  902</span>                      dwFlags);</div>
<div class="line"><span class="lineno">  903</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a1bb21d44888e21c7525298bbfcef1ba2_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae6dba58ed9a37a2871771b7e493e3f4a" name="ae6dba58ed9a37a2871771b7e493e3f4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6dba58ed9a37a2871771b7e493e3f4a">&#9670;&#160;</a></span>SFileVerifyRawData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileVerifyRawData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwWhatToVerify</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szFileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileVerify_8cpp_source.html#l00906">906</a> of file <a class="el" href="SFileVerify_8cpp_source.html">SFileVerify.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  907</span>{</div>
<div class="line"><span class="lineno">  908</span>    <a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> * ha = (<a class="code hl_struct" href="struct__TMPQArchive.html">TMPQArchive</a> *)hMpq;</div>
<div class="line"><span class="lineno">  909</span>    <a class="code hl_struct" href="struct__TFileEntry.html">TFileEntry</a> * pFileEntry;</div>
<div class="line"><span class="lineno">  910</span>    <a class="code hl_struct" href="struct__TMPQHeader.html">TMPQHeader</a> * pHeader;</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>    <span class="comment">// Verify input parameters</span></div>
<div class="line"><span class="lineno">  913</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#a8d5000a636535d3a630b1704a9b355e1">IsValidMpqHandle</a>(hMpq))</div>
<div class="line"><span class="lineno">  914</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  915</span>    pHeader = ha-&gt;<a class="code hl_variable" href="struct__TMPQArchive.html#afb1795fbecd5336fe21770ed1f76a33f">pHeader</a>;</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>    <span class="comment">// If the archive doesn&#39;t have raw data MD5, report it as OK</span></div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">if</span>(pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a0885c9723a608bc143ebe2f4bbac15de">dwRawChunkSize</a> == 0)</div>
<div class="line"><span class="lineno">  919</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  920</span> </div>
<div class="line"><span class="lineno">  921</span>    <span class="comment">// If we have to verify MPQ header, do it</span></div>
<div class="line"><span class="lineno">  922</span>    <span class="keywordflow">switch</span>(dwWhatToVerify)</div>
<div class="line"><span class="lineno">  923</span>    {</div>
<div class="line"><span class="lineno">  924</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#adadd6810c67c668a700defc285863d61">SFILE_VERIFY_MPQ_HEADER</a>:</div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span>            <span class="comment">// Only if the header is of version 4 or newer</span></div>
<div class="line"><span class="lineno">  927</span>            <span class="keywordflow">if</span>(pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2243a0f4cd3bfcf873062421b063781a">dwHeaderSize</a> &gt;= (<a class="code hl_define" href="StormLib_8h.html#a34534a41943b28cb7855dd59db96166e">MPQ_HEADER_SIZE_V4</a> - <a class="code hl_define" href="StormLib_8h.html#ad86b38d6ab14e243543904e30f26bed2">MD5_DIGEST_SIZE</a>))</div>
<div class="line"><span class="lineno">  928</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileVerify_8cpp.html#a79767d3d52c837b966e87090cd97f445">VerifyRawMpqData</a>(ha, 0, <a class="code hl_define" href="StormLib_8h.html#a34534a41943b28cb7855dd59db96166e">MPQ_HEADER_SIZE_V4</a> - <a class="code hl_define" href="StormLib_8h.html#ad86b38d6ab14e243543904e30f26bed2">MD5_DIGEST_SIZE</a>);</div>
<div class="line"><span class="lineno">  929</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  930</span> </div>
<div class="line"><span class="lineno">  931</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#a3917b61fcb966ea779d4eb7e78f6f615">SFILE_VERIFY_HET_TABLE</a>:</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>            <span class="comment">// Only if we have HET table</span></div>
<div class="line"><span class="lineno">  934</span>            <span class="keywordflow">if</span>(pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2bde025233503af80b7adb206a2c7c5f">HetTablePos64</a> &amp;&amp; pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a55ca5cca128bc0f3a19963f584ee21ea">HetTableSize64</a>)</div>
<div class="line"><span class="lineno">  935</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileVerify_8cpp.html#a79767d3d52c837b966e87090cd97f445">VerifyRawMpqData</a>(ha, pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a2bde025233503af80b7adb206a2c7c5f">HetTablePos64</a>, (<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a55ca5cca128bc0f3a19963f584ee21ea">HetTableSize64</a>);</div>
<div class="line"><span class="lineno">  936</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#afb5281c0e786bb605747f2fb4e2d9ca5">SFILE_VERIFY_BET_TABLE</a>:</div>
<div class="line"><span class="lineno">  939</span> </div>
<div class="line"><span class="lineno">  940</span>            <span class="comment">// Only if we have BET table</span></div>
<div class="line"><span class="lineno">  941</span>            <span class="keywordflow">if</span>(pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a6b14b9ec494cc3ecff09bfec81a41bca">BetTablePos64</a> &amp;&amp; pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a3e0f089c07641c31742d8003a018e4d9">BetTableSize64</a>)</div>
<div class="line"><span class="lineno">  942</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="SFileVerify_8cpp.html#a79767d3d52c837b966e87090cd97f445">VerifyRawMpqData</a>(ha, pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a6b14b9ec494cc3ecff09bfec81a41bca">BetTablePos64</a>, (<a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)pHeader-&gt;<a class="code hl_variable" href="struct__TMPQHeader.html#a3e0f089c07641c31742d8003a018e4d9">BetTableSize64</a>);</div>
<div class="line"><span class="lineno">  943</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#a000fbd39696b31da38961ae3cf41091a">SFILE_VERIFY_HASH_TABLE</a>:</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>            <span class="comment">// Hash table is not protected by MD5</span></div>
<div class="line"><span class="lineno">  948</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  949</span> </div>
<div class="line"><span class="lineno">  950</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#a5cd4ed2f493ee43df89028627339d7dc">SFILE_VERIFY_BLOCK_TABLE</a>:</div>
<div class="line"><span class="lineno">  951</span> </div>
<div class="line"><span class="lineno">  952</span>            <span class="comment">// Block table is not protected by MD5</span></div>
<div class="line"><span class="lineno">  953</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  954</span> </div>
<div class="line"><span class="lineno">  955</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#abc1a3a6643170e969d6ddaf049fdc8c7">SFILE_VERIFY_HIBLOCK_TABLE</a>:</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>            <span class="comment">// It is unknown if the hi-block table is protected my MD5 or not.</span></div>
<div class="line"><span class="lineno">  958</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  959</span> </div>
<div class="line"><span class="lineno">  960</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_8h.html#aecf09fd72b7b52b78debe67c4553f955">SFILE_VERIFY_FILE</a>:</div>
<div class="line"><span class="lineno">  961</span> </div>
<div class="line"><span class="lineno">  962</span>            <span class="comment">// Verify parameters</span></div>
<div class="line"><span class="lineno">  963</span>            <span class="keywordflow">if</span>(szFileName == NULL || *szFileName == 0)</div>
<div class="line"><span class="lineno">  964</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span>            <span class="comment">// Get the offset of a file</span></div>
<div class="line"><span class="lineno">  967</span>            pFileEntry = <a class="code hl_function" href="SBaseFileTable_8cpp.html#a0f0ecaa05c2cc900064865a814a8f587">GetFileEntryLocale</a>(ha, szFileName, <a class="code hl_variable" href="SBaseCommon_8cpp.html#a45e71286a36272815b1bf6d4f09aab9a">g_lcFileLocale</a>);</div>
<div class="line"><span class="lineno">  968</span>            <span class="keywordflow">if</span>(pFileEntry == NULL)</div>
<div class="line"><span class="lineno">  969</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#aecc8b368d5ba0386b219fdd6a916b0b2">ERROR_FILE_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="SFileVerify_8cpp.html#a79767d3d52c837b966e87090cd97f445">VerifyRawMpqData</a>(ha, pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#a4aa00b411c027d71b59b61d31025397a">ByteOffset</a>, pFileEntry-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#af0800e75c1cfe47b9fdab963b33c003d">dwCmpSize</a>);</div>
<div class="line"><span class="lineno">  972</span>    }</div>
<div class="line"><span class="lineno">  973</span> </div>
<div class="line"><span class="lineno">  974</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  975</span>}</div>
<div class="ttc" id="aSFileVerify_8cpp_html_a79767d3d52c837b966e87090cd97f445"><div class="ttname"><a href="SFileVerify_8cpp.html#a79767d3d52c837b966e87090cd97f445">VerifyRawMpqData</a></div><div class="ttdeci">static DWORD VerifyRawMpqData(TMPQArchive *ha, ULONGLONG ByteOffset, DWORD dwDataSize)</div><div class="ttdef"><b>Definition</b> <a href="SFileVerify_8cpp_source.html#l00347">SFileVerify.cpp:347</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a000fbd39696b31da38961ae3cf41091a"><div class="ttname"><a href="StormLib_8h.html#a000fbd39696b31da38961ae3cf41091a">SFILE_VERIFY_HASH_TABLE</a></div><div class="ttdeci">#define SFILE_VERIFY_HASH_TABLE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00374">StormLib.h:374</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a34534a41943b28cb7855dd59db96166e"><div class="ttname"><a href="StormLib_8h.html#a34534a41943b28cb7855dd59db96166e">MPQ_HEADER_SIZE_V4</a></div><div class="ttdeci">#define MPQ_HEADER_SIZE_V4</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00504">StormLib.h:504</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a3917b61fcb966ea779d4eb7e78f6f615"><div class="ttname"><a href="StormLib_8h.html#a3917b61fcb966ea779d4eb7e78f6f615">SFILE_VERIFY_HET_TABLE</a></div><div class="ttdeci">#define SFILE_VERIFY_HET_TABLE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00372">StormLib.h:372</a></div></div>
<div class="ttc" id="aStormLib_8h_html_a5cd4ed2f493ee43df89028627339d7dc"><div class="ttname"><a href="StormLib_8h.html#a5cd4ed2f493ee43df89028627339d7dc">SFILE_VERIFY_BLOCK_TABLE</a></div><div class="ttdeci">#define SFILE_VERIFY_BLOCK_TABLE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00375">StormLib.h:375</a></div></div>
<div class="ttc" id="aStormLib_8h_html_abc1a3a6643170e969d6ddaf049fdc8c7"><div class="ttname"><a href="StormLib_8h.html#abc1a3a6643170e969d6ddaf049fdc8c7">SFILE_VERIFY_HIBLOCK_TABLE</a></div><div class="ttdeci">#define SFILE_VERIFY_HIBLOCK_TABLE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00376">StormLib.h:376</a></div></div>
<div class="ttc" id="aStormLib_8h_html_adadd6810c67c668a700defc285863d61"><div class="ttname"><a href="StormLib_8h.html#adadd6810c67c668a700defc285863d61">SFILE_VERIFY_MPQ_HEADER</a></div><div class="ttdeci">#define SFILE_VERIFY_MPQ_HEADER</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00371">StormLib.h:371</a></div></div>
<div class="ttc" id="aStormLib_8h_html_aecf09fd72b7b52b78debe67c4553f955"><div class="ttname"><a href="StormLib_8h.html#aecf09fd72b7b52b78debe67c4553f955">SFILE_VERIFY_FILE</a></div><div class="ttdeci">#define SFILE_VERIFY_FILE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00377">StormLib.h:377</a></div></div>
<div class="ttc" id="aStormLib_8h_html_afb5281c0e786bb605747f2fb4e2d9ca5"><div class="ttname"><a href="StormLib_8h.html#afb5281c0e786bb605747f2fb4e2d9ca5">SFILE_VERIFY_BET_TABLE</a></div><div class="ttdeci">#define SFILE_VERIFY_BET_TABLE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_8h_source.html#l00373">StormLib.h:373</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_ae6dba58ed9a37a2871771b7e493e3f4a_cgraph.svg" width="100%" height="549"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a70c78df25d758e53550021e82078352e" name="a70c78df25d758e53550021e82078352e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70c78df25d758e53550021e82078352e">&#9670;&#160;</a></span>SFileWriteFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SFileWriteFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> void *&#160;</td>
          <td class="paramname"><em>pvData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwCompression</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileAddFile_8cpp_source.html#l00818">818</a> of file <a class="el" href="SFileAddFile_8cpp_source.html">SFileAddFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  823</span>{</div>
<div class="line"><span class="lineno">  824</span>    <a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> * hf = (<a class="code hl_struct" href="struct__TMPQFile.html">TMPQFile</a> *)hFile;</div>
<div class="line"><span class="lineno">  825</span>    <a class="code hl_typedef" href="StormPort_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwErrCode = <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>    <span class="comment">// Check the proper parameters</span></div>
<div class="line"><span class="lineno">  828</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="SBaseCommon_8cpp.html#ab2d3193ce28d1a3b371e0390542d9c23">IsValidFileHandle</a>(hFile))</div>
<div class="line"><span class="lineno">  829</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno">  830</span>    <span class="keywordflow">if</span>(hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#aab3e91574271fd7c8df43361fe74a4be">bIsWriteHandle</a> == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  831</span>        dwErrCode = <a class="code hl_define" href="StormPort_8h.html#ac5083578cba1fa368ae57edc1b0c6a69">ERROR_INVALID_HANDLE</a>;</div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span>    <span class="comment">// Special checks for single unit files</span></div>
<div class="line"><span class="lineno">  834</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a> &amp;&amp; (hf-&gt;<a class="code hl_variable" href="struct__TMPQFile.html#a1eeeacf708887722dd9c0114c06121dc">pFileEntry</a>-&gt;<a class="code hl_variable" href="struct__TFileEntry.html#aac45e6e4f80c412a0204abd334bc7f9b">dwFlags</a> &amp; <a class="code hl_define" href="StormLib_8h.html#ad8b6a5c0f3a3c71f60202ba17b5210df">MPQ_FILE_SINGLE_UNIT</a>))</div>
<div class="line"><span class="lineno">  835</span>    {</div>
<div class="line"><span class="lineno">  836</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno">  837</span>        <span class="comment">// Note: Blizzard doesn&#39;t support single unit files</span></div>
<div class="line"><span class="lineno">  838</span>        <span class="comment">// that are stored as encrypted or imploded. We will allow them here,</span></div>
<div class="line"><span class="lineno">  839</span>        <span class="comment">// the calling application must ensure that such flag combination doesn&#39;t get here</span></div>
<div class="line"><span class="lineno">  840</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno">  841</span> </div>
<div class="line"><span class="lineno">  842</span><span class="comment">//      if(dwFlags &amp; MPQ_FILE_IMPLODE)</span></div>
<div class="line"><span class="lineno">  843</span><span class="comment">//          dwErrCode = ERROR_INVALID_PARAMETER;</span></div>
<div class="line"><span class="lineno">  844</span><span class="comment">//</span></div>
<div class="line"><span class="lineno">  845</span><span class="comment">//      if(dwFlags &amp; MPQ_FILE_ENCRYPTED)</span></div>
<div class="line"><span class="lineno">  846</span><span class="comment">//          dwErrCode = ERROR_INVALID_PARAMETER;</span></div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span>        <span class="comment">// Lossy compression is not allowed on single unit files</span></div>
<div class="line"><span class="lineno">  849</span>        <span class="keywordflow">if</span>(dwCompression &amp; <a class="code hl_define" href="SFileAddFile_8cpp.html#af037eda7a4a2f214c6e87418a9d91b99">MPQ_LOSSY_COMPRESSION_MASK</a>)</div>
<div class="line"><span class="lineno">  850</span>            dwErrCode = <a class="code hl_define" href="StormPort_8h.html#a176960f93d11db6f58d10a6957a80f38">ERROR_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  851</span>    }</div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>    <span class="comment">// Write the data to the file</span></div>
<div class="line"><span class="lineno">  855</span>    <span class="keywordflow">if</span>(dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  856</span>        dwErrCode = <a class="code hl_function" href="SFileAddFile_8cpp.html#af071d20ed3992c47bfc3f43a8a7e5875">SFileAddFile_Write</a>(hf, pvData, dwSize, dwCompression);</div>
<div class="line"><span class="lineno">  857</span> </div>
<div class="line"><span class="lineno">  858</span>    <span class="comment">// Deal with errors</span></div>
<div class="line"><span class="lineno">  859</span>    <span class="keywordflow">if</span>(dwErrCode != <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  860</span>        <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(dwErrCode);</div>
<div class="line"><span class="lineno">  861</span>    <span class="keywordflow">return</span> (dwErrCode == <a class="code hl_define" href="StormPort_8h.html#aea0ae801b7d25c979655a7eb20d034af">ERROR_SUCCESS</a>);</div>
<div class="line"><span class="lineno">  862</span>}</div>
<div class="ttc" id="aSFileAddFile_8cpp_html_af071d20ed3992c47bfc3f43a8a7e5875"><div class="ttname"><a href="SFileAddFile_8cpp.html#af071d20ed3992c47bfc3f43a8a7e5875">SFileAddFile_Write</a></div><div class="ttdeci">DWORD SFileAddFile_Write(TMPQFile *hf, const void *pvData, DWORD dwSize, DWORD dwCompression)</div><div class="ttdef"><b>Definition</b> <a href="SFileAddFile_8cpp_source.html#l00569">SFileAddFile.cpp:569</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a70c78df25d758e53550021e82078352e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a70c78df25d758e53550021e82078352e_icgraph.svg" width="450" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a7c9b409ac37f567dd42aed8be7dee6eb" name="a7c9b409ac37f567dd42aed8be7dee6eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c9b409ac37f567dd42aed8be7dee6eb">&#9670;&#160;</a></span>SListFileFindClose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SListFileFindClose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hFind</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileListFile_8cpp_source.html#l00697">697</a> of file <a class="el" href="SFileListFile_8cpp_source.html">SFileListFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  698</span>{</div>
<div class="line"><span class="lineno">  699</span>    <a class="code hl_struct" href="structTListFileCache.html">TListFileCache</a> * pCache = (<a class="code hl_struct" href="structTListFileCache.html">TListFileCache</a> *)hFind;</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="SFileListFile_8cpp.html#abe247b168feddf4764a34c901353b65e">FreeListFileCache</a>(pCache);</div>
<div class="line"><span class="lineno">  702</span>}</div>
<div class="ttc" id="aSFileListFile_8cpp_html_abe247b168feddf4764a34c901353b65e"><div class="ttname"><a href="SFileListFile_8cpp.html#abe247b168feddf4764a34c901353b65e">FreeListFileCache</a></div><div class="ttdeci">static bool FreeListFileCache(TListFileCache *pCache)</div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00076">SFileListFile.cpp:76</a></div></div>
<div class="ttc" id="astructTListFileCache_html"><div class="ttname"><a href="structTListFileCache.html">TListFileCache</a></div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00028">SFileListFile.cpp:29</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a7c9b409ac37f567dd42aed8be7dee6eb_cgraph.svg" width="334" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aba1c9038ee83a8240402172dbab5ff30" name="aba1c9038ee83a8240402172dbab5ff30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba1c9038ee83a8240402172dbab5ff30">&#9670;&#160;</a></span>SListFileFindFirstFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SListFileFindFirstFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hMpq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="StormPort_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szListFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_8h.html#ac80854a06a92ee69e22c1d2c1fc5b5b9">SFILE_FIND_DATA</a> *&#160;</td>
          <td class="paramname"><em>lpFindFileData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileListFile_8cpp_source.html#l00668">668</a> of file <a class="el" href="SFileListFile_8cpp_source.html">SFileListFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  669</span>{</div>
<div class="line"><span class="lineno">  670</span>    <a class="code hl_struct" href="structTListFileCache.html">TListFileCache</a> * pCache = NULL;</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>    <span class="comment">// Initialize the structure with zeros</span></div>
<div class="line"><span class="lineno">  673</span>    memset(lpFindFileData, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__SFILE__FIND__DATA.html">SFILE_FIND_DATA</a>));</div>
<div class="line"><span class="lineno">  674</span> </div>
<div class="line"><span class="lineno">  675</span>    <span class="comment">// Open the local/internal listfile</span></div>
<div class="line"><span class="lineno">  676</span>    pCache = <a class="code hl_function" href="SFileListFile_8cpp.html#a19d96cb819377f37c1632337009d6f52">CreateListFileCache</a>(hMpq, szListFile, szMask, 0, 0);</div>
<div class="line"><span class="lineno">  677</span>    <span class="keywordflow">if</span>(pCache != NULL)</div>
<div class="line"><span class="lineno">  678</span>    {</div>
<div class="line"><span class="lineno">  679</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="SFileListFile_8cpp.html#a29315b5c89f4ff1691be43e6cc5b8eb0">DoListFileSearch</a>(pCache, lpFindFileData))</div>
<div class="line"><span class="lineno">  680</span>        {</div>
<div class="line"><span class="lineno">  681</span>            memset(lpFindFileData, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct__SFILE__FIND__DATA.html">SFILE_FIND_DATA</a>));</div>
<div class="line"><span class="lineno">  682</span>            <a class="code hl_function" href="FileStream_8cpp.html#a65dd8d3e416ffbd6ac5f468c6bdccac9">SetLastError</a>(<a class="code hl_define" href="StormPort_8h.html#a9f424565beb1161bf33b31748c6c16ba">ERROR_NO_MORE_FILES</a>);</div>
<div class="line"><span class="lineno">  683</span>            <a class="code hl_function" href="SFileListFile_8cpp.html#abe247b168feddf4764a34c901353b65e">FreeListFileCache</a>(pCache);</div>
<div class="line"><span class="lineno">  684</span>            pCache = NULL;</div>
<div class="line"><span class="lineno">  685</span>        }</div>
<div class="line"><span class="lineno">  686</span>    }</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>    <span class="comment">// Return the listfile cache as handle</span></div>
<div class="line"><span class="lineno">  689</span>    <span class="keywordflow">return</span> (<a class="code hl_typedef" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>)pCache;</div>
<div class="line"><span class="lineno">  690</span>}</div>
<div class="ttc" id="aSFileListFile_8cpp_html_a19d96cb819377f37c1632337009d6f52"><div class="ttname"><a href="SFileListFile_8cpp.html#a19d96cb819377f37c1632337009d6f52">CreateListFileCache</a></div><div class="ttdeci">static TListFileCache * CreateListFileCache(LOAD_LISTFILE PfnLoadFile, TListFileHandle *pHandle, const char *szWildCard, DWORD dwFileSize, DWORD dwMaxSize, DWORD dwFlags)</div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00084">SFileListFile.cpp:84</a></div></div>
<div class="ttc" id="aSFileListFile_8cpp_html_a29315b5c89f4ff1691be43e6cc5b8eb0"><div class="ttname"><a href="SFileListFile_8cpp.html#a29315b5c89f4ff1691be43e6cc5b8eb0">DoListFileSearch</a></div><div class="ttdeci">static bool DoListFileSearch(TListFileCache *pCache, SFILE_FIND_DATA *lpFindFileData)</div><div class="ttdef"><b>Definition</b> <a href="SFileListFile_8cpp_source.html#l00605">SFileListFile.cpp:605</a></div></div>
<div class="ttc" id="aStormPort_8h_html_a9f424565beb1161bf33b31748c6c16ba"><div class="ttname"><a href="StormPort_8h.html#a9f424565beb1161bf33b31748c6c16ba">ERROR_NO_MORE_FILES</a></div><div class="ttdeci">#define ERROR_NO_MORE_FILES</div><div class="ttdef"><b>Definition</b> <a href="StormPort_8h_source.html#l00413">StormPort.h:413</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_aba1c9038ee83a8240402172dbab5ff30_cgraph.svg" width="564" height="208"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a391fb032f484224b1aa8989663f9357a" name="a391fb032f484224b1aa8989663f9357a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a391fb032f484224b1aa8989663f9357a">&#9670;&#160;</a></span>SListFileFindNextFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="StormPort_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a> SListFileFindNextFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>hFind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_8h.html#ac80854a06a92ee69e22c1d2c1fc5b5b9">SFILE_FIND_DATA</a> *&#160;</td>
          <td class="paramname"><em>lpFindFileData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SFileListFile_8cpp_source.html#l00692">692</a> of file <a class="el" href="SFileListFile_8cpp_source.html">SFileListFile.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  693</span>{</div>
<div class="line"><span class="lineno">  694</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="SFileListFile_8cpp.html#a29315b5c89f4ff1691be43e6cc5b8eb0">DoListFileSearch</a>((<a class="code hl_struct" href="structTListFileCache.html">TListFileCache</a> *)hFind, lpFindFileData);</div>
<div class="line"><span class="lineno">  695</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="StormLib_8h_a391fb032f484224b1aa8989663f9357a_cgraph.svg" width="547" height="159"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5a65adb78194d8b06ca6fd510af8357a.html">AscEmu</a></li><li class="navelem"><a class="el" href="dir_d0fc04153d74feb886fd2096a57dc87f.html">dep</a></li><li class="navelem"><a class="el" href="dir_2594a7fc2f53d73154bdbd3e3b1986ef.html">StormLib</a></li><li class="navelem"><a class="el" href="dir_77224f19d90cfc88aa172a2cc692c112.html">src</a></li><li class="navelem"><a class="el" href="StormLib_8h.html">StormLib.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
