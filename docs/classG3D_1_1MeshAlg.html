<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AscEmu: G3D::MeshAlg Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="AscEmu.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AscEmu
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classG3D_1_1MeshAlg.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="classG3D_1_1MeshAlg-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">G3D::MeshAlg Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="MeshAlg_8h_source.html">MeshAlg.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg_1_1Geometry.html">Geometry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg_1_1Vertex.html">Vertex</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a764b82b69eb915de51242b58f9eeb615" id="r_a764b82b69eb915de51242b58f9eeb615"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classG3D_1_1PrimitiveType.html">PrimitiveType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a764b82b69eb915de51242b58f9eeb615">Primitive</a></td></tr>
<tr class="separator:a764b82b69eb915de51242b58f9eeb615"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af9c7e0c436b7ea572b49c138e66fe1e1" id="r_af9c7e0c436b7ea572b49c138e66fe1e1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#af9c7e0c436b7ea572b49c138e66fe1e1">computeAdjacency</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertexGeometry, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;indexArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;faceArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;edgeArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Vertex.html">Vertex</a> &gt; &amp;vertexArray)</td></tr>
<tr class="separator:af9c7e0c436b7ea572b49c138e66fe1e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7523393a6241ffdccc3e40485e4688ad" id="r_a7523393a6241ffdccc3e40485e4688ad"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a7523393a6241ffdccc3e40485e4688ad">computeAdjacency</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertexArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;indexArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;faceArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;edgeArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &gt; &amp;facesAdjacentToVertex)</td></tr>
<tr class="separator:a7523393a6241ffdccc3e40485e4688ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aa1d0cd2ffbc8cff5bdfb1abe58cb11" id="r_a8aa1d0cd2ffbc8cff5bdfb1abe58cb11"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a8aa1d0cd2ffbc8cff5bdfb1abe58cb11">computeAreaStatistics</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertexArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;indexArray, double &amp;minEdgeLength, double &amp;meanEdgeLength, double &amp;medianEdgeLength, double &amp;maxEdgeLength, double &amp;minFaceArea, double &amp;meanFaceArea, double &amp;medianFaceArea, double &amp;maxFaceArea)</td></tr>
<tr class="separator:a8aa1d0cd2ffbc8cff5bdfb1abe58cb11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1db0b75590f1536188088497c4277230" id="r_a1db0b75590f1536188088497c4277230"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a1db0b75590f1536188088497c4277230">computeTangentSpaceBasis</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertexArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector2.html">Vector2</a> &gt; &amp;texCoordArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertexNormalArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;faceArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;tangent, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;binormal)</td></tr>
<tr class="separator:a1db0b75590f1536188088497c4277230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c9a8a2730418ab9aef5e8765fa57fc" id="r_a61c9a8a2730418ab9aef5e8765fa57fc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a61c9a8a2730418ab9aef5e8765fa57fc">computeNormals</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertexArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;faceArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &gt; &amp;adjacentFaceArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertexNormalArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;faceNormalArray)</td></tr>
<tr class="separator:a61c9a8a2730418ab9aef5e8765fa57fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a720141b763de04cad91c2331f8f6ff22" id="r_a720141b763de04cad91c2331f8f6ff22"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a720141b763de04cad91c2331f8f6ff22">computeNormals</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertexGeometry, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;faceArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Vertex.html">Vertex</a> &gt; &amp;vertexArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertexNormalArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;faceNormalArray)</td></tr>
<tr class="separator:a720141b763de04cad91c2331f8f6ff22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e63563e941c28782bda25c0a7be48ec" id="r_a2e63563e941c28782bda25c0a7be48ec"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a2e63563e941c28782bda25c0a7be48ec">computeNormals</a> (<a class="el" href="classG3D_1_1MeshAlg_1_1Geometry.html">Geometry</a> &amp;geometry, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;indexArray)</td></tr>
<tr class="separator:a2e63563e941c28782bda25c0a7be48ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06eeca837dae119e80477a902d0a6e92" id="r_a06eeca837dae119e80477a902d0a6e92"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a06eeca837dae119e80477a902d0a6e92">computeFaceNormals</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertexArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;faceArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;faceNormals, <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="namespaceG3D.html#a1fa53333af2cacda5b7aebc1b9645343">normalize</a>=<a class="el" href="StormPort_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)</td></tr>
<tr class="separator:a06eeca837dae119e80477a902d0a6e92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac96e5d6a6ebb7d11a8627f46ca54df09" id="r_ac96e5d6a6ebb7d11a8627f46ca54df09"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#ac96e5d6a6ebb7d11a8627f46ca54df09">identifyBackfaces</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertexArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;faceArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Vector4.html">Vector4</a> &amp;P, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt; &amp;backface)</td></tr>
<tr class="separator:ac96e5d6a6ebb7d11a8627f46ca54df09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e08fb418c4c5583a99f71f6fa41f786" id="r_a3e08fb418c4c5583a99f71f6fa41f786"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a3e08fb418c4c5583a99f71f6fa41f786">identifyBackfaces</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertexArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;faceArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Vector4.html">Vector4</a> &amp;P, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt; &amp;backface, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;faceNormals)</td></tr>
<tr class="separator:a3e08fb418c4c5583a99f71f6fa41f786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abca2919423d37cb7d586f5843a9a8246" id="r_abca2919423d37cb7d586f5843a9a8246"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#abca2919423d37cb7d586f5843a9a8246">computeWeld</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;oldVertexPositions, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;newVertexPositions, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;toNew, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;toOld, float radius=<a class="el" href="g3dmath_8h.html#aed7843efc6572986b9bcd90b4834b5b6">fuzzyEpsilon32</a>)</td></tr>
<tr class="separator:abca2919423d37cb7d586f5843a9a8246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a159cde69c7f03f5482df27f4fb86634c" id="r_a159cde69c7f03f5482df27f4fb86634c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a159cde69c7f03f5482df27f4fb86634c">weldAdjacency</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;originalGeometry, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;faceArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;edgeArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Vertex.html">Vertex</a> &gt; &amp;vertexArray, float radius=<a class="el" href="g3dmath_8h.html#aed7843efc6572986b9bcd90b4834b5b6">fuzzyEpsilon32</a>)</td></tr>
<tr class="separator:a159cde69c7f03f5482df27f4fb86634c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa46b88f28d1f1c46687e1f16684c9775" id="r_aa46b88f28d1f1c46687e1f16684c9775"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#aa46b88f28d1f1c46687e1f16684c9775">countBoundaryEdges</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;edgeArray)</td></tr>
<tr class="separator:aa46b88f28d1f1c46687e1f16684c9775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4735cbbb41b5853d132eb79b669fb25c" id="r_a4735cbbb41b5853d132eb79b669fb25c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a4735cbbb41b5853d132eb79b669fb25c">createIndexArray</a> (int n, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;array, int start=0, int run=1, int skip=0)</td></tr>
<tr class="separator:a4735cbbb41b5853d132eb79b669fb25c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8005e27b8d9d5abf999316ba72cd5003" id="r_a8005e27b8d9d5abf999316ba72cd5003"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a8005e27b8d9d5abf999316ba72cd5003">computeBounds</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertex, class <a class="el" href="classG3D_1_1AABox.html">AABox</a> &amp;box, class <a class="el" href="classG3D_1_1Sphere.html">Sphere</a> &amp;sphere)</td></tr>
<tr class="separator:a8005e27b8d9d5abf999316ba72cd5003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4bc1f01025c50ed2ad9a9a21dd3f87" id="r_a9a4bc1f01025c50ed2ad9a9a21dd3f87"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a9a4bc1f01025c50ed2ad9a9a21dd3f87">computeBounds</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertex, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;index, class <a class="el" href="classG3D_1_1AABox.html">AABox</a> &amp;box, class <a class="el" href="classG3D_1_1Sphere.html">Sphere</a> &amp;sphere)</td></tr>
<tr class="separator:a9a4bc1f01025c50ed2ad9a9a21dd3f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a956296535f61f5f3411174b1d97deba1" id="r_a956296535f61f5f3411174b1d97deba1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a956296535f61f5f3411174b1d97deba1">debugCheckConsistency</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;faceArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;edgeArray, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Vertex.html">Vertex</a> &gt; &amp;vertexArray)</td></tr>
<tr class="separator:a956296535f61f5f3411174b1d97deba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a159142899e0ce008cf17dca56633cf6a" id="r_a159142899e0ce008cf17dca56633cf6a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a159142899e0ce008cf17dca56633cf6a">generateGrid</a> (<a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertex, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector2.html">Vector2</a> &gt; &amp;texCoord, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;index, int wCells=10, int hCells=10, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Vector2.html">Vector2</a> &amp;textureScale=<a class="el" href="classG3D_1_1Vector2.html">Vector2</a>(1, 1), <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> spaceCentered=<a class="el" href="StormPort_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>, <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> twoSided=<a class="el" href="StormPort_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1CoordinateFrame.html">CoordinateFrame</a> &amp;xform=<a class="el" href="classG3D_1_1CoordinateFrame.html">CoordinateFrame</a>(), <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Image1.html#aa63fd14c4af0fe7ce6d4c093ef8694b6">Image1::Ref</a> &amp;elevation=<a class="el" href="classG3D_1_1Image1.html#aa63fd14c4af0fe7ce6d4c093ef8694b6">Image1::Ref</a>())</td></tr>
<tr class="separator:a159142899e0ce008cf17dca56633cf6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc9b8ecc53935df67b76bb2d6ce2eb2" id="r_a8dc9b8ecc53935df67b76bb2d6ce2eb2"><td class="memTemplParams" colspan="2">template&lt;class IndexType &gt; </td></tr>
<tr class="memitem:a8dc9b8ecc53935df67b76bb2d6ce2eb2"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a8dc9b8ecc53935df67b76bb2d6ce2eb2">toIndexedTriList</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; IndexType &gt; &amp;inIndices, <a class="el" href="classG3D_1_1MeshAlg.html#a764b82b69eb915de51242b58f9eeb615">MeshAlg::Primitive</a> inType, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; IndexType &gt; &amp;outIndices)</td></tr>
<tr class="separator:a8dc9b8ecc53935df67b76bb2d6ce2eb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:ae0cac2603ebeaace79d19a7d46d8fa10" id="r_ae0cac2603ebeaace79d19a7d46d8fa10"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#ae0cac2603ebeaace79d19a7d46d8fa10">findEdgeIndex</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;vertexArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;geometricEdgeArray, int i0, int i1, int f, double area)</td></tr>
<tr class="separator:ae0cac2603ebeaace79d19a7d46d8fa10"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a1ff4d89646323fa796d59162e8927e2b" id="r_a1ff4d89646323fa796d59162e8927e2b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classG3D_1_1MeshAlg.html#a1ff4d89646323fa796d59162e8927e2b">weldBoundaryEdges</a> (<a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;faceArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;edgeArray, <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Vertex.html">Vertex</a> &gt; &amp;vertexArray)</td></tr>
<tr class="separator:a1ff4d89646323fa796d59162e8927e2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Indexed <b>mesh alg</b>orithms. You have to build your own mesh class. </p>
<p>No mesh class is provided with <a class="el" href="namespaceG3D.html">G3D</a> because there isn't an "ideal" mesh format&ndash; one application needs keyframed animation, another skeletal animation, a third texture coordinates, a fourth cannot precompute information, etc. Instead of compromising, this class implements the hard parts of mesh computation and you can write your own ideal mesh class on top of it.</p>
<dl class="section see"><dt>See also</dt><dd>G3D::ArticulatedModel, G3D::IFSModel </dd></dl>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8h_source.html#l00044">44</a> of file <a class="el" href="MeshAlg_8h_source.html">MeshAlg.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a764b82b69eb915de51242b58f9eeb615" name="a764b82b69eb915de51242b58f9eeb615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a764b82b69eb915de51242b58f9eeb615">&#9670;&#160;</a></span>Primitive</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classG3D_1_1PrimitiveType.html">PrimitiveType</a> <a class="el" href="classG3D_1_1MeshAlg.html#a764b82b69eb915de51242b58f9eeb615">G3D::MeshAlg::Primitive</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000019">Deprecated:</a></b></dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8h_source.html#l00048">48</a> of file <a class="el" href="MeshAlg_8h_source.html">MeshAlg.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7523393a6241ffdccc3e40485e4688ad" name="a7523393a6241ffdccc3e40485e4688ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7523393a6241ffdccc3e40485e4688ad">&#9670;&#160;</a></span>computeAdjacency() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::computeAdjacency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>indexArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>edgeArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>facesAdjacentToVertex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000020">Deprecated:</a></b></dt><dd>Use the other version of computeAdjacency, which takes Array&lt;Vertex&gt;. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">facesAdjacentToVertex</td><td><em>Output</em> adjacentFaceArray[v] is an array of indices for faces touching vertex index v </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MeshAlgAdjacency_8cpp_source.html#l00168">168</a> of file <a class="el" href="MeshAlgAdjacency_8cpp_source.html">MeshAlgAdjacency.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  173</span>                                               {</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>    Array&lt;Vertex&gt; vertexArray;</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>    <a class="code hl_function" href="classG3D_1_1MeshAlg.html#af9c7e0c436b7ea572b49c138e66fe1e1">computeAdjacency</a>(vertexGeometry, indexArray, faceArray, edgeArray, vertexArray);</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <span class="comment">// Convert the vertexArray into adjacentFaceArray</span></div>
<div class="line"><span class="lineno">  180</span>    adjacentFaceArray.clear();</div>
<div class="line"><span class="lineno">  181</span>    adjacentFaceArray.resize(vertexArray.size());</div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v = 0; v &lt; adjacentFaceArray.size(); ++v) {</div>
<div class="line"><span class="lineno">  183</span>        <span class="keyword">const</span> SmallArray&lt;int, 6&gt;&amp; src = vertexArray[v].faceIndex;</div>
<div class="line"><span class="lineno">  184</span>        Array&lt;int&gt;&amp; dst = adjacentFaceArray[v];</div>
<div class="line"><span class="lineno">  185</span>        dst.resize(src.size());</div>
<div class="line"><span class="lineno">  186</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; dst.size(); ++f) {</div>
<div class="line"><span class="lineno">  187</span>            dst[f] = src[f];</div>
<div class="line"><span class="lineno">  188</span>        }</div>
<div class="line"><span class="lineno">  189</span>    }</div>
<div class="line"><span class="lineno">  190</span>}</div>
<div class="ttc" id="aclassG3D_1_1MeshAlg_html_af9c7e0c436b7ea572b49c138e66fe1e1"><div class="ttname"><a href="classG3D_1_1MeshAlg.html#af9c7e0c436b7ea572b49c138e66fe1e1">G3D::MeshAlg::computeAdjacency</a></div><div class="ttdeci">static void computeAdjacency(const Array&lt; Vector3 &gt; &amp;vertexGeometry, const Array&lt; int &gt; &amp;indexArray, Array&lt; Face &gt; &amp;faceArray, Array&lt; Edge &gt; &amp;edgeArray, Array&lt; Vertex &gt; &amp;vertexArray)</div><div class="ttdef"><b>Definition</b> <a href="MeshAlgAdjacency_8cpp_source.html#l00193">MeshAlgAdjacency.cpp:193</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a7523393a6241ffdccc3e40485e4688ad_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af9c7e0c436b7ea572b49c138e66fe1e1" name="af9c7e0c436b7ea572b49c138e66fe1e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9c7e0c436b7ea572b49c138e66fe1e1">&#9670;&#160;</a></span>computeAdjacency() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::computeAdjacency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexGeometry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>indexArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>edgeArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Vertex.html">Vertex</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexArray</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Given a set of vertices and a set of indices for traversing them to create triangles, computes other mesh properties. <br  />
</p>
<p><b>Colocated vertices are treated as separate.</b> To have colocated vertices collapsed (necessary for many algorithms, like shadowing), weld the mesh before computing adjacency.</p>
<p><em>Recent change: In version 6.00, colocated vertices were automatically welded by this routine and degenerate faces and edges were removed. That is no longer the case.</em></p>
<p>Where two faces meet, there are two opposite directed edges. These are collapsed into a single bidirectional edge in the edgeArray. If four faces meet exactly at the same edge, that edge will appear twice in the array, and so on. If an edge is a boundary of the mesh (i.e. if the edge has only one adjacent face) it will appear in the array with one face index set to <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html#a62bb5fc1d62ce650c721e4c540856537">MeshAlg::Face::NONE</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vertexGeometry</td><td>Vertex positions to use when deciding colocation. </td></tr>
    <tr><td class="paramname">indexArray</td><td>Order to traverse vertices to make triangles </td></tr>
    <tr><td class="paramname">faceArray</td><td><em>Output</em> </td></tr>
    <tr><td class="paramname">edgeArray</td><td><em>Output</em>. Sorted so that boundary edges are at the end of the array. </td></tr>
    <tr><td class="paramname">vertexArray</td><td><em>Output</em> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MeshAlgAdjacency_8cpp_source.html#l00193">193</a> of file <a class="el" href="MeshAlgAdjacency_8cpp_source.html">MeshAlgAdjacency.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  198</span>                                         {</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>    MeshEdgeTable           edgeTable;</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    edgeArray.clear();</div>
<div class="line"><span class="lineno">  203</span>    vertexArray.clear();</div>
<div class="line"><span class="lineno">  204</span>    faceArray.clear();</div>
<div class="line"><span class="lineno">  205</span>    </div>
<div class="line"><span class="lineno">  206</span>    <span class="comment">// Face normals</span></div>
<div class="line"><span class="lineno">  207</span>    Array&lt;Vector3&gt; faceNormal;</div>
<div class="line"><span class="lineno">  208</span>    faceNormal.resize(indexArray.<a class="code hl_function" href="classG3D_1_1Array.html#ab0008321250181c65ffe7f06500caf92">size</a>() / 3);</div>
<div class="line"><span class="lineno">  209</span>    faceArray.resize(faceNormal.size());</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>    <span class="comment">// This array has the same size as the vertex array</span></div>
<div class="line"><span class="lineno">  212</span>    vertexArray.resize(vertexGeometry.size());</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>    edgeTable.resize(vertexArray.size());</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>    <span class="comment">// Iterate through the triangle list</span></div>
<div class="line"><span class="lineno">  217</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> q = 0, f = 0; q &lt; indexArray.<a class="code hl_function" href="classG3D_1_1Array.html#ab0008321250181c65ffe7f06500caf92">size</a>(); ++f, q += 3) {</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>        Vector3 vertex[3];</div>
<div class="line"><span class="lineno">  220</span>        MeshAlg::Face&amp; face = faceArray[f];</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>        <span class="comment">// Construct the face</span></div>
<div class="line"><span class="lineno">  223</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; ++j) {</div>
<div class="line"><span class="lineno">  224</span>            <span class="keywordtype">int</span> v = indexArray[q + j];</div>
<div class="line"><span class="lineno">  225</span>            face.vertexIndex[j] = v;</div>
<div class="line"><span class="lineno">  226</span>            face.edgeIndex[j]   = <a class="code hl_variable" href="classG3D_1_1MeshAlg_1_1Face.html#a62bb5fc1d62ce650c721e4c540856537">Face::NONE</a>;</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>            <span class="comment">// Store back pointers in the vertices</span></div>
<div class="line"><span class="lineno">  229</span>            vertexArray[v].faceIndex.<a class="code hl_function" href="classG3D_1_1Array.html#a56183c682e174ccb813ac3bfb2657376">append</a>(f);</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>            <span class="comment">// We&#39;ll need these vertices to find the face normal</span></div>
<div class="line"><span class="lineno">  232</span>            vertex[j]           = vertexGeometry[v];</div>
<div class="line"><span class="lineno">  233</span>        }</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>        <span class="comment">// Compute the face normal</span></div>
<div class="line"><span class="lineno">  236</span>        <span class="keyword">const</span> Vector3&amp; <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = (vertex[1] - vertex[0]).<a class="code hl_function" href="namespaceG3D.html#a81dbffac4ab63d0bd07aaf4cbdc5dd35">cross</a>(vertex[2] - vertex[0]);</div>
<div class="line"><span class="lineno">  237</span>        faceNormal[f] = <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.<a class="code hl_function" href="classG3D_1_1Vector3.html#afb4b57ab2f390c66a521f0624a56ebd3">directionOrZero</a>();</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> nextIndex[] = {1, 2, 0};</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>        <span class="comment">// Add each edge to the edge table.</span></div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; ++j) {</div>
<div class="line"><span class="lineno">  243</span>            <span class="keyword">const</span> <span class="keywordtype">int</span>      i0 = indexArray[q + j];</div>
<div class="line"><span class="lineno">  244</span>            <span class="keyword">const</span> <span class="keywordtype">int</span>      i1 = indexArray[q + nextIndex[j]];</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>            <span class="keywordflow">if</span> (i0 &lt; i1) {</div>
<div class="line"><span class="lineno">  247</span>                <span class="comment">// The edge was directed in the same manner as in the face</span></div>
<div class="line"><span class="lineno">  248</span>                edgeTable.<a class="code hl_function" href="classG3D_1_1Array.html#a6bab7928d6e4854d0fc1ec92c73cfc67">insert</a>(i0, i1, f);</div>
<div class="line"><span class="lineno">  249</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  250</span>                <span class="comment">// The edge was directed in the opposite manner as in the face</span></div>
<div class="line"><span class="lineno">  251</span>                edgeTable.insert(i1, i0, ~f);</div>
<div class="line"><span class="lineno">  252</span>            }</div>
<div class="line"><span class="lineno">  253</span>        }</div>
<div class="line"><span class="lineno">  254</span>    }</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    <span class="comment">// For each edge in the edge table, create an edge in the edge array.</span></div>
<div class="line"><span class="lineno">  257</span>    <span class="comment">// Collapse every 2 edges from adjacent faces.</span></div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>    MeshEdgeTable::Iterator cur = edgeTable.begin();</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>    Array&lt;Edge&gt; tempEdgeArray;</div>
<div class="line"><span class="lineno">  262</span>    <span class="keywordflow">while</span> (cur.isValid()) {</div>
<div class="line"><span class="lineno">  263</span>        <a class="code hl_typedef" href="classG3D_1_1MeshEdgeTable.html#afb8fea853d4694013a16abfc45fa7bfb">MeshEdgeTable::FaceIndexArray</a>&amp; faceIndexArray = cur.faceIndex();</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>        <span class="comment">// Process this edge</span></div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordflow">while</span> (faceIndexArray.size() &gt; 0) {</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>            <span class="comment">// Remove the last index</span></div>
<div class="line"><span class="lineno">  269</span>            <span class="keywordtype">int</span> f0 = faceIndexArray.<a class="code hl_function" href="classG3D_1_1SmallArray.html#a14bafd782ebdc8ad6d09b6fe961b9867">pop</a>();</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>            <span class="comment">// Find the normal to that face</span></div>
<div class="line"><span class="lineno">  272</span>            <span class="keyword">const</span> Vector3&amp; n0 = faceNormal[(f0 &gt;= 0) ? f0 : ~f0];</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>            <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>            <span class="comment">// We try to find the matching face with the closest</span></div>
<div class="line"><span class="lineno">  277</span>            <span class="comment">// normal.  This ensures that we don&#39;t introduce a lot</span></div>
<div class="line"><span class="lineno">  278</span>            <span class="comment">// of artificial ridges into flat parts of a mesh.</span></div>
<div class="line"><span class="lineno">  279</span>            <span class="keywordtype">float</span> ndotn = -2;</div>
<div class="line"><span class="lineno">  280</span>            <span class="keywordtype">int</span> f1 = -1, i1 = -1;</div>
<div class="line"><span class="lineno">  281</span>            </div>
<div class="line"><span class="lineno">  282</span>            <span class="comment">// Try to find the face with the matching edge</span></div>
<div class="line"><span class="lineno">  283</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = faceIndexArray.size() - 1; i &gt;= 0; --i) {</div>
<div class="line"><span class="lineno">  284</span>                <span class="keywordtype">int</span> f = faceIndexArray[i];</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>                <span class="keywordflow">if</span> ((f &gt;= 0) != (f0 &gt;= 0)) {</div>
<div class="line"><span class="lineno">  287</span>                    <span class="comment">// This face contains the oppositely oriented edge</span></div>
<div class="line"><span class="lineno">  288</span>                    <span class="comment">// and has not been assigned too many edges</span></div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>                    <span class="keyword">const</span> Vector3&amp; n1 = faceNormal[(f &gt;= 0) ? f : ~f];</div>
<div class="line"><span class="lineno">  291</span>                    <span class="keywordtype">float</span> d = n1.dot(n0);</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>                    <span class="keywordflow">if</span> (found) {</div>
<div class="line"><span class="lineno">  294</span>                        <span class="comment">// We previously found a good face; see if this</span></div>
<div class="line"><span class="lineno">  295</span>                        <span class="comment">// one is better.</span></div>
<div class="line"><span class="lineno">  296</span>                        <span class="keywordflow">if</span> (d &gt; ndotn) {</div>
<div class="line"><span class="lineno">  297</span>                            <span class="comment">// This face is better.</span></div>
<div class="line"><span class="lineno">  298</span>                            ndotn = d;</div>
<div class="line"><span class="lineno">  299</span>                            f1    = f;</div>
<div class="line"><span class="lineno">  300</span>                            i1    = i;</div>
<div class="line"><span class="lineno">  301</span>                        }</div>
<div class="line"><span class="lineno">  302</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  303</span>                        <span class="comment">// This is the first face we&#39;ve found</span></div>
<div class="line"><span class="lineno">  304</span>                        found = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  305</span>                        ndotn = d;</div>
<div class="line"><span class="lineno">  306</span>                        f1    = f;</div>
<div class="line"><span class="lineno">  307</span>                        i1    = i;</div>
<div class="line"><span class="lineno">  308</span>                    }</div>
<div class="line"><span class="lineno">  309</span>                }</div>
<div class="line"><span class="lineno">  310</span>            }</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>            <span class="comment">// Create the new edge</span></div>
<div class="line"><span class="lineno">  313</span>            <span class="keywordtype">int</span> e = tempEdgeArray.size();</div>
<div class="line"><span class="lineno">  314</span>            Edge&amp; <a class="code hl_struct" href="structedge.html">edge</a> = tempEdgeArray.next();</div>
<div class="line"><span class="lineno">  315</span>            </div>
<div class="line"><span class="lineno">  316</span>            <a class="code hl_struct" href="structedge.html">edge</a>.vertexIndex[0] = cur.i0();</div>
<div class="line"><span class="lineno">  317</span>            <a class="code hl_struct" href="structedge.html">edge</a>.vertexIndex[1] = cur.i1();</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>            <span class="keywordflow">if</span> (f0 &gt;= 0) {</div>
<div class="line"><span class="lineno">  320</span>                <a class="code hl_struct" href="structedge.html">edge</a>.faceIndex[0] = f0;</div>
<div class="line"><span class="lineno">  321</span>                <a class="code hl_struct" href="structedge.html">edge</a>.faceIndex[1] = <a class="code hl_variable" href="classG3D_1_1MeshAlg_1_1Face.html#a62bb5fc1d62ce650c721e4c540856537">Face::NONE</a>;</div>
<div class="line"><span class="lineno">  322</span>                <a class="code hl_function" href="namespaceG3D.html#a61273494ed772f834240e8f0df78cb42">assignEdgeIndex</a>(faceArray[f0], e); </div>
<div class="line"><span class="lineno">  323</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  324</span>                <span class="comment">// The face indices above are two&#39;s complemented.</span></div>
<div class="line"><span class="lineno">  325</span>                <span class="comment">// this code restores them to regular indices.</span></div>
<div class="line"><span class="lineno">  326</span>                <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>((~f0) &gt;= 0);</div>
<div class="line"><span class="lineno">  327</span>                <a class="code hl_struct" href="structedge.html">edge</a>.faceIndex[1] = ~f0;</div>
<div class="line"><span class="lineno">  328</span>                <a class="code hl_struct" href="structedge.html">edge</a>.faceIndex[0] = <a class="code hl_variable" href="classG3D_1_1MeshAlg_1_1Face.html#a62bb5fc1d62ce650c721e4c540856537">Face::NONE</a>;</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>                <span class="comment">// The edge index *does* need to be inverted, however.</span></div>
<div class="line"><span class="lineno">  331</span>                <a class="code hl_function" href="namespaceG3D.html#a61273494ed772f834240e8f0df78cb42">assignEdgeIndex</a>(faceArray[~f0], ~e); </div>
<div class="line"><span class="lineno">  332</span>            }</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>            <span class="keywordflow">if</span> (found) {</div>
<div class="line"><span class="lineno">  335</span>                <span class="comment">// We found a matching face; remove both</span></div>
<div class="line"><span class="lineno">  336</span>                <span class="comment">// faces from the active list.</span></div>
<div class="line"><span class="lineno">  337</span>                faceIndexArray.fastRemove(i1);</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>                <span class="keywordflow">if</span> (f1 &gt;= 0) {</div>
<div class="line"><span class="lineno">  340</span>                    <a class="code hl_struct" href="structedge.html">edge</a>.faceIndex[0] = f1;</div>
<div class="line"><span class="lineno">  341</span>                    <a class="code hl_function" href="namespaceG3D.html#a61273494ed772f834240e8f0df78cb42">assignEdgeIndex</a>(faceArray[f1], e); </div>
<div class="line"><span class="lineno">  342</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  343</span>                    <a class="code hl_struct" href="structedge.html">edge</a>.faceIndex[1] = ~f1;</div>
<div class="line"><span class="lineno">  344</span>                    <a class="code hl_function" href="namespaceG3D.html#a61273494ed772f834240e8f0df78cb42">assignEdgeIndex</a>(faceArray[~f1], ~e); </div>
<div class="line"><span class="lineno">  345</span>                }</div>
<div class="line"><span class="lineno">  346</span>            }</div>
<div class="line"><span class="lineno">  347</span>        }</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>        ++cur;</div>
<div class="line"><span class="lineno">  350</span>    }</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>    edgeTable.clear();</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>    <span class="comment">// Move boundary edges to the end of the list and then</span></div>
<div class="line"><span class="lineno">  355</span>    <span class="comment">// clean up the face references into them</span></div>
<div class="line"><span class="lineno">  356</span>    {</div>
<div class="line"><span class="lineno">  357</span>        <span class="comment">// Map old edge indices to new edge indices</span></div>
<div class="line"><span class="lineno">  358</span>        Array&lt;int&gt; newIndex;</div>
<div class="line"><span class="lineno">  359</span>        newIndex.resize(tempEdgeArray.size());</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>        <span class="comment">// Index of the start and end of the edge array</span></div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><span class="lineno">  363</span>        <span class="keywordtype">int</span> j = tempEdgeArray.size() - 1;</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>        edgeArray.resize(tempEdgeArray.size());</div>
<div class="line"><span class="lineno">  366</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> e = 0; e &lt; tempEdgeArray.size(); ++e) {</div>
<div class="line"><span class="lineno">  367</span>            <span class="keywordflow">if</span> (tempEdgeArray[e].boundary()) {</div>
<div class="line"><span class="lineno">  368</span>                newIndex[e] = j;</div>
<div class="line"><span class="lineno">  369</span>                --j;</div>
<div class="line"><span class="lineno">  370</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  371</span>                newIndex[e] = i;</div>
<div class="line"><span class="lineno">  372</span>                ++i;</div>
<div class="line"><span class="lineno">  373</span>            }</div>
<div class="line"><span class="lineno">  374</span>            edgeArray[newIndex[e]] = tempEdgeArray[e];</div>
<div class="line"><span class="lineno">  375</span>        }</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>        <a class="code hl_define" href="debugAssert_8h.html#af7e8ca29ffa4af20db0de5a93e1b81e9">debugAssertM</a>(i == j + 1, <span class="stringliteral">&quot;Counting from front and back of array did not match&quot;</span>);</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>        <span class="comment">// Fix the faces</span></div>
<div class="line"><span class="lineno">  380</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; faceArray.size(); ++f) {</div>
<div class="line"><span class="lineno">  381</span>            Face&amp; face = faceArray[f];</div>
<div class="line"><span class="lineno">  382</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> q = 0; q &lt; 3; ++q) {</div>
<div class="line"><span class="lineno">  383</span>                <span class="keywordtype">int</span> e = face.edgeIndex[q];</div>
<div class="line"><span class="lineno">  384</span>                <span class="keywordflow">if</span> (e &lt; 0) {</div>
<div class="line"><span class="lineno">  385</span>                    <span class="comment">// Backwards edge; twiddle before and after conversion</span></div>
<div class="line"><span class="lineno">  386</span>                    face.edgeIndex[q] = ~newIndex[~e];</div>
<div class="line"><span class="lineno">  387</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  388</span>                    <span class="comment">// Regular edge; remap the index</span></div>
<div class="line"><span class="lineno">  389</span>                    face.edgeIndex[q] = newIndex[e];</div>
<div class="line"><span class="lineno">  390</span>                }</div>
<div class="line"><span class="lineno">  391</span>            }</div>
<div class="line"><span class="lineno">  392</span>        }</div>
<div class="line"><span class="lineno">  393</span>    }</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>    <span class="comment">// Now order the edge indices inside the faces correctly.</span></div>
<div class="line"><span class="lineno">  396</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; faceArray.size(); ++f) {</div>
<div class="line"><span class="lineno">  397</span>        Face&amp; face = faceArray[f];</div>
<div class="line"><span class="lineno">  398</span>        <span class="keywordtype">int</span> e0 = face.edgeIndex[0];</div>
<div class="line"><span class="lineno">  399</span>        <span class="keywordtype">int</span> e1 = face.edgeIndex[1];</div>
<div class="line"><span class="lineno">  400</span>        <span class="keywordtype">int</span> e2 = face.edgeIndex[2];</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>        <span class="comment">// e0 will always remain first.  The only </span></div>
<div class="line"><span class="lineno">  403</span>        <span class="comment">// question is whether e1 and e2 should be swapped.</span></div>
<div class="line"><span class="lineno">  404</span>    </div>
<div class="line"><span class="lineno">  405</span>        <span class="comment">// See if e1 begins at the vertex where e1 ends.</span></div>
<div class="line"><span class="lineno">  406</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> e0End = (e0 &lt; 0) ? </div>
<div class="line"><span class="lineno">  407</span>            edgeArray[~e0].vertexIndex[0] :</div>
<div class="line"><span class="lineno">  408</span>            edgeArray[e0].vertexIndex[1];</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> e1Begin = (e1 &lt; 0) ? </div>
<div class="line"><span class="lineno">  411</span>            edgeArray[~e1].vertexIndex[1] :</div>
<div class="line"><span class="lineno">  412</span>            edgeArray[e1].vertexIndex[0];</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>        <span class="keywordflow">if</span> (e0End != e1Begin) {</div>
<div class="line"><span class="lineno">  415</span>            <span class="comment">// We must swap e1 and e2</span></div>
<div class="line"><span class="lineno">  416</span>            face.edgeIndex[1] = e2;</div>
<div class="line"><span class="lineno">  417</span>            face.edgeIndex[2] = e1;</div>
<div class="line"><span class="lineno">  418</span>        }</div>
<div class="line"><span class="lineno">  419</span>    }</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>    <span class="comment">// Fill out the edge adjacency information in the vertex array</span></div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> e = 0; e &lt; edgeArray.size(); ++e) {</div>
<div class="line"><span class="lineno">  423</span>        <span class="keyword">const</span> Edge&amp; <a class="code hl_struct" href="structedge.html">edge</a> = edgeArray[e];</div>
<div class="line"><span class="lineno">  424</span>        vertexArray[<a class="code hl_struct" href="structedge.html">edge</a>.vertexIndex[0]].edgeIndex.append(e);</div>
<div class="line"><span class="lineno">  425</span>        vertexArray[<a class="code hl_struct" href="structedge.html">edge</a>.vertexIndex[1]].edgeIndex.append(~e);</div>
<div class="line"><span class="lineno">  426</span>    }</div>
<div class="line"><span class="lineno">  427</span>}</div>
<div class="ttc" id="aclassG3D_1_1Array_html_a56183c682e174ccb813ac3bfb2657376"><div class="ttname"><a href="classG3D_1_1Array.html#a56183c682e174ccb813ac3bfb2657376">G3D::Array::append</a></div><div class="ttdeci">void append(const T &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="Array_8h_source.html#l00585">Array.h:585</a></div></div>
<div class="ttc" id="aclassG3D_1_1Array_html_a6bab7928d6e4854d0fc1ec92c73cfc67"><div class="ttname"><a href="classG3D_1_1Array.html#a6bab7928d6e4854d0fc1ec92c73cfc67">G3D::Array::insert</a></div><div class="ttdeci">void insert(int n, const T &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="Array_8h_source.html#l00458">Array.h:458</a></div></div>
<div class="ttc" id="aclassG3D_1_1Array_html_ab0008321250181c65ffe7f06500caf92"><div class="ttname"><a href="classG3D_1_1Array.html#ab0008321250181c65ffe7f06500caf92">G3D::Array::size</a></div><div class="ttdeci">int size() const</div><div class="ttdef"><b>Definition</b> <a href="Array_8h_source.html#l00432">Array.h:432</a></div></div>
<div class="ttc" id="aclassG3D_1_1MeshAlg_1_1Face_html_a62bb5fc1d62ce650c721e4c540856537"><div class="ttname"><a href="classG3D_1_1MeshAlg_1_1Face.html#a62bb5fc1d62ce650c721e4c540856537">G3D::MeshAlg::Face::NONE</a></div><div class="ttdeci">static const int NONE</div><div class="ttdef"><b>Definition</b> <a href="MeshAlg_8h_source.html#l00103">MeshAlg.h:103</a></div></div>
<div class="ttc" id="aclassG3D_1_1MeshEdgeTable_html_afb8fea853d4694013a16abfc45fa7bfb"><div class="ttname"><a href="classG3D_1_1MeshEdgeTable.html#afb8fea853d4694013a16abfc45fa7bfb">G3D::MeshEdgeTable::FaceIndexArray</a></div><div class="ttdeci">SmallArray&lt; int, 2 &gt; FaceIndexArray</div><div class="ttdef"><b>Definition</b> <a href="MeshAlgAdjacency_8cpp_source.html#l00027">MeshAlgAdjacency.cpp:27</a></div></div>
<div class="ttc" id="aclassG3D_1_1SmallArray_html_a14bafd782ebdc8ad6d09b6fe961b9867"><div class="ttname"><a href="classG3D_1_1SmallArray.html#a14bafd782ebdc8ad6d09b6fe961b9867">G3D::SmallArray::pop</a></div><div class="ttdeci">T pop()</div><div class="ttdef"><b>Definition</b> <a href="SmallArray_8h_source.html#l00132">SmallArray.h:132</a></div></div>
<div class="ttc" id="aclassG3D_1_1Vector3_html_afb4b57ab2f390c66a521f0624a56ebd3"><div class="ttname"><a href="classG3D_1_1Vector3.html#afb4b57ab2f390c66a521f0624a56ebd3">G3D::Vector3::directionOrZero</a></div><div class="ttdeci">Vector3 directionOrZero() const</div><div class="ttdef"><b>Definition</b> <a href="Vector3_8h_source.html#l00237">Vector3.h:237</a></div></div>
<div class="ttc" id="adebugAssert_8h_html_adb3cef18983da8440d55b7557f83358c"><div class="ttname"><a href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a></div><div class="ttdeci">#define debugAssert(exp)</div><div class="ttdef"><b>Definition</b> <a href="debugAssert_8h_source.html#l00160">debugAssert.h:160</a></div></div>
<div class="ttc" id="adebugAssert_8h_html_af7e8ca29ffa4af20db0de5a93e1b81e9"><div class="ttname"><a href="debugAssert_8h.html#af7e8ca29ffa4af20db0de5a93e1b81e9">debugAssertM</a></div><div class="ttdeci">#define debugAssertM(exp, message)</div><div class="ttdef"><b>Definition</b> <a href="debugAssert_8h_source.html#l00161">debugAssert.h:161</a></div></div>
<div class="ttc" id="anamespaceG3D_html_a61273494ed772f834240e8f0df78cb42"><div class="ttname"><a href="namespaceG3D.html#a61273494ed772f834240e8f0df78cb42">G3D::assignEdgeIndex</a></div><div class="ttdeci">static void assignEdgeIndex(MeshAlg::Face &amp;face, int e)</div><div class="ttdef"><b>Definition</b> <a href="MeshAlgAdjacency_8cpp_source.html#l00156">MeshAlgAdjacency.cpp:156</a></div></div>
<div class="ttc" id="anamespaceG3D_html_a81dbffac4ab63d0bd07aaf4cbdc5dd35"><div class="ttname"><a href="namespaceG3D.html#a81dbffac4ab63d0bd07aaf4cbdc5dd35">G3D::cross</a></div><div class="ttdeci">Vector3 cross(const Vector3 &amp;v1, const Vector3 &amp;v2)</div><div class="ttdef"><b>Definition</b> <a href="vectorMath_8h_source.html#l00144">vectorMath.h:144</a></div></div>
<div class="ttc" id="astructedge_html"><div class="ttname"><a href="structedge.html">edge</a></div><div class="ttdef"><b>Definition</b> <a href="der__encode__setof_8c_source.html#l00020">der_encode_setof.c:20</a></div></div>
<div class="ttc" id="azlib_2crc32_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div><div class="ttdef"><b>Definition</b> <a href="zlib_2crc32_8c_source.html#l00057">crc32.c:57</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_af9c7e0c436b7ea572b49c138e66fe1e1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_af9c7e0c436b7ea572b49c138e66fe1e1_icgraph.svg" width="552" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8aa1d0cd2ffbc8cff5bdfb1abe58cb11" name="a8aa1d0cd2ffbc8cff5bdfb1abe58cb11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aa1d0cd2ffbc8cff5bdfb1abe58cb11">&#9670;&#160;</a></span>computeAreaStatistics()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::computeAreaStatistics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>indexArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>minEdgeLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>meanEdgeLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>medianEdgeLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>maxEdgeLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>minFaceArea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>meanFaceArea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>medianFaceArea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>maxFaceArea</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Computes some basic mesh statistics including: min, max mean and median, edge lengths; and min, mean, median, and max face area.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vertexArray</td><td>Vertex positions to use when deciding colocation. </td></tr>
    <tr><td class="paramname">indexArray</td><td>Order to traverse vertices to make triangles </td></tr>
    <tr><td class="paramname">minEdgeLength</td><td>Minimum edge length </td></tr>
    <tr><td class="paramname">meanEdgeLength</td><td>Mean edge length </td></tr>
    <tr><td class="paramname">medianEdgeLength</td><td>Median edge length </td></tr>
    <tr><td class="paramname">maxEdgeLength</td><td>Max edge length </td></tr>
    <tr><td class="paramname">minFaceArea</td><td>Minimum face area </td></tr>
    <tr><td class="paramname">meanFaceArea</td><td>Mean face area </td></tr>
    <tr><td class="paramname">medianFaceArea</td><td>Median face area </td></tr>
    <tr><td class="paramname">maxFaceArea</td><td>Max face area </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8cpp_source.html#l00343">343</a> of file <a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  353</span>                                         {</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>    <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(indexArray.<a class="code hl_function" href="classG3D_1_1Array.html#ab0008321250181c65ffe7f06500caf92">size</a>() % 3 == 0);</div>
<div class="line"><span class="lineno">  356</span>    </div>
<div class="line"><span class="lineno">  357</span>    Array&lt;double&gt; area;</div>
<div class="line"><span class="lineno">  358</span>    area.resize(indexArray.<a class="code hl_function" href="classG3D_1_1Array.html#ab0008321250181c65ffe7f06500caf92">size</a>() / 3);</div>
<div class="line"><span class="lineno">  359</span>    Array&lt;double&gt; magnitude;</div>
<div class="line"><span class="lineno">  360</span>    magnitude.resize(indexArray.<a class="code hl_function" href="classG3D_1_1Array.html#ab0008321250181c65ffe7f06500caf92">size</a>());</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; indexArray.<a class="code hl_function" href="classG3D_1_1Array.html#ab0008321250181c65ffe7f06500caf92">size</a>(); i += 3) {</div>
<div class="line"><span class="lineno">  363</span>        <span class="keyword">const</span> Vector3&amp; v0 = vertexArray[indexArray[i]];</div>
<div class="line"><span class="lineno">  364</span>        <span class="keyword">const</span> Vector3&amp; v1 = vertexArray[indexArray[i + 1]];</div>
<div class="line"><span class="lineno">  365</span>        <span class="keyword">const</span> Vector3&amp; v2 = vertexArray[indexArray[i + 2]];</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>        area[i / 3] = (v1 - v0).<a class="code hl_function" href="namespaceG3D.html#a81dbffac4ab63d0bd07aaf4cbdc5dd35">cross</a>(v2 - v0).<a class="code hl_function" href="classG3D_1_1Vector3.html#a4ab82e1f74df7c27d6452f333f807736">magnitude</a>() / 2.0;</div>
<div class="line"><span class="lineno">  368</span>        magnitude[i] = (v1 - v0).magnitude();</div>
<div class="line"><span class="lineno">  369</span>        magnitude[i + 1] = (v2 - v1).magnitude();</div>
<div class="line"><span class="lineno">  370</span>        magnitude[i + 2] = (v0 - v2).magnitude();</div>
<div class="line"><span class="lineno">  371</span>    }</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>    area.sort();</div>
<div class="line"><span class="lineno">  374</span>    magnitude.sort();</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>    minEdgeLength = <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a>(0.0, magnitude[0]);</div>
<div class="line"><span class="lineno">  377</span>    maxEdgeLength = <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a>(0.0, magnitude.last());</div>
<div class="line"><span class="lineno">  378</span>    medianEdgeLength = <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a>(0.0, magnitude[magnitude.size() / 2]);</div>
<div class="line"><span class="lineno">  379</span>    meanEdgeLength = 0;</div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; magnitude.size(); ++i) {</div>
<div class="line"><span class="lineno">  381</span>        meanEdgeLength += magnitude[i];</div>
<div class="line"><span class="lineno">  382</span>    }</div>
<div class="line"><span class="lineno">  383</span>    meanEdgeLength /= magnitude.size();</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    minFaceArea = <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a>(0.0, area[0]);</div>
<div class="line"><span class="lineno">  386</span>    maxFaceArea = <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a>(0.0, area.last());</div>
<div class="line"><span class="lineno">  387</span>    medianFaceArea = <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a>(0.0, area[area.size() / 2]);</div>
<div class="line"><span class="lineno">  388</span>    meanFaceArea = 0;</div>
<div class="line"><span class="lineno">  389</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; area.size(); ++i) {</div>
<div class="line"><span class="lineno">  390</span>        meanFaceArea += area[i];</div>
<div class="line"><span class="lineno">  391</span>    }</div>
<div class="line"><span class="lineno">  392</span>    meanFaceArea /= area.size();</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>    <span class="comment">// Make sure round-off hasn&#39;t pushed values less than zero</span></div>
<div class="line"><span class="lineno">  396</span>    meanFaceArea   = <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a>(0.0, meanFaceArea);</div>
<div class="line"><span class="lineno">  397</span>    meanEdgeLength = <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a>(0.0, meanEdgeLength);</div>
<div class="line"><span class="lineno">  398</span>}</div>
<div class="ttc" id="aclassG3D_1_1Vector3_html_a4ab82e1f74df7c27d6452f333f807736"><div class="ttname"><a href="classG3D_1_1Vector3.html#a4ab82e1f74df7c27d6452f333f807736">G3D::Vector3::magnitude</a></div><div class="ttdeci">float magnitude() const</div><div class="ttdef"><b>Definition</b> <a href="Vector3_8h_source.html#l00746">Vector3.h:746</a></div></div>
<div class="ttc" id="anamespaceG3D_html_a08c0c3adc7299e964bea91de6cf24b8e"><div class="ttname"><a href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">G3D::max</a></div><div class="ttdeci">T max(const T &amp;x, const T &amp;y)</div><div class="ttdef"><b>Definition</b> <a href="g3dmath_8h_source.html#l00320">g3dmath.h:320</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a8aa1d0cd2ffbc8cff5bdfb1abe58cb11_cgraph.svg" width="100%" height="551"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a8aa1d0cd2ffbc8cff5bdfb1abe58cb11_icgraph.svg" width="466" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8005e27b8d9d5abf999316ba72cd5003" name="a8005e27b8d9d5abf999316ba72cd5003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8005e27b8d9d5abf999316ba72cd5003">&#9670;&#160;</a></span>computeBounds() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::computeBounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class <a class="el" href="classG3D_1_1AABox.html">AABox</a> &amp;&#160;</td>
          <td class="paramname"><em>box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class <a class="el" href="classG3D_1_1Sphere.html">Sphere</a> &amp;&#160;</td>
          <td class="paramname"><em>sphere</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Computes a conservative, near-optimal axis aligned bounding box and sphere.</p>
<p><b>[The]</b> bounding sphere uses the method from J. Ritter. An effcient bounding sphere. In Andrew S. Glassner, editor, Graphics Gems. Academic Press, Boston, MA, 1990. </p>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8cpp_source.html#l00430">430</a> of file <a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  433</span>                                    {</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>    Vector3 xmin, xmax, ymin, ymax, zmin, zmax;</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>    <span class="comment">// FIRST PASS: find 6 minima/maxima points</span></div>
<div class="line"><span class="lineno">  438</span>    xmin.x = ymin.y = zmin.z = <a class="code hl_function" href="namespaceG3D.html#a75b289f04a486b3026012c289513e4d8">finf</a>();</div>
<div class="line"><span class="lineno">  439</span>    xmax.x = ymax.y = zmax.z = -<a class="code hl_function" href="namespaceG3D.html#a75b289f04a486b3026012c289513e4d8">finf</a>();</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v = 0; v &lt; vertexArray.size(); ++v) {</div>
<div class="line"><span class="lineno">  442</span>        <span class="keyword">const</span> Vector3&amp; vertex = vertexArray[v];</div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>        <span class="keywordflow">if</span> (vertex.x &lt; xmin.x) {</div>
<div class="line"><span class="lineno">  445</span>            xmin = vertex;</div>
<div class="line"><span class="lineno">  446</span>        }</div>
<div class="line"><span class="lineno">  447</span> </div>
<div class="line"><span class="lineno">  448</span>        <span class="keywordflow">if</span> (vertex.x &gt; xmax.x) {</div>
<div class="line"><span class="lineno">  449</span>            xmax = vertex;</div>
<div class="line"><span class="lineno">  450</span>        }</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>        <span class="keywordflow">if</span> (vertex.y &lt; ymin.y) {</div>
<div class="line"><span class="lineno">  453</span>            ymin = vertex;</div>
<div class="line"><span class="lineno">  454</span>        }</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>        <span class="keywordflow">if</span> (vertex.y &gt; ymax.y) {</div>
<div class="line"><span class="lineno">  457</span>            ymax = vertex;</div>
<div class="line"><span class="lineno">  458</span>        }</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>        <span class="keywordflow">if</span> (vertex.z &lt; zmin.z) {</div>
<div class="line"><span class="lineno">  461</span>            zmin = vertex;</div>
<div class="line"><span class="lineno">  462</span>        }</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>        <span class="keywordflow">if</span> (vertex.z &gt; zmax.z) {</div>
<div class="line"><span class="lineno">  465</span>            zmax = vertex;</div>
<div class="line"><span class="lineno">  466</span>        }</div>
<div class="line"><span class="lineno">  467</span>    }</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>    <span class="comment">// Set points dia1 &amp; dia2 to the maximally separated pair</span></div>
<div class="line"><span class="lineno">  470</span>    Vector3 dia1 = xmin; </div>
<div class="line"><span class="lineno">  471</span>    Vector3 dia2 = xmax;</div>
<div class="line"><span class="lineno">  472</span>    {</div>
<div class="line"><span class="lineno">  473</span>        <span class="comment">// Set xspan = distance between the 2 points xmin &amp; xmax (squared)</span></div>
<div class="line"><span class="lineno">  474</span>        <span class="keywordtype">float</span> xspan = (xmax - xmin).squaredMagnitude();</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>        <span class="comment">// Same for y &amp; z spans</span></div>
<div class="line"><span class="lineno">  477</span>        <span class="keywordtype">float</span> yspan = (ymax - ymin).squaredMagnitude();</div>
<div class="line"><span class="lineno">  478</span>        <span class="keywordtype">float</span> zspan = (zmax - zmin).squaredMagnitude();</div>
<div class="line"><span class="lineno">  479</span>    </div>
<div class="line"><span class="lineno">  480</span>        <span class="keywordtype">float</span> maxspan = xspan;</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>        <span class="keywordflow">if</span> (yspan &gt; maxspan) {</div>
<div class="line"><span class="lineno">  483</span>            maxspan = yspan;</div>
<div class="line"><span class="lineno">  484</span>            dia1    = ymin;</div>
<div class="line"><span class="lineno">  485</span>            dia2    = ymax;</div>
<div class="line"><span class="lineno">  486</span>        }</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>        <span class="keywordflow">if</span> (zspan &gt; maxspan) {</div>
<div class="line"><span class="lineno">  489</span>            maxspan = zspan;</div>
<div class="line"><span class="lineno">  490</span>            dia1    = zmin;</div>
<div class="line"><span class="lineno">  491</span>            dia2    = zmax;</div>
<div class="line"><span class="lineno">  492</span>        }</div>
<div class="line"><span class="lineno">  493</span>    }</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    <span class="comment">// dia1, dia2 is a diameter of initial sphere</span></div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>    <span class="comment">// calc initial center</span></div>
<div class="line"><span class="lineno">  499</span>    Vector3 center = (dia1 + dia2) / 2.0;</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>    <span class="comment">// calculate initial radius^2 and radius </span></div>
<div class="line"><span class="lineno">  502</span>    Vector3 d = dia2 - sphere.center;</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>    <span class="keywordtype">float</span> radSq = d.squaredMagnitude();</div>
<div class="line"><span class="lineno">  505</span>    <span class="keywordtype">float</span> rad  = sqrt(radSq);</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>    <span class="comment">// SECOND PASS: increment current sphere</span></div>
<div class="line"><span class="lineno">  508</span>    <span class="keywordtype">float</span> old_to_p, old_to_new;</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v = 0; v &lt; vertexArray.size(); ++v) {</div>
<div class="line"><span class="lineno">  511</span>        <span class="keyword">const</span> Vector3&amp; vertex = vertexArray[v];</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>        d = vertex - center;</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>        <span class="keywordtype">float</span> old_to_p_sq = d.squaredMagnitude();</div>
<div class="line"><span class="lineno">  516</span> </div>
<div class="line"><span class="lineno">  517</span>        <span class="comment">// do r^2 test first </span></div>
<div class="line"><span class="lineno">  518</span>        <span class="keywordflow">if</span> (old_to_p_sq &gt; radSq) {</div>
<div class="line"><span class="lineno">  519</span>             <span class="comment">// this point is outside of current sphere</span></div>
<div class="line"><span class="lineno">  520</span>            old_to_p = sqrt(old_to_p_sq);</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>            <span class="comment">// calc radius of new sphere</span></div>
<div class="line"><span class="lineno">  523</span>            rad = (rad + old_to_p) / 2.0f;</div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span>            <span class="comment">// for next r^2 compare</span></div>
<div class="line"><span class="lineno">  526</span>            radSq = rad * rad;     </div>
<div class="line"><span class="lineno">  527</span>            old_to_new = old_to_p - rad;</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>            <span class="comment">// calc center of new sphere</span></div>
<div class="line"><span class="lineno">  530</span>            center = (rad * center + old_to_new * vertex) / old_to_p;</div>
<div class="line"><span class="lineno">  531</span>        }    </div>
<div class="line"><span class="lineno">  532</span>    }</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>    <span class="keyword">const</span> Vector3 <a class="code hl_function" href="namespaceG3D.html#ac963e578ad7f1b9c9ad9fbc82b0f034c">min</a>(xmin.x, ymin.y, zmin.z);</div>
<div class="line"><span class="lineno">  535</span>    <span class="keyword">const</span> Vector3 <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a>(xmax.x, ymax.y, zmax.z);</div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>   box = AABox(<a class="code hl_function" href="namespaceG3D.html#ac963e578ad7f1b9c9ad9fbc82b0f034c">min</a>, <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a>);</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> boxRadSq = (<a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a> - <a class="code hl_function" href="namespaceG3D.html#ac963e578ad7f1b9c9ad9fbc82b0f034c">min</a>).squaredMagnitude() * 0.25f;</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>    <span class="keywordflow">if</span> (boxRadSq &gt;= radSq){</div>
<div class="line"><span class="lineno">  542</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceG3D.html#a8843e9ad0a3e34440585a11c43ceacd7">isNaN</a>(center.x) || ! <a class="code hl_function" href="namespaceG3D.html#abc9e90a9bc8513570a75e74904222927">isFinite</a>(rad)) {</div>
<div class="line"><span class="lineno">  543</span>            sphere = Sphere(<a class="code hl_function" href="classG3D_1_1Vector3.html#a3a7a34cb349378f1c6466e6229853b2a">Vector3::zero</a>(), <a class="code hl_function" href="namespaceG3D.html#a75b289f04a486b3026012c289513e4d8">finf</a>());</div>
<div class="line"><span class="lineno">  544</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  545</span>            sphere = Sphere(center, rad);</div>
<div class="line"><span class="lineno">  546</span>        }</div>
<div class="line"><span class="lineno">  547</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  548</span>        sphere = Sphere((<a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a> + <a class="code hl_function" href="namespaceG3D.html#ac963e578ad7f1b9c9ad9fbc82b0f034c">min</a>) * 0.5f, sqrt(boxRadSq));</div>
<div class="line"><span class="lineno">  549</span>    }</div>
<div class="line"><span class="lineno">  550</span>}</div>
<div class="ttc" id="aclassG3D_1_1Vector3_html_a3a7a34cb349378f1c6466e6229853b2a"><div class="ttname"><a href="classG3D_1_1Vector3.html#a3a7a34cb349378f1c6466e6229853b2a">G3D::Vector3::zero</a></div><div class="ttdeci">static const Vector3 &amp; zero()</div><div class="ttdef"><b>Definition</b> <a href="Vector3_8cpp_source.html#l00119">Vector3.cpp:119</a></div></div>
<div class="ttc" id="anamespaceG3D_html_a75b289f04a486b3026012c289513e4d8"><div class="ttname"><a href="namespaceG3D.html#a75b289f04a486b3026012c289513e4d8">G3D::finf</a></div><div class="ttdeci">float finf()</div><div class="ttdef"><b>Definition</b> <a href="g3dmath_8cpp_source.html#l00071">g3dmath.cpp:71</a></div></div>
<div class="ttc" id="anamespaceG3D_html_a8843e9ad0a3e34440585a11c43ceacd7"><div class="ttname"><a href="namespaceG3D.html#a8843e9ad0a3e34440585a11c43ceacd7">G3D::isNaN</a></div><div class="ttdeci">bool isNaN(float x)</div><div class="ttdef"><b>Definition</b> <a href="g3dmath_8cpp_source.html#l00047">g3dmath.cpp:47</a></div></div>
<div class="ttc" id="anamespaceG3D_html_abc9e90a9bc8513570a75e74904222927"><div class="ttname"><a href="namespaceG3D.html#abc9e90a9bc8513570a75e74904222927">G3D::isFinite</a></div><div class="ttdeci">bool isFinite(double x)</div><div class="ttdef"><b>Definition</b> <a href="g3dmath_8h_source.html#l00525">g3dmath.h:525</a></div></div>
<div class="ttc" id="anamespaceG3D_html_ac963e578ad7f1b9c9ad9fbc82b0f034c"><div class="ttname"><a href="namespaceG3D.html#ac963e578ad7f1b9c9ad9fbc82b0f034c">G3D::min</a></div><div class="ttdeci">T min(const T &amp;x, const T &amp;y)</div><div class="ttdef"><b>Definition</b> <a href="g3dmath_8h_source.html#l00305">g3dmath.h:305</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a8005e27b8d9d5abf999316ba72cd5003_cgraph.svg" width="667" height="384"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a8005e27b8d9d5abf999316ba72cd5003_icgraph.svg" width="512" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9a4bc1f01025c50ed2ad9a9a21dd3f87" name="a9a4bc1f01025c50ed2ad9a9a21dd3f87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a4bc1f01025c50ed2ad9a9a21dd3f87">&#9670;&#160;</a></span>computeBounds() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::computeBounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class <a class="el" href="classG3D_1_1AABox.html">AABox</a> &amp;&#160;</td>
          <td class="paramname"><em>box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class <a class="el" href="classG3D_1_1Sphere.html">Sphere</a> &amp;&#160;</td>
          <td class="paramname"><em>sphere</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Computes bounds for a subset of the vertices. It is ok if vertices appear more than once in the index array. </p>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8cpp_source.html#l00414">414</a> of file <a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  418</span>                                    {</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>    <span class="comment">// Makes a copy so as to re-use the existing computebounds code</span></div>
<div class="line"><span class="lineno">  421</span>    Array&lt;Vector3&gt; newArray;</div>
<div class="line"><span class="lineno">  422</span>    newArray.resize(indexArray.size());</div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; indexArray.size(); ++i) {</div>
<div class="line"><span class="lineno">  424</span>        newArray[i] = vertexArray[indexArray[i]];</div>
<div class="line"><span class="lineno">  425</span>    }</div>
<div class="line"><span class="lineno">  426</span>    <a class="code hl_function" href="classG3D_1_1MeshAlg.html#a8005e27b8d9d5abf999316ba72cd5003">computeBounds</a>(newArray, box, sphere);</div>
<div class="line"><span class="lineno">  427</span>}</div>
<div class="ttc" id="aclassG3D_1_1MeshAlg_html_a8005e27b8d9d5abf999316ba72cd5003"><div class="ttname"><a href="classG3D_1_1MeshAlg.html#a8005e27b8d9d5abf999316ba72cd5003">G3D::MeshAlg::computeBounds</a></div><div class="ttdeci">static void computeBounds(const Array&lt; Vector3 &gt; &amp;vertex, class AABox &amp;box, class Sphere &amp;sphere)</div><div class="ttdef"><b>Definition</b> <a href="MeshAlg_8cpp_source.html#l00430">MeshAlg.cpp:430</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a9a4bc1f01025c50ed2ad9a9a21dd3f87_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a06eeca837dae119e80477a902d0a6e92" name="a06eeca837dae119e80477a902d0a6e92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06eeca837dae119e80477a902d0a6e92">&#9670;&#160;</a></span>computeFaceNormals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::computeFaceNormals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceNormals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>normalize</em> = <code><a class="el" href="StormPort_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Computes face normals only. Significantly faster (especially if normalize is false) than computeNormals. </p><dl class="section see"><dt>See also</dt><dd>weld </dd></dl>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8cpp_source.html#l00220">220</a> of file <a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  224</span>                                               {</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>    faceNormals.resize(faceArray.size());</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; faceArray.size(); ++f) {</div>
<div class="line"><span class="lineno">  229</span>        <span class="keyword">const</span> MeshAlg::Face&amp; face = faceArray[f];</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>        <span class="keyword">const</span> Vector3&amp; v0 = vertexArray[face.vertexIndex[0]];</div>
<div class="line"><span class="lineno">  232</span>        <span class="keyword">const</span> Vector3&amp; v1 = vertexArray[face.vertexIndex[1]];</div>
<div class="line"><span class="lineno">  233</span>        <span class="keyword">const</span> Vector3&amp; v2 = vertexArray[face.vertexIndex[2]];</div>
<div class="line"><span class="lineno">  234</span>        </div>
<div class="line"><span class="lineno">  235</span>        faceNormals[f] = (v1 - v0).<a class="code hl_function" href="namespaceG3D.html#a81dbffac4ab63d0bd07aaf4cbdc5dd35">cross</a>(v2 - v0);</div>
<div class="line"><span class="lineno">  236</span>    }</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceG3D.html#a1fa53333af2cacda5b7aebc1b9645343">normalize</a>) {</div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; faceArray.size(); ++f) {</div>
<div class="line"><span class="lineno">  240</span>            faceNormals[f] = faceNormals[f].<a class="code hl_function" href="classG3D_1_1Vector3.html#a07d08331145b1bf91a457e1063751ae9">direction</a>();</div>
<div class="line"><span class="lineno">  241</span>        }</div>
<div class="line"><span class="lineno">  242</span>    }</div>
<div class="line"><span class="lineno">  243</span>}</div>
<div class="ttc" id="aclassG3D_1_1Vector3_html_a07d08331145b1bf91a457e1063751ae9"><div class="ttname"><a href="classG3D_1_1Vector3.html#a07d08331145b1bf91a457e1063751ae9">G3D::Vector3::direction</a></div><div class="ttdeci">Vector3 direction() const</div><div class="ttdef"><b>Definition</b> <a href="Vector3_8h_source.html#l00756">Vector3.h:756</a></div></div>
<div class="ttc" id="anamespaceG3D_html_a1fa53333af2cacda5b7aebc1b9645343"><div class="ttname"><a href="namespaceG3D.html#a1fa53333af2cacda5b7aebc1b9645343">G3D::normalize</a></div><div class="ttdeci">float normalize(float v)</div><div class="ttdef"><b>Definition</b> <a href="g3dmath_8h_source.html#l00438">g3dmath.h:438</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a06eeca837dae119e80477a902d0a6e92_cgraph.svg" width="100%" height="476"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a61c9a8a2730418ab9aef5e8765fa57fc" name="a61c9a8a2730418ab9aef5e8765fa57fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61c9a8a2730418ab9aef5e8765fa57fc">&#9670;&#160;</a></span>computeNormals() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::computeNormals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>adjacentFaceArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexNormalArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceNormalArray</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000021">Deprecated:</a></b></dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8cpp_source.html#l00144">144</a> of file <a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  149</span>                                             {</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>    <span class="comment">// Construct a fake vertex array for backwards compatibility</span></div>
<div class="line"><span class="lineno">  152</span>    Array&lt;Vertex&gt; fakeVertexArray;</div>
<div class="line"><span class="lineno">  153</span>    fakeVertexArray.resize(adjacentFaceArray.size());</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v = 0; v &lt; adjacentFaceArray.size(); ++v) {</div>
<div class="line"><span class="lineno">  156</span>        fakeVertexArray[v].faceIndex.resize(adjacentFaceArray[v].size());</div>
<div class="line"><span class="lineno">  157</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; fakeVertexArray[v].faceIndex.size(); ++i) {</div>
<div class="line"><span class="lineno">  158</span>            fakeVertexArray[v].faceIndex[i] = adjacentFaceArray[v][i];</div>
<div class="line"><span class="lineno">  159</span>        }</div>
<div class="line"><span class="lineno">  160</span>        <span class="comment">// We leave out the edges because they aren&#39;t used to compute normals</span></div>
<div class="line"><span class="lineno">  161</span>    }</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    <a class="code hl_function" href="classG3D_1_1MeshAlg.html#a61c9a8a2730418ab9aef5e8765fa57fc">computeNormals</a>(vertexGeometry, faceArray, fakeVertexArray, </div>
<div class="line"><span class="lineno">  164</span>        vertexNormalArray, faceNormalArray);</div>
<div class="line"><span class="lineno">  165</span>}</div>
<div class="ttc" id="aclassG3D_1_1MeshAlg_html_a61c9a8a2730418ab9aef5e8765fa57fc"><div class="ttname"><a href="classG3D_1_1MeshAlg.html#a61c9a8a2730418ab9aef5e8765fa57fc">G3D::MeshAlg::computeNormals</a></div><div class="ttdeci">static void computeNormals(const Array&lt; Vector3 &gt; &amp;vertexArray, const Array&lt; Face &gt; &amp;faceArray, const Array&lt; Array&lt; int &gt; &gt; &amp;adjacentFaceArray, Array&lt; Vector3 &gt; &amp;vertexNormalArray, Array&lt; Vector3 &gt; &amp;faceNormalArray)</div><div class="ttdef"><b>Definition</b> <a href="MeshAlg_8cpp_source.html#l00144">MeshAlg.cpp:144</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a61c9a8a2730418ab9aef5e8765fa57fc_cgraph.svg" width="100%" height="439"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a61c9a8a2730418ab9aef5e8765fa57fc_icgraph.svg" width="528" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a720141b763de04cad91c2331f8f6ff22" name="a720141b763de04cad91c2331f8f6ff22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a720141b763de04cad91c2331f8f6ff22">&#9670;&#160;</a></span>computeNormals() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::computeNormals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexGeometry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Vertex.html">Vertex</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexNormalArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceNormalArray</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classG3D_1_1MeshAlg_1_1Vertex.html">Vertex</a> normals are weighted by the area of adjacent faces. Nelson Max showed this is superior to uniform weighting for general meshes in jgt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vertexNormalArray</td><td>Output. <a class="el" href="classUnit.html">Unit</a> length </td></tr>
    <tr><td class="paramname">faceNormalArray</td><td>Output. Degenerate faces produce zero magnitude normals. <a class="el" href="classUnit.html">Unit</a> length </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>weld </dd></dl>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8cpp_source.html#l00168">168</a> of file <a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  173</span>                                             {</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>    <span class="comment">// Face normals (not unit length)</span></div>
<div class="line"><span class="lineno">  176</span>    faceNormalArray.resize(faceArray.size());</div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; faceArray.size(); ++f) {</div>
<div class="line"><span class="lineno">  178</span>        <span class="keyword">const</span> Face&amp; face = faceArray[f];</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>        Vector3 vertex[3];</div>
<div class="line"><span class="lineno">  181</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; ++j) {</div>
<div class="line"><span class="lineno">  182</span>            vertex[j] = vertexGeometry[face.vertexIndex[j]];</div>
<div class="line"><span class="lineno">  183</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(vertex[j].<a class="code hl_function" href="namespaceG3D.html#abc9e90a9bc8513570a75e74904222927">isFinite</a>());</div>
<div class="line"><span class="lineno">  184</span>        }</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>        faceNormalArray[f] = (vertex[1] - vertex[0]).<a class="code hl_function" href="namespaceG3D.html#a81dbffac4ab63d0bd07aaf4cbdc5dd35">cross</a>(vertex[2] - vertex[0]);</div>
<div class="line"><span class="lineno">  187</span><span class="preprocessor">#       ifdef G3D_DEBUG</span></div>
<div class="line"><span class="lineno">  188</span>            <span class="keyword">const</span> Vector3&amp; <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = faceNormalArray[f];</div>
<div class="line"><span class="lineno">  189</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(<a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.isFinite());</div>
<div class="line"><span class="lineno">  190</span><span class="preprocessor">#       endif</span></div>
<div class="line"><span class="lineno">  191</span>    }</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    <span class="comment">// Per-vertex normals, computed by averaging</span></div>
<div class="line"><span class="lineno">  194</span>    vertexNormalArray.resize(vertexGeometry.size());</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v = 0; v &lt; vertexNormalArray.size(); ++v) {</div>
<div class="line"><span class="lineno">  196</span>        Vector3 sum = <a class="code hl_function" href="classG3D_1_1Vector3.html#a3a7a34cb349378f1c6466e6229853b2a">Vector3::zero</a>();</div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="bn__mp__prime__rabin__miller__trials_8c.html#ab66ed8e0098c0a86b458672a55a9cca9">k</a> = 0; <a class="code hl_variable" href="bn__mp__prime__rabin__miller__trials_8c.html#ab66ed8e0098c0a86b458672a55a9cca9">k</a> &lt; vertexArray[v].faceIndex.size(); ++<a class="code hl_variable" href="bn__mp__prime__rabin__miller__trials_8c.html#ab66ed8e0098c0a86b458672a55a9cca9">k</a>) {</div>
<div class="line"><span class="lineno">  198</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> f = vertexArray[v].faceIndex[<a class="code hl_variable" href="bn__mp__prime__rabin__miller__trials_8c.html#ab66ed8e0098c0a86b458672a55a9cca9">k</a>];</div>
<div class="line"><span class="lineno">  199</span>            sum += faceNormalArray[f];</div>
<div class="line"><span class="lineno">  200</span>        }</div>
<div class="line"><span class="lineno">  201</span>        vertexNormalArray[v] = sum.directionOrZero();</div>
<div class="line"><span class="lineno">  202</span><span class="preprocessor">#       ifdef G3D_DEBUG</span></div>
<div class="line"><span class="lineno">  203</span>            <span class="keyword">const</span> Vector3&amp; <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = vertexNormalArray[v];</div>
<div class="line"><span class="lineno">  204</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(<a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.isUnit() || <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.isZero());</div>
<div class="line"><span class="lineno">  205</span><span class="preprocessor">#       endif</span></div>
<div class="line"><span class="lineno">  206</span>    }</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; faceArray.size(); ++f) {</div>
<div class="line"><span class="lineno">  210</span>        faceNormalArray[f] = faceNormalArray[f].directionOrZero();</div>
<div class="line"><span class="lineno">  211</span><span class="preprocessor">#       ifdef G3D_DEBUG</span></div>
<div class="line"><span class="lineno">  212</span>            <span class="keyword">const</span> Vector3&amp; <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = faceNormalArray[f];</div>
<div class="line"><span class="lineno">  213</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(<a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.isUnit() || <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.isZero());</div>
<div class="line"><span class="lineno">  214</span><span class="preprocessor">#       endif</span></div>
<div class="line"><span class="lineno">  215</span>    }</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>}</div>
<div class="ttc" id="abn__mp__prime__rabin__miller__trials_8c_html_ab66ed8e0098c0a86b458672a55a9cca9"><div class="ttname"><a href="bn__mp__prime__rabin__miller__trials_8c.html#ab66ed8e0098c0a86b458672a55a9cca9">k</a></div><div class="ttdeci">int k</div><div class="ttdef"><b>Definition</b> <a href="bn__mp__prime__rabin__miller__trials_8c_source.html#l00020">bn_mp_prime_rabin_miller_trials.c:20</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a720141b763de04cad91c2331f8f6ff22_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a2e63563e941c28782bda25c0a7be48ec" name="a2e63563e941c28782bda25c0a7be48ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e63563e941c28782bda25c0a7be48ec">&#9670;&#160;</a></span>computeNormals() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::computeNormals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classG3D_1_1MeshAlg_1_1Geometry.html">Geometry</a> &amp;&#160;</td>
          <td class="paramname"><em>geometry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>indexArray</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Computes unit length normals in place using the other computeNormals methods. If you already have a face array use another method; it will be faster. </p><dl class="section see"><dt>See also</dt><dd>weld </dd></dl>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8cpp_source.html#l00128">128</a> of file <a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  130</span>                                        {</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>    Array&lt;Face&gt; faceArray;</div>
<div class="line"><span class="lineno">  133</span>    Array&lt;Vertex&gt; vertexArray;</div>
<div class="line"><span class="lineno">  134</span>    Array&lt;Edge&gt; edgeArray;</div>
<div class="line"><span class="lineno">  135</span>    Array&lt;Vector3&gt; faceNormalArray;</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    <a class="code hl_function" href="classG3D_1_1MeshAlg.html#af9c7e0c436b7ea572b49c138e66fe1e1">computeAdjacency</a>(geometry.vertexArray, indexArray, faceArray, edgeArray, vertexArray);</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>    <a class="code hl_function" href="classG3D_1_1MeshAlg.html#a61c9a8a2730418ab9aef5e8765fa57fc">computeNormals</a>(geometry.vertexArray, faceArray, vertexArray, </div>
<div class="line"><span class="lineno">  140</span>                   geometry.normalArray, faceNormalArray);</div>
<div class="line"><span class="lineno">  141</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a2e63563e941c28782bda25c0a7be48ec_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a1db0b75590f1536188088497c4277230" name="a1db0b75590f1536188088497c4277230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1db0b75590f1536188088497c4277230">&#9670;&#160;</a></span>computeTangentSpaceBasis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::computeTangentSpaceBasis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector2.html">Vector2</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>texCoordArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexNormalArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>tangent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>binormal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Computes tangent and binormal vectors, which provide a (mostly) consistent parameterization over the surface for effects like bump mapping. In the resulting coordinate frame, T = x (varies with texture s coordinate), B = y (varies with negative texture t coordinate), and N = z for a right-handed coordinate frame. If a billboard is vertical on the screen in view of the camera, the tangent space matches the camera's coordinate frame.</p>
<p>The vertex, texCoord, tangent, and binormal arrays are parallel arrays.</p>
<p>The resulting tangent and binormal might not be exactly perpendicular to each other. They are guaranteed to be perpendicular to the normal.</p>
<p><b>[Max]</b> McGuire </p>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8cpp_source.html#l00552">552</a> of file <a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  558</span>                                          {</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>    <a class="code hl_define" href="debugAssert_8h.html#af7e8ca29ffa4af20db0de5a93e1b81e9">debugAssertM</a>(faceArray.size() != 0, <span class="stringliteral">&quot;Unable to calculate valid tangent space without faces.&quot;</span>);</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>    tangent.resize(vertexArray.size());</div>
<div class="line"><span class="lineno">  563</span>    binormal.resize(vertexArray.size());</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>    <span class="comment">// Zero the output arrays.</span></div>
<div class="line"><span class="lineno">  566</span>    <a class="code hl_function" href="classG3D_1_1System.html#aa08062b414696f61df931cc8d474276d">System::memset</a>(tangent.getCArray(), 0, <span class="keyword">sizeof</span>(Vector3) * tangent.size());</div>
<div class="line"><span class="lineno">  567</span>    <a class="code hl_function" href="classG3D_1_1System.html#aa08062b414696f61df931cc8d474276d">System::memset</a>(binormal.getCArray(), 0, <span class="keyword">sizeof</span>(Vector3) * binormal.size());</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>    <span class="comment">// Iterate over faces, computing the tangent vectors for each </span></div>
<div class="line"><span class="lineno">  570</span>    <span class="comment">// vertex.  Accumulate those into the tangent and binormal arrays</span></div>
<div class="line"><span class="lineno">  571</span>    <span class="comment">// and then orthonormalize at the end.</span></div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; faceArray.size(); ++f) {</div>
<div class="line"><span class="lineno">  574</span>        <span class="keyword">const</span> Face&amp; face = faceArray[f];</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> i0 = face.vertexIndex[0];</div>
<div class="line"><span class="lineno">  577</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> i1 = face.vertexIndex[1];</div>
<div class="line"><span class="lineno">  578</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> i2 = face.vertexIndex[2];</div>
<div class="line"><span class="lineno">  579</span>        </div>
<div class="line"><span class="lineno">  580</span>        <span class="keyword">const</span> Vector3&amp; v0 = vertexArray[i0];</div>
<div class="line"><span class="lineno">  581</span>        <span class="keyword">const</span> Vector3&amp; v1 = vertexArray[i1];</div>
<div class="line"><span class="lineno">  582</span>        <span class="keyword">const</span> Vector3&amp; v2 = vertexArray[i2];</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>        <span class="keyword">const</span> Vector2&amp; t0 = texCoordArray[i0];</div>
<div class="line"><span class="lineno">  585</span>        <span class="keyword">const</span> Vector2&amp; t1 = texCoordArray[i1];</div>
<div class="line"><span class="lineno">  586</span>        <span class="keyword">const</span> Vector2&amp; t2 = texCoordArray[i2];</div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>        <span class="comment">// See http://www.terathon.com/code/tangent.html for a derivation of the following code</span></div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>        <span class="comment">// vertex edges</span></div>
<div class="line"><span class="lineno">  591</span>        Vector3 ve1 = v1 - v0;</div>
<div class="line"><span class="lineno">  592</span>        Vector3 ve2 = v2 - v0;</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>        <span class="comment">// texture edges</span></div>
<div class="line"><span class="lineno">  595</span>        Vector2 te1 = t1 - t0;</div>
<div class="line"><span class="lineno">  596</span>        Vector2 te2 = t2 - t0;</div>
<div class="line"><span class="lineno">  597</span> </div>
<div class="line"><span class="lineno">  598</span>        Vector3 n(ve1.cross(ve2).direction());</div>
<div class="line"><span class="lineno">  599</span>        Vector3 <a class="code hl_variable" href="bn__mp__prime__rabin__miller__trials_8c.html#ac310d9181e916ba43604099aee272c71">t</a>, b;</div>
<div class="line"><span class="lineno">  600</span>    </div>
<div class="line"><span class="lineno">  601</span>        <span class="keywordtype">float</span> r = te1.x * te2.y - te1.y * te2.x;</div>
<div class="line"><span class="lineno">  602</span>        <span class="keywordflow">if</span> (r == 0.0) {</div>
<div class="line"><span class="lineno">  603</span>            <span class="comment">// degenerate case</span></div>
<div class="line"><span class="lineno">  604</span>            <span class="keywordflow">if</span> (! n.isFinite() || n.isZero()) {</div>
<div class="line"><span class="lineno">  605</span>                n = <a class="code hl_function" href="classG3D_1_1Vector3.html#a9d95e8492784a0fd4a3fcf096a996f43">Vector3::unitY</a>();</div>
<div class="line"><span class="lineno">  606</span>            }</div>
<div class="line"><span class="lineno">  607</span>            n.getTangents(<a class="code hl_variable" href="bn__mp__prime__rabin__miller__trials_8c.html#ac310d9181e916ba43604099aee272c71">t</a>, b);</div>
<div class="line"><span class="lineno">  608</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  609</span>            r = 1.0f / r;        </div>
<div class="line"><span class="lineno">  610</span>            <a class="code hl_variable" href="bn__mp__prime__rabin__miller__trials_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = (te2.y * ve1 - te1.y * ve2) * r;</div>
<div class="line"><span class="lineno">  611</span>            b = (te2.x * ve1 - te1.x * ve2) * r;   </div>
<div class="line"><span class="lineno">  612</span>        }</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v = 0; v &lt; 3; ++v) {</div>
<div class="line"><span class="lineno">  615</span>            <span class="keywordtype">int</span> i = face.vertexIndex[v];</div>
<div class="line"><span class="lineno">  616</span>            tangent[i]  += <a class="code hl_variable" href="bn__mp__prime__rabin__miller__trials_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><span class="lineno">  617</span>            binormal[i] += b;</div>
<div class="line"><span class="lineno">  618</span>        }</div>
<div class="line"><span class="lineno">  619</span>    }</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span>    <span class="comment">// Normalize the basis vectors</span></div>
<div class="line"><span class="lineno">  622</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v = 0; v &lt; vertexArray.size(); ++v) {</div>
<div class="line"><span class="lineno">  623</span>        <span class="comment">// Remove the component parallel to the normal</span></div>
<div class="line"><span class="lineno">  624</span>        <span class="keyword">const</span> Vector3&amp; <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = vertexNormalArray[v];</div>
<div class="line"><span class="lineno">  625</span>        Vector3&amp; T = tangent[v];</div>
<div class="line"><span class="lineno">  626</span>        Vector3&amp; B = binormal[v];</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>        <a class="code hl_define" href="debugAssert_8h.html#af7e8ca29ffa4af20db0de5a93e1b81e9">debugAssertM</a>(<a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.isUnit() || <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.isZero(), <span class="stringliteral">&quot;Input normals must have unit length&quot;</span>);</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>        T -= T.dot(<a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) * <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><span class="lineno">  631</span>        B -= B.dot(<a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) * <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>        <span class="comment">// Normalize</span></div>
<div class="line"><span class="lineno">  634</span>        T = T.directionOrZero();</div>
<div class="line"><span class="lineno">  635</span>        B = B.directionOrZero();</div>
<div class="line"><span class="lineno">  636</span>    }</div>
<div class="line"><span class="lineno">  637</span>}</div>
<div class="ttc" id="abn__mp__prime__rabin__miller__trials_8c_html_ac310d9181e916ba43604099aee272c71"><div class="ttname"><a href="bn__mp__prime__rabin__miller__trials_8c.html#ac310d9181e916ba43604099aee272c71">t</a></div><div class="ttdeci">int t</div><div class="ttdef"><b>Definition</b> <a href="bn__mp__prime__rabin__miller__trials_8c_source.html#l00020">bn_mp_prime_rabin_miller_trials.c:20</a></div></div>
<div class="ttc" id="aclassG3D_1_1System_html_aa08062b414696f61df931cc8d474276d"><div class="ttname"><a href="classG3D_1_1System.html#aa08062b414696f61df931cc8d474276d">G3D::System::memset</a></div><div class="ttdeci">static void memset(void *dst, uint8 value, size_t numBytes)</div><div class="ttdef"><b>Definition</b> <a href="dep_2g3dlite_2System_8cpp_source.html#l00701">System.cpp:701</a></div></div>
<div class="ttc" id="aclassG3D_1_1Vector3_html_a9d95e8492784a0fd4a3fcf096a996f43"><div class="ttname"><a href="classG3D_1_1Vector3.html#a9d95e8492784a0fd4a3fcf096a996f43">G3D::Vector3::unitY</a></div><div class="ttdeci">static const Vector3 &amp; unitY()</div><div class="ttdef"><b>Definition</b> <a href="Vector3_8cpp_source.html#l00122">Vector3.cpp:122</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a1db0b75590f1536188088497c4277230_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="abca2919423d37cb7d586f5843a9a8246" name="abca2919423d37cb7d586f5843a9a8246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abca2919423d37cb7d586f5843a9a8246">&#9670;&#160;</a></span>computeWeld()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::computeWeld </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>oldVertexPositions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>newVertexPositions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>toNew</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>toOld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>radius</em> = <code><a class="el" href="g3dmath_8h.html#aed7843efc6572986b9bcd90b4834b5b6">fuzzyEpsilon32</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Welds nearby and colocated elements of the <em>oldVertexArray</em> together so that <em>newVertexArray</em> contains no vertices within <em>radius</em> of one another. Every vertex in newVertexPositions also appears in oldVertexPositions. This is useful for downsampling meshes and welding cracks created by artist errors or numerical imprecision. <br  />
</p>
<p>The two integer arrays map indices back and forth between the arrays according to: </p><pre>
oldVertexArray[toOld[ni]] == newVertexArray[ni]
oldVertexArray[oi] == newVertexArray[toNew[ni]]
</pre><p>Note that newVertexPositions is never longer than oldVertexPositions and is shorter when vertices are welded.</p>
<p>Welding with a large radius will effectively compute a lower level of detail for the mesh.</p>
<p>The welding method runs in roughly linear time in the length of oldVertexArray&ndash; a uniform spatial grid is used to achieve nearly constant time vertex collapses for uniformly distributed vertices.</p>
<p>It is sometimes desirable to keep the original vertex ordering but identify the unique vertices. The following code computes array canonical s.t. canonical[v] = first occurance of a vertex near oldVertexPositions[v] in oldVertexPositions.</p>
<pre>
   <a class="el" href="classG3D_1_1Array.html">Array&lt;int&gt;</a> canonical(oldVertexPositions.size()), toNew, toOld;
   computeWeld(oldVertexPositions, Array&lt;Vector3&gt;(), toNew, toOld, radius);
   for (int v = 0; v &lt; canonical.size(); ++v) {
       canonical[v] = toOld[toNew[v]];
   }
</pre><p>See also <a class="el" href="classG3D_1_1MeshAlg.html#a159cde69c7f03f5482df27f4fb86634c">G3D::MeshAlg::weldAdjacency</a>.</p>
<p><b>[The]</b> method is that described as the 'Grouper' in Baum, Mann, Smith, and Winget, Making Radiosity Usable: Automatic Preprocessing and Meshing Techniques for the Generation of Accurate Radiosity Solutions, Computer Graphics vol 25, no 4, July 1991.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000022">Deprecated:</a></b></dt><dd>Use weld. </dd></dl>

<p class="definition">Definition at line <a class="el" href="MeshAlgWeld_8cpp_source.html#l00203">203</a> of file <a class="el" href="MeshAlgWeld_8cpp_source.html">MeshAlgWeld.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  208</span>                                  {</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>    shared_ptr&lt;_internal::Welder&gt; welder = shared_ptr&lt;_internal::Welder&gt; (<span class="keyword">new</span> _internal::Welder(oldVertexArray, newVertexArray, toNew, toOld, radius));</div>
<div class="line"><span class="lineno">  211</span>    welder-&gt;weld();</div>
<div class="line"><span class="lineno">  212</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_abca2919423d37cb7d586f5843a9a8246_icgraph.svg" width="490" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa46b88f28d1f1c46687e1f16684c9775" name="aa46b88f28d1f1c46687e1f16684c9775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa46b88f28d1f1c46687e1f16684c9775">&#9670;&#160;</a></span>countBoundaryEdges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int G3D::MeshAlg::countBoundaryEdges </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>edgeArray</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Counts the number of edges (in an edge array returned from <a class="el" href="classG3D_1_1MeshAlg.html#af9c7e0c436b7ea572b49c138e66fe1e1">MeshAlg::computeAdjacency</a>) that have only one adjacent face. </p>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8cpp_source.html#l00401">401</a> of file <a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  401</span>                                                                   {</div>
<div class="line"><span class="lineno">  402</span>    <span class="keywordtype">int</span> b = 0;</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; edgeArray.size(); ++i) {</div>
<div class="line"><span class="lineno">  405</span>        <span class="keywordflow">if</span> ((edgeArray[i].faceIndex[0] == <a class="code hl_variable" href="classG3D_1_1MeshAlg_1_1Face.html#a62bb5fc1d62ce650c721e4c540856537">MeshAlg::Face::NONE</a>) !=</div>
<div class="line"><span class="lineno">  406</span>            (edgeArray[i].faceIndex[1] == <a class="code hl_variable" href="classG3D_1_1MeshAlg_1_1Face.html#a62bb5fc1d62ce650c721e4c540856537">MeshAlg::Face::NONE</a>)) {</div>
<div class="line"><span class="lineno">  407</span>            ++b;</div>
<div class="line"><span class="lineno">  408</span>        }</div>
<div class="line"><span class="lineno">  409</span>    }</div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>    <span class="keywordflow">return</span> b;</div>
<div class="line"><span class="lineno">  412</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_aa46b88f28d1f1c46687e1f16684c9775_cgraph.svg" width="406" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a4735cbbb41b5853d132eb79b669fb25c" name="a4735cbbb41b5853d132eb79b669fb25c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4735cbbb41b5853d132eb79b669fb25c">&#9670;&#160;</a></span>createIndexArray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::createIndexArray </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>run</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>skip</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generates an array of integers from start to start + n - 1 that have run numbers in series then omit the next skip before the next run. Useful for turning a triangle list into an indexed face set.</p>
<p>Example: </p><pre>
  createIndexArray(10, x);
  // x = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] 

  createIndexArray(5, x, 2);
  // x = [2, 3, 4, 5, 6, 7] 

  createIndexArray(6, x, 0, 2, 1);
  // x = [0, 1, 3, 4, 6, 7]
</pre> 
<p class="definition">Definition at line <a class="el" href="MeshAlg_8cpp_source.html#l00316">316</a> of file <a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  316</span>                                                                                     {</div>
<div class="line"><span class="lineno">  317</span>    <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(skip &gt;= 0);</div>
<div class="line"><span class="lineno">  318</span>    <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(run &gt;= 0);</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>    array.<a class="code hl_function" href="classG3D_1_1Array.html#a9608f092af416439743fc785e6bdddb0">resize</a>(n);</div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">if</span> (skip == 0) {</div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; ++i) {</div>
<div class="line"><span class="lineno">  323</span>            array[i] = <a class="code hl_enumvalue" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5aea2b2676c28c0db26d39331a336c6b92">start</a> + i;</div>
<div class="line"><span class="lineno">  324</span>        }</div>
<div class="line"><span class="lineno">  325</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordtype">int</span> rcount = 0;</div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordtype">int</span> j = <a class="code hl_enumvalue" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5aea2b2676c28c0db26d39331a336c6b92">start</a>;</div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; ++i) {</div>
<div class="line"><span class="lineno">  329</span>            array[i] = j;</div>
<div class="line"><span class="lineno">  330</span> </div>
<div class="line"><span class="lineno">  331</span>            ++j;</div>
<div class="line"><span class="lineno">  332</span>            ++rcount;</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>            <span class="keywordflow">if</span> (rcount == run) {</div>
<div class="line"><span class="lineno">  335</span>                rcount = 0;</div>
<div class="line"><span class="lineno">  336</span>                j += skip;</div>
<div class="line"><span class="lineno">  337</span>            }</div>
<div class="line"><span class="lineno">  338</span>        }</div>
<div class="line"><span class="lineno">  339</span>    }</div>
<div class="line"><span class="lineno">  340</span>}</div>
<div class="ttc" id="aclassG3D_1_1Array_html_a9608f092af416439743fc785e6bdddb0"><div class="ttname"><a href="classG3D_1_1Array.html#a9608f092af416439743fc785e6bdddb0">G3D::Array::resize</a></div><div class="ttdeci">void resize(size_t n, bool shrinkIfNecessary=true)</div><div class="ttdef"><b>Definition</b> <a href="Array_8h_source.html#l00492">Array.h:492</a></div></div>
<div class="ttc" id="anamespacedetail_html_ac742e301ae0a908dc31e49ac3a31fcc5aea2b2676c28c0db26d39331a336c6b92"><div class="ttname"><a href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5aea2b2676c28c0db26d39331a336c6b92">detail::state::start</a></div><div class="ttdeci">@ start</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a4735cbbb41b5853d132eb79b669fb25c_cgraph.svg" width="100%" height="439"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a4735cbbb41b5853d132eb79b669fb25c_icgraph.svg" width="455" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a956296535f61f5f3411174b1d97deba1" name="a956296535f61f5f3411174b1d97deba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a956296535f61f5f3411174b1d97deba1">&#9670;&#160;</a></span>debugCheckConsistency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::debugCheckConsistency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>edgeArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Vertex.html">Vertex</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexArray</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>In debug mode, asserts that the adjacency references between the face, edge, and vertex array are consistent. </p>

<p class="definition">Definition at line <a class="el" href="MeshAlgAdjacency_8cpp_source.html#l00693">693</a> of file <a class="el" href="MeshAlgAdjacency_8cpp_source.html">MeshAlgAdjacency.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  696</span>                                         {</div>
<div class="line"><span class="lineno">  697</span> </div>
<div class="line"><span class="lineno">  698</span><span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><span class="lineno">  699</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v = 0; v &lt; vertexArray.size(); ++v) {</div>
<div class="line"><span class="lineno">  700</span>        <span class="keyword">const</span> MeshAlg::Vertex&amp; vertex = vertexArray[v];</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; vertex.edgeIndex.size(); ++i) {</div>
<div class="line"><span class="lineno">  703</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> e = vertex.edgeIndex[i];</div>
<div class="line"><span class="lineno">  704</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(edgeArray[(e &gt;= 0) ? e : ~e].containsVertex(v));</div>
<div class="line"><span class="lineno">  705</span>        }</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; vertex.faceIndex.size(); ++i) {</div>
<div class="line"><span class="lineno">  708</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> f = vertex.faceIndex[i];</div>
<div class="line"><span class="lineno">  709</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(faceArray[f].containsVertex(v));</div>
<div class="line"><span class="lineno">  710</span>        }</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>    }</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> e = 0; e &lt; edgeArray.size(); ++e) {</div>
<div class="line"><span class="lineno">  715</span>        <span class="keyword">const</span> MeshAlg::Edge&amp; <a class="code hl_struct" href="structedge.html">edge</a> = edgeArray[e];</div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; ++i) {</div>
<div class="line"><span class="lineno">  718</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>((<a class="code hl_struct" href="structedge.html">edge</a>.faceIndex[i] == <a class="code hl_variable" href="classG3D_1_1MeshAlg_1_1Face.html#a62bb5fc1d62ce650c721e4c540856537">MeshAlg::Face::NONE</a>) ||</div>
<div class="line"><span class="lineno">  719</span>                faceArray[<a class="code hl_struct" href="structedge.html">edge</a>.faceIndex[i]].containsEdge(e));</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(vertexArray[<a class="code hl_struct" href="structedge.html">edge</a>.vertexIndex[i]].inEdge(e));</div>
<div class="line"><span class="lineno">  722</span>        }        </div>
<div class="line"><span class="lineno">  723</span>    }</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>    <span class="comment">// Every face&#39;s edge must be on that face</span></div>
<div class="line"><span class="lineno">  726</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; faceArray.size(); ++f) {</div>
<div class="line"><span class="lineno">  727</span>        <span class="keyword">const</span> MeshAlg::Face&amp; face = faceArray[f];</div>
<div class="line"><span class="lineno">  728</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i) {</div>
<div class="line"><span class="lineno">  729</span>            <span class="keywordtype">int</span> e = face.edgeIndex[i];</div>
<div class="line"><span class="lineno">  730</span>            <span class="keywordtype">int</span> ei = (e &gt;= 0) ? e : ~e;</div>
<div class="line"><span class="lineno">  731</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(edgeArray[ei].inFace(f));</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>            <span class="comment">// Make sure the edge is oriented appropriately </span></div>
<div class="line"><span class="lineno">  734</span>            <span class="keywordflow">if</span> (e &gt;= 0) {</div>
<div class="line"><span class="lineno">  735</span>                <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(edgeArray[ei].faceIndex[0] == (<span class="keywordtype">int</span>)f);</div>
<div class="line"><span class="lineno">  736</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  737</span>                <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(edgeArray[ei].faceIndex[1] == (<span class="keywordtype">int</span>)f);</div>
<div class="line"><span class="lineno">  738</span>            }</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(vertexArray[face.vertexIndex[i]].inFace(f));</div>
<div class="line"><span class="lineno">  741</span>        }</div>
<div class="line"><span class="lineno">  742</span>    }</div>
<div class="line"><span class="lineno">  743</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  744</span>    (void)faceArray;</div>
<div class="line"><span class="lineno">  745</span>    (void)edgeArray;</div>
<div class="line"><span class="lineno">  746</span>    (void)vertexArray;</div>
<div class="line"><span class="lineno">  747</span><span class="preprocessor">#endif </span><span class="comment">// _DEBUG</span></div>
<div class="line"><span class="lineno">  748</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a956296535f61f5f3411174b1d97deba1_cgraph.svg" width="424" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae0cac2603ebeaace79d19a7d46d8fa10" name="ae0cac2603ebeaace79d19a7d46d8fa10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0cac2603ebeaace79d19a7d46d8fa10">&#9670;&#160;</a></span>findEdgeIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int G3D::MeshAlg::findEdgeIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>geometricEdgeArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>area</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper for computeAdjacency. If a directed edge with index e already exists from i0 to i1 then e is returned. If a directed edge with index e already exists from i1 to i0, ~e is returned (the complement) and edgeArray[e] is set to f. Otherwise, a new edge is created from i0 to i1 with first face index f and its index is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vertexArray</td><td><a class="el" href="classG3D_1_1MeshAlg_1_1Vertex.html">Vertex</a> positions to use when deciding colocation.</td></tr>
    <tr><td class="paramname">area</td><td>Area of face f. When multiple edges of the same direction are found between the same vertices (usually because of degenerate edges) the face with larger area is kept in the edge table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a159142899e0ce008cf17dca56633cf6a" name="a159142899e0ce008cf17dca56633cf6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a159142899e0ce008cf17dca56633cf6a">&#9670;&#160;</a></span>generateGrid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::generateGrid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector2.html">Vector2</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>texCoord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wCells</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hCells</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Vector2.html">Vector2</a> &amp;&#160;</td>
          <td class="paramname"><em>textureScale</em> = <code><a class="el" href="classG3D_1_1Vector2.html">Vector2</a>(1,1)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>spaceCentered</em> = <code><a class="el" href="StormPort_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>twoSided</em> = <code><a class="el" href="StormPort_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1CoordinateFrame.html">CoordinateFrame</a> &amp;&#160;</td>
          <td class="paramname"><em>xform</em> = <code><a class="el" href="classG3D_1_1CoordinateFrame.html">CoordinateFrame</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Image1.html#aa63fd14c4af0fe7ce6d4c093ef8694b6">Image1::Ref</a> &amp;&#160;</td>
          <td class="paramname"><em>elevation</em> = <code><a class="el" href="classG3D_1_1Image1.html#aa63fd14c4af0fe7ce6d4c093ef8694b6">Image1::Ref</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generates a unit square in the X-Z plane composed of a grid of wCells x hCells squares on the unit interval and then transforms it by xform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vertex</td><td>Output vertices </td></tr>
    <tr><td class="paramname">texCoord</td><td>Output texture coordinates </td></tr>
    <tr><td class="paramname">index</td><td>Output triangle list indices </td></tr>
    <tr><td class="paramname">textureScale</td><td>Lower-right texture coordinate </td></tr>
    <tr><td class="paramname">spaceCentered</td><td>If true, the coordinates generated are centered at the origin before the transformation. </td></tr>
    <tr><td class="paramname">twoSided</td><td>If true, matching top and bottom planes are generated. </td></tr>
    <tr><td class="paramname">elevation</td><td>If non-NULL, values from this image are used as elevations. Apply an <em>xform</em> to adjust the scale </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8cpp_source.html#l00028">28</a> of file <a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span>                              {</div>
<div class="line"><span class="lineno">   39</span>        </div>
<div class="line"><span class="lineno">   40</span>    vertex.fastClear();</div>
<div class="line"><span class="lineno">   41</span>    texCoord.fastClear();</div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_enumvalue" href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">index</a>.fastClear();</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>    <span class="comment">// Generate vertices                  </span></div>
<div class="line"><span class="lineno">   45</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="namespaceG3D.html#a05e047033db3919db794d0f77e38797f">z</a> = 0; <a class="code hl_variable" href="namespaceG3D.html#a05e047033db3919db794d0f77e38797f">z</a> &lt;= hCells; ++<a class="code hl_variable" href="namespaceG3D.html#a05e047033db3919db794d0f77e38797f">z</a>) {</div>
<div class="line"><span class="lineno">   46</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="namespaceG3D.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code hl_variable" href="namespaceG3D.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt;= wCells; ++<a class="code hl_variable" href="namespaceG3D.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>) {</div>
<div class="line"><span class="lineno">   47</span>            Vector3 v(<a class="code hl_variable" href="namespaceG3D.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> / (<span class="keywordtype">float</span>)wCells, 0, <a class="code hl_variable" href="namespaceG3D.html#a05e047033db3919db794d0f77e38797f">z</a> / (<span class="keywordtype">float</span>)hCells);</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>            Vector2 <a class="code hl_variable" href="bn__mp__prime__rabin__miller__trials_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = v.xz() * textureScale;</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>            texCoord.append(<a class="code hl_variable" href="bn__mp__prime__rabin__miller__trials_8c.html#ac310d9181e916ba43604099aee272c71">t</a>);</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>            <span class="keywordflow">if</span> (height) {</div>
<div class="line"><span class="lineno">   54</span>                v.y = height-&gt;nearest(v.x * (height-&gt;width() - 1), v.z * (height-&gt;height() - 1)).value;</div>
<div class="line"><span class="lineno">   55</span>            }</div>
<div class="line"><span class="lineno">   56</span>            <span class="keywordflow">if</span> (spaceCentered) {</div>
<div class="line"><span class="lineno">   57</span>                v -= Vector3(0.5f, 0, 0.5f);</div>
<div class="line"><span class="lineno">   58</span>            }</div>
<div class="line"><span class="lineno">   59</span>            v = xform.pointToWorldSpace(v);</div>
<div class="line"><span class="lineno">   60</span>            vertex.append(v);</div>
<div class="line"><span class="lineno">   61</span>        }</div>
<div class="line"><span class="lineno">   62</span>    }</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>    <span class="comment">// Generate indices</span></div>
<div class="line"><span class="lineno">   65</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="namespaceG3D.html#a05e047033db3919db794d0f77e38797f">z</a> = 0; <a class="code hl_variable" href="namespaceG3D.html#a05e047033db3919db794d0f77e38797f">z</a> &lt; hCells; ++<a class="code hl_variable" href="namespaceG3D.html#a05e047033db3919db794d0f77e38797f">z</a>) {</div>
<div class="line"><span class="lineno">   66</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="namespaceG3D.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code hl_variable" href="namespaceG3D.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; wCells; ++<a class="code hl_variable" href="namespaceG3D.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>) {</div>
<div class="line"><span class="lineno">   67</span>            <span class="keywordtype">int</span> A = <a class="code hl_variable" href="namespaceG3D.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code hl_variable" href="namespaceG3D.html#a05e047033db3919db794d0f77e38797f">z</a> * (wCells + 1);</div>
<div class="line"><span class="lineno">   68</span>            <span class="keywordtype">int</span> B = A + 1;</div>
<div class="line"><span class="lineno">   69</span>            <span class="keywordtype">int</span> C = A + (wCells + 1);</div>
<div class="line"><span class="lineno">   70</span>            <span class="keywordtype">int</span> D = C + 1;</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>            <span class="comment">//  A       B</span></div>
<div class="line"><span class="lineno">   73</span>            <span class="comment">//   *-----*</span></div>
<div class="line"><span class="lineno">   74</span>            <span class="comment">//   | \   |</span></div>
<div class="line"><span class="lineno">   75</span>            <span class="comment">//   |   \ |</span></div>
<div class="line"><span class="lineno">   76</span>            <span class="comment">//   *-----*</span></div>
<div class="line"><span class="lineno">   77</span>            <span class="comment">//  C       D</span></div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>            <a class="code hl_enumvalue" href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">index</a>.append(A, D, B);</div>
<div class="line"><span class="lineno">   80</span>            <a class="code hl_enumvalue" href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">index</a>.append(A, C, D);</div>
<div class="line"><span class="lineno">   81</span>        }</div>
<div class="line"><span class="lineno">   82</span>    }</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>    <span class="keywordflow">if</span> (twoSided) {</div>
<div class="line"><span class="lineno">   85</span>        <span class="comment">// The index array needs to have reversed winding for the bottom</span></div>
<div class="line"><span class="lineno">   86</span>        <span class="comment">// and offset by the original number of vertices</span></div>
<div class="line"><span class="lineno">   87</span>        Array&lt;int&gt; ti = <a class="code hl_enumvalue" href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">index</a>;</div>
<div class="line"><span class="lineno">   88</span>        ti.reverse();</div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ti.size(); ++i) {</div>
<div class="line"><span class="lineno">   90</span>            ti[i] += vertex.size();</div>
<div class="line"><span class="lineno">   91</span>        }</div>
<div class="line"><span class="lineno">   92</span>        <a class="code hl_enumvalue" href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">index</a>.append(ti);</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>        <span class="comment">// Duplicate the arrays</span></div>
<div class="line"><span class="lineno">   95</span>        vertex.append(Array&lt;Vector3&gt;(vertex));</div>
<div class="line"><span class="lineno">   96</span>        texCoord.append(Array&lt;Vector2&gt;(texCoord));</div>
<div class="line"><span class="lineno">   97</span>    }</div>
<div class="line"><span class="lineno">   98</span>}</div>
<div class="ttc" id="anamespaceG3D_html_a05e047033db3919db794d0f77e38797f"><div class="ttname"><a href="namespaceG3D.html#a05e047033db3919db794d0f77e38797f">G3D::z</a></div><div class="ttdeci">G3D::int16 z</div><div class="ttdef"><b>Definition</b> <a href="Vector3int16_8h_source.html#l00046">Vector3int16.h:46</a></div></div>
<div class="ttc" id="anamespaceG3D_html_a55ae91213b07da3a9e14fcd5068d497f"><div class="ttname"><a href="namespaceG3D.html#a55ae91213b07da3a9e14fcd5068d497f">G3D::x</a></div><div class="ttdeci">G3D::int16 x</div><div class="ttdef"><b>Definition</b> <a href="Vector2int16_8h_source.html#l00037">Vector2int16.h:37</a></div></div>
<div class="ttc" id="anamespacedetail_html_ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86"><div class="ttname"><a href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">detail::arg_id_kind::index</a></div><div class="ttdeci">@ index</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a159142899e0ce008cf17dca56633cf6a_cgraph.svg" width="100%" height="562"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac96e5d6a6ebb7d11a8627f46ca54df09" name="ac96e5d6a6ebb7d11a8627f46ca54df09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac96e5d6a6ebb7d11a8627f46ca54df09">&#9670;&#160;</a></span>identifyBackfaces() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::identifyBackfaces </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Vector4.html">Vector4</a> &amp;&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>backface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Classifies each face as a backface or a front face relative to the observer point P (which is at infinity when P.w = 0). A face with normal exactly perpendicular to the observer vector may be classified as either a front or a back face arbitrarily. </p>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8cpp_source.html#l00246">246</a> of file <a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  250</span>                                              {</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>    Vector3 P = HP.xyz();</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    backface.resize(faceArray.size());</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceG3D.html#a777646c1deb0c353be54782691193ac4">fuzzyEq</a>(HP.w, 0.0f)) {</div>
<div class="line"><span class="lineno">  257</span>        <span class="comment">// Infinite case</span></div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = faceArray.size() - 1; f &gt;= 0; --f) {</div>
<div class="line"><span class="lineno">  259</span>            <span class="keyword">const</span> MeshAlg::Face&amp; face = faceArray[f];</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>            <span class="keyword">const</span> Vector3&amp; v0 = vertexArray[face.vertexIndex[0]];</div>
<div class="line"><span class="lineno">  262</span>            <span class="keyword">const</span> Vector3&amp; v1 = vertexArray[face.vertexIndex[1]];</div>
<div class="line"><span class="lineno">  263</span>            <span class="keyword">const</span> Vector3&amp; v2 = vertexArray[face.vertexIndex[2]];</div>
<div class="line"><span class="lineno">  264</span>        </div>
<div class="line"><span class="lineno">  265</span>            <span class="keyword">const</span> Vector3 <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = (v1 - v0).<a class="code hl_function" href="namespaceG3D.html#a81dbffac4ab63d0bd07aaf4cbdc5dd35">cross</a>(v2 - v0);</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>            backface[f] = <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.<a class="code hl_function" href="classG3D_1_1Vector3.html#a738e0282cf91f7835e0299aaed0b2fa7">dot</a>(P) &lt; 0;</div>
<div class="line"><span class="lineno">  268</span>        }</div>
<div class="line"><span class="lineno">  269</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  270</span>        <span class="comment">// Finite case</span></div>
<div class="line"><span class="lineno">  271</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = faceArray.size() - 1; f &gt;= 0; --f) {</div>
<div class="line"><span class="lineno">  272</span>            <span class="keyword">const</span> MeshAlg::Face&amp; face = faceArray[f];</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>            <span class="keyword">const</span> Vector3&amp; v0 = vertexArray[face.vertexIndex[0]];</div>
<div class="line"><span class="lineno">  275</span>            <span class="keyword">const</span> Vector3&amp; v1 = vertexArray[face.vertexIndex[1]];</div>
<div class="line"><span class="lineno">  276</span>            <span class="keyword">const</span> Vector3&amp; v2 = vertexArray[face.vertexIndex[2]];</div>
<div class="line"><span class="lineno">  277</span>        </div>
<div class="line"><span class="lineno">  278</span>            <span class="keyword">const</span> Vector3 <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = (v1 - v0).<a class="code hl_function" href="namespaceG3D.html#a81dbffac4ab63d0bd07aaf4cbdc5dd35">cross</a>(v2 - v0);</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>            backface[f] = <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.<a class="code hl_function" href="classG3D_1_1Vector3.html#a738e0282cf91f7835e0299aaed0b2fa7">dot</a>(P - v0) &lt; 0;</div>
<div class="line"><span class="lineno">  281</span>        }</div>
<div class="line"><span class="lineno">  282</span>    }</div>
<div class="line"><span class="lineno">  283</span>}</div>
<div class="ttc" id="aclassG3D_1_1Vector3_html_a738e0282cf91f7835e0299aaed0b2fa7"><div class="ttname"><a href="classG3D_1_1Vector3.html#a738e0282cf91f7835e0299aaed0b2fa7">G3D::Vector3::dot</a></div><div class="ttdeci">float __fastcall dot(const Vector3 &amp;rkVector) const</div><div class="ttdef"><b>Definition</b> <a href="Vector3_8h_source.html#l00771">Vector3.h:771</a></div></div>
<div class="ttc" id="anamespaceG3D_html_a777646c1deb0c353be54782691193ac4"><div class="ttname"><a href="namespaceG3D.html#a777646c1deb0c353be54782691193ac4">G3D::fuzzyEq</a></div><div class="ttdeci">bool fuzzyEq(double a, double b)</div><div class="ttdef"><b>Definition</b> <a href="g3dmath_8h_source.html#l00857">g3dmath.h:857</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_ac96e5d6a6ebb7d11a8627f46ca54df09_cgraph.svg" width="100%" height="552"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3e08fb418c4c5583a99f71f6fa41f786" name="a3e08fb418c4c5583a99f71f6fa41f786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e08fb418c4c5583a99f71f6fa41f786">&#9670;&#160;</a></span>identifyBackfaces() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::identifyBackfaces </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Vector4.html">Vector4</a> &amp;&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>backface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceNormals</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A faster version of identifyBackfaces for the case where face normals have already been computed </p>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8cpp_source.html#l00286">286</a> of file <a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  291</span>                                                 {</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>    Vector3 P = HP.xyz();</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    backface.resize(faceArray.size());</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceG3D.html#a777646c1deb0c353be54782691193ac4">fuzzyEq</a>(HP.w, 0.0f)) {</div>
<div class="line"><span class="lineno">  298</span>        <span class="comment">// Infinite case</span></div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = faceArray.size() - 1; f &gt;= 0; --f) {</div>
<div class="line"><span class="lineno">  300</span>            <span class="keyword">const</span> Vector3&amp; <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = faceNormals[f];</div>
<div class="line"><span class="lineno">  301</span>            backface[f] = <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.dot(P) &lt; 0;</div>
<div class="line"><span class="lineno">  302</span>        }</div>
<div class="line"><span class="lineno">  303</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  304</span>        <span class="comment">// Finite case</span></div>
<div class="line"><span class="lineno">  305</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = faceArray.size() - 1; f &gt;= 0; --f) {</div>
<div class="line"><span class="lineno">  306</span>            <span class="keyword">const</span> MeshAlg::Face&amp; face = faceArray[f];        </div>
<div class="line"><span class="lineno">  307</span>            <span class="keyword">const</span> Vector3&amp; v0 = vertexArray[face.vertexIndex[0]];</div>
<div class="line"><span class="lineno">  308</span>            <span class="keyword">const</span> Vector3&amp; <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = faceNormals[f];</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>            backface[f] = <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.dot(P - v0) &lt; 0;</div>
<div class="line"><span class="lineno">  311</span>        }</div>
<div class="line"><span class="lineno">  312</span>    }</div>
<div class="line"><span class="lineno">  313</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a3e08fb418c4c5583a99f71f6fa41f786_cgraph.svg" width="100%" height="513"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a8dc9b8ecc53935df67b76bb2d6ce2eb2" name="a8dc9b8ecc53935df67b76bb2d6ce2eb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dc9b8ecc53935df67b76bb2d6ce2eb2">&#9670;&#160;</a></span>toIndexedTriList()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class IndexType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void G3D::MeshAlg::toIndexedTriList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; IndexType &gt; &amp;&#160;</td>
          <td class="paramname"><em>inIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1MeshAlg.html#a764b82b69eb915de51242b58f9eeb615">MeshAlg::Primitive</a>&#160;</td>
          <td class="paramname"><em>inType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; IndexType &gt; &amp;&#160;</td>
          <td class="paramname"><em>outIndices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Converts quadlist (QUADS), triangle fan (TRIANGLE_FAN), tristrip(TRIANGLE_STRIP), and quadstrip (QUAD_STRIP) indices into triangle list (TRIANGLES) indices and appends them to outIndices. </p>

<p class="definition">Definition at line <a class="el" href="MeshAlg_8h_source.html#l00566">566</a> of file <a class="el" href="MeshAlg_8h_source.html">MeshAlg.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  569</span>                                            {</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>        <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(</div>
<div class="line"><span class="lineno">  572</span>            inType == <a class="code hl_enumvalue" href="classG3D_1_1PrimitiveType.html#a32a3d460568485607a5251b328bb5d34a703e9e7587f296c4f45e2a3883eec301">PrimitiveType::TRIANGLE_STRIP</a> ||</div>
<div class="line"><span class="lineno">  573</span>            inType == <a class="code hl_enumvalue" href="classG3D_1_1PrimitiveType.html#a32a3d460568485607a5251b328bb5d34a75e8345e8b80c1abb0f5828bc83b4c2a">PrimitiveType::TRIANGLE_FAN</a> ||</div>
<div class="line"><span class="lineno">  574</span>            inType == <a class="code hl_enumvalue" href="classG3D_1_1PrimitiveType.html#a32a3d460568485607a5251b328bb5d34a3d49e95cdf7f8616aee76cd45917c0a7">PrimitiveType::QUADS</a> ||</div>
<div class="line"><span class="lineno">  575</span>            inType == <a class="code hl_enumvalue" href="classG3D_1_1PrimitiveType.html#a32a3d460568485607a5251b328bb5d34a7e318642281703186e0bdb634688f6de">PrimitiveType::QUAD_STRIP</a>);</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> inSize = inIndices.size();</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>        <span class="keywordflow">switch</span>(inType) {</div>
<div class="line"><span class="lineno">  580</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classG3D_1_1PrimitiveType.html#a32a3d460568485607a5251b328bb5d34a75e8345e8b80c1abb0f5828bc83b4c2a">PrimitiveType::TRIANGLE_FAN</a>:</div>
<div class="line"><span class="lineno">  581</span>            {</div>
<div class="line"><span class="lineno">  582</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(inSize &gt;= 3);</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>            <span class="keywordtype">int</span> <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = outIndices.size();</div>
<div class="line"><span class="lineno">  585</span>            outIndices.resize(<a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> + (inSize - 2) * 3);</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>            <span class="keywordflow">for</span> (IndexType i = 1, outIndex = <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; i &lt;= (inSize - 2); ++i, outIndex += 3) {</div>
<div class="line"><span class="lineno">  588</span>                outIndices[outIndex] = inIndices[0];</div>
<div class="line"><span class="lineno">  589</span>                outIndices[outIndex + 1] = inIndices[i];</div>
<div class="line"><span class="lineno">  590</span>                outIndices[outIndex + 2] = inIndices[i + 1];</div>
<div class="line"><span class="lineno">  591</span>            }</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  594</span>            }</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classG3D_1_1PrimitiveType.html#a32a3d460568485607a5251b328bb5d34a703e9e7587f296c4f45e2a3883eec301">PrimitiveType::TRIANGLE_STRIP</a>:</div>
<div class="line"><span class="lineno">  597</span>            {</div>
<div class="line"><span class="lineno">  598</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(inSize &gt;= 3);</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>            <span class="keywordtype">int</span> <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = outIndices.size();</div>
<div class="line"><span class="lineno">  601</span>            outIndices.resize(<a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> + (inSize - 2) * 3);</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>            <span class="keywordtype">bool</span> atEven = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  604</span>            <span class="keywordflow">for</span> (IndexType i = 0, outIndex = <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; i &lt; (inSize - 2); ++i, outIndex += 3) {</div>
<div class="line"><span class="lineno">  605</span>                <span class="keywordflow">if</span> (atEven) {</div>
<div class="line"><span class="lineno">  606</span>                    outIndices[outIndex] = inIndices[i + 1];</div>
<div class="line"><span class="lineno">  607</span>                    outIndices[outIndex + 1] = inIndices[i];</div>
<div class="line"><span class="lineno">  608</span>                    outIndices[outIndex + 2] = inIndices[i + 2];</div>
<div class="line"><span class="lineno">  609</span>                    atEven = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  610</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  611</span>                    outIndices[outIndex] = inIndices[i];</div>
<div class="line"><span class="lineno">  612</span>                    outIndices[outIndex + 1] = inIndices[i + 1];</div>
<div class="line"><span class="lineno">  613</span>                    outIndices[outIndex + 2] = inIndices[i + 2];</div>
<div class="line"><span class="lineno">  614</span>                    atEven = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  615</span>                }</div>
<div class="line"><span class="lineno">  616</span>            }</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  619</span>            }</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classG3D_1_1PrimitiveType.html#a32a3d460568485607a5251b328bb5d34a3d49e95cdf7f8616aee76cd45917c0a7">PrimitiveType::QUADS</a>:</div>
<div class="line"><span class="lineno">  622</span>            {</div>
<div class="line"><span class="lineno">  623</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(inIndices.size() &gt;= 4);</div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>            <span class="keywordtype">int</span> <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = outIndices.size();</div>
<div class="line"><span class="lineno">  626</span>            outIndices.resize(<a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> + (inSize / 4) * 3);</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>            <span class="keywordflow">for</span> (IndexType i = 0, outIndex = <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; i &lt;= (inSize - 4); i += 4, outIndex += 6) {</div>
<div class="line"><span class="lineno">  629</span>                outIndices[outIndex] = inIndices[i];</div>
<div class="line"><span class="lineno">  630</span>                outIndices[outIndex + 1] = inIndices[i + 1];</div>
<div class="line"><span class="lineno">  631</span>                outIndices[outIndex + 2] = inIndices[i + 3];</div>
<div class="line"><span class="lineno">  632</span>                outIndices[outIndex + 3] = inIndices[i + 1];</div>
<div class="line"><span class="lineno">  633</span>                outIndices[outIndex + 4] = inIndices[i + 2];</div>
<div class="line"><span class="lineno">  634</span>                outIndices[outIndex + 5] = inIndices[i + 3];</div>
<div class="line"><span class="lineno">  635</span>            }</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  638</span>            }</div>
<div class="line"><span class="lineno">  639</span> </div>
<div class="line"><span class="lineno">  640</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classG3D_1_1PrimitiveType.html#a32a3d460568485607a5251b328bb5d34a7e318642281703186e0bdb634688f6de">PrimitiveType::QUAD_STRIP</a>:</div>
<div class="line"><span class="lineno">  641</span>            {</div>
<div class="line"><span class="lineno">  642</span>            <a class="code hl_define" href="debugAssert_8h.html#adb3cef18983da8440d55b7557f83358c">debugAssert</a>(inIndices.size() &gt;= 4);</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>            <span class="keywordtype">int</span> <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = outIndices.size();</div>
<div class="line"><span class="lineno">  645</span>            outIndices.resize(<a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> + (inSize - 2) * 3);</div>
<div class="line"><span class="lineno">  646</span> </div>
<div class="line"><span class="lineno">  647</span>            <span class="keywordflow">for</span> (IndexType i = 0, outIndex = <a class="code hl_define" href="zlib_2crc32_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; i &lt;= (inSize - 2); i += 2, outIndex += 6) {</div>
<div class="line"><span class="lineno">  648</span>                outIndices[outIndex] = inIndices[i];</div>
<div class="line"><span class="lineno">  649</span>                outIndices[outIndex + 1] = inIndices[i + 1];</div>
<div class="line"><span class="lineno">  650</span>                outIndices[outIndex + 2] = inIndices[i + 2];</div>
<div class="line"><span class="lineno">  651</span>                outIndices[outIndex + 3] = inIndices[i + 2];</div>
<div class="line"><span class="lineno">  652</span>                outIndices[outIndex + 4] = inIndices[i + 1];</div>
<div class="line"><span class="lineno">  653</span>                outIndices[outIndex + 5] = inIndices[i + 3];</div>
<div class="line"><span class="lineno">  654</span>            }</div>
<div class="line"><span class="lineno">  655</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  656</span>            }</div>
<div class="line"><span class="lineno">  657</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  658</span>            <a class="code hl_define" href="debugAssert_8h.html#aec9f6cdb1305e9da834facaf2816069d">alwaysAssertM</a>(<span class="keyword">false</span>, <span class="stringliteral">&quot;Illegal argument&quot;</span>);</div>
<div class="line"><span class="lineno">  659</span>        }</div>
<div class="line"><span class="lineno">  660</span>    }</div>
<div class="ttc" id="aclassG3D_1_1PrimitiveType_html_a32a3d460568485607a5251b328bb5d34a3d49e95cdf7f8616aee76cd45917c0a7"><div class="ttname"><a href="classG3D_1_1PrimitiveType.html#a32a3d460568485607a5251b328bb5d34a3d49e95cdf7f8616aee76cd45917c0a7">G3D::PrimitiveType::QUADS</a></div><div class="ttdeci">@ QUADS</div><div class="ttdef"><b>Definition</b> <a href="constants_8h_source.html#l00028">constants.h:28</a></div></div>
<div class="ttc" id="aclassG3D_1_1PrimitiveType_html_a32a3d460568485607a5251b328bb5d34a703e9e7587f296c4f45e2a3883eec301"><div class="ttname"><a href="classG3D_1_1PrimitiveType.html#a32a3d460568485607a5251b328bb5d34a703e9e7587f296c4f45e2a3883eec301">G3D::PrimitiveType::TRIANGLE_STRIP</a></div><div class="ttdeci">@ TRIANGLE_STRIP</div><div class="ttdef"><b>Definition</b> <a href="constants_8h_source.html#l00026">constants.h:26</a></div></div>
<div class="ttc" id="aclassG3D_1_1PrimitiveType_html_a32a3d460568485607a5251b328bb5d34a75e8345e8b80c1abb0f5828bc83b4c2a"><div class="ttname"><a href="classG3D_1_1PrimitiveType.html#a32a3d460568485607a5251b328bb5d34a75e8345e8b80c1abb0f5828bc83b4c2a">G3D::PrimitiveType::TRIANGLE_FAN</a></div><div class="ttdeci">@ TRIANGLE_FAN</div><div class="ttdef"><b>Definition</b> <a href="constants_8h_source.html#l00027">constants.h:27</a></div></div>
<div class="ttc" id="aclassG3D_1_1PrimitiveType_html_a32a3d460568485607a5251b328bb5d34a7e318642281703186e0bdb634688f6de"><div class="ttname"><a href="classG3D_1_1PrimitiveType.html#a32a3d460568485607a5251b328bb5d34a7e318642281703186e0bdb634688f6de">G3D::PrimitiveType::QUAD_STRIP</a></div><div class="ttdeci">@ QUAD_STRIP</div><div class="ttdef"><b>Definition</b> <a href="constants_8h_source.html#l00029">constants.h:29</a></div></div>
<div class="ttc" id="adebugAssert_8h_html_aec9f6cdb1305e9da834facaf2816069d"><div class="ttname"><a href="debugAssert_8h.html#aec9f6cdb1305e9da834facaf2816069d">alwaysAssertM</a></div><div class="ttdeci">#define alwaysAssertM(exp, message)</div><div class="ttdef"><b>Definition</b> <a href="debugAssert_8h_source.html#l00165">debugAssert.h:165</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a8dc9b8ecc53935df67b76bb2d6ce2eb2_cgraph.svg" width="100%" height="439"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a159cde69c7f03f5482df27f4fb86634c" name="a159cde69c7f03f5482df27f4fb86634c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a159cde69c7f03f5482df27f4fb86634c">&#9670;&#160;</a></span>weldAdjacency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::weldAdjacency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1Vector3.html">Vector3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>originalGeometry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>edgeArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Vertex.html">Vertex</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>radius</em> = <code><a class="el" href="g3dmath_8h.html#aed7843efc6572986b9bcd90b4834b5b6">fuzzyEpsilon32</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Modifies the face, edge, and vertex arrays in place so that colocated (within radius) vertices are treated as identical. Note that the vertexArray and corresponding geometry will contain elements that are no longer used. In the vertexArray, these elements are initialized to MeshAlg::Vertex() but not removed (because removal would change the indexing).</p>
<p>This is a good preprocessing step for algorithms that are only concerned with the shape of a mesh (e.g. cartoon rendering, fur, shadows) and not the indexing of the vertices.</p>
<p>Use this method when you have already computed adjacency information and want to collapse colocated vertices within that data without disturbing the actual mesh vertices or indexing scheme. <br  />
</p>
<p>If you have not computed adjacency already, use <a class="el" href="classG3D_1_1MeshAlg.html#abca2919423d37cb7d586f5843a9a8246">MeshAlg::computeWeld</a> instead and compute adjacency information after welding.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000023">Deprecated:</a></b></dt><dd>Use weld.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">faceArray</td><td>Mutated in place. Size is maintained (degenerate faces are <b>not</b> removed). </td></tr>
    <tr><td class="paramname">edgeArray</td><td>Mutated in place. May shrink if boundary edges are welded together. </td></tr>
    <tr><td class="paramname">vertexArray</td><td>Mutated in place. Size is maintained (duplicate vertices contain no adjacency info). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MeshAlgAdjacency_8cpp_source.html#l00623">623</a> of file <a class="el" href="MeshAlgAdjacency_8cpp_source.html">MeshAlgAdjacency.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  628</span>                                  {</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>    <span class="comment">// Num vertices</span></div>
<div class="line"><span class="lineno">  631</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> n = originalGeometry.size();</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>    <span class="comment">// canonical[v] = first occurance of any vertex near oldVertexArray[v]</span></div>
<div class="line"><span class="lineno">  634</span>    Array&lt;int&gt; canonical;</div>
<div class="line"><span class="lineno">  635</span>    canonical.resize(n);</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>    Array&lt;int&gt; toNew, toOld;</div>
<div class="line"><span class="lineno">  638</span>    <span class="comment">// Throw away the new vertex array</span></div>
<div class="line"><span class="lineno">  639</span>    Array&lt;Vector3&gt; <a class="code hl_variable" href="lstrlib_8c.html#a7c1d654b7b6114d7a0abc8d351dd1bcd">dummy</a>;</div>
<div class="line"><span class="lineno">  640</span>    <a class="code hl_function" href="classG3D_1_1MeshAlg.html#abca2919423d37cb7d586f5843a9a8246">computeWeld</a>(originalGeometry, <a class="code hl_variable" href="lstrlib_8c.html#a7c1d654b7b6114d7a0abc8d351dd1bcd">dummy</a>, toNew, toOld, radius);</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v = 0; v &lt; canonical.size(); ++v) {</div>
<div class="line"><span class="lineno">  643</span>        <span class="comment">// Round-trip through the toNew/toOld process.  This will give</span></div>
<div class="line"><span class="lineno">  644</span>        <span class="comment">// us the original vertex.</span></div>
<div class="line"><span class="lineno">  645</span>        canonical[v] = toOld[toNew[v]];</div>
<div class="line"><span class="lineno">  646</span>    }</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>    <span class="comment">// Destroy vertexArray (we reconstruct it below)</span></div>
<div class="line"><span class="lineno">  649</span>    vertexArray.clear();</div>
<div class="line"><span class="lineno">  650</span>    vertexArray.resize(n);</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>    <span class="keywordtype">bool</span> hasBoundaryEdges = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>    <span class="comment">// Fix edge vertex indices</span></div>
<div class="line"><span class="lineno">  655</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> e = 0; e &lt; edgeArray.size(); ++e) {</div>
<div class="line"><span class="lineno">  656</span>        Edge&amp; <a class="code hl_struct" href="structedge.html">edge</a> = edgeArray[e];</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> v0 = canonical[<a class="code hl_struct" href="structedge.html">edge</a>.vertexIndex[0]];</div>
<div class="line"><span class="lineno">  659</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> v1 = canonical[<a class="code hl_struct" href="structedge.html">edge</a>.vertexIndex[1]];</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>        <a class="code hl_struct" href="structedge.html">edge</a>.vertexIndex[0] = v0;</div>
<div class="line"><span class="lineno">  662</span>        <a class="code hl_struct" href="structedge.html">edge</a>.vertexIndex[1] = v1;</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>        vertexArray[v0].edgeIndex.append(e);</div>
<div class="line"><span class="lineno">  665</span>        vertexArray[v1].edgeIndex.append(~e);</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>        hasBoundaryEdges = hasBoundaryEdges || <a class="code hl_struct" href="structedge.html">edge</a>.boundary();</div>
<div class="line"><span class="lineno">  668</span>    }</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>    <span class="comment">// Fix face vertex indices</span></div>
<div class="line"><span class="lineno">  671</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; faceArray.size(); ++f) {</div>
<div class="line"><span class="lineno">  672</span>        Face&amp; face = faceArray[f];</div>
<div class="line"><span class="lineno">  673</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i) {</div>
<div class="line"><span class="lineno">  674</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> v = canonical[face.vertexIndex[i]];</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>            face.vertexIndex[i] = v;</div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span>            <span class="comment">// Add the back pointer</span></div>
<div class="line"><span class="lineno">  679</span>            vertexArray[v].faceIndex.append(f);</div>
<div class="line"><span class="lineno">  680</span>        }</div>
<div class="line"><span class="lineno">  681</span>    }</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>    <span class="keywordflow">if</span> (hasBoundaryEdges) {</div>
<div class="line"><span class="lineno">  684</span>        <span class="comment">// As a result of the welding, some of the boundary edges at</span></div>
<div class="line"><span class="lineno">  685</span>        <span class="comment">// the end of the array may now have mates and no longer be</span></div>
<div class="line"><span class="lineno">  686</span>        <span class="comment">// boundaries.  Try to pair these up.</span></div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>        <a class="code hl_function" href="classG3D_1_1MeshAlg.html#a1ff4d89646323fa796d59162e8927e2b">weldBoundaryEdges</a>(faceArray, edgeArray, vertexArray);</div>
<div class="line"><span class="lineno">  689</span>    }</div>
<div class="line"><span class="lineno">  690</span>}</div>
<div class="ttc" id="aclassG3D_1_1MeshAlg_html_a1ff4d89646323fa796d59162e8927e2b"><div class="ttname"><a href="classG3D_1_1MeshAlg.html#a1ff4d89646323fa796d59162e8927e2b">G3D::MeshAlg::weldBoundaryEdges</a></div><div class="ttdeci">static void weldBoundaryEdges(Array&lt; Face &gt; &amp;faceArray, Array&lt; Edge &gt; &amp;edgeArray, Array&lt; Vertex &gt; &amp;vertexArray)</div><div class="ttdef"><b>Definition</b> <a href="MeshAlgAdjacency_8cpp_source.html#l00430">MeshAlgAdjacency.cpp:430</a></div></div>
<div class="ttc" id="aclassG3D_1_1MeshAlg_html_abca2919423d37cb7d586f5843a9a8246"><div class="ttname"><a href="classG3D_1_1MeshAlg.html#abca2919423d37cb7d586f5843a9a8246">G3D::MeshAlg::computeWeld</a></div><div class="ttdeci">static void computeWeld(const Array&lt; Vector3 &gt; &amp;oldVertexPositions, Array&lt; Vector3 &gt; &amp;newVertexPositions, Array&lt; int &gt; &amp;toNew, Array&lt; int &gt; &amp;toOld, float radius=fuzzyEpsilon32)</div><div class="ttdef"><b>Definition</b> <a href="MeshAlgWeld_8cpp_source.html#l00203">MeshAlgWeld.cpp:203</a></div></div>
<div class="ttc" id="alstrlib_8c_html_a7c1d654b7b6114d7a0abc8d351dd1bcd"><div class="ttname"><a href="lstrlib_8c.html#a7c1d654b7b6114d7a0abc8d351dd1bcd">dummy</a></div><div class="ttdeci">int dummy</div><div class="ttdef"><b>Definition</b> <a href="lstrlib_8c_source.html#l01410">lstrlib.c:1410</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a159cde69c7f03f5482df27f4fb86634c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a1ff4d89646323fa796d59162e8927e2b" name="a1ff4d89646323fa796d59162e8927e2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ff4d89646323fa796d59162e8927e2b">&#9670;&#160;</a></span>weldBoundaryEdges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void G3D::MeshAlg::weldBoundaryEdges </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Face.html">Face</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>faceArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Edge.html">Edge</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>edgeArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classG3D_1_1Array.html">Array</a>&lt; <a class="el" href="classG3D_1_1MeshAlg_1_1Vertex.html">Vertex</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertexArray</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper for weldAdjacency </p>

<p class="definition">Definition at line <a class="el" href="MeshAlgAdjacency_8cpp_source.html#l00430">430</a> of file <a class="el" href="MeshAlgAdjacency_8cpp_source.html">MeshAlgAdjacency.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  433</span>                                    {</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>    <span class="comment">// Copy over the original edge array</span></div>
<div class="line"><span class="lineno">  436</span>    Array&lt;Edge&gt; oldEdgeArray = edgeArray;</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>    <span class="comment">// newEdgeIndex[e] is the new index of the old edge with index e</span></div>
<div class="line"><span class="lineno">  439</span>    <span class="comment">// Note that newEdgeIndex[e] might be negative, indicating that</span></div>
<div class="line"><span class="lineno">  440</span>    <span class="comment">// the edge switched direction between the arrays.</span></div>
<div class="line"><span class="lineno">  441</span>    Array&lt;int&gt; newEdgeIndex;</div>
<div class="line"><span class="lineno">  442</span>    newEdgeIndex.resize(edgeArray.size());</div>
<div class="line"><span class="lineno">  443</span>    edgeArray.resize(0);</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>    <span class="comment">// boundaryEdgeIndices[v_low] is an array of the indices of </span></div>
<div class="line"><span class="lineno">  446</span>    <span class="comment">// all boundary edges whose lower vertex is v_low.</span></div>
<div class="line"><span class="lineno">  447</span>    <a class="code hl_struct" href="structTable.html">Table&lt;int, Array&lt;int&gt;</a> &gt; boundaryEdgeIndices;</div>
<div class="line"><span class="lineno">  448</span> </div>
<div class="line"><span class="lineno">  449</span>    <span class="comment">// Copy over non-boundary edges to the new array</span></div>
<div class="line"><span class="lineno">  450</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> e = 0; e &lt; oldEdgeArray.size(); ++e) {</div>
<div class="line"><span class="lineno">  451</span>        <span class="keywordflow">if</span> (oldEdgeArray[e].boundary()) {</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>            <span class="comment">// Add to the boundary table</span></div>
<div class="line"><span class="lineno">  454</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> v_low = <a class="code hl_function" href="namespaceG3D.html#ac2f67d78322a6125115ba9be6dd2b094">iMin</a>(oldEdgeArray[e].vertexIndex[0], oldEdgeArray[e].vertexIndex[1]);</div>
<div class="line"><span class="lineno">  455</span>            <span class="keywordflow">if</span> (! boundaryEdgeIndices.containsKey(v_low)) {</div>
<div class="line"><span class="lineno">  456</span>                boundaryEdgeIndices.set(v_low, Array&lt;int&gt;());</div>
<div class="line"><span class="lineno">  457</span>            }</div>
<div class="line"><span class="lineno">  458</span>            boundaryEdgeIndices[v_low].append(e);</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>            <span class="comment">// We&#39;ll fill out newEdgeIndex[e] later, when we find pairs</span></div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>            <span class="comment">// Copy the edge to the new array</span></div>
<div class="line"><span class="lineno">  465</span>            newEdgeIndex[e] = edgeArray.size();</div>
<div class="line"><span class="lineno">  466</span>            edgeArray.append(oldEdgeArray[e]);</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>        }</div>
<div class="line"><span class="lineno">  469</span>    }</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>    <span class="comment">// Remove all edges from the table that have pairs.</span></div>
<div class="line"><span class="lineno">  473</span>    <a class="code hl_struct" href="structTable.html">Table&lt;int, Array&lt;int&gt;</a> &gt;::Iterator cur = boundaryEdgeIndices.begin();</div>
<div class="line"><span class="lineno">  474</span>    <a class="code hl_struct" href="structTable.html">Table&lt;int, Array&lt;int&gt;</a> &gt;::Iterator end = boundaryEdgeIndices.end();</div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordflow">while</span> (cur != end) {</div>
<div class="line"><span class="lineno">  476</span>        Array&lt;int&gt;&amp;     boundaryEdge = cur-&gt;value;</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; boundaryEdge.size(); ++i) {</div>
<div class="line"><span class="lineno">  479</span>            <span class="keywordtype">int</span> ei = boundaryEdge[i];</div>
<div class="line"><span class="lineno">  480</span>            <span class="keyword">const</span> Edge&amp; edgei = oldEdgeArray[ei];</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = i + 1; j &lt; boundaryEdge.size(); ++j) {</div>
<div class="line"><span class="lineno">  483</span>                <span class="keywordtype">int</span> ej = boundaryEdge[j];</div>
<div class="line"><span class="lineno">  484</span>                <span class="keyword">const</span> Edge&amp; edgej = oldEdgeArray[ej];</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>                <span class="comment">// See if edge ei is the reverse (match) of edge ej.</span></div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>                <span class="comment">// True if the edges match</span></div>
<div class="line"><span class="lineno">  489</span>                <span class="keywordtype">bool</span> <a class="code hl_function" href="lstrlib_8c.html#a52a45835b75e5d31ec66421456bbb728">match</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>                <span class="comment">// True if edgej&#39;s vertex indices are reversed from</span></div>
<div class="line"><span class="lineno">  492</span>                <span class="comment">// edgei&#39;s (usually true).</span></div>
<div class="line"><span class="lineno">  493</span>                <span class="keywordtype">bool</span> reversej = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  494</span>                </div>
<div class="line"><span class="lineno">  495</span>                <span class="keywordtype">int</span> u = edgei.vertexIndex[0];</div>
<div class="line"><span class="lineno">  496</span>                <span class="keywordtype">int</span> v = edgei.vertexIndex[1];</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>                <span class="keywordflow">if</span> (edgei.faceIndex[0] != <a class="code hl_variable" href="classG3D_1_1MeshAlg_1_1Face.html#a62bb5fc1d62ce650c721e4c540856537">Face::NONE</a>) {</div>
<div class="line"><span class="lineno">  499</span>                    <span class="comment">//        verts|faces</span></div>
<div class="line"><span class="lineno">  500</span>                    <span class="comment">// edgei = [u v A /]</span></div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>                    <span class="keywordflow">if</span> (edgej.faceIndex[0] != <a class="code hl_variable" href="classG3D_1_1MeshAlg_1_1Face.html#a62bb5fc1d62ce650c721e4c540856537">Face::NONE</a>) {</div>
<div class="line"><span class="lineno">  503</span>                        <span class="keywordflow">if</span> ((edgej.vertexIndex[0] == v) &amp;&amp; (edgej.vertexIndex[1] == u)) {</div>
<div class="line"><span class="lineno">  504</span>                            <span class="comment">// This is the most common of the four cases</span></div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>                            <span class="comment">// edgej = [v u B /]</span></div>
<div class="line"><span class="lineno">  507</span>                            <a class="code hl_function" href="lstrlib_8c.html#a52a45835b75e5d31ec66421456bbb728">match</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  508</span>                            reversej = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  509</span>                        }</div>
<div class="line"><span class="lineno">  510</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  511</span>                        <span class="keywordflow">if</span> ((edgej.vertexIndex[0] == u) &amp;&amp; (edgej.vertexIndex[1] == v)) {</div>
<div class="line"><span class="lineno">  512</span>                            <span class="comment">// edgej = [u v / B]</span></div>
<div class="line"><span class="lineno">  513</span>                            <a class="code hl_function" href="lstrlib_8c.html#a52a45835b75e5d31ec66421456bbb728">match</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  514</span>                        }</div>
<div class="line"><span class="lineno">  515</span>                    }</div>
<div class="line"><span class="lineno">  516</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  517</span>                    <span class="comment">// edgei = [u v / A]</span></div>
<div class="line"><span class="lineno">  518</span>                    <span class="keywordflow">if</span> (edgej.faceIndex[0] != <a class="code hl_variable" href="classG3D_1_1MeshAlg_1_1Face.html#a62bb5fc1d62ce650c721e4c540856537">Face::NONE</a>) {</div>
<div class="line"><span class="lineno">  519</span>                        <span class="keywordflow">if</span> ((edgej.vertexIndex[0] == u) &amp;&amp; (edgej.vertexIndex[1] == v)) {</div>
<div class="line"><span class="lineno">  520</span>                            <span class="comment">// edgej = [u v B /]</span></div>
<div class="line"><span class="lineno">  521</span>                            <a class="code hl_function" href="lstrlib_8c.html#a52a45835b75e5d31ec66421456bbb728">match</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  522</span>                        }</div>
<div class="line"><span class="lineno">  523</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  524</span>                        <span class="keywordflow">if</span> ((edgej.vertexIndex[0] == v) &amp;&amp; (edgej.vertexIndex[1] == u)) {</div>
<div class="line"><span class="lineno">  525</span>                            <span class="comment">// edgej = [v u / B]</span></div>
<div class="line"><span class="lineno">  526</span>                            <a class="code hl_function" href="lstrlib_8c.html#a52a45835b75e5d31ec66421456bbb728">match</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  527</span>                            reversej = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  528</span>                        }</div>
<div class="line"><span class="lineno">  529</span>                    }</div>
<div class="line"><span class="lineno">  530</span>                }</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="lstrlib_8c.html#a52a45835b75e5d31ec66421456bbb728">match</a>) {</div>
<div class="line"><span class="lineno">  533</span>                    <span class="comment">// ei and ej can be paired as a single edge</span></div>
<div class="line"><span class="lineno">  534</span>                    <span class="keywordtype">int</span> e = edgeArray.size();</div>
<div class="line"><span class="lineno">  535</span>                    Edge&amp; <a class="code hl_struct" href="structedge.html">edge</a> = edgeArray.next();</div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>                    <span class="comment">// Follow the direction of edgei.</span></div>
<div class="line"><span class="lineno">  538</span>                    <a class="code hl_struct" href="structedge.html">edge</a> = edgei;</div>
<div class="line"><span class="lineno">  539</span>                    newEdgeIndex[ei] = e;</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>                    <span class="comment">// Insert the face index for edgej.</span></div>
<div class="line"><span class="lineno">  542</span>                    <span class="keywordtype">int</span> fj = edgej.faceIndex[0];</div>
<div class="line"><span class="lineno">  543</span>                    <span class="keywordflow">if</span> (fj == <a class="code hl_variable" href="classG3D_1_1MeshAlg_1_1Face.html#a62bb5fc1d62ce650c721e4c540856537">Face::NONE</a>) {</div>
<div class="line"><span class="lineno">  544</span>                        fj = edgej.faceIndex[1];</div>
<div class="line"><span class="lineno">  545</span>                    }</div>
<div class="line"><span class="lineno">  546</span>                    </div>
<div class="line"><span class="lineno">  547</span>                    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structedge.html">edge</a>.faceIndex[0] == <a class="code hl_variable" href="classG3D_1_1MeshAlg_1_1Face.html#a62bb5fc1d62ce650c721e4c540856537">Face::NONE</a>) {</div>
<div class="line"><span class="lineno">  548</span>                        <a class="code hl_struct" href="structedge.html">edge</a>.faceIndex[0] = fj;</div>
<div class="line"><span class="lineno">  549</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  550</span>                        <a class="code hl_struct" href="structedge.html">edge</a>.faceIndex[1] = fj;</div>
<div class="line"><span class="lineno">  551</span>                    }</div>
<div class="line"><span class="lineno">  552</span>                    </div>
<div class="line"><span class="lineno">  553</span>                    <span class="keywordflow">if</span> (reversej) {</div>
<div class="line"><span class="lineno">  554</span>                        <span class="comment">// The new edge is backwards of the old edge for ej</span></div>
<div class="line"><span class="lineno">  555</span>                        newEdgeIndex[ej] = ~e;</div>
<div class="line"><span class="lineno">  556</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  557</span>                        newEdgeIndex[ej] = e;</div>
<div class="line"><span class="lineno">  558</span>                    }</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>                    <span class="comment">// Remove both ei and ej from being candidates for future pairing.</span></div>
<div class="line"><span class="lineno">  561</span>                    <span class="comment">// Remove ej first since it comes later in the list (removing</span></div>
<div class="line"><span class="lineno">  562</span>                    <span class="comment">// ei would decrease the index of ej to j - 1).</span></div>
<div class="line"><span class="lineno">  563</span>                    boundaryEdge.fastRemove(j);</div>
<div class="line"><span class="lineno">  564</span>                    boundaryEdge.fastRemove(i);</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>                    <span class="comment">// Re-process element i, which is now a new edge index</span></div>
<div class="line"><span class="lineno">  567</span>                    --i;</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>                    <span class="comment">// Jump out of the j for-loop</span></div>
<div class="line"><span class="lineno">  570</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  571</span>                }</div>
<div class="line"><span class="lineno">  572</span>            }</div>
<div class="line"><span class="lineno">  573</span>        }</div>
<div class="line"><span class="lineno">  574</span>        ++cur;</div>
<div class="line"><span class="lineno">  575</span>    }</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>    <span class="comment">// Anything remaining in the table is a real boundary edge; just copy it to</span></div>
<div class="line"><span class="lineno">  578</span>    <span class="comment">// the end of the array.</span></div>
<div class="line"><span class="lineno">  579</span>    cur = boundaryEdgeIndices.begin();</div>
<div class="line"><span class="lineno">  580</span>    end = boundaryEdgeIndices.end();</div>
<div class="line"><span class="lineno">  581</span>    <span class="keywordflow">while</span> (cur != end) {</div>
<div class="line"><span class="lineno">  582</span>        Array&lt;int&gt;&amp;     boundaryEdge = cur-&gt;value;</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b = 0; b &lt; boundaryEdge.size(); ++b) {</div>
<div class="line"><span class="lineno">  585</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> e = boundaryEdge[b];</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>            newEdgeIndex[e] = edgeArray.size();</div>
<div class="line"><span class="lineno">  588</span>            edgeArray.append(oldEdgeArray[e]);</div>
<div class="line"><span class="lineno">  589</span>        }</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>        ++cur;</div>
<div class="line"><span class="lineno">  592</span>    }</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>    <span class="comment">// Finally, fix up edge indices in the face and vertex arrays</span></div>
<div class="line"><span class="lineno">  595</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; faceArray.size(); ++f) {</div>
<div class="line"><span class="lineno">  596</span>        Face&amp; face = faceArray[f];</div>
<div class="line"><span class="lineno">  597</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i) {</div>
<div class="line"><span class="lineno">  598</span>            <span class="keywordtype">int</span> e = face.edgeIndex[i];</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>            <span class="keywordflow">if</span> (e &lt; 0) {</div>
<div class="line"><span class="lineno">  601</span>                face.edgeIndex[i] = ~newEdgeIndex[~e];</div>
<div class="line"><span class="lineno">  602</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  603</span>                face.edgeIndex[i] = newEdgeIndex[e];</div>
<div class="line"><span class="lineno">  604</span>            }</div>
<div class="line"><span class="lineno">  605</span>        }</div>
<div class="line"><span class="lineno">  606</span>    }</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v = 0; v &lt; vertexArray.size(); ++v) {</div>
<div class="line"><span class="lineno">  609</span>        Vertex&amp; vertex = vertexArray[v];</div>
<div class="line"><span class="lineno">  610</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; vertex.edgeIndex.size(); ++i) {</div>
<div class="line"><span class="lineno">  611</span>            <span class="keywordtype">int</span> e = vertex.edgeIndex[i];</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>            <span class="keywordflow">if</span> (e &lt; 0) {</div>
<div class="line"><span class="lineno">  614</span>                vertex.edgeIndex[i] = ~newEdgeIndex[~e];</div>
<div class="line"><span class="lineno">  615</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  616</span>                vertex.edgeIndex[i] = newEdgeIndex[e];</div>
<div class="line"><span class="lineno">  617</span>            }</div>
<div class="line"><span class="lineno">  618</span>        }</div>
<div class="line"><span class="lineno">  619</span>    }</div>
<div class="line"><span class="lineno">  620</span>}</div>
<div class="ttc" id="alstrlib_8c_html_a52a45835b75e5d31ec66421456bbb728"><div class="ttname"><a href="lstrlib_8c.html#a52a45835b75e5d31ec66421456bbb728">match</a></div><div class="ttdeci">static const char * match(MatchState *ms, const char *s, const char *p)</div><div class="ttdef"><b>Definition</b> <a href="lstrlib_8c_source.html#l00570">lstrlib.c:570</a></div></div>
<div class="ttc" id="anamespaceG3D_html_ac2f67d78322a6125115ba9be6dd2b094"><div class="ttname"><a href="namespaceG3D.html#ac2f67d78322a6125115ba9be6dd2b094">G3D::iMin</a></div><div class="ttdeci">int iMin(int x, int y)</div><div class="ttdef"><b>Definition</b> <a href="g3dmath_8h_source.html#l00753">g3dmath.h:753</a></div></div>
<div class="ttc" id="astructTable_html"><div class="ttname"><a href="structTable.html">Table</a></div><div class="ttdef"><b>Definition</b> <a href="lobject_8h_source.html#l00724">lobject.h:724</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a1ff4d89646323fa796d59162e8927e2b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classG3D_1_1MeshAlg_a1ff4d89646323fa796d59162e8927e2b_icgraph.svg" width="494" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>AscEmu/dep/g3dlite/include/G3D/<a class="el" href="MeshAlg_8h_source.html">MeshAlg.h</a></li>
<li>AscEmu/dep/g3dlite/<a class="el" href="MeshAlg_8cpp_source.html">MeshAlg.cpp</a></li>
<li>AscEmu/dep/g3dlite/<a class="el" href="MeshAlgAdjacency_8cpp_source.html">MeshAlgAdjacency.cpp</a></li>
<li>AscEmu/dep/g3dlite/<a class="el" href="MeshAlgWeld_8cpp_source.html">MeshAlgWeld.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceG3D.html">G3D</a></li><li class="navelem"><a class="el" href="classG3D_1_1MeshAlg.html">MeshAlg</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
