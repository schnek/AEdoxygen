<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AscEmu: Master Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="AscEmu.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AscEmu
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classMaster.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="classMaster-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Master Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Master_8h_source.html">Master.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae7d5d18c793e0e32e5c53c69ecdb96a1" id="r_ae7d5d18c793e0e32e5c53c69ecdb96a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#ae7d5d18c793e0e32e5c53c69ecdb96a1">initialize</a> ()</td></tr>
<tr class="separator:ae7d5d18c793e0e32e5c53c69ecdb96a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0baac0b31dd11b654c1c87915e79fde6" id="r_a0baac0b31dd11b654c1c87915e79fde6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a0baac0b31dd11b654c1c87915e79fde6">Master</a> (<a class="el" href="classMaster.html">Master</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a0baac0b31dd11b654c1c87915e79fde6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b2794f69f2a16a3edf495c1b068057f" id="r_a8b2794f69f2a16a3edf495c1b068057f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a8b2794f69f2a16a3edf495c1b068057f">Master</a> (<a class="el" href="classMaster.html">Master</a> <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> &amp;)=delete</td></tr>
<tr class="separator:a8b2794f69f2a16a3edf495c1b068057f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a182d83be1604f6f77673ddd7918ab74e" id="r_a182d83be1604f6f77673ddd7918ab74e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaster.html">Master</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a182d83be1604f6f77673ddd7918ab74e">operator=</a> (<a class="el" href="classMaster.html">Master</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a182d83be1604f6f77673ddd7918ab74e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab32e226291107c926194acb291bca6d7" id="r_ab32e226291107c926194acb291bca6d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaster.html">Master</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#ab32e226291107c926194acb291bca6d7">operator=</a> (<a class="el" href="classMaster.html">Master</a> <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> &amp;)=delete</td></tr>
<tr class="separator:ab32e226291107c926194acb291bca6d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12dde72f3398edffca613e77185fd6f3" id="r_a12dde72f3398edffca613e77185fd6f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a12dde72f3398edffca613e77185fd6f3">Run</a> (int argc, char **argv)</td></tr>
<tr class="separator:a12dde72f3398edffca613e77185fd6f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df2ed932f532d8365f5589441a01b79" id="r_a0df2ed932f532d8365f5589441a01b79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a0df2ed932f532d8365f5589441a01b79">PrintBanner</a> ()</td></tr>
<tr class="separator:a0df2ed932f532d8365f5589441a01b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c274016bc4094652242fff51f9dfe2b" id="r_a1c274016bc4094652242fff51f9dfe2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a1c274016bc4094652242fff51f9dfe2b">LoadWorldConfiguration</a> (std::string config_file)</td></tr>
<tr class="separator:a1c274016bc4094652242fff51f9dfe2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18468480c8e61ac74495c57cbe05f31e" id="r_a18468480c8e61ac74495c57cbe05f31e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a18468480c8e61ac74495c57cbe05f31e">OpenCheatLogFiles</a> ()</td></tr>
<tr class="separator:a18468480c8e61ac74495c57cbe05f31e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cdb280fc097a775bffe9bf0ea6bdaf9" id="r_a8cdb280fc097a775bffe9bf0ea6bdaf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a8cdb280fc097a775bffe9bf0ea6bdaf9">StartNetworkSubsystem</a> ()</td></tr>
<tr class="separator:a8cdb280fc097a775bffe9bf0ea6bdaf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae798ee73f7940ecf63822a0da97872c" id="r_aae798ee73f7940ecf63822a0da97872c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#aae798ee73f7940ecf63822a0da97872c">StartRemoteConsole</a> ()</td></tr>
<tr class="separator:aae798ee73f7940ecf63822a0da97872c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34ca44a664fee4d5effbe5babf411136" id="r_a34ca44a664fee4d5effbe5babf411136"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a34ca44a664fee4d5effbe5babf411136">WritePidFile</a> ()</td></tr>
<tr class="separator:a34ca44a664fee4d5effbe5babf411136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a58587195f79f5b8b6a3472224eff4" id="r_af1a58587195f79f5b8b6a3472224eff4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#af1a58587195f79f5b8b6a3472224eff4">ShutdownThreadPools</a> (<a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> listnersockcreate)</td></tr>
<tr class="separator:af1a58587195f79f5b8b6a3472224eff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a582fdb536dd55de663965eabc37b2dee" id="r_a582fdb536dd55de663965eabc37b2dee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a582fdb536dd55de663965eabc37b2dee">ShutdownLootSystem</a> ()</td></tr>
<tr class="separator:a582fdb536dd55de663965eabc37b2dee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca53b24af6ab7a49d0b9f7b168674de5" id="r_aca53b24af6ab7a49d0b9f7b168674de5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#aca53b24af6ab7a49d0b9f7b168674de5">libLog</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *<a class="el" href="color_8h.html#af4a3b7f252e457605de5440249a15699">format</a>,...)</td></tr>
<tr class="separator:aca53b24af6ab7a49d0b9f7b168674de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad2a9274c1c0b64b7fe76bef381417ec4" id="r_ad2a9274c1c0b64b7fe76bef381417ec4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classMaster.html">Master</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#ad2a9274c1c0b64b7fe76bef381417ec4">getInstance</a> ()</td></tr>
<tr class="separator:ad2a9274c1c0b64b7fe76bef381417ec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad17bc9076e2f7221691b5c63be9e59e1" id="r_ad17bc9076e2f7221691b5c63be9e59e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#ad17bc9076e2f7221691b5c63be9e59e1">m_ShutdownEvent</a></td></tr>
<tr class="separator:ad17bc9076e2f7221691b5c63be9e59e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b1dbfd15a9c802e81de10f217559e83" id="r_a5b1dbfd15a9c802e81de10f217559e83"><td class="memItemLeft" align="right" valign="top"><a class="el" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a5b1dbfd15a9c802e81de10f217559e83">m_ShutdownTimer</a></td></tr>
<tr class="separator:a5b1dbfd15a9c802e81de10f217559e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf1017001351f124204826d8db68973" id="r_aadf1017001351f124204826d8db68973"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#aadf1017001351f124204826d8db68973">m_restartEvent</a></td></tr>
<tr class="separator:aadf1017001351f124204826d8db68973"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a866ac8c2227598ffe3330db438278b14" id="r_a866ac8c2227598ffe3330db438278b14"><td class="memItemLeft" align="right" valign="top">static volatile <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a866ac8c2227598ffe3330db438278b14">m_stopEvent</a> = <a class="el" href="StormPort_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="separator:a866ac8c2227598ffe3330db438278b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac6df5c9c698f1f7aba01b223e321853a" id="r_ac6df5c9c698f1f7aba01b223e321853a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#ac6df5c9c698f1f7aba01b223e321853a">Master</a> ()=default</td></tr>
<tr class="separator:ac6df5c9c698f1f7aba01b223e321853a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb18794226c1cac053218e55bc1e69b" id="r_addb18794226c1cac053218e55bc1e69b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#addb18794226c1cac053218e55bc1e69b">~Master</a> ()=default</td></tr>
<tr class="separator:addb18794226c1cac053218e55bc1e69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18afe68278cef60bab3b76408575864e" id="r_a18afe68278cef60bab3b76408575864e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a18afe68278cef60bab3b76408575864e">_StartDB</a> ()</td></tr>
<tr class="separator:a18afe68278cef60bab3b76408575864e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7d449d7e85e539790e967f37bd31cda" id="r_af7d449d7e85e539790e967f37bd31cda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#af7d449d7e85e539790e967f37bd31cda">_StopDB</a> ()</td></tr>
<tr class="separator:af7d449d7e85e539790e967f37bd31cda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab86eb8ff63d56e2b646a59ea3daf2a6" id="r_aab86eb8ff63d56e2b646a59ea3daf2a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#aab86eb8ff63d56e2b646a59ea3daf2a6">_CheckDBVersion</a> ()</td></tr>
<tr class="separator:aab86eb8ff63d56e2b646a59ea3daf2a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8940510973189b3e28b68340a77703" id="r_a6a8940510973189b3e28b68340a77703"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a6a8940510973189b3e28b68340a77703">_HookSignals</a> ()</td></tr>
<tr class="separator:a6a8940510973189b3e28b68340a77703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf86080282be9e743bd5522d757c41f4" id="r_abf86080282be9e743bd5522d757c41f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#abf86080282be9e743bd5522d757c41f4">_UnhookSignals</a> ()</td></tr>
<tr class="separator:abf86080282be9e743bd5522d757c41f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a35bf58f650302585b149b12154326e5c" id="r_a35bf58f650302585b149b12154326e5c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaster.html#a35bf58f650302585b149b12154326e5c">_OnSignal</a> (int s)</td></tr>
<tr class="separator:a35bf58f650302585b149b12154326e5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="Master_8h_source.html#l00012">12</a> of file <a class="el" href="Master_8h_source.html">Master.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac6df5c9c698f1f7aba01b223e321853a" name="ac6df5c9c698f1f7aba01b223e321853a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6df5c9c698f1f7aba01b223e321853a">&#9670;&#160;</a></span>Master() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Master::Master </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="addb18794226c1cac053218e55bc1e69b" name="addb18794226c1cac053218e55bc1e69b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb18794226c1cac053218e55bc1e69b">&#9670;&#160;</a></span>~Master()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Master::~Master </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0baac0b31dd11b654c1c87915e79fde6" name="a0baac0b31dd11b654c1c87915e79fde6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0baac0b31dd11b654c1c87915e79fde6">&#9670;&#160;</a></span>Master() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Master::Master </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaster.html">Master</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8b2794f69f2a16a3edf495c1b068057f" name="a8b2794f69f2a16a3edf495c1b068057f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b2794f69f2a16a3edf495c1b068057f">&#9670;&#160;</a></span>Master() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Master::Master </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaster.html">Master</a> <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aab86eb8ff63d56e2b646a59ea3daf2a6" name="aab86eb8ff63d56e2b646a59ea3daf2a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab86eb8ff63d56e2b646a59ea3daf2a6">&#9670;&#160;</a></span>_CheckDBVersion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Master::_CheckDBVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00531">531</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  532</span>{</div>
<div class="line"><span class="lineno">  533</span>    <span class="keyword">auto</span> wqr = <a class="code hl_define" href="DatabaseDefinition_8hpp.html#a7367087c0923c701c361c9b42cc07f1e">WorldDatabase</a>.QueryNA(<span class="stringliteral">&quot;SELECT LastUpdate FROM world_db_version ORDER BY id DESC LIMIT 1;&quot;</span>);</div>
<div class="line"><span class="lineno">  534</span>    <span class="keywordflow">if</span> (wqr == NULL)</div>
<div class="line"><span class="lineno">  535</span>    {</div>
<div class="line"><span class="lineno">  536</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Database : World database is missing the table `world_db_version` OR the table doesn&#39;t contain any rows. Can&#39;t validate database version. Exiting.&quot;</span>);</div>
<div class="line"><span class="lineno">  537</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Database : You may need to update your database&quot;</span>);</div>
<div class="line"><span class="lineno">  538</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  539</span>    }</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>    <a class="code hl_class" href="classField.html">Field</a>* f = wqr-&gt;Fetch();</div>
<div class="line"><span class="lineno">  542</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *WorldDBVersion = f-&gt;<a class="code hl_function" href="classField.html#a58b09aa3ec262373884d9870fddebace">asCString</a>();</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Database : Last world database update: {}&quot;</span>, WorldDBVersion);</div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordtype">int</span> result = strcmp(WorldDBVersion, <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a2a84b68e3fef6ba1afe1c9f0d1089ba6">REQUIRED_WORLD_DB_VERSION</a>);</div>
<div class="line"><span class="lineno">  546</span>    <span class="keywordflow">if</span> (result != 0)</div>
<div class="line"><span class="lineno">  547</span>    {</div>
<div class="line"><span class="lineno">  548</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Database : Last world database update doesn&#39;t match the required one which is {}.&quot;</span>, <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a2a84b68e3fef6ba1afe1c9f0d1089ba6">REQUIRED_WORLD_DB_VERSION</a>);</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>        <span class="keywordflow">if</span> (result &lt; 0)</div>
<div class="line"><span class="lineno">  551</span>        {</div>
<div class="line"><span class="lineno">  552</span>            <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Database : You need to apply the world update queries that are newer than {}. Exiting.&quot;</span>, WorldDBVersion);</div>
<div class="line"><span class="lineno">  553</span>            <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Database : You can find the world update queries in the sql/world_updates sub-directory of your AscEmu source directory.&quot;</span>);</div>
<div class="line"><span class="lineno">  554</span>        }</div>
<div class="line"><span class="lineno">  555</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  556</span>        {</div>
<div class="line"><span class="lineno">  557</span>            <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Database : Your world database is probably too new for this AscEmu version, you need to update your server. Exiting.&quot;</span>);</div>
<div class="line"><span class="lineno">  558</span>        }</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  561</span>    }</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>    <span class="keyword">auto</span> cqr = <a class="code hl_define" href="DatabaseDefinition_8hpp.html#a07bfdaa754f8ad97798e01adf9a1fd14">CharacterDatabase</a>.QueryNA(<span class="stringliteral">&quot;SELECT LastUpdate FROM character_db_version ORDER BY id DESC LIMIT 1;&quot;</span>);</div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordflow">if</span> (cqr == NULL)</div>
<div class="line"><span class="lineno">  565</span>    {</div>
<div class="line"><span class="lineno">  566</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Database : Character database is missing the table `character_db_version` OR the table doesn&#39;t contain any rows. Can&#39;t validate database version. Exiting.&quot;</span>);</div>
<div class="line"><span class="lineno">  567</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Database : You may need to update your database&quot;</span>);</div>
<div class="line"><span class="lineno">  568</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  569</span>    }</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>    f = cqr-&gt;Fetch();</div>
<div class="line"><span class="lineno">  572</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *CharDBVersion = f-&gt;<a class="code hl_function" href="classField.html#a58b09aa3ec262373884d9870fddebace">asCString</a>();</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Database : Last character database update: {}&quot;</span>, CharDBVersion);</div>
<div class="line"><span class="lineno">  575</span>    result = strcmp(CharDBVersion, <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a85e7001cd9fc45c55156eee428b44a55">REQUIRED_CHAR_DB_VERSION</a>);</div>
<div class="line"><span class="lineno">  576</span>    <span class="keywordflow">if</span> (result != 0)</div>
<div class="line"><span class="lineno">  577</span>    {</div>
<div class="line"><span class="lineno">  578</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Database : Last character database update doesn&#39;t match the required one which is {}.&quot;</span>, <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a85e7001cd9fc45c55156eee428b44a55">REQUIRED_CHAR_DB_VERSION</a>);</div>
<div class="line"><span class="lineno">  579</span>        <span class="keywordflow">if</span> (result &lt; 0)</div>
<div class="line"><span class="lineno">  580</span>        {</div>
<div class="line"><span class="lineno">  581</span>            <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Database : You need to apply the character update queries that are newer than {}. Exiting.&quot;</span>, CharDBVersion);</div>
<div class="line"><span class="lineno">  582</span>            <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Database : You can find the character update queries in the sql/character_updates sub-directory of your AscEmu source directory.&quot;</span>);</div>
<div class="line"><span class="lineno">  583</span>        }</div>
<div class="line"><span class="lineno">  584</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  585</span>            <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Database : Your character database is too new for this AscEmu version, you need to update your server. Exiting.&quot;</span>);</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  588</span>    }</div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Database : Database successfully validated.&quot;</span>);</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  593</span>}</div>
<div class="ttc" id="aDatabaseDefinition_8hpp_html_a07bfdaa754f8ad97798e01adf9a1fd14"><div class="ttname"><a href="DatabaseDefinition_8hpp.html#a07bfdaa754f8ad97798e01adf9a1fd14">CharacterDatabase</a></div><div class="ttdeci">#define CharacterDatabase</div><div class="ttdef"><b>Definition</b> <a href="DatabaseDefinition_8hpp_source.html#l00018">DatabaseDefinition.hpp:18</a></div></div>
<div class="ttc" id="aDatabaseDefinition_8hpp_html_a7367087c0923c701c361c9b42cc07f1e"><div class="ttname"><a href="DatabaseDefinition_8hpp.html#a7367087c0923c701c361c9b42cc07f1e">WorldDatabase</a></div><div class="ttdeci">#define WorldDatabase</div><div class="ttdef"><b>Definition</b> <a href="DatabaseDefinition_8hpp_source.html#l00017">DatabaseDefinition.hpp:17</a></div></div>
<div class="ttc" id="aLogger_8hpp_html_a50320f857c38e7c413b48a556ad30e83"><div class="ttname"><a href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a></div><div class="ttdeci">#define sLogger</div><div class="ttdef"><b>Definition</b> <a href="Logger_8hpp_source.html#l00136">Logger.hpp:136</a></div></div>
<div class="ttc" id="aclassField_html"><div class="ttname"><a href="classField.html">Field</a></div><div class="ttdef"><b>Definition</b> <a href="Field_8hpp_source.html#l00010">Field.hpp:11</a></div></div>
<div class="ttc" id="aclassField_html_a58b09aa3ec262373884d9870fddebace"><div class="ttname"><a href="classField.html#a58b09aa3ec262373884d9870fddebace">Field::asCString</a></div><div class="ttdeci">const char * asCString() const</div><div class="ttdef"><b>Definition</b> <a href="Field_8cpp_source.html#l00013">Field.cpp:13</a></div></div>
<div class="ttc" id="aworld_2Server_2Master_8cpp_html_a2a84b68e3fef6ba1afe1c9f0d1089ba6"><div class="ttname"><a href="world_2Server_2Master_8cpp.html#a2a84b68e3fef6ba1afe1c9f0d1089ba6">REQUIRED_WORLD_DB_VERSION</a></div><div class="ttdeci">static const char * REQUIRED_WORLD_DB_VERSION</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00073">Master.cpp:73</a></div></div>
<div class="ttc" id="aworld_2Server_2Master_8cpp_html_a85e7001cd9fc45c55156eee428b44a55"><div class="ttname"><a href="world_2Server_2Master_8cpp.html#a85e7001cd9fc45c55156eee428b44a55">REQUIRED_CHAR_DB_VERSION</a></div><div class="ttdeci">static const char * REQUIRED_CHAR_DB_VERSION</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00072">Master.cpp:72</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_aab86eb8ff63d56e2b646a59ea3daf2a6_cgraph.svg" width="371" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_aab86eb8ff63d56e2b646a59ea3daf2a6_icgraph.svg" width="348" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6a8940510973189b3e28b68340a77703" name="a6a8940510973189b3e28b68340a77703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a8940510973189b3e28b68340a77703">&#9670;&#160;</a></span>_HookSignals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Master::_HookSignals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00654">654</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  655</span>{</div>
<div class="line"><span class="lineno">  656</span>    signal(SIGINT, <a class="code hl_function" href="classMaster.html#a35bf58f650302585b149b12154326e5c">_OnSignal</a>);</div>
<div class="line"><span class="lineno">  657</span>    signal(SIGTERM, <a class="code hl_function" href="classMaster.html#a35bf58f650302585b149b12154326e5c">_OnSignal</a>);</div>
<div class="line"><span class="lineno">  658</span>    signal(SIGABRT, <a class="code hl_function" href="classMaster.html#a35bf58f650302585b149b12154326e5c">_OnSignal</a>);</div>
<div class="line"><span class="lineno">  659</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno">  660</span>    signal(SIGBREAK, <a class="code hl_function" href="classMaster.html#a35bf58f650302585b149b12154326e5c">_OnSignal</a>);</div>
<div class="line"><span class="lineno">  661</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  662</span>    signal(SIGHUP, <a class="code hl_function" href="classMaster.html#a35bf58f650302585b149b12154326e5c">_OnSignal</a>);</div>
<div class="line"><span class="lineno">  663</span>    signal(SIGUSR1, <a class="code hl_function" href="classMaster.html#a35bf58f650302585b149b12154326e5c">_OnSignal</a>);</div>
<div class="line"><span class="lineno">  664</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  665</span>}</div>
<div class="ttc" id="aclassMaster_html_a35bf58f650302585b149b12154326e5c"><div class="ttname"><a href="classMaster.html#a35bf58f650302585b149b12154326e5c">Master::_OnSignal</a></div><div class="ttdeci">static void _OnSignal(int s)</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00088">Master.cpp:88</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_a6a8940510973189b3e28b68340a77703_cgraph.svg" width="362" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_a6a8940510973189b3e28b68340a77703_icgraph.svg" width="322" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a35bf58f650302585b149b12154326e5c" name="a35bf58f650302585b149b12154326e5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35bf58f650302585b149b12154326e5c">&#9670;&#160;</a></span>_OnSignal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Master::_OnSignal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00088">88</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   89</span>{</div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">switch</span> (s)</div>
<div class="line"><span class="lineno">   91</span>    {</div>
<div class="line"><span class="lineno">   92</span><span class="preprocessor">#ifndef WIN32</span></div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordflow">case</span> SIGHUP:</div>
<div class="line"><span class="lineno">   94</span>            <a class="code hl_define" href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.loadWorldConfigValues(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   95</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   96</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   97</span>        <span class="keywordflow">case</span> SIGINT:</div>
<div class="line"><span class="lineno">   98</span>        <span class="keywordflow">case</span> SIGTERM:</div>
<div class="line"><span class="lineno">   99</span>        <span class="keywordflow">case</span> SIGABRT:</div>
<div class="line"><span class="lineno">  100</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno">  101</span>        <span class="keywordflow">case</span> SIGBREAK:</div>
<div class="line"><span class="lineno">  102</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  103</span>            <a class="code hl_variable" href="classMaster.html#a866ac8c2227598ffe3330db438278b14">Master::m_stopEvent</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  104</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  105</span>    }</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>    signal(s, <a class="code hl_function" href="classMaster.html#a35bf58f650302585b149b12154326e5c">_OnSignal</a>);</div>
<div class="line"><span class="lineno">  108</span>}</div>
<div class="ttc" id="aWorld_8h_html_a05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition</b> <a href="World_8h_source.html#l00244">World.h:244</a></div></div>
<div class="ttc" id="aclassMaster_html_a866ac8c2227598ffe3330db438278b14"><div class="ttname"><a href="classMaster.html#a866ac8c2227598ffe3330db438278b14">Master::m_stopEvent</a></div><div class="ttdeci">static volatile bool m_stopEvent</div><div class="ttdef"><b>Definition</b> <a href="Master_8h_source.html#l00040">Master.h:40</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_a35bf58f650302585b149b12154326e5c_cgraph.svg" width="151" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_a35bf58f650302585b149b12154326e5c_icgraph.svg" width="510" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a18afe68278cef60bab3b76408575864e" name="a18afe68278cef60bab3b76408575864e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18afe68278cef60bab3b76408575864e">&#9670;&#160;</a></span>_StartDB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Master::_StartDB </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00595">595</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  596</span>{</div>
<div class="line"><span class="lineno">  597</span>    <a class="code hl_variable" href="DatabaseDefinition_8hpp.html#a0e4bffee2d2fee148ca3fdf653db34df">Database_World</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  598</span>    <a class="code hl_variable" href="DatabaseDefinition_8hpp.html#a0b51a83f17d6e4aabbe6a0075c16c34a">Database_Character</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordtype">bool</span> wdb_result = !<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.worldDb.user.empty();</div>
<div class="line"><span class="lineno">  601</span>    wdb_result = !wdb_result ? wdb_result : !<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.worldDb.password.empty();</div>
<div class="line"><span class="lineno">  602</span>    wdb_result = !wdb_result ? wdb_result : !<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.worldDb.host.empty();</div>
<div class="line"><span class="lineno">  603</span>    wdb_result = !wdb_result ? wdb_result : !<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.worldDb.dbName.empty();</div>
<div class="line"><span class="lineno">  604</span>    wdb_result = !wdb_result ? wdb_result : <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.worldDb.port != 0;</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>    <a class="code hl_variable" href="DatabaseDefinition_8hpp.html#a0e4bffee2d2fee148ca3fdf653db34df">Database_World</a> = <a class="code hl_function" href="classDatabase.html#ab7a629475e0bc6293fc379c6a267397a">Database::CreateDatabaseInterface</a>();</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordflow">if</span> (wdb_result == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  609</span>    {</div>
<div class="line"><span class="lineno">  610</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Configs : One or more parameters were missing for WorldDatabase connection.&quot;</span>);</div>
<div class="line"><span class="lineno">  611</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  612</span>    }</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>    <span class="comment">// Initialize it</span></div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="DatabaseDefinition_8hpp.html#a7367087c0923c701c361c9b42cc07f1e">WorldDatabase</a>.Initialize(<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.worldDb.host.c_str(), (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.worldDb.port, <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.worldDb.user.c_str(),</div>
<div class="line"><span class="lineno">  616</span>                                             <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.worldDb.password.c_str(), <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.worldDb.dbName.c_str(), <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.worldDb.connections, 16384, <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.worldDb.isLegacyAuth))</div>
<div class="line"><span class="lineno">  617</span>    {</div>
<div class="line"><span class="lineno">  618</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Configs : Connection to WorldDatabase failed. Check your database configurations!&quot;</span>);</div>
<div class="line"><span class="lineno">  619</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  620</span>    }</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>    <span class="keywordtype">bool</span> cdb_result = !<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.charDb.user.empty();</div>
<div class="line"><span class="lineno">  623</span>    cdb_result = !cdb_result ? cdb_result : !<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.charDb.password.empty();</div>
<div class="line"><span class="lineno">  624</span>    cdb_result = !cdb_result ? cdb_result : !<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.charDb.host.empty();</div>
<div class="line"><span class="lineno">  625</span>    cdb_result = !cdb_result ? cdb_result : !<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.charDb.dbName.empty();</div>
<div class="line"><span class="lineno">  626</span>    cdb_result = !cdb_result ? cdb_result : <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.charDb.port != 0;</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>    <a class="code hl_variable" href="DatabaseDefinition_8hpp.html#a0b51a83f17d6e4aabbe6a0075c16c34a">Database_Character</a> = <a class="code hl_function" href="classDatabase.html#ab7a629475e0bc6293fc379c6a267397a">Database::CreateDatabaseInterface</a>();</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>    <span class="keywordflow">if</span> (cdb_result == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  631</span>    {</div>
<div class="line"><span class="lineno">  632</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Configs : Connection to CharacterDatabase failed. Check your database configurations!&quot;</span>);</div>
<div class="line"><span class="lineno">  633</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  634</span>    }</div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span>    <span class="comment">// Initialize it</span></div>
<div class="line"><span class="lineno">  637</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="DatabaseDefinition_8hpp.html#a07bfdaa754f8ad97798e01adf9a1fd14">CharacterDatabase</a>.Initialize(<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.charDb.host.c_str(), (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.charDb.port, <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.charDb.user.c_str(),</div>
<div class="line"><span class="lineno">  638</span>                                                 <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.charDb.password.c_str(), <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.charDb.dbName.c_str(), <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.charDb.connections, 16384, <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.charDb.isLegacyAuth))</div>
<div class="line"><span class="lineno">  639</span>    {</div>
<div class="line"><span class="lineno">  640</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.fatal(<span class="stringliteral">&quot;Configs : Connection to CharacterDatabase failed. Check your database configurations!&quot;</span>);</div>
<div class="line"><span class="lineno">  641</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  642</span>    }</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  645</span>}</div>
<div class="ttc" id="aDatabaseDefinition_8hpp_html_a0b51a83f17d6e4aabbe6a0075c16c34a"><div class="ttname"><a href="DatabaseDefinition_8hpp.html#a0b51a83f17d6e4aabbe6a0075c16c34a">Database_Character</a></div><div class="ttdeci">SERVER_DECL std::unique_ptr&lt; Database &gt; Database_Character</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00078">Master.cpp:78</a></div></div>
<div class="ttc" id="aDatabaseDefinition_8hpp_html_a0e4bffee2d2fee148ca3fdf653db34df"><div class="ttname"><a href="DatabaseDefinition_8hpp.html#a0e4bffee2d2fee148ca3fdf653db34df">Database_World</a></div><div class="ttdeci">SERVER_DECL std::unique_ptr&lt; Database &gt; Database_World</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00079">Master.cpp:79</a></div></div>
<div class="ttc" id="aWorld_8h_html_aea0df2a51a52c20517af81710295423d"><div class="ttname"><a href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a></div><div class="ttdeci">#define worldConfig</div><div class="ttdef"><b>Definition</b> <a href="World_8h_source.html#l00245">World.h:245</a></div></div>
<div class="ttc" id="aclassDatabase_html_ab7a629475e0bc6293fc379c6a267397a"><div class="ttname"><a href="classDatabase.html#ab7a629475e0bc6293fc379c6a267397a">Database::CreateDatabaseInterface</a></div><div class="ttdeci">static std::unique_ptr&lt; Database &gt; CreateDatabaseInterface()</div><div class="ttdef"><b>Definition</b> <a href="CreateInterface_8cpp_source.html#l00031">CreateInterface.cpp:31</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_a18afe68278cef60bab3b76408575864e_cgraph.svg" width="388" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_a18afe68278cef60bab3b76408575864e_icgraph.svg" width="291" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af7d449d7e85e539790e967f37bd31cda" name="af7d449d7e85e539790e967f37bd31cda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7d449d7e85e539790e967f37bd31cda">&#9670;&#160;</a></span>_StopDB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Master::_StopDB </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00647">647</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  648</span>{</div>
<div class="line"><span class="lineno">  649</span>    <a class="code hl_variable" href="DatabaseDefinition_8hpp.html#a0e4bffee2d2fee148ca3fdf653db34df">Database_World</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  650</span>    <a class="code hl_variable" href="DatabaseDefinition_8hpp.html#a0b51a83f17d6e4aabbe6a0075c16c34a">Database_Character</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  651</span>    <a class="code hl_function" href="classDatabase.html#a5719427f8218b8bb43b11b59260b6e90">Database::CleanupLibs</a>();</div>
<div class="line"><span class="lineno">  652</span>}</div>
<div class="ttc" id="aclassDatabase_html_a5719427f8218b8bb43b11b59260b6e90"><div class="ttname"><a href="classDatabase.html#a5719427f8218b8bb43b11b59260b6e90">Database::CleanupLibs</a></div><div class="ttdeci">static void CleanupLibs()</div><div class="ttdef"><b>Definition</b> <a href="CreateInterface_8cpp_source.html#l00025">CreateInterface.cpp:25</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_af7d449d7e85e539790e967f37bd31cda_cgraph.svg" width="360" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_af7d449d7e85e539790e967f37bd31cda_icgraph.svg" width="290" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abf86080282be9e743bd5522d757c41f4" name="abf86080282be9e743bd5522d757c41f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf86080282be9e743bd5522d757c41f4">&#9670;&#160;</a></span>_UnhookSignals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Master::_UnhookSignals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00667">667</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  668</span>{</div>
<div class="line"><span class="lineno">  669</span>    signal(SIGINT, 0);</div>
<div class="line"><span class="lineno">  670</span>    signal(SIGTERM, 0);</div>
<div class="line"><span class="lineno">  671</span>    signal(SIGABRT, 0);</div>
<div class="line"><span class="lineno">  672</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno">  673</span>    signal(SIGBREAK, 0);</div>
<div class="line"><span class="lineno">  674</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  675</span>    signal(SIGHUP, 0);</div>
<div class="line"><span class="lineno">  676</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_abf86080282be9e743bd5522d757c41f4_icgraph.svg" width="338" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad2a9274c1c0b64b7fe76bef381417ec4" name="ad2a9274c1c0b64b7fe76bef381417ec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a9274c1c0b64b7fe76bef381417ec4">&#9670;&#160;</a></span>getInstance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaster.html">Master</a> &amp; Master::getInstance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00110">110</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  111</span>{</div>
<div class="line"><span class="lineno">  112</span>    <span class="keyword">static</span> <a class="code hl_class" href="classMaster.html">Master</a> mInstance;</div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">return</span> mInstance;</div>
<div class="line"><span class="lineno">  114</span>}</div>
<div class="ttc" id="aclassMaster_html"><div class="ttname"><a href="classMaster.html">Master</a></div><div class="ttdef"><b>Definition</b> <a href="Master_8h_source.html#l00012">Master.h:13</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7d5d18c793e0e32e5c53c69ecdb96a1" name="ae7d5d18c793e0e32e5c53c69ecdb96a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7d5d18c793e0e32e5c53c69ecdb96a1">&#9670;&#160;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Master::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00116">116</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  117</span>{</div>
<div class="line"><span class="lineno">  118</span>    <a class="code hl_variable" href="classMaster.html#a5b1dbfd15a9c802e81de10f217559e83">m_ShutdownTimer</a> = 0;</div>
<div class="line"><span class="lineno">  119</span>    <a class="code hl_variable" href="classMaster.html#ad17bc9076e2f7221691b5c63be9e59e1">m_ShutdownEvent</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  120</span>    <a class="code hl_variable" href="classMaster.html#aadf1017001351f124204826d8db68973">m_restartEvent</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  121</span>}</div>
<div class="ttc" id="aclassMaster_html_a5b1dbfd15a9c802e81de10f217559e83"><div class="ttname"><a href="classMaster.html#a5b1dbfd15a9c802e81de10f217559e83">Master::m_ShutdownTimer</a></div><div class="ttdeci">uint32_t m_ShutdownTimer</div><div class="ttdef"><b>Definition</b> <a href="Master_8h_source.html#l00038">Master.h:38</a></div></div>
<div class="ttc" id="aclassMaster_html_aadf1017001351f124204826d8db68973"><div class="ttname"><a href="classMaster.html#aadf1017001351f124204826d8db68973">Master::m_restartEvent</a></div><div class="ttdeci">bool m_restartEvent</div><div class="ttdef"><b>Definition</b> <a href="Master_8h_source.html#l00041">Master.h:41</a></div></div>
<div class="ttc" id="aclassMaster_html_ad17bc9076e2f7221691b5c63be9e59e1"><div class="ttname"><a href="classMaster.html#ad17bc9076e2f7221691b5c63be9e59e1">Master::m_ShutdownEvent</a></div><div class="ttdeci">bool m_ShutdownEvent</div><div class="ttdef"><b>Definition</b> <a href="Master_8h_source.html#l00037">Master.h:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aca53b24af6ab7a49d0b9f7b168674de5" name="aca53b24af6ab7a49d0b9f7b168674de5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca53b24af6ab7a49d0b9f7b168674de5">&#9670;&#160;</a></span>libLog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Master::libLog </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00936">936</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  937</span>{</div>
<div class="line"><span class="lineno">  938</span>    <span class="keywordtype">char</span> message_buffer[32768];</div>
<div class="line"><span class="lineno">  939</span>    va_list ap;</div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>    va_start(ap, <a class="code hl_function" href="color_8h.html#af4a3b7f252e457605de5440249a15699">format</a>);</div>
<div class="line"><span class="lineno">  942</span>    vsnprintf(message_buffer, 32768, <a class="code hl_function" href="color_8h.html#af4a3b7f252e457605de5440249a15699">format</a>, ap);</div>
<div class="line"><span class="lineno">  943</span>    va_end(ap);</div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span>    std::cout &lt;&lt; message_buffer &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  946</span>}</div>
<div class="ttc" id="acolor_8h_html_af4a3b7f252e457605de5440249a15699"><div class="ttname"><a href="color_8h.html#af4a3b7f252e457605de5440249a15699">format</a></div><div class="ttdeci">auto format(const text_style &amp;ts, const S &amp;format_str, const Args &amp;... args) -&gt; std::basic_string&lt; Char &gt;</div><div class="ttdef"><b>Definition</b> <a href="color_8h_source.html#l00543">color.h:543</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_aca53b24af6ab7a49d0b9f7b168674de5_cgraph.svg" width="451" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1c274016bc4094652242fff51f9dfe2b" name="a1c274016bc4094652242fff51f9dfe2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c274016bc4094652242fff51f9dfe2b">&#9670;&#160;</a></span>LoadWorldConfiguration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Master::LoadWorldConfiguration </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>config_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00728">728</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  729</span>{</div>
<div class="line"><span class="lineno">  730</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Config : Loading Config Files...&quot;</span>);</div>
<div class="line"><span class="lineno">  731</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="LogonServerDefines_8hpp.html#a27e709e72a405b64bc0c010dc259d24e">Config</a>.<a class="code hl_variable" href="classConfigMgr.html#a1c5d253e2d4c946e20428dde4fec715d">MainConfig</a>.<a class="code hl_function" href="classConfigFile.html#a17006427949d51e275758a6832c8c053">openAndLoadConfigFile</a>(config_file))</div>
<div class="line"><span class="lineno">  732</span>    {</div>
<div class="line"><span class="lineno">  733</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Config : &quot;</span> CONFDIR <span class="stringliteral">&quot;/world.conf loaded&quot;</span>);</div>
<div class="line"><span class="lineno">  734</span>    }</div>
<div class="line"><span class="lineno">  735</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  736</span>    {</div>
<div class="line"><span class="lineno">  737</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.failure(<span class="stringliteral">&quot;Config : error occurred loading &quot;</span> CONFDIR <span class="stringliteral">&quot;/world.conf&quot;</span>);</div>
<div class="line"><span class="lineno">  738</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.finalize();</div>
<div class="line"><span class="lineno">  739</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  740</span>    }</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  743</span>}</div>
<div class="ttc" id="aLogonServerDefines_8hpp_html_a27e709e72a405b64bc0c010dc259d24e"><div class="ttname"><a href="LogonServerDefines_8hpp.html#a27e709e72a405b64bc0c010dc259d24e">Config</a></div><div class="ttdeci">SERVER_DECL ConfigMgr Config</div><div class="ttdef"><b>Definition</b> <a href="logonserver_2Server_2Master_8cpp_source.html#l00036">Master.cpp:36</a></div></div>
<div class="ttc" id="aclassConfigFile_html_a17006427949d51e275758a6832c8c053"><div class="ttname"><a href="classConfigFile.html#a17006427949d51e275758a6832c8c053">ConfigFile::openAndLoadConfigFile</a></div><div class="ttdeci">bool openAndLoadConfigFile(const std::string &amp;configFileName)</div><div class="ttdef"><b>Definition</b> <a href="Config_8cpp_source.html#l00013">Config.cpp:13</a></div></div>
<div class="ttc" id="aclassConfigMgr_html_a1c5d253e2d4c946e20428dde4fec715d"><div class="ttname"><a href="classConfigMgr.html#a1c5d253e2d4c946e20428dde4fec715d">ConfigMgr::MainConfig</a></div><div class="ttdeci">ConfigFile MainConfig</div><div class="ttdef"><b>Definition</b> <a href="LogonServerDefines_8hpp_source.html#l00020">LogonServerDefines.hpp:20</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMaster_a1c274016bc4094652242fff51f9dfe2b_cgraph.svg" width="100%" height="499"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_a1c274016bc4094652242fff51f9dfe2b_icgraph.svg" width="390" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a18468480c8e61ac74495c57cbe05f31e" name="a18468480c8e61ac74495c57cbe05f31e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18468480c8e61ac74495c57cbe05f31e">&#9670;&#160;</a></span>OpenCheatLogFiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Master::OpenCheatLogFiles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00745">745</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  746</span>{</div>
<div class="line"><span class="lineno">  747</span>    <span class="keywordtype">bool</span> useTimeStamp = <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.logger.enableTimeStamp;</div>
<div class="line"><span class="lineno">  748</span>    std::string logDir = <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.logger.extendedLogsDir;</div>
<div class="line"><span class="lineno">  749</span> </div>
<div class="line"><span class="lineno">  750</span>    <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a2be25bb1993e8dd4afbea3ef055946e8">Anticheat_Log</a> = std::make_unique&lt;SessionLog&gt;(<a class="code hl_function" href="namespaceAscEmu_1_1Logging.html#aee471bb56ae81bfebd18cc3a43f498a6">AscEmu::Logging::getFormattedFileName</a>(logDir, <span class="stringliteral">&quot;cheaters&quot;</span>, useTimeStamp).c_str(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  751</span>    <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#aaccb310666ae8f3b907a76f571585108">GMCommand_Log</a> = std::make_unique&lt;SessionLog&gt;(<a class="code hl_function" href="namespaceAscEmu_1_1Logging.html#aee471bb56ae81bfebd18cc3a43f498a6">AscEmu::Logging::getFormattedFileName</a>(logDir, <span class="stringliteral">&quot;gmcommands&quot;</span>, useTimeStamp).c_str(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  752</span>    <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a22957c14478d0ced1023740e80b5d032">Player_Log</a> = std::make_unique&lt;SessionLog&gt;(<a class="code hl_function" href="namespaceAscEmu_1_1Logging.html#aee471bb56ae81bfebd18cc3a43f498a6">AscEmu::Logging::getFormattedFileName</a>(logDir, <span class="stringliteral">&quot;players&quot;</span>, useTimeStamp).c_str(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a2be25bb1993e8dd4afbea3ef055946e8">Anticheat_Log</a>-&gt;isSessionLogOpen())</div>
<div class="line"><span class="lineno">  755</span>    {</div>
<div class="line"><span class="lineno">  756</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.logger.enableCheaterLog)</div>
<div class="line"><span class="lineno">  757</span>        {</div>
<div class="line"><span class="lineno">  758</span>            <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a2be25bb1993e8dd4afbea3ef055946e8">Anticheat_Log</a>-&gt;closeSessionLog();</div>
<div class="line"><span class="lineno">  759</span>        }</div>
<div class="line"><span class="lineno">  760</span>    }</div>
<div class="line"><span class="lineno">  761</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.logger.enableCheaterLog)</div>
<div class="line"><span class="lineno">  762</span>    {</div>
<div class="line"><span class="lineno">  763</span>        <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a2be25bb1993e8dd4afbea3ef055946e8">Anticheat_Log</a>-&gt;openSessionLog();</div>
<div class="line"><span class="lineno">  764</span>    }</div>
<div class="line"><span class="lineno">  765</span> </div>
<div class="line"><span class="lineno">  766</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="world_2Server_2Master_8cpp.html#aaccb310666ae8f3b907a76f571585108">GMCommand_Log</a>-&gt;isSessionLogOpen())</div>
<div class="line"><span class="lineno">  767</span>    {</div>
<div class="line"><span class="lineno">  768</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.logger.enableGmCommandLog)</div>
<div class="line"><span class="lineno">  769</span>        {</div>
<div class="line"><span class="lineno">  770</span>            <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#aaccb310666ae8f3b907a76f571585108">GMCommand_Log</a>-&gt;closeSessionLog();</div>
<div class="line"><span class="lineno">  771</span>        }</div>
<div class="line"><span class="lineno">  772</span>    }</div>
<div class="line"><span class="lineno">  773</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.logger.enableGmCommandLog)</div>
<div class="line"><span class="lineno">  774</span>    {</div>
<div class="line"><span class="lineno">  775</span>        <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#aaccb310666ae8f3b907a76f571585108">GMCommand_Log</a>-&gt;openSessionLog();</div>
<div class="line"><span class="lineno">  776</span>    }</div>
<div class="line"><span class="lineno">  777</span> </div>
<div class="line"><span class="lineno">  778</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a22957c14478d0ced1023740e80b5d032">Player_Log</a>-&gt;isSessionLogOpen())</div>
<div class="line"><span class="lineno">  779</span>    {</div>
<div class="line"><span class="lineno">  780</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.logger.enablePlayerLog)</div>
<div class="line"><span class="lineno">  781</span>        {</div>
<div class="line"><span class="lineno">  782</span>            <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a22957c14478d0ced1023740e80b5d032">Player_Log</a>-&gt;closeSessionLog();</div>
<div class="line"><span class="lineno">  783</span>        }</div>
<div class="line"><span class="lineno">  784</span>    }</div>
<div class="line"><span class="lineno">  785</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.logger.enablePlayerLog)</div>
<div class="line"><span class="lineno">  786</span>    {</div>
<div class="line"><span class="lineno">  787</span>        <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a22957c14478d0ced1023740e80b5d032">Player_Log</a>-&gt;openSessionLog();</div>
<div class="line"><span class="lineno">  788</span>    }</div>
<div class="line"><span class="lineno">  789</span>}</div>
<div class="ttc" id="anamespaceAscEmu_1_1Logging_html_aee471bb56ae81bfebd18cc3a43f498a6"><div class="ttname"><a href="namespaceAscEmu_1_1Logging.html#aee471bb56ae81bfebd18cc3a43f498a6">AscEmu::Logging::getFormattedFileName</a></div><div class="ttdeci">std::string getFormattedFileName(const std::string &amp;path_prefix, const std::string &amp;file_prefix, bool use_date_time)</div><div class="ttdef"><b>Definition</b> <a href="Logger_8cpp_source.html#l00212">Logger.cpp:212</a></div></div>
<div class="ttc" id="aworld_2Server_2Master_8cpp_html_a22957c14478d0ced1023740e80b5d032"><div class="ttname"><a href="world_2Server_2Master_8cpp.html#a22957c14478d0ced1023740e80b5d032">Player_Log</a></div><div class="ttdeci">SERVER_DECL std::unique_ptr&lt; SessionLog &gt; Player_Log</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00084">Master.cpp:84</a></div></div>
<div class="ttc" id="aworld_2Server_2Master_8cpp_html_a2be25bb1993e8dd4afbea3ef055946e8"><div class="ttname"><a href="world_2Server_2Master_8cpp.html#a2be25bb1993e8dd4afbea3ef055946e8">Anticheat_Log</a></div><div class="ttdeci">SERVER_DECL std::unique_ptr&lt; SessionLog &gt; Anticheat_Log</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00083">Master.cpp:83</a></div></div>
<div class="ttc" id="aworld_2Server_2Master_8cpp_html_aaccb310666ae8f3b907a76f571585108"><div class="ttname"><a href="world_2Server_2Master_8cpp.html#aaccb310666ae8f3b907a76f571585108">GMCommand_Log</a></div><div class="ttdeci">SERVER_DECL std::unique_ptr&lt; SessionLog &gt; GMCommand_Log</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00082">Master.cpp:82</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMaster_a18468480c8e61ac74495c57cbe05f31e_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_a18468480c8e61ac74495c57cbe05f31e_icgraph.svg" width="359" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a182d83be1604f6f77673ddd7918ab74e" name="a182d83be1604f6f77673ddd7918ab74e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a182d83be1604f6f77673ddd7918ab74e">&#9670;&#160;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaster.html">Master</a> &amp; Master::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaster.html">Master</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab32e226291107c926194acb291bca6d7" name="ab32e226291107c926194acb291bca6d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab32e226291107c926194acb291bca6d7">&#9670;&#160;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaster.html">Master</a> &amp; Master::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaster.html">Master</a> <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0df2ed932f532d8365f5589441a01b79" name="a0df2ed932f532d8365f5589441a01b79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0df2ed932f532d8365f5589441a01b79">&#9670;&#160;</a></span>PrintBanner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Master::PrintBanner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00722">722</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  723</span>{</div>
<div class="line"><span class="lineno">  724</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;&lt;&lt; AscEmu {}/{}-{} {} :: World Server &gt;&gt;&quot;</span>, AE_BUILD_HASH, CONFIG, AE_PLATFORM, AE_ARCHITECTURE);</div>
<div class="line"><span class="lineno">  725</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;========================================================&quot;</span>);</div>
<div class="line"><span class="lineno">  726</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_a0df2ed932f532d8365f5589441a01b79_icgraph.svg" width="310" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a12dde72f3398edffca613e77185fd6f3" name="a12dde72f3398edffca613e77185fd6f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12dde72f3398edffca613e77185fd6f3">&#9670;&#160;</a></span>Run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Master::Run </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00279">279</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  280</span>{</div>
<div class="line"><span class="lineno">  281</span>    std::string config_file = CONFDIR <span class="stringliteral">&quot;/world.conf&quot;</span>;</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    <a class="code hl_variable" href="src_2shared_2Logging_2Log_8cpp.html#a978bb344118668e71ada81ab392617cf">UNIXTIME</a> = time(NULL);</div>
<div class="line"><span class="lineno">  284</span>    <a class="code hl_variable" href="src_2shared_2Logging_2Log_8cpp.html#a1aa46a3240ee2677caf6ecdefe3303fc">g_localTime</a> = *<a class="code hl_function" href="chrono_8h.html#a206f24de3f0fff46c4daeb318c02a45e">localtime</a>(&amp;<a class="code hl_variable" href="src_2shared_2Logging_2Log_8cpp.html#a978bb344118668e71ada81ab392617cf">UNIXTIME</a>);</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.initalizeLogger(<span class="stringliteral">&quot;world&quot;</span>);</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>    <a class="code hl_function" href="classMaster.html#a0df2ed932f532d8365f5589441a01b79">PrintBanner</a>();</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span><span class="preprocessor">#if VERSION_STRING == Mop</span></div>
<div class="line"><span class="lineno">  291</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Size of WoWObject {} / 8&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structWoWObject.html">WoWObject</a>) / <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)));</div>
<div class="line"><span class="lineno">  292</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Size of WoWUnit {} / 160&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structWoWUnit.html">WoWUnit</a>) / <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)));</div>
<div class="line"><span class="lineno">  293</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Size of WoWPlayer {} / 1987&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structWoWPlayer.html">WoWPlayer</a>) / <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)));</div>
<div class="line"><span class="lineno">  294</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Size of WoWGameObject {} / 20&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structWoWGameObject.html">WoWGameObject</a>) / <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)));</div>
<div class="line"><span class="lineno">  295</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Size of WoWDynamicObject {} / 14&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structWoWDynamicObject.html">WoWDynamicObject</a>) / <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)));</div>
<div class="line"><span class="lineno">  296</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Size of WoWItem {} / 69&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structWoWItem.html">WoWItem</a>) / <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)));</div>
<div class="line"><span class="lineno">  297</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;The key combination &lt;Ctrl-C&gt; will safely shut down the server.&quot;</span>);</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span><span class="preprocessor">#ifndef WIN32</span></div>
<div class="line"><span class="lineno">  302</span>    <span class="keywordflow">if</span> (geteuid() == 0 || getegid() == 0)</div>
<div class="line"><span class="lineno">  303</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.warning(<span class="stringliteral">&quot;You are running AscEmu as root. This is not needed, and may be a possible security risk. It is advised to hit CTRL+C now and start as a non-privileged user.&quot;</span>);</div>
<div class="line"><span class="lineno">  304</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>    <a class="code hl_variable" href="LegacyThreadPool_8cpp.html#ad40b771ec3c02c9286beaaa67441cfa1">ThreadPool</a>.<a class="code hl_function" href="classCThreadPool.html#ab5482a32645adf17d3d4dcf4c0536e2c">Startup</a>();</div>
<div class="line"><span class="lineno">  307</span>    <span class="keyword">auto</span> startTime = <a class="code hl_function" href="namespaceUtil.html#aee85a3996bf0f7eb58f931b3d01d3fe7">Util::TimeNow</a>();</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>    <span class="comment">// Call once to initialize EventMgr and to prevent crash on possible startup error -Appled</span></div>
<div class="line"><span class="lineno">  310</span>    <a class="code hl_define" href="EventMgr_8h.html#ae362df0de54c0ef52ebdbbe6a722c4bc">sEventMgr</a>;</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>    <a class="code hl_define" href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.initialize();</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classMaster.html#a1c274016bc4094652242fff51f9dfe2b">LoadWorldConfiguration</a>(config_file))</div>
<div class="line"><span class="lineno">  315</span>    {</div>
<div class="line"><span class="lineno">  316</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  317</span>    }</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>    <a class="code hl_define" href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.loadWorldConfigValues();</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.setMinimumMessageType(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespaceAscEmu_1_1Logging.html#a8d6ebe24cc6f9b23380e46ec19d807e9">AscEmu::Logging::MessageType</a><span class="keyword">&gt;</span>(<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.logger.minimumMessageType));</div>
<div class="line"><span class="lineno">  322</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.setDebugFlags(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespaceAscEmu_1_1Logging.html#ae95a0917e684bc883290e2deeca999d5">AscEmu::Logging::DebugFlags</a><span class="keyword">&gt;</span>(<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.logger.debugFlags));</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    <a class="code hl_function" href="classMaster.html#a18468480c8e61ac74495c57cbe05f31e">OpenCheatLogFiles</a>();</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classMaster.html#a18afe68278cef60bab3b76408575864e">_StartDB</a>())</div>
<div class="line"><span class="lineno">  327</span>    {</div>
<div class="line"><span class="lineno">  328</span>        <a class="code hl_function" href="classDatabase.html#a5719427f8218b8bb43b11b59260b6e90">Database::CleanupLibs</a>();</div>
<div class="line"><span class="lineno">  329</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.finalize();</div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  331</span>    }</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <a class="code hl_function" href="world_2Server_2Master_8cpp.html#a16e85e997e3a9cab980bfc1854297954">createExtendedLogDir</a>();</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="world_2Server_2Master_8cpp.html#a0cbed6691670b658f981fbae43781a4b">checkRequiredDirs</a>())</div>
<div class="line"><span class="lineno">  336</span>    {</div>
<div class="line"><span class="lineno">  337</span>        <a class="code hl_function" href="classDatabase.html#a5719427f8218b8bb43b11b59260b6e90">Database::CleanupLibs</a>();</div>
<div class="line"><span class="lineno">  338</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.finalize();</div>
<div class="line"><span class="lineno">  339</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  340</span>    }</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>    <a class="code hl_function" href="world_2Server_2Master_8cpp.html#a3bc0b7bb52f754ed9f916c2d75a283c6">checkAdditinaloDirs</a>();</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    <span class="keyword">const</span> std::string charDbName = <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.charDb.dbName;</div>
<div class="line"><span class="lineno">  345</span>    <a class="code hl_function" href="classDatabaseUpdater.html#abbc4090ff90f203ad36da5e4b7bc6c3c">DatabaseUpdater::initBaseIfNeeded</a>(charDbName, <span class="stringliteral">&quot;character&quot;</span>, <a class="code hl_define" href="DatabaseDefinition_8hpp.html#a07bfdaa754f8ad97798e01adf9a1fd14">CharacterDatabase</a>);</div>
<div class="line"><span class="lineno">  346</span>    <a class="code hl_function" href="classDatabaseUpdater.html#ae128d1cd12de6dcac2e0e7dbd95de6b4">DatabaseUpdater::checkAndApplyDBUpdatesIfNeeded</a>(<span class="stringliteral">&quot;character&quot;</span>, <a class="code hl_define" href="DatabaseDefinition_8hpp.html#a07bfdaa754f8ad97798e01adf9a1fd14">CharacterDatabase</a>);</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>    <span class="keyword">const</span> std::string worldDbName = <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.worldDb.dbName;</div>
<div class="line"><span class="lineno">  349</span>    <a class="code hl_function" href="classDatabaseUpdater.html#abbc4090ff90f203ad36da5e4b7bc6c3c">DatabaseUpdater::initBaseIfNeeded</a>(worldDbName, <span class="stringliteral">&quot;world&quot;</span>, <a class="code hl_define" href="DatabaseDefinition_8hpp.html#a7367087c0923c701c361c9b42cc07f1e">WorldDatabase</a>);</div>
<div class="line"><span class="lineno">  350</span>    <a class="code hl_function" href="classDatabaseUpdater.html#ae128d1cd12de6dcac2e0e7dbd95de6b4">DatabaseUpdater::checkAndApplyDBUpdatesIfNeeded</a>(<span class="stringliteral">&quot;world&quot;</span>, <a class="code hl_define" href="DatabaseDefinition_8hpp.html#a7367087c0923c701c361c9b42cc07f1e">WorldDatabase</a>);</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classMaster.html#aab86eb8ff63d56e2b646a59ea3daf2a6">_CheckDBVersion</a>())</div>
<div class="line"><span class="lineno">  353</span>    {</div>
<div class="line"><span class="lineno">  354</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.finalize();</div>
<div class="line"><span class="lineno">  355</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  356</span>    }</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>    <a class="code hl_define" href="OpcodeTable_8hpp.html#aa7c021ebe084b1f86fb0edc8db7910d4">sOpcodeTables</a>.initialize();</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>    <a class="code hl_function" href="classWorldSession.html#a213cc2e7e497e0cddfde0a1460e4acd0">WorldSession::registerOpcodeHandler</a>();</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.setInitialWorldSettings())</div>
<div class="line"><span class="lineno">  363</span>    {</div>
<div class="line"><span class="lineno">  364</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.failure(<span class="stringliteral">&quot;SetInitialWorldSettings() failed. Something went wrong? Exiting.&quot;</span>);</div>
<div class="line"><span class="lineno">  365</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.finalize();</div>
<div class="line"><span class="lineno">  366</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  367</span>    }</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>    <a class="code hl_define" href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.setWorldStartTime((<a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code hl_variable" href="src_2shared_2Logging_2Log_8cpp.html#a978bb344118668e71ada81ab392617cf">UNIXTIME</a>);</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>    <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a75f6c315bad949ff9566eb674cb75ede">worldRunnable</a> = std::move(std::make_unique&lt;WorldRunnable&gt;());</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>    <a class="code hl_function" href="classMaster.html#a6a8940510973189b3e28b68340a77703">_HookSignals</a>();</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>    <span class="keyword">auto</span> console = std::make_unique&lt;ConsoleThread&gt;();</div>
<div class="line"><span class="lineno">  376</span>    <a class="code hl_variable" href="LegacyThreadPool_8cpp.html#ad40b771ec3c02c9286beaaa67441cfa1">ThreadPool</a>.<a class="code hl_function" href="classCThreadPool.html#a7b3422f05fb8178feaafc39f66706e4a">ExecuteTask</a>(console.get());</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>    <a class="code hl_function" href="classMaster.html#a8cdb280fc097a775bffe9bf0ea6bdaf9">StartNetworkSubsystem</a>();</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>    sSocketMgr.SpawnWorkerThreads();</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>    <a class="code hl_define" href="ScriptMgr_8hpp.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>.LoadScripts();</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span>    <a class="code hl_define" href="SpellMgr_8hpp.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>.loadSpellScripts();</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.startup.enableSpellIdDump)</div>
<div class="line"><span class="lineno">  387</span>    {</div>
<div class="line"><span class="lineno">  388</span>        <a class="code hl_define" href="ScriptMgr_8hpp.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>.DumpUnimplementedSpells();</div>
<div class="line"><span class="lineno">  389</span>    }</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Server : Ready for connections. Startup time: {} ms&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a><span class="keyword">&gt;</span>(<a class="code hl_function" href="namespaceUtil.html#a9a604a54078fde28181624aa02db063d">Util::GetTimeDifferenceToNow</a>(startTime)));</div>
<div class="line"><span class="lineno">  392</span> </div>
<div class="line"><span class="lineno">  393</span>    <a class="code hl_define" href="GameEventMgr_8hpp.html#a191e3a849eeb98bedc119177d7fbc64a">sGameEventMgrThread</a>.initialize();</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>    <a class="code hl_function" href="classMaster.html#aae798ee73f7940ecf63822a0da97872c">StartRemoteConsole</a>();</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>    <a class="code hl_function" href="classMaster.html#a34ca44a664fee4d5effbe5babf411136">WritePidFile</a>();</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>    <a class="code hl_define" href="ChannelMgr_8hpp.html#a20b82f18005c8bcd8e65f7340937ffcb">sChannelMgr</a>.initialize();</div>
<div class="line"><span class="lineno">  400</span>    <a class="code hl_define" href="ChannelMgr_8hpp.html#a20b82f18005c8bcd8e65f7340937ffcb">sChannelMgr</a>.setSeperatedChannels(!<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.player.isInterfactionChannelEnabled);</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>    <a class="code hl_define" href="MailMgr_8h.html#ac49a68d66435db51ed3bec80bcc28ec8">sMailSystem</a>.StartMailSystem();</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>    <a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> mailFlags = 0;</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.mail.isCostsForGmDisabled)</div>
<div class="line"><span class="lineno">  407</span>        mailFlags |= <a class="code hl_enumvalue" href="MailMgr_8h.html#a368d973bdd90d42aece4d4546b14c2eca2b7c8bbd55820abf6436d9bcc94ad9df">MAIL_FLAG_NO_COST_FOR_GM</a>;</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.mail.isCostsForEveryoneDisabled)</div>
<div class="line"><span class="lineno">  410</span>        mailFlags |= <a class="code hl_enumvalue" href="MailMgr_8h.html#a368d973bdd90d42aece4d4546b14c2eca2bdbb4d96d9e6ac0f6a5279c67cf6810">MAIL_FLAG_DISABLE_POSTAGE_COSTS</a>;</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.mail.isDelayItemsDisabled)</div>
<div class="line"><span class="lineno">  413</span>        mailFlags |= <a class="code hl_enumvalue" href="MailMgr_8h.html#a368d973bdd90d42aece4d4546b14c2eca6f46ba13e3e5a0d92d5dd241649039ba">MAIL_FLAG_DISABLE_HOUR_DELAY_FOR_ITEMS</a>;</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.mail.isMessageExpiryDisabled)</div>
<div class="line"><span class="lineno">  416</span>        mailFlags |= <a class="code hl_enumvalue" href="MailMgr_8h.html#a368d973bdd90d42aece4d4546b14c2ecaa4af36ee09520d2b8f7668fb93e4145a">MAIL_FLAG_NO_EXPIRY</a>;</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.player.isInterfactionMailEnabled)</div>
<div class="line"><span class="lineno">  419</span>        mailFlags |= <a class="code hl_enumvalue" href="MailMgr_8h.html#a368d973bdd90d42aece4d4546b14c2eca7df52fa142f02ca58719f8371c687ae9">MAIL_FLAG_CAN_SEND_TO_OPPOSITE_FACTION</a>;</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.mail.isInterfactionMailForGmEnabled)</div>
<div class="line"><span class="lineno">  422</span>        mailFlags |= <a class="code hl_enumvalue" href="MailMgr_8h.html#a368d973bdd90d42aece4d4546b14c2eca86ba6ef6b61b6fdeab9cd12e03acaa4b">MAIL_FLAG_CAN_SEND_TO_OPPOSITE_FACTION_GM</a>;</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>    <a class="code hl_define" href="MailMgr_8h.html#ac49a68d66435db51ed3bec80bcc28ec8">sMailSystem</a>.config_flags = mailFlags;</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>    <span class="comment">//ThreadPool.Gobble();</span></div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>    <span class="comment">/* Connect to realmlist servers / logon servers */</span></div>
<div class="line"><span class="lineno">  429</span>    <a class="code hl_define" href="LogonCommHandler_8h.html#ac0287f399d89090e9ca11703797ff4d3">sLogonCommHandler</a>.initialize();</div>
<div class="line"><span class="lineno">  430</span>    <a class="code hl_define" href="LogonCommHandler_8h.html#ac0287f399d89090e9ca11703797ff4d3">sLogonCommHandler</a>.startLogonCommHandler();</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    <span class="comment">// Create listener</span></div>
<div class="line"><span class="lineno">  433</span>    <span class="keyword">auto</span> ls = std::make_unique&lt;ListenSocket&lt;WorldSocket&gt;&gt;(<a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.listen.listenHost.c_str(), <a class="code hl_define" href="World_8h.html#aea0df2a51a52c20517af81710295423d">worldConfig</a>.listen.listenPort);</div>
<div class="line"><span class="lineno">  434</span>    <span class="keywordtype">bool</span> listnersockcreate = ls-&gt;IsOpen();</div>
<div class="line"><span class="lineno">  435</span><span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><span class="lineno">  436</span>    <span class="keywordflow">if</span> (listnersockcreate)</div>
<div class="line"><span class="lineno">  437</span>        <a class="code hl_variable" href="LegacyThreadPool_8cpp.html#ad40b771ec3c02c9286beaaa67441cfa1">ThreadPool</a>.<a class="code hl_function" href="classCThreadPool.html#a7b3422f05fb8178feaafc39f66706e4a">ExecuteTask</a>(ls.get());</div>
<div class="line"><span class="lineno">  438</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  439</span> </div>
<div class="line"><span class="lineno">  440</span>    <a class="code hl_function" href="classMaster.html#af1a58587195f79f5b8b6a3472224eff4">ShutdownThreadPools</a>(listnersockcreate);</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>    <a class="code hl_function" href="classMaster.html#abf86080282be9e743bd5522d757c41f4">_UnhookSignals</a>();</div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>    <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a75f6c315bad949ff9566eb674cb75ede">worldRunnable</a>-&gt;threadShutdown();</div>
<div class="line"><span class="lineno">  445</span>    <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a75f6c315bad949ff9566eb674cb75ede">worldRunnable</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>    <a class="code hl_variable" href="LegacyThreadPool_8cpp.html#ad40b771ec3c02c9286beaaa67441cfa1">ThreadPool</a>.<a class="code hl_function" href="classCThreadPool.html#a11aa7fdce9b86687ad5474dd2f3c7209">ShowStats</a>();</div>
<div class="line"><span class="lineno">  448</span>    <span class="comment">/* Shut down console system */</span></div>
<div class="line"><span class="lineno">  449</span>    console-&gt;stopThread();</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    <span class="comment">// begin server shutdown</span></div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>    <a class="code hl_function" href="classMaster.html#a582fdb536dd55de663965eabc37b2dee">ShutdownLootSystem</a>();</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>    <span class="comment">// send a query to wake it up if its inactive</span></div>
<div class="line"><span class="lineno">  456</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Database : Clearing all pending queries...&quot;</span>);</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>    <span class="comment">// kill the database thread first so we don&#39;t lose any queries/data</span></div>
<div class="line"><span class="lineno">  459</span>    <a class="code hl_define" href="DatabaseDefinition_8hpp.html#a07bfdaa754f8ad97798e01adf9a1fd14">CharacterDatabase</a>.EndThreads();</div>
<div class="line"><span class="lineno">  460</span>    <a class="code hl_define" href="DatabaseDefinition_8hpp.html#a7367087c0923c701c361c9b42cc07f1e">WorldDatabase</a>.EndThreads();</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>    ls-&gt;Close();</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>    <a class="code hl_function" href="ConsoleListener_8cpp.html#a975e560e826eb6e0e42ed1a3379a8ecd">CloseConsoleListener</a>();</div>
<div class="line"><span class="lineno">  465</span>    <a class="code hl_define" href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.saveAllPlayersToDb();</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Network : Shutting down network subsystem.&quot;</span>);</div>
<div class="line"><span class="lineno">  468</span><span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><span class="lineno">  469</span>    sSocketMgr.ShutdownThreads();</div>
<div class="line"><span class="lineno">  470</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  471</span>    sSocketMgr.CloseAll();</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    <a class="code hl_variable" href="MapCell_8cpp.html#a72e6bc20d96aad7e9c2c92705d751b51">bServerShutdown</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  474</span>    <a class="code hl_variable" href="LegacyThreadPool_8cpp.html#ad40b771ec3c02c9286beaaa67441cfa1">ThreadPool</a>.<a class="code hl_function" href="classCThreadPool.html#a1de9bdbbc081bb8cb97f472af6a00673">Shutdown</a>();</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>    <a class="code hl_define" href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.logoutAllPlayers();</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>    <a class="code hl_define" href="LogonCommHandler_8h.html#ac0287f399d89090e9ca11703797ff4d3">sLogonCommHandler</a>.finalize();</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span><span class="preprocessor">#if VERSION_STRING &lt; Cata</span></div>
<div class="line"><span class="lineno">  481</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;AddonMgr : ~AddonMgr()&quot;</span>);</div>
<div class="line"><span class="lineno">  482</span>    <a class="code hl_define" href="AddonMgr_8h.html#a9dd297f44052051212cc726c21189475">sAddonMgr</a>.SaveToDB();</div>
<div class="line"><span class="lineno">  483</span>    <a class="code hl_define" href="AddonMgr_8h.html#a9dd297f44052051212cc726c21189475">sAddonMgr</a>.finalize();</div>
<div class="line"><span class="lineno">  484</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;AuctionMgr : ~AuctionMgr()&quot;</span>);</div>
<div class="line"><span class="lineno">  487</span>    <a class="code hl_define" href="AuctionMgr_8hpp.html#ac3e168154709326e99ab24a7d1395906">sAuctionMgr</a>.finalize();</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;LootMgr : ~LootMgr()&quot;</span>);</div>
<div class="line"><span class="lineno">  490</span>    <a class="code hl_define" href="LootMgr_8hpp.html#ab8f8fff84ad092dddff5018ed76690d2">sLootMgr</a>.finalize();</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;ChatHandler : ~ChatHandler()&quot;</span>);</div>
<div class="line"><span class="lineno">  493</span>    <a class="code hl_define" href="ChatCommandHandler_8hpp.html#a439ee028e8f7338ad63fccbb33bbd431">sChatHandler</a>.finalize();</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;World : ~World()&quot;</span>);</div>
<div class="line"><span class="lineno">  496</span>    <a class="code hl_define" href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.finalize();</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>    <a class="code hl_define" href="ScriptMgr_8hpp.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>.UnloadScripts();</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Database : Closing Connections...&quot;</span>);</div>
<div class="line"><span class="lineno">  501</span>    <a class="code hl_function" href="classMaster.html#af7d449d7e85e539790e967f37bd31cda">_StopDB</a>();</div>
<div class="line"><span class="lineno">  502</span> </div>
<div class="line"><span class="lineno">  503</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Network : Deleting Network Subsystem...&quot;</span>);</div>
<div class="line"><span class="lineno">  504</span>    sSocketMgr.finalize();</div>
<div class="line"><span class="lineno">  505</span>    <a class="code hl_define" href="Socket_8h.html#ae536a8b36d785cc1912080410a769ffd">sSocketGarbageCollector</a>.finalize();</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>    <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#aaccb310666ae8f3b907a76f571585108">GMCommand_Log</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  508</span>    <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a2be25bb1993e8dd4afbea3ef055946e8">Anticheat_Log</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  509</span>    <a class="code hl_variable" href="world_2Server_2Master_8cpp.html#a22957c14478d0ced1023740e80b5d032">Player_Log</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>    <span class="comment">// remove pid</span></div>
<div class="line"><span class="lineno">  512</span>    <span class="keywordflow">if</span> (remove(<span class="stringliteral">&quot;worldserver.pid&quot;</span>) != 0)</div>
<div class="line"><span class="lineno">  513</span>    {</div>
<div class="line"><span class="lineno">  514</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.failure(<span class="stringliteral">&quot;Error deleting file worldserver.pid&quot;</span>);</div>
<div class="line"><span class="lineno">  515</span>    }</div>
<div class="line"><span class="lineno">  516</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  517</span>    {</div>
<div class="line"><span class="lineno">  518</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.debug(<span class="stringliteral">&quot;File worldserver.pid successfully deleted&quot;</span>);</div>
<div class="line"><span class="lineno">  519</span>    }</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Shutdown : Shutdown complete.&quot;</span>);</div>
<div class="line"><span class="lineno">  522</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.finalize();</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span><span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><span class="lineno">  525</span>    WSACleanup();</div>
<div class="line"><span class="lineno">  526</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  529</span>}</div>
<div class="ttc" id="aAddonMgr_8h_html_a9dd297f44052051212cc726c21189475"><div class="ttname"><a href="AddonMgr_8h.html#a9dd297f44052051212cc726c21189475">sAddonMgr</a></div><div class="ttdeci">#define sAddonMgr</div><div class="ttdef"><b>Definition</b> <a href="AddonMgr_8h_source.html#l00197">AddonMgr.h:197</a></div></div>
<div class="ttc" id="aAuctionMgr_8hpp_html_ac3e168154709326e99ab24a7d1395906"><div class="ttname"><a href="AuctionMgr_8hpp.html#ac3e168154709326e99ab24a7d1395906">sAuctionMgr</a></div><div class="ttdeci">#define sAuctionMgr</div><div class="ttdef"><b>Definition</b> <a href="AuctionMgr_8hpp_source.html#l00047">AuctionMgr.hpp:47</a></div></div>
<div class="ttc" id="aChannelMgr_8hpp_html_a20b82f18005c8bcd8e65f7340937ffcb"><div class="ttname"><a href="ChannelMgr_8hpp.html#a20b82f18005c8bcd8e65f7340937ffcb">sChannelMgr</a></div><div class="ttdeci">#define sChannelMgr</div><div class="ttdef"><b>Definition</b> <a href="ChannelMgr_8hpp_source.html#l00067">ChannelMgr.hpp:67</a></div></div>
<div class="ttc" id="aChatCommandHandler_8hpp_html_a439ee028e8f7338ad63fccbb33bbd431"><div class="ttname"><a href="ChatCommandHandler_8hpp.html#a439ee028e8f7338ad63fccbb33bbd431">sChatHandler</a></div><div class="ttdeci">#define sChatHandler</div><div class="ttdef"><b>Definition</b> <a href="ChatCommandHandler_8hpp_source.html#l00595">ChatCommandHandler.hpp:595</a></div></div>
<div class="ttc" id="aConsoleListener_8cpp_html_a975e560e826eb6e0e42ed1a3379a8ecd"><div class="ttname"><a href="ConsoleListener_8cpp.html#a975e560e826eb6e0e42ed1a3379a8ecd">CloseConsoleListener</a></div><div class="ttdeci">void CloseConsoleListener()</div><div class="ttdef"><b>Definition</b> <a href="ConsoleListener_8cpp_source.html#l00055">ConsoleListener.cpp:55</a></div></div>
<div class="ttc" id="aEventMgr_8h_html_ae362df0de54c0ef52ebdbbe6a722c4bc"><div class="ttname"><a href="EventMgr_8h.html#ae362df0de54c0ef52ebdbbe6a722c4bc">sEventMgr</a></div><div class="ttdeci">#define sEventMgr</div><div class="ttdef"><b>Definition</b> <a href="EventMgr_8h_source.html#l00278">EventMgr.h:278</a></div></div>
<div class="ttc" id="aGameEventMgr_8hpp_html_a191e3a849eeb98bedc119177d7fbc64a"><div class="ttname"><a href="GameEventMgr_8hpp.html#a191e3a849eeb98bedc119177d7fbc64a">sGameEventMgrThread</a></div><div class="ttdeci">#define sGameEventMgrThread</div><div class="ttdef"><b>Definition</b> <a href="GameEventMgr_8hpp_source.html#l00061">GameEventMgr.hpp:61</a></div></div>
<div class="ttc" id="aLegacyThreadPool_8cpp_html_ad40b771ec3c02c9286beaaa67441cfa1"><div class="ttname"><a href="LegacyThreadPool_8cpp.html#ad40b771ec3c02c9286beaaa67441cfa1">ThreadPool</a></div><div class="ttdeci">SERVER_DECL CThreadPool ThreadPool</div><div class="ttdef"><b>Definition</b> <a href="LegacyThreadPool_8cpp_source.html#l00041">LegacyThreadPool.cpp:41</a></div></div>
<div class="ttc" id="aLogonCommHandler_8h_html_ac0287f399d89090e9ca11703797ff4d3"><div class="ttname"><a href="LogonCommHandler_8h.html#ac0287f399d89090e9ca11703797ff4d3">sLogonCommHandler</a></div><div class="ttdeci">#define sLogonCommHandler</div><div class="ttdef"><b>Definition</b> <a href="LogonCommHandler_8h_source.html#l00150">LogonCommHandler.h:150</a></div></div>
<div class="ttc" id="aLootMgr_8hpp_html_ab8f8fff84ad092dddff5018ed76690d2"><div class="ttname"><a href="LootMgr_8hpp.html#ab8f8fff84ad092dddff5018ed76690d2">sLootMgr</a></div><div class="ttdeci">#define sLootMgr</div><div class="ttdef"><b>Definition</b> <a href="LootMgr_8hpp_source.html#l00106">LootMgr.hpp:106</a></div></div>
<div class="ttc" id="aMailMgr_8h_html_a368d973bdd90d42aece4d4546b14c2eca2b7c8bbd55820abf6436d9bcc94ad9df"><div class="ttname"><a href="MailMgr_8h.html#a368d973bdd90d42aece4d4546b14c2eca2b7c8bbd55820abf6436d9bcc94ad9df">MAIL_FLAG_NO_COST_FOR_GM</a></div><div class="ttdeci">@ MAIL_FLAG_NO_COST_FOR_GM</div><div class="ttdef"><b>Definition</b> <a href="MailMgr_8h_source.html#l00046">MailMgr.h:46</a></div></div>
<div class="ttc" id="aMailMgr_8h_html_a368d973bdd90d42aece4d4546b14c2eca2bdbb4d96d9e6ac0f6a5279c67cf6810"><div class="ttname"><a href="MailMgr_8h.html#a368d973bdd90d42aece4d4546b14c2eca2bdbb4d96d9e6ac0f6a5279c67cf6810">MAIL_FLAG_DISABLE_POSTAGE_COSTS</a></div><div class="ttdeci">@ MAIL_FLAG_DISABLE_POSTAGE_COSTS</div><div class="ttdef"><b>Definition</b> <a href="MailMgr_8h_source.html#l00049">MailMgr.h:49</a></div></div>
<div class="ttc" id="aMailMgr_8h_html_a368d973bdd90d42aece4d4546b14c2eca6f46ba13e3e5a0d92d5dd241649039ba"><div class="ttname"><a href="MailMgr_8h.html#a368d973bdd90d42aece4d4546b14c2eca6f46ba13e3e5a0d92d5dd241649039ba">MAIL_FLAG_DISABLE_HOUR_DELAY_FOR_ITEMS</a></div><div class="ttdeci">@ MAIL_FLAG_DISABLE_HOUR_DELAY_FOR_ITEMS</div><div class="ttdef"><b>Definition</b> <a href="MailMgr_8h_source.html#l00050">MailMgr.h:50</a></div></div>
<div class="ttc" id="aMailMgr_8h_html_a368d973bdd90d42aece4d4546b14c2eca7df52fa142f02ca58719f8371c687ae9"><div class="ttname"><a href="MailMgr_8h.html#a368d973bdd90d42aece4d4546b14c2eca7df52fa142f02ca58719f8371c687ae9">MAIL_FLAG_CAN_SEND_TO_OPPOSITE_FACTION</a></div><div class="ttdeci">@ MAIL_FLAG_CAN_SEND_TO_OPPOSITE_FACTION</div><div class="ttdef"><b>Definition</b> <a href="MailMgr_8h_source.html#l00047">MailMgr.h:47</a></div></div>
<div class="ttc" id="aMailMgr_8h_html_a368d973bdd90d42aece4d4546b14c2eca86ba6ef6b61b6fdeab9cd12e03acaa4b"><div class="ttname"><a href="MailMgr_8h.html#a368d973bdd90d42aece4d4546b14c2eca86ba6ef6b61b6fdeab9cd12e03acaa4b">MAIL_FLAG_CAN_SEND_TO_OPPOSITE_FACTION_GM</a></div><div class="ttdeci">@ MAIL_FLAG_CAN_SEND_TO_OPPOSITE_FACTION_GM</div><div class="ttdef"><b>Definition</b> <a href="MailMgr_8h_source.html#l00048">MailMgr.h:48</a></div></div>
<div class="ttc" id="aMailMgr_8h_html_a368d973bdd90d42aece4d4546b14c2ecaa4af36ee09520d2b8f7668fb93e4145a"><div class="ttname"><a href="MailMgr_8h.html#a368d973bdd90d42aece4d4546b14c2ecaa4af36ee09520d2b8f7668fb93e4145a">MAIL_FLAG_NO_EXPIRY</a></div><div class="ttdeci">@ MAIL_FLAG_NO_EXPIRY</div><div class="ttdef"><b>Definition</b> <a href="MailMgr_8h_source.html#l00052">MailMgr.h:51</a></div></div>
<div class="ttc" id="aMailMgr_8h_html_ac49a68d66435db51ed3bec80bcc28ec8"><div class="ttname"><a href="MailMgr_8h.html#ac49a68d66435db51ed3bec80bcc28ec8">sMailSystem</a></div><div class="ttdeci">#define sMailSystem</div><div class="ttdef"><b>Definition</b> <a href="MailMgr_8h_source.html#l00189">MailMgr.h:189</a></div></div>
<div class="ttc" id="aMapCell_8cpp_html_a72e6bc20d96aad7e9c2c92705d751b51"><div class="ttname"><a href="MapCell_8cpp.html#a72e6bc20d96aad7e9c2c92705d751b51">bServerShutdown</a></div><div class="ttdeci">bool bServerShutdown</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00134">Master.cpp:134</a></div></div>
<div class="ttc" id="aOpcodeTable_8hpp_html_aa7c021ebe084b1f86fb0edc8db7910d4"><div class="ttname"><a href="OpcodeTable_8hpp.html#aa7c021ebe084b1f86fb0edc8db7910d4">sOpcodeTables</a></div><div class="ttdeci">#define sOpcodeTables</div><div class="ttdef"><b>Definition</b> <a href="OpcodeTable_8hpp_source.html#l00150">OpcodeTable.hpp:150</a></div></div>
<div class="ttc" id="aScriptMgr_8hpp_html_ae8161e629869974bc49b1cbfc73c1087"><div class="ttname"><a href="ScriptMgr_8hpp.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a></div><div class="ttdeci">#define sScriptMgr</div><div class="ttdef"><b>Definition</b> <a href="ScriptMgr_8hpp_source.html#l00186">ScriptMgr.hpp:186</a></div></div>
<div class="ttc" id="aSocket_8h_html_ae536a8b36d785cc1912080410a769ffd"><div class="ttname"><a href="Socket_8h.html#ae536a8b36d785cc1912080410a769ffd">sSocketGarbageCollector</a></div><div class="ttdeci">#define sSocketGarbageCollector</div><div class="ttdef"><b>Definition</b> <a href="Socket_8h_source.html#l00290">Socket.h:290</a></div></div>
<div class="ttc" id="aSpellMgr_8hpp_html_aa21e14d8e1145507b746a69b5487109d"><div class="ttname"><a href="SpellMgr_8hpp.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a></div><div class="ttdeci">#define sSpellMgr</div><div class="ttdef"><b>Definition</b> <a href="SpellMgr_8hpp_source.html#l00197">SpellMgr.hpp:197</a></div></div>
<div class="ttc" id="achrono_8h_html_a206f24de3f0fff46c4daeb318c02a45e"><div class="ttname"><a href="chrono_8h.html#a206f24de3f0fff46c4daeb318c02a45e">localtime</a></div><div class="ttdeci">FMT_BEGIN_EXPORT auto localtime(std::time_t time) -&gt; std::tm</div><div class="ttdef"><b>Definition</b> <a href="chrono_8h_source.html#l00489">chrono.h:489</a></div></div>
<div class="ttc" id="aclassCThreadPool_html_a11aa7fdce9b86687ad5474dd2f3c7209"><div class="ttname"><a href="classCThreadPool.html#a11aa7fdce9b86687ad5474dd2f3c7209">CThreadPool::ShowStats</a></div><div class="ttdeci">void ShowStats()</div><div class="ttdef"><b>Definition</b> <a href="LegacyThreadPool_8cpp_source.html#l00134">LegacyThreadPool.cpp:134</a></div></div>
<div class="ttc" id="aclassCThreadPool_html_a1de9bdbbc081bb8cb97f472af6a00673"><div class="ttname"><a href="classCThreadPool.html#a1de9bdbbc081bb8cb97f472af6a00673">CThreadPool::Shutdown</a></div><div class="ttdeci">void Shutdown()</div><div class="ttdef"><b>Definition</b> <a href="LegacyThreadPool_8cpp_source.html#l00211">LegacyThreadPool.cpp:211</a></div></div>
<div class="ttc" id="aclassCThreadPool_html_a7b3422f05fb8178feaafc39f66706e4a"><div class="ttname"><a href="classCThreadPool.html#a7b3422f05fb8178feaafc39f66706e4a">CThreadPool::ExecuteTask</a></div><div class="ttdeci">void ExecuteTask(ThreadBase *ExecutionTarget)</div><div class="ttdef"><b>Definition</b> <a href="LegacyThreadPool_8cpp_source.html#l00089">LegacyThreadPool.cpp:89</a></div></div>
<div class="ttc" id="aclassCThreadPool_html_ab5482a32645adf17d3d4dcf4c0536e2c"><div class="ttname"><a href="classCThreadPool.html#ab5482a32645adf17d3d4dcf4c0536e2c">CThreadPool::Startup</a></div><div class="ttdeci">void Startup()</div><div class="ttdef"><b>Definition</b> <a href="LegacyThreadPool_8cpp_source.html#l00123">LegacyThreadPool.cpp:123</a></div></div>
<div class="ttc" id="aclassDatabaseUpdater_html_abbc4090ff90f203ad36da5e4b7bc6c3c"><div class="ttname"><a href="classDatabaseUpdater.html#abbc4090ff90f203ad36da5e4b7bc6c3c">DatabaseUpdater::initBaseIfNeeded</a></div><div class="ttdeci">static void initBaseIfNeeded(const std::string &amp;dbName, const std::string &amp;dbBaseType, Database &amp;dbPointer)</div><div class="ttdef"><b>Definition</b> <a href="DatabaseUpdater_8cpp_source.html#l00018">DatabaseUpdater.cpp:18</a></div></div>
<div class="ttc" id="aclassDatabaseUpdater_html_ae128d1cd12de6dcac2e0e7dbd95de6b4"><div class="ttname"><a href="classDatabaseUpdater.html#ae128d1cd12de6dcac2e0e7dbd95de6b4">DatabaseUpdater::checkAndApplyDBUpdatesIfNeeded</a></div><div class="ttdeci">static void checkAndApplyDBUpdatesIfNeeded(const std::string &amp;database, Database &amp;dbPointer)</div><div class="ttdef"><b>Definition</b> <a href="DatabaseUpdater_8cpp_source.html#l00099">DatabaseUpdater.cpp:99</a></div></div>
<div class="ttc" id="aclassMaster_html_a0df2ed932f532d8365f5589441a01b79"><div class="ttname"><a href="classMaster.html#a0df2ed932f532d8365f5589441a01b79">Master::PrintBanner</a></div><div class="ttdeci">void PrintBanner()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00722">Master.cpp:722</a></div></div>
<div class="ttc" id="aclassMaster_html_a18468480c8e61ac74495c57cbe05f31e"><div class="ttname"><a href="classMaster.html#a18468480c8e61ac74495c57cbe05f31e">Master::OpenCheatLogFiles</a></div><div class="ttdeci">void OpenCheatLogFiles()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00745">Master.cpp:745</a></div></div>
<div class="ttc" id="aclassMaster_html_a18afe68278cef60bab3b76408575864e"><div class="ttname"><a href="classMaster.html#a18afe68278cef60bab3b76408575864e">Master::_StartDB</a></div><div class="ttdeci">bool _StartDB()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00595">Master.cpp:595</a></div></div>
<div class="ttc" id="aclassMaster_html_a1c274016bc4094652242fff51f9dfe2b"><div class="ttname"><a href="classMaster.html#a1c274016bc4094652242fff51f9dfe2b">Master::LoadWorldConfiguration</a></div><div class="ttdeci">bool LoadWorldConfiguration(std::string config_file)</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00728">Master.cpp:728</a></div></div>
<div class="ttc" id="aclassMaster_html_a34ca44a664fee4d5effbe5babf411136"><div class="ttname"><a href="classMaster.html#a34ca44a664fee4d5effbe5babf411136">Master::WritePidFile</a></div><div class="ttdeci">void WritePidFile()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00807">Master.cpp:807</a></div></div>
<div class="ttc" id="aclassMaster_html_a582fdb536dd55de663965eabc37b2dee"><div class="ttname"><a href="classMaster.html#a582fdb536dd55de663965eabc37b2dee">Master::ShutdownLootSystem</a></div><div class="ttdeci">void ShutdownLootSystem()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00924">Master.cpp:924</a></div></div>
<div class="ttc" id="aclassMaster_html_a6a8940510973189b3e28b68340a77703"><div class="ttname"><a href="classMaster.html#a6a8940510973189b3e28b68340a77703">Master::_HookSignals</a></div><div class="ttdeci">void _HookSignals()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00654">Master.cpp:654</a></div></div>
<div class="ttc" id="aclassMaster_html_a8cdb280fc097a775bffe9bf0ea6bdaf9"><div class="ttname"><a href="classMaster.html#a8cdb280fc097a775bffe9bf0ea6bdaf9">Master::StartNetworkSubsystem</a></div><div class="ttdeci">void StartNetworkSubsystem()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00918">Master.cpp:918</a></div></div>
<div class="ttc" id="aclassMaster_html_aab86eb8ff63d56e2b646a59ea3daf2a6"><div class="ttname"><a href="classMaster.html#aab86eb8ff63d56e2b646a59ea3daf2a6">Master::_CheckDBVersion</a></div><div class="ttdeci">bool _CheckDBVersion()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00531">Master.cpp:531</a></div></div>
<div class="ttc" id="aclassMaster_html_aae798ee73f7940ecf63822a0da97872c"><div class="ttname"><a href="classMaster.html#aae798ee73f7940ecf63822a0da97872c">Master::StartRemoteConsole</a></div><div class="ttdeci">void StartRemoteConsole()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00791">Master.cpp:791</a></div></div>
<div class="ttc" id="aclassMaster_html_abf86080282be9e743bd5522d757c41f4"><div class="ttname"><a href="classMaster.html#abf86080282be9e743bd5522d757c41f4">Master::_UnhookSignals</a></div><div class="ttdeci">void _UnhookSignals()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00667">Master.cpp:667</a></div></div>
<div class="ttc" id="aclassMaster_html_af1a58587195f79f5b8b6a3472224eff4"><div class="ttname"><a href="classMaster.html#af1a58587195f79f5b8b6a3472224eff4">Master::ShutdownThreadPools</a></div><div class="ttdeci">void ShutdownThreadPools(bool listnersockcreate)</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00823">Master.cpp:823</a></div></div>
<div class="ttc" id="aclassMaster_html_af7d449d7e85e539790e967f37bd31cda"><div class="ttname"><a href="classMaster.html#af7d449d7e85e539790e967f37bd31cda">Master::_StopDB</a></div><div class="ttdeci">void _StopDB()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00647">Master.cpp:647</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a213cc2e7e497e0cddfde0a1460e4acd0"><div class="ttname"><a href="classWorldSession.html#a213cc2e7e497e0cddfde0a1460e4acd0">WorldSession::registerOpcodeHandler</a></div><div class="ttdeci">static void registerOpcodeHandler()</div><div class="ttdef"><b>Definition</b> <a href="WorldSession_8cpp_source.html#l00729">WorldSession.cpp:729</a></div></div>
<div class="ttc" id="anamespaceAscEmu_1_1Logging_html_a8d6ebe24cc6f9b23380e46ec19d807e9"><div class="ttname"><a href="namespaceAscEmu_1_1Logging.html#a8d6ebe24cc6f9b23380e46ec19d807e9">AscEmu::Logging::MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdef"><b>Definition</b> <a href="MessageType_8hpp_source.html#l00010">MessageType.hpp:11</a></div></div>
<div class="ttc" id="anamespaceAscEmu_1_1Logging_html_ae95a0917e684bc883290e2deeca999d5"><div class="ttname"><a href="namespaceAscEmu_1_1Logging.html#ae95a0917e684bc883290e2deeca999d5">AscEmu::Logging::DebugFlags</a></div><div class="ttdeci">DebugFlags</div><div class="ttdef"><b>Definition</b> <a href="Severity_8hpp_source.html#l00023">Severity.hpp:24</a></div></div>
<div class="ttc" id="anamespaceUtil_html_a9a604a54078fde28181624aa02db063d"><div class="ttname"><a href="namespaceUtil.html#a9a604a54078fde28181624aa02db063d">Util::GetTimeDifferenceToNow</a></div><div class="ttdeci">long long GetTimeDifferenceToNow(const std::chrono::high_resolution_clock::time_point &amp;start_time)</div><div class="ttdoc">Returns the difference between start_time and now in milliseconds.</div><div class="ttdef"><b>Definition</b> <a href="Util_8cpp_source.html#l00150">Util.cpp:150</a></div></div>
<div class="ttc" id="anamespaceUtil_html_aee85a3996bf0f7eb58f931b3d01d3fe7"><div class="ttname"><a href="namespaceUtil.html#aee85a3996bf0f7eb58f931b3d01d3fe7">Util::TimeNow</a></div><div class="ttdeci">std::chrono::high_resolution_clock::time_point TimeNow()</div><div class="ttdoc">Returns the current point in time.</div><div class="ttdef"><b>Definition</b> <a href="Util_8cpp_source.html#l00130">Util.cpp:130</a></div></div>
<div class="ttc" id="asrc_2shared_2Logging_2Log_8cpp_html_a1aa46a3240ee2677caf6ecdefe3303fc"><div class="ttname"><a href="src_2shared_2Logging_2Log_8cpp.html#a1aa46a3240ee2677caf6ecdefe3303fc">g_localTime</a></div><div class="ttdeci">SERVER_DECL tm g_localTime</div><div class="ttdef"><b>Definition</b> <a href="src_2shared_2Logging_2Log_8cpp_source.html#l00018">Log.cpp:18</a></div></div>
<div class="ttc" id="asrc_2shared_2Logging_2Log_8cpp_html_a978bb344118668e71ada81ab392617cf"><div class="ttname"><a href="src_2shared_2Logging_2Log_8cpp.html#a978bb344118668e71ada81ab392617cf">UNIXTIME</a></div><div class="ttdeci">SERVER_DECL time_t UNIXTIME</div><div class="ttdef"><b>Definition</b> <a href="src_2shared_2Logging_2Log_8cpp_source.html#l00017">Log.cpp:17</a></div></div>
<div class="ttc" id="astructWoWDynamicObject_html"><div class="ttname"><a href="structWoWDynamicObject.html">WoWDynamicObject</a></div><div class="ttdef"><b>Definition</b> <a href="WoWDynamicObject_8hpp_source.html#l00033">WoWDynamicObject.hpp:34</a></div></div>
<div class="ttc" id="astructWoWGameObject_html"><div class="ttname"><a href="structWoWGameObject.html">WoWGameObject</a></div><div class="ttdef"><b>Definition</b> <a href="WoWGameObject_8hpp_source.html#l00026">WoWGameObject.hpp:27</a></div></div>
<div class="ttc" id="astructWoWItem_html"><div class="ttname"><a href="structWoWItem.html">WoWItem</a></div><div class="ttdef"><b>Definition</b> <a href="WoWItem_8hpp_source.html#l00035">WoWItem.hpp:36</a></div></div>
<div class="ttc" id="astructWoWObject_html"><div class="ttname"><a href="structWoWObject.html">WoWObject</a></div><div class="ttdef"><b>Definition</b> <a href="WoWObject_8hpp_source.html#l00043">WoWObject.hpp:44</a></div></div>
<div class="ttc" id="astructWoWPlayer_html"><div class="ttname"><a href="structWoWPlayer.html">WoWPlayer</a></div><div class="ttdef"><b>Definition</b> <a href="WoWPlayer_8hpp_source.html#l00142">WoWPlayer.hpp:143</a></div></div>
<div class="ttc" id="astructWoWUnit_html"><div class="ttname"><a href="structWoWUnit.html">WoWUnit</a></div><div class="ttdef"><b>Definition</b> <a href="WoWUnit_8hpp_source.html#l00082">WoWUnit.hpp:83</a></div></div>
<div class="ttc" id="awinvs__stdint_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition</b> <a href="winvs__stdint_8h_source.html#l00080">winvs_stdint.h:80</a></div></div>
<div class="ttc" id="aworld_2Server_2Master_8cpp_html_a0cbed6691670b658f981fbae43781a4b"><div class="ttname"><a href="world_2Server_2Master_8cpp.html#a0cbed6691670b658f981fbae43781a4b">checkRequiredDirs</a></div><div class="ttdeci">bool checkRequiredDirs()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00159">Master.cpp:159</a></div></div>
<div class="ttc" id="aworld_2Server_2Master_8cpp_html_a16e85e997e3a9cab980bfc1854297954"><div class="ttname"><a href="world_2Server_2Master_8cpp.html#a16e85e997e3a9cab980bfc1854297954">createExtendedLogDir</a></div><div class="ttdeci">void createExtendedLogDir()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00150">Master.cpp:150</a></div></div>
<div class="ttc" id="aworld_2Server_2Master_8cpp_html_a3bc0b7bb52f754ed9f916c2d75a283c6"><div class="ttname"><a href="world_2Server_2Master_8cpp.html#a3bc0b7bb52f754ed9f916c2d75a283c6">checkAdditinaloDirs</a></div><div class="ttdeci">void checkAdditinaloDirs()</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00198">Master.cpp:198</a></div></div>
<div class="ttc" id="aworld_2Server_2Master_8cpp_html_a75f6c315bad949ff9566eb674cb75ede"><div class="ttname"><a href="world_2Server_2Master_8cpp.html#a75f6c315bad949ff9566eb674cb75ede">worldRunnable</a></div><div class="ttdeci">std::unique_ptr&lt; WorldRunnable &gt; worldRunnable</div><div class="ttdef"><b>Definition</b> <a href="world_2Server_2Master_8cpp_source.html#l00142">Master.cpp:142</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMaster_a12dde72f3398edffca613e77185fd6f3_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a582fdb536dd55de663965eabc37b2dee" name="a582fdb536dd55de663965eabc37b2dee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a582fdb536dd55de663965eabc37b2dee">&#9670;&#160;</a></span>ShutdownLootSystem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Master::ShutdownLootSystem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00924">924</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  925</span>{</div>
<div class="line"><span class="lineno">  926</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Shutdown : Initiated at {}&quot;</span>, <a class="code hl_function" href="namespaceUtil.html#a31503edb696e058470ab8194221a995d">Util::GetDateTimeStringFromTimeStamp</a>((<a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code hl_variable" href="src_2shared_2Logging_2Log_8cpp.html#a978bb344118668e71ada81ab392617cf">UNIXTIME</a>));</div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="LootMgr_8hpp.html#ab8f8fff84ad092dddff5018ed76690d2">sLootMgr</a>.isLoading())</div>
<div class="line"><span class="lineno">  929</span>    {</div>
<div class="line"><span class="lineno">  930</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Shutdown : Waiting for loot to finish loading...&quot;</span>);</div>
<div class="line"><span class="lineno">  931</span>        <span class="keywordflow">while</span> (<a class="code hl_define" href="LootMgr_8hpp.html#ab8f8fff84ad092dddff5018ed76690d2">sLootMgr</a>.isLoading())</div>
<div class="line"><span class="lineno">  932</span>            <a class="code hl_function" href="namespaceArcemu.html#ac21bec87566497038d444daa9dd84b74">Arcemu::Sleep</a>(100);</div>
<div class="line"><span class="lineno">  933</span>    }</div>
<div class="line"><span class="lineno">  934</span>}</div>
<div class="ttc" id="anamespaceArcemu_html_ac21bec87566497038d444daa9dd84b74"><div class="ttname"><a href="namespaceArcemu.html#ac21bec87566497038d444daa9dd84b74">Arcemu::Sleep</a></div><div class="ttdeci">void Sleep(unsigned long timems)</div><div class="ttdef"><b>Definition</b> <a href="LegacyThreadPool_8cpp_source.html#l00411">LegacyThreadPool.cpp:411</a></div></div>
<div class="ttc" id="anamespaceUtil_html_a31503edb696e058470ab8194221a995d"><div class="ttname"><a href="namespaceUtil.html#a31503edb696e058470ab8194221a995d">Util::GetDateTimeStringFromTimeStamp</a></div><div class="ttdeci">std::string GetDateTimeStringFromTimeStamp(uint32_t timestamp)</div><div class="ttdoc">Returns Date Time as string from timestamp.</div><div class="ttdef"><b>Definition</b> <a href="Util_8cpp_source.html#l00198">Util.cpp:198</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_a582fdb536dd55de663965eabc37b2dee_cgraph.svg" width="616" height="126"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_a582fdb536dd55de663965eabc37b2dee_icgraph.svg" width="375" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af1a58587195f79f5b8b6a3472224eff4" name="af1a58587195f79f5b8b6a3472224eff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1a58587195f79f5b8b6a3472224eff4">&#9670;&#160;</a></span>ShutdownThreadPools()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Master::ShutdownThreadPools </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>listnersockcreate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00823">823</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  824</span>{</div>
<div class="line"><span class="lineno">  825</span>    <a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> loopcounter = 0;</div>
<div class="line"><span class="lineno">  826</span>    <span class="keyword">auto</span> last_time = <a class="code hl_function" href="namespaceUtil.html#aee85a3996bf0f7eb58f931b3d01d3fe7">Util::TimeNow</a>();</div>
<div class="line"><span class="lineno">  827</span>    <a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> next_printout = <a class="code hl_function" href="namespaceUtil.html#a15e1eefda0759ccb5e7f818f9574272b">Util::getMSTime</a>(), next_send = <a class="code hl_function" href="namespaceUtil.html#a15e1eefda0759ccb5e7f818f9574272b">Util::getMSTime</a>();</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>    <span class="keywordflow">while</span> (!<a class="code hl_variable" href="classMaster.html#a866ac8c2227598ffe3330db438278b14">m_stopEvent</a> &amp;&amp; listnersockcreate)</div>
<div class="line"><span class="lineno">  830</span>    {</div>
<div class="line"><span class="lineno">  831</span>        <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5aea2b2676c28c0db26d39331a336c6b92">start</a> = <a class="code hl_function" href="namespaceUtil.html#aee85a3996bf0f7eb58f931b3d01d3fe7">Util::TimeNow</a>();</div>
<div class="line"><span class="lineno">  832</span>        <span class="keyword">auto</span> diff = <a class="code hl_function" href="namespaceUtil.html#a8e9703cc5b352fa75f044c34d1c96d5a">Util::GetTimeDifference</a>(last_time, start);</div>
<div class="line"><span class="lineno">  833</span>        <span class="keywordflow">if</span> (!((++loopcounter) % 10000))        <span class="comment">// 5mins</span></div>
<div class="line"><span class="lineno">  834</span>        {</div>
<div class="line"><span class="lineno">  835</span>            <a class="code hl_variable" href="LegacyThreadPool_8cpp.html#ad40b771ec3c02c9286beaaa67441cfa1">ThreadPool</a>.<a class="code hl_function" href="classCThreadPool.html#a11aa7fdce9b86687ad5474dd2f3c7209">ShowStats</a>();</div>
<div class="line"><span class="lineno">  836</span>            <a class="code hl_variable" href="LegacyThreadPool_8cpp.html#ad40b771ec3c02c9286beaaa67441cfa1">ThreadPool</a>.<a class="code hl_function" href="classCThreadPool.html#ab6c3ca3e7a93d6adcdfeaf5f846b4a1b">IntegrityCheck</a>();</div>
<div class="line"><span class="lineno">  837</span><span class="preprocessor">#if !defined(WIN32) &amp;&amp; defined(__DEBUG__)</span></div>
<div class="line"><span class="lineno">  838</span>            FILE* f = fopen(<span class="stringliteral">&quot;worldserver.uptime&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno">  839</span>            <span class="keywordflow">if</span> (f)</div>
<div class="line"><span class="lineno">  840</span>            {</div>
<div class="line"><span class="lineno">  841</span>                <a class="code hl_function" href="printf_8h.html#a9f315126362cae9675de1642105e631e">fprintf</a>(f, <span class="stringliteral">&quot;%u %u %u %u&quot;</span>, <a class="code hl_define" href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.GetUptime(), <a class="code hl_define" href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.GetSessionCount(), <a class="code hl_define" href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getPeakSessionCount(), <a class="code hl_define" href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getAcceptedConnections());</div>
<div class="line"><span class="lineno">  842</span>                fclose(f);</div>
<div class="line"><span class="lineno">  843</span>            }</div>
<div class="line"><span class="lineno">  844</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  845</span>        }</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>        <span class="comment">/* since time() is an expensive system call, we only update it once per server loop */</span></div>
<div class="line"><span class="lineno">  848</span>        time_t curTime = time(<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  849</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="src_2shared_2Logging_2Log_8cpp.html#a978bb344118668e71ada81ab392617cf">UNIXTIME</a> != curTime)</div>
<div class="line"><span class="lineno">  850</span>        {</div>
<div class="line"><span class="lineno">  851</span>            <a class="code hl_variable" href="src_2shared_2Logging_2Log_8cpp.html#a978bb344118668e71ada81ab392617cf">UNIXTIME</a> = time(<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  852</span>            <a class="code hl_variable" href="src_2shared_2Logging_2Log_8cpp.html#a1aa46a3240ee2677caf6ecdefe3303fc">g_localTime</a> = *<a class="code hl_function" href="chrono_8h.html#a206f24de3f0fff46c4daeb318c02a45e">localtime</a>(&amp;curTime);</div>
<div class="line"><span class="lineno">  853</span>        }</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>        <a class="code hl_define" href="Socket_8h.html#ae536a8b36d785cc1912080410a769ffd">sSocketGarbageCollector</a>.Update();</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span>        <span class="comment">/* UPDATE */</span></div>
<div class="line"><span class="lineno">  858</span>        last_time = <a class="code hl_function" href="namespaceUtil.html#aee85a3996bf0f7eb58f931b3d01d3fe7">Util::TimeNow</a>();</div>
<div class="line"><span class="lineno">  859</span>        <span class="keyword">auto</span> etime = <a class="code hl_function" href="namespaceUtil.html#a8e9703cc5b352fa75f044c34d1c96d5a">Util::GetTimeDifference</a>(start, last_time);</div>
<div class="line"><span class="lineno">  860</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classMaster.html#ad17bc9076e2f7221691b5c63be9e59e1">m_ShutdownEvent</a>)</div>
<div class="line"><span class="lineno">  861</span>        {</div>
<div class="line"><span class="lineno">  862</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceUtil.html#a15e1eefda0759ccb5e7f818f9574272b">Util::getMSTime</a>() &gt;= next_printout)</div>
<div class="line"><span class="lineno">  863</span>            {</div>
<div class="line"><span class="lineno">  864</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classMaster.html#a5b1dbfd15a9c802e81de10f217559e83">m_ShutdownTimer</a> &gt; 60000.0f)</div>
<div class="line"><span class="lineno">  865</span>                {</div>
<div class="line"><span class="lineno">  866</span>                    <span class="keywordflow">if</span> (!(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classMaster.html#a5b1dbfd15a9c802e81de10f217559e83">m_ShutdownTimer</a>) % 60000))</div>
<div class="line"><span class="lineno">  867</span>                    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Server : Shutdown in {} minutes.&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classMaster.html#a5b1dbfd15a9c802e81de10f217559e83">m_ShutdownTimer</a> / 60000.0f));</div>
<div class="line"><span class="lineno">  868</span>                }</div>
<div class="line"><span class="lineno">  869</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  870</span>                <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Server : Shutdown in {} seconds.&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classMaster.html#a5b1dbfd15a9c802e81de10f217559e83">m_ShutdownTimer</a> / 1000.0f));</div>
<div class="line"><span class="lineno">  871</span> </div>
<div class="line"><span class="lineno">  872</span>                next_printout = <a class="code hl_function" href="namespaceUtil.html#a15e1eefda0759ccb5e7f818f9574272b">Util::getMSTime</a>() + 500;</div>
<div class="line"><span class="lineno">  873</span>            }</div>
<div class="line"><span class="lineno">  874</span> </div>
<div class="line"><span class="lineno">  875</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceUtil.html#a15e1eefda0759ccb5e7f818f9574272b">Util::getMSTime</a>() &gt;= next_send)</div>
<div class="line"><span class="lineno">  876</span>            {</div>
<div class="line"><span class="lineno">  877</span>                <span class="keywordtype">int</span> time = <a class="code hl_variable" href="classMaster.html#a5b1dbfd15a9c802e81de10f217559e83">m_ShutdownTimer</a> / 1000;</div>
<div class="line"><span class="lineno">  878</span>                <span class="keywordflow">if</span> ((time % 30 == 0) || time &lt; 10)</div>
<div class="line"><span class="lineno">  879</span>                {</div>
<div class="line"><span class="lineno">  880</span>                    <span class="comment">// broadcast packet.</span></div>
<div class="line"><span class="lineno">  881</span>                    <a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> messageType;</div>
<div class="line"><span class="lineno">  882</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classMaster.html#aadf1017001351f124204826d8db68973">m_restartEvent</a>)</div>
<div class="line"><span class="lineno">  883</span>                        messageType = <a class="code hl_enumvalue" href="World_8h.html#a08e6f7cfaf7929274a1908b0e95c798fae8f145f08fb30710c968e3a9951d8b68">SERVER_MSG_RESTART_TIME</a>;</div>
<div class="line"><span class="lineno">  884</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  885</span>                        messageType = <a class="code hl_enumvalue" href="World_8h.html#a08e6f7cfaf7929274a1908b0e95c798fa06a96ab329b402934a6bd8d22fbd930c">SERVER_MSG_SHUTDOWN_TIME</a>;</div>
<div class="line"><span class="lineno">  886</span> </div>
<div class="line"><span class="lineno">  887</span>                    <span class="keywordflow">if</span> (time &gt; 0)</div>
<div class="line"><span class="lineno">  888</span>                    {</div>
<div class="line"><span class="lineno">  889</span>                        <span class="keywordtype">int</span> mins = 0, secs = 0;</div>
<div class="line"><span class="lineno">  890</span>                        <span class="keywordflow">if</span> (time &gt; 60)</div>
<div class="line"><span class="lineno">  891</span>                            mins = time / 60;</div>
<div class="line"><span class="lineno">  892</span>                        <span class="keywordflow">if</span> (mins)</div>
<div class="line"><span class="lineno">  893</span>                            time -= (mins * 60);</div>
<div class="line"><span class="lineno">  894</span>                        secs = time;</div>
<div class="line"><span class="lineno">  895</span>                        <span class="keywordtype">char</span> str[20];</div>
<div class="line"><span class="lineno">  896</span>                        snprintf(str, 20, <span class="stringliteral">&quot;%02u:%02u&quot;</span>, mins, secs);</div>
<div class="line"><span class="lineno">  897</span> </div>
<div class="line"><span class="lineno">  898</span>                        <a class="code hl_define" href="World_8h.html#a05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.sendGlobalMessage(<a class="code hl_class" href="classAscEmu_1_1Packets_1_1SmsgServerMessage.html">AscEmu::Packets::SmsgServerMessage</a>(messageType, str).serialise().get());</div>
<div class="line"><span class="lineno">  899</span>                    }</div>
<div class="line"><span class="lineno">  900</span>                }</div>
<div class="line"><span class="lineno">  901</span>                next_send = <a class="code hl_function" href="namespaceUtil.html#a15e1eefda0759ccb5e7f818f9574272b">Util::getMSTime</a>() + 1000;</div>
<div class="line"><span class="lineno">  902</span>            }</div>
<div class="line"><span class="lineno">  903</span>            <span class="keywordflow">if</span> (diff &gt;= <a class="code hl_variable" href="classMaster.html#a5b1dbfd15a9c802e81de10f217559e83">m_ShutdownTimer</a>)</div>
<div class="line"><span class="lineno">  904</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  905</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  906</span>                <a class="code hl_variable" href="classMaster.html#a5b1dbfd15a9c802e81de10f217559e83">m_ShutdownTimer</a> -= <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a><span class="keyword">&gt;</span>(diff);</div>
<div class="line"><span class="lineno">  907</span>        }</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>        <span class="keywordflow">if</span> (50 &gt; etime)</div>
<div class="line"><span class="lineno">  910</span>        {</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>            <a class="code hl_function" href="namespaceArcemu.html#ac21bec87566497038d444daa9dd84b74">Arcemu::Sleep</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(50 - etime));</div>
<div class="line"><span class="lineno">  913</span> </div>
<div class="line"><span class="lineno">  914</span>        }</div>
<div class="line"><span class="lineno">  915</span>    }</div>
<div class="line"><span class="lineno">  916</span>}</div>
<div class="ttc" id="aWorld_8h_html_a08e6f7cfaf7929274a1908b0e95c798fa06a96ab329b402934a6bd8d22fbd930c"><div class="ttname"><a href="World_8h.html#a08e6f7cfaf7929274a1908b0e95c798fa06a96ab329b402934a6bd8d22fbd930c">SERVER_MSG_SHUTDOWN_TIME</a></div><div class="ttdeci">@ SERVER_MSG_SHUTDOWN_TIME</div><div class="ttdef"><b>Definition</b> <a href="World_8h_source.html#l00028">World.h:28</a></div></div>
<div class="ttc" id="aWorld_8h_html_a08e6f7cfaf7929274a1908b0e95c798fae8f145f08fb30710c968e3a9951d8b68"><div class="ttname"><a href="World_8h.html#a08e6f7cfaf7929274a1908b0e95c798fae8f145f08fb30710c968e3a9951d8b68">SERVER_MSG_RESTART_TIME</a></div><div class="ttdeci">@ SERVER_MSG_RESTART_TIME</div><div class="ttdef"><b>Definition</b> <a href="World_8h_source.html#l00029">World.h:29</a></div></div>
<div class="ttc" id="aclassAscEmu_1_1Packets_1_1SmsgServerMessage_html"><div class="ttname"><a href="classAscEmu_1_1Packets_1_1SmsgServerMessage.html">AscEmu::Packets::SmsgServerMessage</a></div><div class="ttdef"><b>Definition</b> <a href="SmsgServerMessage_8h_source.html#l00014">SmsgServerMessage.h:15</a></div></div>
<div class="ttc" id="aclassCThreadPool_html_ab6c3ca3e7a93d6adcdfeaf5f846b4a1b"><div class="ttname"><a href="classCThreadPool.html#ab6c3ca3e7a93d6adcdfeaf5f846b4a1b">CThreadPool::IntegrityCheck</a></div><div class="ttdeci">void IntegrityCheck()</div><div class="ttdef"><b>Definition</b> <a href="LegacyThreadPool_8cpp_source.html#l00144">LegacyThreadPool.cpp:144</a></div></div>
<div class="ttc" id="anamespaceUtil_html_a15e1eefda0759ccb5e7f818f9574272b"><div class="ttname"><a href="namespaceUtil.html#a15e1eefda0759ccb5e7f818f9574272b">Util::getMSTime</a></div><div class="ttdeci">uint32_t getMSTime()</div><div class="ttdef"><b>Definition</b> <a href="Util_8cpp_source.html#l00143">Util.cpp:143</a></div></div>
<div class="ttc" id="anamespaceUtil_html_a8e9703cc5b352fa75f044c34d1c96d5a"><div class="ttname"><a href="namespaceUtil.html#a8e9703cc5b352fa75f044c34d1c96d5a">Util::GetTimeDifference</a></div><div class="ttdeci">long long GetTimeDifference(const std::chrono::high_resolution_clock::time_point &amp;start_time, const std::chrono::high_resolution_clock::time_point &amp;end_time)</div><div class="ttdoc">Returns the difference between start_time and end_time in milliseconds.</div><div class="ttdef"><b>Definition</b> <a href="Util_8cpp_source.html#l00157">Util.cpp:157</a></div></div>
<div class="ttc" id="anamespacedetail_html_ac742e301ae0a908dc31e49ac3a31fcc5aea2b2676c28c0db26d39331a336c6b92"><div class="ttname"><a href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5aea2b2676c28c0db26d39331a336c6b92">detail::state::start</a></div><div class="ttdeci">@ start</div></div>
<div class="ttc" id="aprintf_8h_html_a9f315126362cae9675de1642105e631e"><div class="ttname"><a href="printf_8h.html#a9f315126362cae9675de1642105e631e">fprintf</a></div><div class="ttdeci">auto fprintf(std::FILE *f, const S &amp;fmt, const T &amp;... args) -&gt; int</div><div class="ttdef"><b>Definition</b> <a href="printf_8h_source.html#l00640">printf.h:640</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMaster_af1a58587195f79f5b8b6a3472224eff4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_af1a58587195f79f5b8b6a3472224eff4_icgraph.svg" width="378" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8cdb280fc097a775bffe9bf0ea6bdaf9" name="a8cdb280fc097a775bffe9bf0ea6bdaf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cdb280fc097a775bffe9bf0ea6bdaf9">&#9670;&#160;</a></span>StartNetworkSubsystem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Master::StartNetworkSubsystem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00918">918</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  919</span>{</div>
<div class="line"><span class="lineno">  920</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;Network : Starting subsystem...&quot;</span>);</div>
<div class="line"><span class="lineno">  921</span>    sSocketMgr.initialize();</div>
<div class="line"><span class="lineno">  922</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_a8cdb280fc097a775bffe9bf0ea6bdaf9_icgraph.svg" width="392" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aae798ee73f7940ecf63822a0da97872c" name="aae798ee73f7940ecf63822a0da97872c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae798ee73f7940ecf63822a0da97872c">&#9670;&#160;</a></span>StartRemoteConsole()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Master::StartRemoteConsole </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00791">791</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  792</span>{</div>
<div class="line"><span class="lineno">  793</span>    <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;RemoteConsole : Starting...&quot;</span>);</div>
<div class="line"><span class="lineno">  794</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="ConsoleListener_8cpp.html#ae5a6571b52216f6ae471371711652abf">StartConsoleListener</a>())</div>
<div class="line"><span class="lineno">  795</span>    {</div>
<div class="line"><span class="lineno">  796</span><span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><span class="lineno">  797</span>        <a class="code hl_variable" href="LegacyThreadPool_8cpp.html#ad40b771ec3c02c9286beaaa67441cfa1">ThreadPool</a>.<a class="code hl_function" href="classCThreadPool.html#a7b3422f05fb8178feaafc39f66706e4a">ExecuteTask</a>(GetConsoleListener());</div>
<div class="line"><span class="lineno">  798</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  799</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.info(<span class="stringliteral">&quot;RemoteConsole : Now open.&quot;</span>);</div>
<div class="line"><span class="lineno">  800</span>    }</div>
<div class="line"><span class="lineno">  801</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  802</span>    {</div>
<div class="line"><span class="lineno">  803</span>        <a class="code hl_define" href="Logger_8hpp.html#a50320f857c38e7c413b48a556ad30e83">sLogger</a>.warning(<span class="stringliteral">&quot;RemoteConsole : Not enabled or failed listen.&quot;</span>);</div>
<div class="line"><span class="lineno">  804</span>    }</div>
<div class="line"><span class="lineno">  805</span>}</div>
<div class="ttc" id="aConsoleListener_8cpp_html_ae5a6571b52216f6ae471371711652abf"><div class="ttname"><a href="ConsoleListener_8cpp.html#ae5a6571b52216f6ae471371711652abf">StartConsoleListener</a></div><div class="ttdeci">bool StartConsoleListener()</div><div class="ttdef"><b>Definition</b> <a href="ConsoleListener_8cpp_source.html#l00063">ConsoleListener.cpp:63</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMaster_aae798ee73f7940ecf63822a0da97872c_cgraph.svg" width="100%" height="429"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_aae798ee73f7940ecf63822a0da97872c_icgraph.svg" width="368" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a34ca44a664fee4d5effbe5babf411136" name="a34ca44a664fee4d5effbe5babf411136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34ca44a664fee4d5effbe5babf411136">&#9670;&#160;</a></span>WritePidFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Master::WritePidFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="world_2Server_2Master_8cpp_source.html#l00807">807</a> of file <a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  808</span>{</div>
<div class="line"><span class="lineno">  809</span>    FILE* fPid = fopen(<span class="stringliteral">&quot;worldserver.pid&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno">  810</span>    <span class="keywordflow">if</span> (fPid)</div>
<div class="line"><span class="lineno">  811</span>    {</div>
<div class="line"><span class="lineno">  812</span>        <a class="code hl_typedef" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> pid;</div>
<div class="line"><span class="lineno">  813</span><span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><span class="lineno">  814</span>        pid = GetCurrentProcessId();</div>
<div class="line"><span class="lineno">  815</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  816</span>        pid = getpid();</div>
<div class="line"><span class="lineno">  817</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  818</span>        <a class="code hl_function" href="printf_8h.html#a9f315126362cae9675de1642105e631e">fprintf</a>(fPid, <span class="stringliteral">&quot;%u&quot;</span>, pid);</div>
<div class="line"><span class="lineno">  819</span>        fclose(fPid);</div>
<div class="line"><span class="lineno">  820</span>    }</div>
<div class="line"><span class="lineno">  821</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMaster_a34ca44a664fee4d5effbe5babf411136_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMaster_a34ca44a664fee4d5effbe5babf411136_icgraph.svg" width="312" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aadf1017001351f124204826d8db68973" name="aadf1017001351f124204826d8db68973"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadf1017001351f124204826d8db68973">&#9670;&#160;</a></span>m_restartEvent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Master::m_restartEvent</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Master_8h_source.html#l00041">41</a> of file <a class="el" href="Master_8h_source.html">Master.h</a>.</p>

</div>
</div>
<a id="ad17bc9076e2f7221691b5c63be9e59e1" name="ad17bc9076e2f7221691b5c63be9e59e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad17bc9076e2f7221691b5c63be9e59e1">&#9670;&#160;</a></span>m_ShutdownEvent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Master::m_ShutdownEvent</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Master_8h_source.html#l00037">37</a> of file <a class="el" href="Master_8h_source.html">Master.h</a>.</p>

</div>
</div>
<a id="a5b1dbfd15a9c802e81de10f217559e83" name="a5b1dbfd15a9c802e81de10f217559e83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b1dbfd15a9c802e81de10f217559e83">&#9670;&#160;</a></span>m_ShutdownTimer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="winvs__stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> Master::m_ShutdownTimer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Master_8h_source.html#l00038">38</a> of file <a class="el" href="Master_8h_source.html">Master.h</a>.</p>

</div>
</div>
<a id="a866ac8c2227598ffe3330db438278b14" name="a866ac8c2227598ffe3330db438278b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866ac8c2227598ffe3330db438278b14">&#9670;&#160;</a></span>m_stopEvent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="StormPort_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Master::m_stopEvent = <a class="el" href="StormPort_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Master_8h_source.html#l00040">40</a> of file <a class="el" href="Master_8h_source.html">Master.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>AscEmu/src/world/Server/<a class="el" href="Master_8h_source.html">Master.h</a></li>
<li>AscEmu/src/world/Server/<a class="el" href="world_2Server_2Master_8cpp_source.html">Master.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classMaster.html">Master</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
