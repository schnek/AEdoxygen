<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AscEmu: AscEmu/dep/zlib/gzread.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="AscEmu.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AscEmu
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('gzread_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">gzread.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="zlib_2gzguts_8h_source.html">gzguts.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for gzread.c:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzread_8c__incl.svg" width="339" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="gzread_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af7f3ad614b7059314f1673da8950df3f" id="r_af7f3ad614b7059314f1673da8950df3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#af7f3ad614b7059314f1673da8950df3f">gz_load</a> (<a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> state, unsigned char *<a class="el" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, unsigned len, unsigned *have)</td></tr>
<tr class="separator:af7f3ad614b7059314f1673da8950df3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a880d9d0c2827714cd40d8ba7f3637294" id="r_a880d9d0c2827714cd40d8ba7f3637294"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#a880d9d0c2827714cd40d8ba7f3637294">gz_avail</a> (<a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> state)</td></tr>
<tr class="separator:a880d9d0c2827714cd40d8ba7f3637294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2335993758928a1328423a4c3cd8f5a5" id="r_a2335993758928a1328423a4c3cd8f5a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#a2335993758928a1328423a4c3cd8f5a5">gz_look</a> (<a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> state)</td></tr>
<tr class="separator:a2335993758928a1328423a4c3cd8f5a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b2cb72f18826fd5410e1cbdd9cf3941" id="r_a4b2cb72f18826fd5410e1cbdd9cf3941"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#a4b2cb72f18826fd5410e1cbdd9cf3941">gz_decomp</a> (<a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> state)</td></tr>
<tr class="separator:a4b2cb72f18826fd5410e1cbdd9cf3941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221059506dd52a3dc6fa990f0e191ba8" id="r_a221059506dd52a3dc6fa990f0e191ba8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#a221059506dd52a3dc6fa990f0e191ba8">gz_fetch</a> (<a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> state)</td></tr>
<tr class="separator:a221059506dd52a3dc6fa990f0e191ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f15e560c3c56fc5d845afd2c5c0b56" id="r_aa3f15e560c3c56fc5d845afd2c5c0b56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#aa3f15e560c3c56fc5d845afd2c5c0b56">gz_skip</a> (<a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> state, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#ab9923767082c7a76924b31493e60d42c">z_off64_t</a> len)</td></tr>
<tr class="separator:aa3f15e560c3c56fc5d845afd2c5c0b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e7c20ac97b2f2d7cd21c3e0399999b5" id="r_a2e7c20ac97b2f2d7cd21c3e0399999b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> <a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#a2e7c20ac97b2f2d7cd21c3e0399999b5">gz_read</a> (<a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> state, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#aa3397ff439b5e076528b04bc9b8b086a">voidp</a> <a class="el" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, <a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> len)</td></tr>
<tr class="separator:a2e7c20ac97b2f2d7cd21c3e0399999b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d0d971b446b67bbc4261fa5fef622bd" id="r_a2d0d971b446b67bbc4261fa5fef622bd"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#a2d0d971b446b67bbc4261fa5fef622bd">gzread</a> (<a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#aa3397ff439b5e076528b04bc9b8b086a">voidp</a> <a class="el" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, unsigned len)</td></tr>
<tr class="separator:a2d0d971b446b67bbc4261fa5fef622bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acebeb254a3cecff218bdd52bcd90d7cf" id="r_acebeb254a3cecff218bdd52bcd90d7cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#acebeb254a3cecff218bdd52bcd90d7cf">gzfread</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#aa3397ff439b5e076528b04bc9b8b086a">voidp</a> <a class="el" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, <a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> size, <a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> nitems, <a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file)</td></tr>
<tr class="separator:acebeb254a3cecff218bdd52bcd90d7cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e9f6a517ed1e04c3765fe24153fb639" id="r_a1e9f6a517ed1e04c3765fe24153fb639"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#a1e9f6a517ed1e04c3765fe24153fb639">gzgetc</a> (<a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file)</td></tr>
<tr class="separator:a1e9f6a517ed1e04c3765fe24153fb639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bcd38c3aaf6694dadfc7c29d1ae7ddb" id="r_a3bcd38c3aaf6694dadfc7c29d1ae7ddb"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#a3bcd38c3aaf6694dadfc7c29d1ae7ddb">gzgetc_</a> (<a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file)</td></tr>
<tr class="separator:a3bcd38c3aaf6694dadfc7c29d1ae7ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b81c1a6e144a3cc5cd97a26688fed69" id="r_a0b81c1a6e144a3cc5cd97a26688fed69"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#a0b81c1a6e144a3cc5cd97a26688fed69">gzungetc</a> (int c, <a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file)</td></tr>
<tr class="separator:a0b81c1a6e144a3cc5cd97a26688fed69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89fdd562347c7b7739830b99b988db20" id="r_a89fdd562347c7b7739830b99b988db20"><td class="memItemLeft" align="right" valign="top">char *<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#a89fdd562347c7b7739830b99b988db20">gzgets</a> (<a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file, char *<a class="el" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, int len)</td></tr>
<tr class="separator:a89fdd562347c7b7739830b99b988db20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f049b9405deb0e7dad1fe97ed4dd8c2" id="r_a1f049b9405deb0e7dad1fe97ed4dd8c2"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#a1f049b9405deb0e7dad1fe97ed4dd8c2">gzdirect</a> (<a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file)</td></tr>
<tr class="separator:a1f049b9405deb0e7dad1fe97ed4dd8c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74218c3c6e5eddf23a9f3cb2e08f9637" id="r_a74218c3c6e5eddf23a9f3cb2e08f9637"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzread_8c.html#a74218c3c6e5eddf23a9f3cb2e08f9637">gzclose_r</a> (<a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file)</td></tr>
<tr class="separator:a74218c3c6e5eddf23a9f3cb2e08f9637"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a880d9d0c2827714cd40d8ba7f3637294" name="a880d9d0c2827714cd40d8ba7f3637294"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a880d9d0c2827714cd40d8ba7f3637294">&#9670;&#160;</a></span>gz_avail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int gz_avail </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00043">43</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>                                    {</div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordtype">unsigned</span> got;</div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2zlib_8h.html#a6ede25c84d3c9f8632305866acffb1d6">z_streamp</a> strm = &amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm);</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a>)</div>
<div class="line"><span class="lineno">   48</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;eof == 0) {</div>
<div class="line"><span class="lineno">   50</span>        <span class="keywordflow">if</span> (strm-&gt;avail_in) {       <span class="comment">/* copy what&#39;s there to the start */</span></div>
<div class="line"><span class="lineno">   51</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *p = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in;</div>
<div class="line"><span class="lineno">   52</span>            <span class="keywordtype">unsigned</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *q = strm-&gt;next_in;</div>
<div class="line"><span class="lineno">   53</span>            <span class="keywordtype">unsigned</span> n = strm-&gt;avail_in;</div>
<div class="line"><span class="lineno">   54</span>            <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">   55</span>                *p++ = *q++;</div>
<div class="line"><span class="lineno">   56</span>            } <span class="keywordflow">while</span> (--n);</div>
<div class="line"><span class="lineno">   57</span>        }</div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="gzread_8c.html#af7f3ad614b7059314f1673da8950df3f">gz_load</a>(state, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in + strm-&gt;avail_in,</div>
<div class="line"><span class="lineno">   59</span>                    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size - strm-&gt;avail_in, &amp;got) == -1)</div>
<div class="line"><span class="lineno">   60</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   61</span>        strm-&gt;avail_in += got;</div>
<div class="line"><span class="lineno">   62</span>        strm-&gt;next_in = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in;</div>
<div class="line"><span class="lineno">   63</span>    }</div>
<div class="line"><span class="lineno">   64</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   65</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a425e2f0664e1b1f75bf2bffab88d353d"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a></div><div class="ttdeci">#define Z_BUF_ERROR</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00180">zlib.h:180</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a6ede25c84d3c9f8632305866acffb1d6"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a6ede25c84d3c9f8632305866acffb1d6">z_streamp</a></div><div class="ttdeci">z_stream FAR * z_streamp</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00106">zlib.h:106</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a8cb802b6a11e926478dc6547c514c65c"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a></div><div class="ttdeci">#define Z_OK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00173">zlib.h:173</a></div></div>
<div class="ttc" id="agzread_8c_html_af7f3ad614b7059314f1673da8950df3f"><div class="ttname"><a href="gzread_8c.html#af7f3ad614b7059314f1673da8950df3f">gz_load</a></div><div class="ttdeci">local int gz_load(gz_statep state, unsigned char *buf, unsigned len, unsigned *have)</div><div class="ttdef"><b>Definition</b> <a href="gzread_8c_source.html#l00012">gzread.c:12</a></div></div>
<div class="ttc" id="anamespacedetail_html_ac742e301ae0a908dc31e49ac3a31fcc5"><div class="ttname"><a href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">detail::state</a></div><div class="ttdeci">state</div><div class="ttdef"><b>Definition</b> <a href="fmt_2include_2fmt_2core_8h_source.html#l02305">core.h:2305</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzread_8c_a880d9d0c2827714cd40d8ba7f3637294_cgraph.svg" width="444" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzread_8c_a880d9d0c2827714cd40d8ba7f3637294_icgraph.svg" width="100%" height="516"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a4b2cb72f18826fd5410e1cbdd9cf3941" name="a4b2cb72f18826fd5410e1cbdd9cf3941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b2cb72f18826fd5410e1cbdd9cf3941">&#9670;&#160;</a></span>gz_decomp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int gz_decomp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00156">156</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  156</span>                                     {</div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordtype">int</span> ret = <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>;</div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordtype">unsigned</span> had;</div>
<div class="line"><span class="lineno">  159</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2zlib_8h.html#a6ede25c84d3c9f8632305866acffb1d6">z_streamp</a> strm = &amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm);</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    <span class="comment">/* fill output buffer up to end of deflate stream */</span></div>
<div class="line"><span class="lineno">  162</span>    had = strm-&gt;avail_out;</div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  164</span>        <span class="comment">/* get more input for inflate() */</span></div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">if</span> (strm-&gt;avail_in == 0 &amp;&amp; <a class="code hl_function" href="gzread_8c.html#a880d9d0c2827714cd40d8ba7f3637294">gz_avail</a>(state) == -1)</div>
<div class="line"><span class="lineno">  166</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  167</span>        <span class="keywordflow">if</span> (strm-&gt;avail_in == 0) {</div>
<div class="line"><span class="lineno">  168</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a>, <span class="stringliteral">&quot;unexpected end of file&quot;</span>);</div>
<div class="line"><span class="lineno">  169</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  170</span>        }</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>        <span class="comment">/* decompress and handle errors */</span></div>
<div class="line"><span class="lineno">  173</span>        ret = <a class="code hl_function" href="StormLib_2src_2zlib_2inflate_8c.html#a9a49cf8b6ce882dea33505b0ac84ecef">inflate</a>(strm, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>);</div>
<div class="line"><span class="lineno">  174</span>        <span class="keywordflow">if</span> (ret == <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a> || ret == <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a32916ba675b2d06463da2576b6a49d64">Z_NEED_DICT</a>) {</div>
<div class="line"><span class="lineno">  175</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>,</div>
<div class="line"><span class="lineno">  176</span>                     <span class="stringliteral">&quot;internal error: inflate stream corrupt&quot;</span>);</div>
<div class="line"><span class="lineno">  177</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  178</span>        }</div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">if</span> (ret == <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a>) {</div>
<div class="line"><span class="lineno">  180</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a>, <span class="stringliteral">&quot;out of memory&quot;</span>);</div>
<div class="line"><span class="lineno">  181</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  182</span>        }</div>
<div class="line"><span class="lineno">  183</span>        <span class="keywordflow">if</span> (ret == <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a9eda83d428a71752d148f38b5dbe04f2">Z_DATA_ERROR</a>) {              <span class="comment">/* deflate stream invalid */</span></div>
<div class="line"><span class="lineno">  184</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a9eda83d428a71752d148f38b5dbe04f2">Z_DATA_ERROR</a>,</div>
<div class="line"><span class="lineno">  185</span>                     strm-&gt;msg == NULL ? <span class="stringliteral">&quot;compressed data error&quot;</span> : strm-&gt;msg);</div>
<div class="line"><span class="lineno">  186</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  187</span>        }</div>
<div class="line"><span class="lineno">  188</span>    } <span class="keywordflow">while</span> (strm-&gt;avail_out &amp;&amp; ret != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>);</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>    <span class="comment">/* update available output */</span></div>
<div class="line"><span class="lineno">  191</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have = had - strm-&gt;avail_out;</div>
<div class="line"><span class="lineno">  192</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next = strm-&gt;next_out - <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have;</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>    <span class="comment">/* if the gzip stream completed successfully, look for another */</span></div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">if</span> (ret == <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>)</div>
<div class="line"><span class="lineno">  196</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;how = <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a6d13af6430ff1d6f44ece076ff35b04f">LOOK</a>;</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>    <span class="comment">/* good decompression */</span></div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  200</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2gzguts_8h_html_a6d13af6430ff1d6f44ece076ff35b04f"><div class="ttname"><a href="StormLib_2src_2zlib_2gzguts_8h.html#a6d13af6430ff1d6f44ece076ff35b04f">LOOK</a></div><div class="ttdeci">#define LOOK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2gzguts_8h_source.html#l00165">gzguts.h:165</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2inflate_8c_html_a9a49cf8b6ce882dea33505b0ac84ecef"><div class="ttname"><a href="StormLib_2src_2zlib_2inflate_8c.html#a9a49cf8b6ce882dea33505b0ac84ecef">inflate</a></div><div class="ttdeci">int ZEXPORT inflate(z_streamp strm, int flush)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2inflate_8c_source.html#l00589">inflate.c:589</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a32916ba675b2d06463da2576b6a49d64"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a32916ba675b2d06463da2576b6a49d64">Z_NEED_DICT</a></div><div class="ttdeci">#define Z_NEED_DICT</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00175">zlib.h:175</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a7d94a4a852228a899864a0053162e7a8"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a></div><div class="ttdeci">#define Z_STREAM_END</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00174">zlib.h:174</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a9eda83d428a71752d148f38b5dbe04f2"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a9eda83d428a71752d148f38b5dbe04f2">Z_DATA_ERROR</a></div><div class="ttdeci">#define Z_DATA_ERROR</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00178">zlib.h:178</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_aad97cde83a9a4bb77f5c3b03bb68e483"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a></div><div class="ttdeci">#define Z_STREAM_ERROR</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00177">zlib.h:177</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_ac3b62e37b9922d9496014515acd6083a"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a></div><div class="ttdeci">#define Z_NO_FLUSH</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00164">zlib.h:164</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_ae2be6be871e377c6e2c25a7296ce320c"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a></div><div class="ttdeci">#define Z_MEM_ERROR</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00179">zlib.h:179</a></div></div>
<div class="ttc" id="agzread_8c_html_a880d9d0c2827714cd40d8ba7f3637294"><div class="ttname"><a href="gzread_8c.html#a880d9d0c2827714cd40d8ba7f3637294">gz_avail</a></div><div class="ttdeci">local int gz_avail(gz_statep state)</div><div class="ttdef"><b>Definition</b> <a href="gzread_8c_source.html#l00043">gzread.c:43</a></div></div>
<div class="ttc" id="azlib_2gzguts_8h_html_a873d627259b4df4438401c293801c7eb"><div class="ttname"><a href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a></div><div class="ttdeci">void ZLIB_INTERNAL gz_error(gz_statep, int, const char *)</div><div class="ttdef"><b>Definition</b> <a href="gzlib_8c_source.html#l00529">gzlib.c:529</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzread_8c_a4b2cb72f18826fd5410e1cbdd9cf3941_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzread_8c_a4b2cb72f18826fd5410e1cbdd9cf3941_icgraph.svg" width="599" height="186"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a221059506dd52a3dc6fa990f0e191ba8" name="a221059506dd52a3dc6fa990f0e191ba8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a221059506dd52a3dc6fa990f0e191ba8">&#9670;&#160;</a></span>gz_fetch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int gz_fetch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00208">208</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  208</span>                                    {</div>
<div class="line"><span class="lineno">  209</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2zlib_8h.html#a6ede25c84d3c9f8632305866acffb1d6">z_streamp</a> strm = &amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm);</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  212</span>        <span class="keywordflow">switch</span>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;how) {</div>
<div class="line"><span class="lineno">  213</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a6d13af6430ff1d6f44ece076ff35b04f">LOOK</a>:      <span class="comment">/* -&gt; LOOK, COPY (only if never GZIP), or GZIP */</span></div>
<div class="line"><span class="lineno">  214</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="gzread_8c.html#a2335993758928a1328423a4c3cd8f5a5">gz_look</a>(state) == -1)</div>
<div class="line"><span class="lineno">  215</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  216</span>            <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;how == <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a6d13af6430ff1d6f44ece076ff35b04f">LOOK</a>)</div>
<div class="line"><span class="lineno">  217</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  218</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  219</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a9e77d621548de2a80bc9c5909bfa2b8a">COPY</a>:      <span class="comment">/* -&gt; COPY */</span></div>
<div class="line"><span class="lineno">  220</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="gzread_8c.html#af7f3ad614b7059314f1673da8950df3f">gz_load</a>(state, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size &lt;&lt; 1, &amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have))</div>
<div class="line"><span class="lineno">  221</span>                    == -1)</div>
<div class="line"><span class="lineno">  222</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  223</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out;</div>
<div class="line"><span class="lineno">  224</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  225</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="StormLib_2src_2zlib_2deflate_8h.html#a9564352992f7a4001386d1c8e2977571">GZIP</a>:      <span class="comment">/* -&gt; GZIP or LOOK (if end of gzip stream) */</span></div>
<div class="line"><span class="lineno">  226</span>            strm-&gt;avail_out = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size &lt;&lt; 1;</div>
<div class="line"><span class="lineno">  227</span>            strm-&gt;next_out = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out;</div>
<div class="line"><span class="lineno">  228</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="gzread_8c.html#a4b2cb72f18826fd5410e1cbdd9cf3941">gz_decomp</a>(state) == -1)</div>
<div class="line"><span class="lineno">  229</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  230</span>        }</div>
<div class="line"><span class="lineno">  231</span>    } <span class="keywordflow">while</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have == 0 &amp;&amp; (!<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;eof || strm-&gt;avail_in));</div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  233</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2deflate_8h_html_a9564352992f7a4001386d1c8e2977571"><div class="ttname"><a href="StormLib_2src_2zlib_2deflate_8h.html#a9564352992f7a4001386d1c8e2977571">GZIP</a></div><div class="ttdeci">#define GZIP</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2deflate_8h_source.html#l00023">deflate.h:23</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2gzguts_8h_html_a9e77d621548de2a80bc9c5909bfa2b8a"><div class="ttname"><a href="StormLib_2src_2zlib_2gzguts_8h.html#a9e77d621548de2a80bc9c5909bfa2b8a">COPY</a></div><div class="ttdeci">#define COPY</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2gzguts_8h_source.html#l00166">gzguts.h:166</a></div></div>
<div class="ttc" id="agzread_8c_html_a2335993758928a1328423a4c3cd8f5a5"><div class="ttname"><a href="gzread_8c.html#a2335993758928a1328423a4c3cd8f5a5">gz_look</a></div><div class="ttdeci">local int gz_look(gz_statep state)</div><div class="ttdef"><b>Definition</b> <a href="gzread_8c_source.html#l00076">gzread.c:76</a></div></div>
<div class="ttc" id="agzread_8c_html_a4b2cb72f18826fd5410e1cbdd9cf3941"><div class="ttname"><a href="gzread_8c.html#a4b2cb72f18826fd5410e1cbdd9cf3941">gz_decomp</a></div><div class="ttdeci">local int gz_decomp(gz_statep state)</div><div class="ttdef"><b>Definition</b> <a href="gzread_8c_source.html#l00156">gzread.c:156</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzread_8c_a221059506dd52a3dc6fa990f0e191ba8_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzread_8c_a221059506dd52a3dc6fa990f0e191ba8_icgraph.svg" width="455" height="184"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af7f3ad614b7059314f1673da8950df3f" name="af7f3ad614b7059314f1673da8950df3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7f3ad614b7059314f1673da8950df3f">&#9670;&#160;</a></span>gz_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int gz_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>have</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00012">12</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   13</span>                                  {</div>
<div class="line"><span class="lineno">   14</span>    <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">   15</span>    <span class="keywordtype">unsigned</span> get, <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a> = ((unsigned)-1 &gt;&gt; 2) + 1;</div>
<div class="line"><span class="lineno">   16</span> </div>
<div class="line"><span class="lineno">   17</span>    *have = 0;</div>
<div class="line"><span class="lineno">   18</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">   19</span>        get = len - *have;</div>
<div class="line"><span class="lineno">   20</span>        <span class="keywordflow">if</span> (get &gt; max)</div>
<div class="line"><span class="lineno">   21</span>            get = <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a>;</div>
<div class="line"><span class="lineno">   22</span>        ret = read(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;fd, <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a> + *have, get);</div>
<div class="line"><span class="lineno">   23</span>        <span class="keywordflow">if</span> (ret &lt;= 0)</div>
<div class="line"><span class="lineno">   24</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   25</span>        *have += (unsigned)ret;</div>
<div class="line"><span class="lineno">   26</span>    } <span class="keywordflow">while</span> (*have &lt; len);</div>
<div class="line"><span class="lineno">   27</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">   28</span>        <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a3c66d64c427c0337c64e578537478737">Z_ERRNO</a>, <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#af252c05931f39dd0b297fe9b8e174b8b">zstrerror</a>());</div>
<div class="line"><span class="lineno">   29</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   30</span>    }</div>
<div class="line"><span class="lineno">   31</span>    <span class="keywordflow">if</span> (ret == 0)</div>
<div class="line"><span class="lineno">   32</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;eof = 1;</div>
<div class="line"><span class="lineno">   33</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   34</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2gzguts_8h_html_af252c05931f39dd0b297fe9b8e174b8b"><div class="ttname"><a href="StormLib_2src_2zlib_2gzguts_8h.html#af252c05931f39dd0b297fe9b8e174b8b">zstrerror</a></div><div class="ttdeci">#define zstrerror()</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2gzguts_8h_source.html#l00133">gzguts.h:133</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a3c66d64c427c0337c64e578537478737"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a3c66d64c427c0337c64e578537478737">Z_ERRNO</a></div><div class="ttdeci">#define Z_ERRNO</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00176">zlib.h:176</a></div></div>
<div class="ttc" id="anamespaceG3D_html_a08c0c3adc7299e964bea91de6cf24b8e"><div class="ttname"><a href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">G3D::max</a></div><div class="ttdeci">T max(const T &amp;x, const T &amp;y)</div><div class="ttdef"><b>Definition</b> <a href="g3dmath_8h_source.html#l00320">g3dmath.h:320</a></div></div>
<div class="ttc" id="aspewG_8c_html_a997189b95e4c22de59cfb3605f755787"><div class="ttname"><a href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a></div><div class="ttdeci">char buf[N_BUF]</div><div class="ttdef"><b>Definition</b> <a href="spewG_8c_source.html#l00036">spewG.c:36</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzread_8c_af7f3ad614b7059314f1673da8950df3f_cgraph.svg" width="320" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzread_8c_af7f3ad614b7059314f1673da8950df3f_icgraph.svg" width="100%" height="546"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a2335993758928a1328423a4c3cd8f5a5" name="a2335993758928a1328423a4c3cd8f5a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2335993758928a1328423a4c3cd8f5a5">&#9670;&#160;</a></span>gz_look()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int gz_look </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00076">76</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   76</span>                                   {</div>
<div class="line"><span class="lineno">   77</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2zlib_8h.html#a6ede25c84d3c9f8632305866acffb1d6">z_streamp</a> strm = &amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm);</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>    <span class="comment">/* allocate read buffers and inflate memory */</span></div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size == 0) {</div>
<div class="line"><span class="lineno">   81</span>        <span class="comment">/* allocate buffers */</span></div>
<div class="line"><span class="lineno">   82</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_function" href="zlib_2gzguts_8h.html#adacbf80ddc99f9a9e0f6aa2bbf1fb0e9">malloc</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;want);</div>
<div class="line"><span class="lineno">   83</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_function" href="zlib_2gzguts_8h.html#adacbf80ddc99f9a9e0f6aa2bbf1fb0e9">malloc</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;want &lt;&lt; 1);</div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in == NULL || <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out == NULL) {</div>
<div class="line"><span class="lineno">   85</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out);</div>
<div class="line"><span class="lineno">   86</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in);</div>
<div class="line"><span class="lineno">   87</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a>, <span class="stringliteral">&quot;out of memory&quot;</span>);</div>
<div class="line"><span class="lineno">   88</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   89</span>        }</div>
<div class="line"><span class="lineno">   90</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;want;</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>        <span class="comment">/* allocate inflate memory */</span></div>
<div class="line"><span class="lineno">   93</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.zalloc = <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno">   94</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.zfree = <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno">   95</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.opaque = <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno">   96</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.avail_in = 0;</div>
<div class="line"><span class="lineno">   97</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.next_in = <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno">   98</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a611fc206e69f34e812ca8b590982fdd5">inflateInit2</a>(&amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm), 15 + 16) != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>) {    <span class="comment">/* gunzip */</span></div>
<div class="line"><span class="lineno">   99</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out);</div>
<div class="line"><span class="lineno">  100</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in);</div>
<div class="line"><span class="lineno">  101</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size = 0;</div>
<div class="line"><span class="lineno">  102</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a>, <span class="stringliteral">&quot;out of memory&quot;</span>);</div>
<div class="line"><span class="lineno">  103</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  104</span>        }</div>
<div class="line"><span class="lineno">  105</span>    }</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>    <span class="comment">/* get at least the magic bytes in the input buffer */</span></div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordflow">if</span> (strm-&gt;avail_in &lt; 2) {</div>
<div class="line"><span class="lineno">  109</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="gzread_8c.html#a880d9d0c2827714cd40d8ba7f3637294">gz_avail</a>(state) == -1)</div>
<div class="line"><span class="lineno">  110</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  111</span>        <span class="keywordflow">if</span> (strm-&gt;avail_in == 0)</div>
<div class="line"><span class="lineno">  112</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  113</span>    }</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>    <span class="comment">/* look for gzip magic bytes -- if there, do gzip decoding (note: there is</span></div>
<div class="line"><span class="lineno">  116</span><span class="comment">       a logical dilemma here when considering the case of a partially written</span></div>
<div class="line"><span class="lineno">  117</span><span class="comment">       gzip file, to wit, if a single 31 byte is written, then we cannot tell</span></div>
<div class="line"><span class="lineno">  118</span><span class="comment">       whether this is a single-byte file, or just a partially written gzip</span></div>
<div class="line"><span class="lineno">  119</span><span class="comment">       file -- for here we assume that if a gzip file is being written, then</span></div>
<div class="line"><span class="lineno">  120</span><span class="comment">       the header will be written in a single operation, so that reading a</span></div>
<div class="line"><span class="lineno">  121</span><span class="comment">       single byte is sufficient indication that it is not a gzip file) */</span></div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordflow">if</span> (strm-&gt;avail_in &gt; 1 &amp;&amp;</div>
<div class="line"><span class="lineno">  123</span>            strm-&gt;next_in[0] == 31 &amp;&amp; strm-&gt;next_in[1] == 139) {</div>
<div class="line"><span class="lineno">  124</span>        <a class="code hl_function" href="StormLib_2src_2zlib_2inflate_8c.html#adb02c2100f9179f4075b220395b1553c">inflateReset</a>(strm);</div>
<div class="line"><span class="lineno">  125</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;how = <a class="code hl_define" href="StormLib_2src_2zlib_2deflate_8h.html#a9564352992f7a4001386d1c8e2977571">GZIP</a>;</div>
<div class="line"><span class="lineno">  126</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;direct = 0;</div>
<div class="line"><span class="lineno">  127</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  128</span>    }</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    <span class="comment">/* no gzip header -- if we were decoding gzip before, then this is trailing</span></div>
<div class="line"><span class="lineno">  131</span><span class="comment">       garbage.  Ignore the trailing garbage and finish. */</span></div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;direct == 0) {</div>
<div class="line"><span class="lineno">  133</span>        strm-&gt;avail_in = 0;</div>
<div class="line"><span class="lineno">  134</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;eof = 1;</div>
<div class="line"><span class="lineno">  135</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have = 0;</div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  137</span>    }</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>    <span class="comment">/* doing raw i/o, copy any leftover input to output -- this assumes that</span></div>
<div class="line"><span class="lineno">  140</span><span class="comment">       the output buffer is larger than the input buffer, which also assures</span></div>
<div class="line"><span class="lineno">  141</span><span class="comment">       space for gzungetc() */</span></div>
<div class="line"><span class="lineno">  142</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out;</div>
<div class="line"><span class="lineno">  143</span>    memcpy(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next, strm-&gt;next_in, strm-&gt;avail_in);</div>
<div class="line"><span class="lineno">  144</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have = strm-&gt;avail_in;</div>
<div class="line"><span class="lineno">  145</span>    strm-&gt;avail_in = 0;</div>
<div class="line"><span class="lineno">  146</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;how = <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a9e77d621548de2a80bc9c5909bfa2b8a">COPY</a>;</div>
<div class="line"><span class="lineno">  147</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;direct = 1;</div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  149</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2inflate_8c_html_adb02c2100f9179f4075b220395b1553c"><div class="ttname"><a href="StormLib_2src_2zlib_2inflate_8c.html#adb02c2100f9179f4075b220395b1553c">inflateReset</a></div><div class="ttdeci">int ZEXPORT inflateReset(z_streamp strm)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2inflate_8c_source.html#l00103">inflate.c:103</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a611fc206e69f34e812ca8b590982fdd5"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a611fc206e69f34e812ca8b590982fdd5">inflateInit2</a></div><div class="ttdeci">#define inflateInit2(strm, windowBits)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l01553">zlib.h:1553</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_ad15afa2776b41b2f4d8582dd152bd736"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a></div><div class="ttdeci">#define Z_NULL</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00208">zlib.h:208</a></div></div>
<div class="ttc" id="azlib_2gzguts_8h_html_a6d9b026f3a32ae4cad5d108f9ee45986"><div class="ttname"><a href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a></div><div class="ttdeci">void free(voidpf ptr)</div></div>
<div class="ttc" id="azlib_2gzguts_8h_html_adacbf80ddc99f9a9e0f6aa2bbf1fb0e9"><div class="ttname"><a href="zlib_2gzguts_8h.html#adacbf80ddc99f9a9e0f6aa2bbf1fb0e9">malloc</a></div><div class="ttdeci">voidp malloc(uInt size)</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzread_8c_a2335993758928a1328423a4c3cd8f5a5_cgraph.svg" width="588" height="226"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzread_8c_a2335993758928a1328423a4c3cd8f5a5_icgraph.svg" width="575" height="275"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2e7c20ac97b2f2d7cd21c3e0399999b5" name="a2e7c20ac97b2f2d7cd21c3e0399999b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e7c20ac97b2f2d7cd21c3e0399999b5">&#9670;&#160;</a></span>gz_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> <a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> gz_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#aa3397ff439b5e076528b04bc9b8b086a">voidp</a>&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00268">268</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  268</span>                                                                 {</div>
<div class="line"><span class="lineno">  269</span>    <a class="code hl_typedef" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> got;</div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordtype">unsigned</span> n;</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    <span class="comment">/* if len is zero, avoid unnecessary operations */</span></div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">if</span> (len == 0)</div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>    <span class="comment">/* process a skip request */</span></div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek) {</div>
<div class="line"><span class="lineno">  278</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek = 0;</div>
<div class="line"><span class="lineno">  279</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="gzread_8c.html#aa3f15e560c3c56fc5d845afd2c5c0b56">gz_skip</a>(state, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;skip) == -1)</div>
<div class="line"><span class="lineno">  280</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  281</span>    }</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    <span class="comment">/* get len bytes to buf, or less than len if at the end */</span></div>
<div class="line"><span class="lineno">  284</span>    got = 0;</div>
<div class="line"><span class="lineno">  285</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  286</span>        <span class="comment">/* set n to the maximum amount of len that fits in an unsigned int */</span></div>
<div class="line"><span class="lineno">  287</span>        n = (unsigned)-1;</div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">if</span> (n &gt; len)</div>
<div class="line"><span class="lineno">  289</span>            n = (unsigned)len;</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>        <span class="comment">/* first just try copying data from the output buffer */</span></div>
<div class="line"><span class="lineno">  292</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have) {</div>
<div class="line"><span class="lineno">  293</span>            <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have &lt; n)</div>
<div class="line"><span class="lineno">  294</span>                n = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have;</div>
<div class="line"><span class="lineno">  295</span>            memcpy(<a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next, n);</div>
<div class="line"><span class="lineno">  296</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next += n;</div>
<div class="line"><span class="lineno">  297</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have -= n;</div>
<div class="line"><span class="lineno">  298</span>        }</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>        <span class="comment">/* output buffer empty -- return if we&#39;re at the end of the input */</span></div>
<div class="line"><span class="lineno">  301</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;eof &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.avail_in == 0) {</div>
<div class="line"><span class="lineno">  302</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;past = 1;        <span class="comment">/* tried to read past end */</span></div>
<div class="line"><span class="lineno">  303</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  304</span>        }</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>        <span class="comment">/* need output data -- for small len or new stream load up our output</span></div>
<div class="line"><span class="lineno">  307</span><span class="comment">           buffer */</span></div>
<div class="line"><span class="lineno">  308</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;how == <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a6d13af6430ff1d6f44ece076ff35b04f">LOOK</a> || n &lt; (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size &lt;&lt; 1)) {</div>
<div class="line"><span class="lineno">  309</span>            <span class="comment">/* get more output, looking for header if required */</span></div>
<div class="line"><span class="lineno">  310</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="gzread_8c.html#a221059506dd52a3dc6fa990f0e191ba8">gz_fetch</a>(state) == -1)</div>
<div class="line"><span class="lineno">  311</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  312</span>            <span class="keywordflow">continue</span>;       <span class="comment">/* no progress yet -- go back to copy above */</span></div>
<div class="line"><span class="lineno">  313</span>            <span class="comment">/* the copy above assures that we will leave with space in the</span></div>
<div class="line"><span class="lineno">  314</span><span class="comment">               output buffer, allowing at least one gzungetc() to succeed */</span></div>
<div class="line"><span class="lineno">  315</span>        }</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>        <span class="comment">/* large len -- read directly into user buffer */</span></div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;how == <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a9e77d621548de2a80bc9c5909bfa2b8a">COPY</a>) {      <span class="comment">/* read directly */</span></div>
<div class="line"><span class="lineno">  319</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="gzread_8c.html#af7f3ad614b7059314f1673da8950df3f">gz_load</a>(state, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, n, &amp;n) == -1)</div>
<div class="line"><span class="lineno">  320</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  321</span>        }</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>        <span class="comment">/* large len -- decompress directly into user buffer */</span></div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordflow">else</span> {  <span class="comment">/* state-&gt;how == GZIP */</span></div>
<div class="line"><span class="lineno">  325</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.avail_out = n;</div>
<div class="line"><span class="lineno">  326</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.next_out = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>;</div>
<div class="line"><span class="lineno">  327</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="gzread_8c.html#a4b2cb72f18826fd5410e1cbdd9cf3941">gz_decomp</a>(state) == -1)</div>
<div class="line"><span class="lineno">  328</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  329</span>            n = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have;</div>
<div class="line"><span class="lineno">  330</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have = 0;</div>
<div class="line"><span class="lineno">  331</span>        }</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>        <span class="comment">/* update progress */</span></div>
<div class="line"><span class="lineno">  334</span>        len -= n;</div>
<div class="line"><span class="lineno">  335</span>        <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a> = (<span class="keywordtype">char</span> *)<a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a> + n;</div>
<div class="line"><span class="lineno">  336</span>        got += n;</div>
<div class="line"><span class="lineno">  337</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.pos += n;</div>
<div class="line"><span class="lineno">  338</span>    } <span class="keywordflow">while</span> (len);</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>    <span class="comment">/* return number of bytes read into user buffer */</span></div>
<div class="line"><span class="lineno">  341</span>    <span class="keywordflow">return</span> got;</div>
<div class="line"><span class="lineno">  342</span>}</div>
<div class="ttc" id="agzread_8c_html_a221059506dd52a3dc6fa990f0e191ba8"><div class="ttname"><a href="gzread_8c.html#a221059506dd52a3dc6fa990f0e191ba8">gz_fetch</a></div><div class="ttdeci">local int gz_fetch(gz_statep state)</div><div class="ttdef"><b>Definition</b> <a href="gzread_8c_source.html#l00208">gzread.c:208</a></div></div>
<div class="ttc" id="agzread_8c_html_aa3f15e560c3c56fc5d845afd2c5c0b56"><div class="ttname"><a href="gzread_8c.html#aa3f15e560c3c56fc5d845afd2c5c0b56">gz_skip</a></div><div class="ttdeci">local int gz_skip(gz_statep state, z_off64_t len)</div><div class="ttdef"><b>Definition</b> <a href="gzread_8c_source.html#l00236">gzread.c:236</a></div></div>
<div class="ttc" id="azlib_2zconf_8h_html_ac049a4b91bbe1112841d2890b206b890"><div class="ttname"><a href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a></div><div class="ttdeci">unsigned long z_size_t</div><div class="ttdef"><b>Definition</b> <a href="zlib_2zconf_8h_source.html#l00257">zconf.h:257</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzread_8c_a2e7c20ac97b2f2d7cd21c3e0399999b5_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzread_8c_a2e7c20ac97b2f2d7cd21c3e0399999b5_icgraph.svg" width="203" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa3f15e560c3c56fc5d845afd2c5c0b56" name="aa3f15e560c3c56fc5d845afd2c5c0b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3f15e560c3c56fc5d845afd2c5c0b56">&#9670;&#160;</a></span>gz_skip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int gz_skip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#ab9923767082c7a76924b31493e60d42c">z_off64_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00236">236</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  236</span>                                                  {</div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordtype">unsigned</span> n;</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>    <span class="comment">/* skip over len bytes or reach end-of-file, whichever comes first */</span></div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">while</span> (len)</div>
<div class="line"><span class="lineno">  241</span>        <span class="comment">/* skip over whatever is in output buffer */</span></div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have) {</div>
<div class="line"><span class="lineno">  243</span>            n = <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a87ad28552e786eaa1c31fed1950fdff4">GT_OFF</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have) || (<a class="code hl_define" href="StormLib_2src_2zlib_2zconf_8h.html#ab9923767082c7a76924b31493e60d42c">z_off64_t</a>)<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have &gt; len ?</div>
<div class="line"><span class="lineno">  244</span>                (<span class="keywordtype">unsigned</span>)len : <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have;</div>
<div class="line"><span class="lineno">  245</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have -= n;</div>
<div class="line"><span class="lineno">  246</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next += n;</div>
<div class="line"><span class="lineno">  247</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.pos += n;</div>
<div class="line"><span class="lineno">  248</span>            len -= n;</div>
<div class="line"><span class="lineno">  249</span>        }</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>        <span class="comment">/* output buffer empty -- return if we&#39;re at the end of the input */</span></div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;eof &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.avail_in == 0)</div>
<div class="line"><span class="lineno">  253</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>        <span class="comment">/* need more data to skip -- load up output buffer */</span></div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  257</span>            <span class="comment">/* get more output, looking for header if required */</span></div>
<div class="line"><span class="lineno">  258</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="gzread_8c.html#a221059506dd52a3dc6fa990f0e191ba8">gz_fetch</a>(state) == -1)</div>
<div class="line"><span class="lineno">  259</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  260</span>        }</div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  262</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2gzguts_8h_html_a87ad28552e786eaa1c31fed1950fdff4"><div class="ttname"><a href="StormLib_2src_2zlib_2gzguts_8h.html#a87ad28552e786eaa1c31fed1950fdff4">GT_OFF</a></div><div class="ttdeci">#define GT_OFF(x)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2gzguts_8h_source.html#l00217">gzguts.h:217</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zconf_8h_html_ab9923767082c7a76924b31493e60d42c"><div class="ttname"><a href="StormLib_2src_2zlib_2zconf_8h.html#ab9923767082c7a76924b31493e60d42c">z_off64_t</a></div><div class="ttdeci">#define z_off64_t</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zconf_8h_source.html#l00400">zconf.h:400</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzread_8c_aa3f15e560c3c56fc5d845afd2c5c0b56_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzread_8c_aa3f15e560c3c56fc5d845afd2c5c0b56_icgraph.svg" width="330" height="184"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a74218c3c6e5eddf23a9f3cb2e08f9637" name="a74218c3c6e5eddf23a9f3cb2e08f9637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74218c3c6e5eddf23a9f3cb2e08f9637">&#9670;&#160;</a></span>gzclose_r()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzclose_r </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00577">577</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  577</span>                                   {</div>
<div class="line"><span class="lineno">  578</span>    <span class="keywordtype">int</span> ret, err;</div>
<div class="line"><span class="lineno">  579</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  582</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  583</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>;</div>
<div class="line"><span class="lineno">  584</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>    <span class="comment">/* check that we&#39;re reading */</span></div>
<div class="line"><span class="lineno">  587</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a97ca7a8b458e75a004e828cb28ac264c">GZ_READ</a>)</div>
<div class="line"><span class="lineno">  588</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>;</div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>    <span class="comment">/* free memory and close file */</span></div>
<div class="line"><span class="lineno">  591</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size) {</div>
<div class="line"><span class="lineno">  592</span>        <a class="code hl_function" href="StormLib_2src_2zlib_2inflate_8c.html#aed3136bc8afc3ef309b731b4ad724534">inflateEnd</a>(&amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm));</div>
<div class="line"><span class="lineno">  593</span>        <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out);</div>
<div class="line"><span class="lineno">  594</span>        <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in);</div>
<div class="line"><span class="lineno">  595</span>    }</div>
<div class="line"><span class="lineno">  596</span>    err = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err == <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a> ? <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a> : <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>;</div>
<div class="line"><span class="lineno">  597</span>    <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>, NULL);</div>
<div class="line"><span class="lineno">  598</span>    <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;path);</div>
<div class="line"><span class="lineno">  599</span>    ret = close(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;fd);</div>
<div class="line"><span class="lineno">  600</span>    <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(state);</div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordflow">return</span> ret ? <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a3c66d64c427c0337c64e578537478737">Z_ERRNO</a> : err;</div>
<div class="line"><span class="lineno">  602</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2gzguts_8h_html_a15adc208a26903dbfe8c57720cf401c8"><div class="ttname"><a href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a></div><div class="ttdeci">gz_state FAR * gz_statep</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2gzguts_8h_source.html#l00202">gzguts.h:202</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2gzguts_8h_html_a97ca7a8b458e75a004e828cb28ac264c"><div class="ttname"><a href="StormLib_2src_2zlib_2gzguts_8h.html#a97ca7a8b458e75a004e828cb28ac264c">GZ_READ</a></div><div class="ttdeci">#define GZ_READ</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2gzguts_8h_source.html#l00160">gzguts.h:160</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2inflate_8c_html_aed3136bc8afc3ef309b731b4ad724534"><div class="ttname"><a href="StormLib_2src_2zlib_2inflate_8c.html#aed3136bc8afc3ef309b731b4ad724534">inflateEnd</a></div><div class="ttdeci">int ZEXPORT inflateEnd(z_streamp strm)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2inflate_8c_source.html#l01238">inflate.c:1238</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzread_8c_a74218c3c6e5eddf23a9f3cb2e08f9637_cgraph.svg" width="343" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzread_8c_a74218c3c6e5eddf23a9f3cb2e08f9637_icgraph.svg" width="212" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1f049b9405deb0e7dad1fe97ed4dd8c2" name="a1f049b9405deb0e7dad1fe97ed4dd8c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f049b9405deb0e7dad1fe97ed4dd8c2">&#9670;&#160;</a></span>gzdirect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzdirect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00559">559</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  559</span>                                  {</div>
<div class="line"><span class="lineno">  560</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  563</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  564</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  565</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>    <span class="comment">/* if the state is not known, but we can find out, then do so (this is</span></div>
<div class="line"><span class="lineno">  568</span><span class="comment">       mainly for right after a gzopen() or gzdopen()) */</span></div>
<div class="line"><span class="lineno">  569</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode == <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a97ca7a8b458e75a004e828cb28ac264c">GZ_READ</a> &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;how == <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a6d13af6430ff1d6f44ece076ff35b04f">LOOK</a> &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have == 0)</div>
<div class="line"><span class="lineno">  570</span>        (void)<a class="code hl_function" href="gzread_8c.html#a2335993758928a1328423a4c3cd8f5a5">gz_look</a>(state);</div>
<div class="line"><span class="lineno">  571</span> </div>
<div class="line"><span class="lineno">  572</span>    <span class="comment">/* return 1 if transparent, 0 if processing a gzip stream */</span></div>
<div class="line"><span class="lineno">  573</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;direct;</div>
<div class="line"><span class="lineno">  574</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzread_8c_a1f049b9405deb0e7dad1fe97ed4dd8c2_cgraph.svg" width="100%" height="469"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="acebeb254a3cecff218bdd52bcd90d7cf" name="acebeb254a3cecff218bdd52bcd90d7cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acebeb254a3cecff218bdd52bcd90d7cf">&#9670;&#160;</a></span>gzfread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzfread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#aa3397ff439b5e076528b04bc9b8b086a">voidp</a>&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a>&#160;</td>
          <td class="paramname"><em>nitems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00377">377</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  377</span>                                                                                 {</div>
<div class="line"><span class="lineno">  378</span>    <a class="code hl_typedef" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> len;</div>
<div class="line"><span class="lineno">  379</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  382</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  383</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  384</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    <span class="comment">/* check that we&#39;re reading and that there&#39;s no (serious) error */</span></div>
<div class="line"><span class="lineno">  387</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a97ca7a8b458e75a004e828cb28ac264c">GZ_READ</a> ||</div>
<div class="line"><span class="lineno">  388</span>            (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a>))</div>
<div class="line"><span class="lineno">  389</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>    <span class="comment">/* compute bytes to read -- error on overflow */</span></div>
<div class="line"><span class="lineno">  392</span>    len = nitems * size;</div>
<div class="line"><span class="lineno">  393</span>    <span class="keywordflow">if</span> (size &amp;&amp; len / size != nitems) {</div>
<div class="line"><span class="lineno">  394</span>        <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>, <span class="stringliteral">&quot;request does not fit in a size_t&quot;</span>);</div>
<div class="line"><span class="lineno">  395</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  396</span>    }</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>    <span class="comment">/* read len or fewer bytes to buf, return the number of full items read */</span></div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordflow">return</span> len ? <a class="code hl_function" href="gzread_8c.html#a2e7c20ac97b2f2d7cd21c3e0399999b5">gz_read</a>(state, <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, len) / size : 0;</div>
<div class="line"><span class="lineno">  400</span>}</div>
<div class="ttc" id="agzread_8c_html_a2e7c20ac97b2f2d7cd21c3e0399999b5"><div class="ttname"><a href="gzread_8c.html#a2e7c20ac97b2f2d7cd21c3e0399999b5">gz_read</a></div><div class="ttdeci">local z_size_t gz_read(gz_statep state, voidp buf, z_size_t len)</div><div class="ttdef"><b>Definition</b> <a href="gzread_8c_source.html#l00268">gzread.c:268</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzread_8c_acebeb254a3cecff218bdd52bcd90d7cf_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a1e9f6a517ed1e04c3765fe24153fb639" name="a1e9f6a517ed1e04c3765fe24153fb639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e9f6a517ed1e04c3765fe24153fb639">&#9670;&#160;</a></span>gzgetc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzgetc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00408">408</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  408</span>                                {</div>
<div class="line"><span class="lineno">  409</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>[1];</div>
<div class="line"><span class="lineno">  410</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  414</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  415</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>    <span class="comment">/* check that we&#39;re reading and that there&#39;s no (serious) error */</span></div>
<div class="line"><span class="lineno">  418</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a97ca7a8b458e75a004e828cb28ac264c">GZ_READ</a> ||</div>
<div class="line"><span class="lineno">  419</span>        (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a>))</div>
<div class="line"><span class="lineno">  420</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>    <span class="comment">/* try output buffer (no need to check for skip request) */</span></div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have) {</div>
<div class="line"><span class="lineno">  424</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have--;</div>
<div class="line"><span class="lineno">  425</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.pos++;</div>
<div class="line"><span class="lineno">  426</span>        <span class="keywordflow">return</span> *(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next)++;</div>
<div class="line"><span class="lineno">  427</span>    }</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>    <span class="comment">/* nothing there -- try gz_read() */</span></div>
<div class="line"><span class="lineno">  430</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="gzread_8c.html#a2e7c20ac97b2f2d7cd21c3e0399999b5">gz_read</a>(state, <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, 1) &lt; 1 ? -1 : <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>[0];</div>
<div class="line"><span class="lineno">  431</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzread_8c_a1e9f6a517ed1e04c3765fe24153fb639_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3bcd38c3aaf6694dadfc7c29d1ae7ddb" name="a3bcd38c3aaf6694dadfc7c29d1ae7ddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bcd38c3aaf6694dadfc7c29d1ae7ddb">&#9670;&#160;</a></span>gzgetc_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzgetc_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00433">433</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  433</span>                                 {</div>
<div class="line"><span class="lineno">  434</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="zlib_2zlib_8h.html#ac66eb8047c407f8613bc35e440b7b337">gzgetc</a>(file);</div>
<div class="line"><span class="lineno">  435</span>}</div>
<div class="ttc" id="azlib_2zlib_8h_html_ac66eb8047c407f8613bc35e440b7b337"><div class="ttname"><a href="zlib_2zlib_8h.html#ac66eb8047c407f8613bc35e440b7b337">gzgetc</a></div><div class="ttdeci">#define gzgetc(g)</div><div class="ttdef"><b>Definition</b> <a href="zlib_2zlib_8h_source.html#l01848">zlib.h:1848</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a89fdd562347c7b7739830b99b988db20" name="a89fdd562347c7b7739830b99b988db20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89fdd562347c7b7739830b99b988db20">&#9670;&#160;</a></span>gzgets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char *<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzgets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00499">499</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  499</span>                                                       {</div>
<div class="line"><span class="lineno">  500</span>    <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="lparser_8c.html#a3584754acc5e91c03d6fc91359eefd78">left</a>, n;</div>
<div class="line"><span class="lineno">  501</span>    <span class="keywordtype">char</span> *str;</div>
<div class="line"><span class="lineno">  502</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *eol;</div>
<div class="line"><span class="lineno">  503</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>    <span class="comment">/* check parameters and get internal structure */</span></div>
<div class="line"><span class="lineno">  506</span>    <span class="keywordflow">if</span> (file == NULL || <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a> == NULL || len &lt; 1)</div>
<div class="line"><span class="lineno">  507</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  508</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>    <span class="comment">/* check that we&#39;re reading and that there&#39;s no (serious) error */</span></div>
<div class="line"><span class="lineno">  511</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a97ca7a8b458e75a004e828cb28ac264c">GZ_READ</a> ||</div>
<div class="line"><span class="lineno">  512</span>        (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a>))</div>
<div class="line"><span class="lineno">  513</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>    <span class="comment">/* process a skip request */</span></div>
<div class="line"><span class="lineno">  516</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek) {</div>
<div class="line"><span class="lineno">  517</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek = 0;</div>
<div class="line"><span class="lineno">  518</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="gzread_8c.html#aa3f15e560c3c56fc5d845afd2c5c0b56">gz_skip</a>(state, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;skip) == -1)</div>
<div class="line"><span class="lineno">  519</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  520</span>    }</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>    <span class="comment">/* copy output bytes up to new line or len - 1, whichever comes first --</span></div>
<div class="line"><span class="lineno">  523</span><span class="comment">       append a terminating zero to the string (we don&#39;t check for a zero in</span></div>
<div class="line"><span class="lineno">  524</span><span class="comment">       the contents, let the user worry about that) */</span></div>
<div class="line"><span class="lineno">  525</span>    str = <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>;</div>
<div class="line"><span class="lineno">  526</span>    <a class="code hl_variable" href="lparser_8c.html#a3584754acc5e91c03d6fc91359eefd78">left</a> = (unsigned)len - 1;</div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="lparser_8c.html#a3584754acc5e91c03d6fc91359eefd78">left</a>) <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  528</span>        <span class="comment">/* assure that something is in the output buffer */</span></div>
<div class="line"><span class="lineno">  529</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have == 0 &amp;&amp; <a class="code hl_function" href="gzread_8c.html#a221059506dd52a3dc6fa990f0e191ba8">gz_fetch</a>(state) == -1)</div>
<div class="line"><span class="lineno">  530</span>            <span class="keywordflow">return</span> NULL;                <span class="comment">/* error */</span></div>
<div class="line"><span class="lineno">  531</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have == 0) {       <span class="comment">/* end of file */</span></div>
<div class="line"><span class="lineno">  532</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;past = 1;            <span class="comment">/* read past end */</span></div>
<div class="line"><span class="lineno">  533</span>            <span class="keywordflow">break</span>;                      <span class="comment">/* return what we have */</span></div>
<div class="line"><span class="lineno">  534</span>        }</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>        <span class="comment">/* look for end-of-line in current output buffer */</span></div>
<div class="line"><span class="lineno">  537</span>        n = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have &gt; <a class="code hl_variable" href="lparser_8c.html#a3584754acc5e91c03d6fc91359eefd78">left</a> ? <a class="code hl_variable" href="lparser_8c.html#a3584754acc5e91c03d6fc91359eefd78">left</a> : <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have;</div>
<div class="line"><span class="lineno">  538</span>        eol = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)memchr(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next, <span class="charliteral">&#39;\n&#39;</span>, n);</div>
<div class="line"><span class="lineno">  539</span>        <span class="keywordflow">if</span> (eol != NULL)</div>
<div class="line"><span class="lineno">  540</span>            n = (unsigned)(eol - <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next) + 1;</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>        <span class="comment">/* copy through end-of-line, or remainder if not found */</span></div>
<div class="line"><span class="lineno">  543</span>        memcpy(<a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next, n);</div>
<div class="line"><span class="lineno">  544</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have -= n;</div>
<div class="line"><span class="lineno">  545</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next += n;</div>
<div class="line"><span class="lineno">  546</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.pos += n;</div>
<div class="line"><span class="lineno">  547</span>        <a class="code hl_variable" href="lparser_8c.html#a3584754acc5e91c03d6fc91359eefd78">left</a> -= n;</div>
<div class="line"><span class="lineno">  548</span>        <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a> += n;</div>
<div class="line"><span class="lineno">  549</span>    } <span class="keywordflow">while</span> (<a class="code hl_variable" href="lparser_8c.html#a3584754acc5e91c03d6fc91359eefd78">left</a> &amp;&amp; eol == NULL);</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>    <span class="comment">/* return terminated string, or if nothing, end of file */</span></div>
<div class="line"><span class="lineno">  552</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a> == str)</div>
<div class="line"><span class="lineno">  553</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  554</span>    <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>[0] = 0;</div>
<div class="line"><span class="lineno">  555</span>    <span class="keywordflow">return</span> str;</div>
<div class="line"><span class="lineno">  556</span>}</div>
<div class="ttc" id="alparser_8c_html_a3584754acc5e91c03d6fc91359eefd78"><div class="ttname"><a href="lparser_8c.html#a3584754acc5e91c03d6fc91359eefd78">left</a></div><div class="ttdeci">lu_byte left</div><div class="ttdef"><b>Definition</b> <a href="lparser_8c_source.html#l01237">lparser.c:1237</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzread_8c_a89fdd562347c7b7739830b99b988db20_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a2d0d971b446b67bbc4261fa5fef622bd" name="a2d0d971b446b67bbc4261fa5fef622bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d0d971b446b67bbc4261fa5fef622bd">&#9670;&#160;</a></span>gzread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#aa3397ff439b5e076528b04bc9b8b086a">voidp</a>&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00345">345</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  345</span>                                                         {</div>
<div class="line"><span class="lineno">  346</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  349</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  350</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  351</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    <span class="comment">/* check that we&#39;re reading and that there&#39;s no (serious) error */</span></div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a97ca7a8b458e75a004e828cb28ac264c">GZ_READ</a> ||</div>
<div class="line"><span class="lineno">  355</span>            (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a>))</div>
<div class="line"><span class="lineno">  356</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>    <span class="comment">/* since an int is returned, make sure len fits in one, otherwise return</span></div>
<div class="line"><span class="lineno">  359</span><span class="comment">       with an error (this avoids a flaw in the interface) */</span></div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)len &lt; 0) {</div>
<div class="line"><span class="lineno">  361</span>        <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>, <span class="stringliteral">&quot;request does not fit in an int&quot;</span>);</div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  363</span>    }</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>    <span class="comment">/* read len or fewer bytes to buf */</span></div>
<div class="line"><span class="lineno">  366</span>    len = (unsigned)<a class="code hl_function" href="gzread_8c.html#a2e7c20ac97b2f2d7cd21c3e0399999b5">gz_read</a>(state, <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, len);</div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>    <span class="comment">/* check for an error */</span></div>
<div class="line"><span class="lineno">  369</span>    <span class="keywordflow">if</span> (len == 0 &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a>)</div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>    <span class="comment">/* return the number of bytes read (this is assured to fit in an int) */</span></div>
<div class="line"><span class="lineno">  373</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)len;</div>
<div class="line"><span class="lineno">  374</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzread_8c_a2d0d971b446b67bbc4261fa5fef622bd_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a0b81c1a6e144a3cc5cd97a26688fed69" name="a0b81c1a6e144a3cc5cd97a26688fed69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b81c1a6e144a3cc5cd97a26688fed69">&#9670;&#160;</a></span>gzungetc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzungetc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzread_8c_source.html#l00438">438</a> of file <a class="el" href="gzread_8c_source.html">gzread.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  438</span>                                         {</div>
<div class="line"><span class="lineno">  439</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  443</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  444</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>    <span class="comment">/* in case this was just opened, set up the input buffer */</span></div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode == <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a97ca7a8b458e75a004e828cb28ac264c">GZ_READ</a> &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;how == <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a6d13af6430ff1d6f44ece076ff35b04f">LOOK</a> &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have == 0)</div>
<div class="line"><span class="lineno">  448</span>        (void)<a class="code hl_function" href="gzread_8c.html#a2335993758928a1328423a4c3cd8f5a5">gz_look</a>(state);</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>    <span class="comment">/* check that we&#39;re reading and that there&#39;s no (serious) error */</span></div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a97ca7a8b458e75a004e828cb28ac264c">GZ_READ</a> ||</div>
<div class="line"><span class="lineno">  452</span>        (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> &amp;&amp; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a>))</div>
<div class="line"><span class="lineno">  453</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>    <span class="comment">/* process a skip request */</span></div>
<div class="line"><span class="lineno">  456</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek) {</div>
<div class="line"><span class="lineno">  457</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek = 0;</div>
<div class="line"><span class="lineno">  458</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="gzread_8c.html#aa3f15e560c3c56fc5d845afd2c5c0b56">gz_skip</a>(state, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;skip) == -1)</div>
<div class="line"><span class="lineno">  459</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  460</span>    }</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>    <span class="comment">/* can&#39;t push EOF */</span></div>
<div class="line"><span class="lineno">  463</span>    <span class="keywordflow">if</span> (c &lt; 0)</div>
<div class="line"><span class="lineno">  464</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>    <span class="comment">/* if output buffer empty, put byte at end (allows more pushing) */</span></div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have == 0) {</div>
<div class="line"><span class="lineno">  468</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have = 1;</div>
<div class="line"><span class="lineno">  469</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out + (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size &lt;&lt; 1) - 1;</div>
<div class="line"><span class="lineno">  470</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next[0] = (<span class="keywordtype">unsigned</span> char)c;</div>
<div class="line"><span class="lineno">  471</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.pos--;</div>
<div class="line"><span class="lineno">  472</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;past = 0;</div>
<div class="line"><span class="lineno">  473</span>        <span class="keywordflow">return</span> c;</div>
<div class="line"><span class="lineno">  474</span>    }</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>    <span class="comment">/* if no room, give up (must have already done a gzungetc()) */</span></div>
<div class="line"><span class="lineno">  477</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have == (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size &lt;&lt; 1)) {</div>
<div class="line"><span class="lineno">  478</span>        <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a9eda83d428a71752d148f38b5dbe04f2">Z_DATA_ERROR</a>, <span class="stringliteral">&quot;out of room to push characters&quot;</span>);</div>
<div class="line"><span class="lineno">  479</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  480</span>    }</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>    <span class="comment">/* slide output data if needed and insert byte before existing data */</span></div>
<div class="line"><span class="lineno">  483</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next == <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out) {</div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *src = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out + <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have;</div>
<div class="line"><span class="lineno">  485</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *dest = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out + (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size &lt;&lt; 1);</div>
<div class="line"><span class="lineno">  486</span>        <span class="keywordflow">while</span> (src &gt; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out)</div>
<div class="line"><span class="lineno">  487</span>            *--dest = *--src;</div>
<div class="line"><span class="lineno">  488</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next = dest;</div>
<div class="line"><span class="lineno">  489</span>    }</div>
<div class="line"><span class="lineno">  490</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.have++;</div>
<div class="line"><span class="lineno">  491</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next--;</div>
<div class="line"><span class="lineno">  492</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next[0] = (<span class="keywordtype">unsigned</span> char)c;</div>
<div class="line"><span class="lineno">  493</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.pos--;</div>
<div class="line"><span class="lineno">  494</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;past = 0;</div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordflow">return</span> c;</div>
<div class="line"><span class="lineno">  496</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzread_8c_a0b81c1a6e144a3cc5cd97a26688fed69_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5a65adb78194d8b06ca6fd510af8357a.html">AscEmu</a></li><li class="navelem"><a class="el" href="dir_d0fc04153d74feb886fd2096a57dc87f.html">dep</a></li><li class="navelem"><a class="el" href="dir_62373ccef041463ec4d8d69fb4f796a7.html">zlib</a></li><li class="navelem"><a class="el" href="gzread_8c.html">gzread.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
