<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AscEmu: AscEmu/dep/zlib/gzwrite.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="AscEmu.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AscEmu
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('gzwrite_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">gzwrite.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="zlib_2gzguts_8h_source.html">gzguts.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for gzwrite.c:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzwrite_8c__incl.svg" width="339" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="gzwrite_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3fb2532b5691da6f2120dc0c8df10df3" id="r_a3fb2532b5691da6f2120dc0c8df10df3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzwrite_8c.html#a3fb2532b5691da6f2120dc0c8df10df3">gz_init</a> (<a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> state)</td></tr>
<tr class="separator:a3fb2532b5691da6f2120dc0c8df10df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a578bb1f539c1df875e6ebe887663d425" id="r_a578bb1f539c1df875e6ebe887663d425"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzwrite_8c.html#a578bb1f539c1df875e6ebe887663d425">gz_comp</a> (<a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> state, int flush)</td></tr>
<tr class="separator:a578bb1f539c1df875e6ebe887663d425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fad277f0035b7b2048f6187bb03692c" id="r_a6fad277f0035b7b2048f6187bb03692c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzwrite_8c.html#a6fad277f0035b7b2048f6187bb03692c">gz_zero</a> (<a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> state, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#ab9923767082c7a76924b31493e60d42c">z_off64_t</a> len)</td></tr>
<tr class="separator:a6fad277f0035b7b2048f6187bb03692c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af73b41937514710ee55fca44e1e38417" id="r_af73b41937514710ee55fca44e1e38417"><td class="memItemLeft" align="right" valign="top"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> <a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzwrite_8c.html#af73b41937514710ee55fca44e1e38417">gz_write</a> (<a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> state, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a7db54413d7060e4b57868c2b23c0ec1c">voidpc</a> <a class="el" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, <a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> len)</td></tr>
<tr class="separator:af73b41937514710ee55fca44e1e38417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93323ef1288f105db8a89e80f2764d3b" id="r_a93323ef1288f105db8a89e80f2764d3b"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzwrite_8c.html#a93323ef1288f105db8a89e80f2764d3b">gzwrite</a> (<a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a7db54413d7060e4b57868c2b23c0ec1c">voidpc</a> <a class="el" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, unsigned len)</td></tr>
<tr class="separator:a93323ef1288f105db8a89e80f2764d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbc1f2c9217d3f887a2038216a38893f" id="r_abbc1f2c9217d3f887a2038216a38893f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzwrite_8c.html#abbc1f2c9217d3f887a2038216a38893f">gzfwrite</a> (<a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a7db54413d7060e4b57868c2b23c0ec1c">voidpc</a> <a class="el" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, <a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> size, <a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> nitems, <a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file)</td></tr>
<tr class="separator:abbc1f2c9217d3f887a2038216a38893f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f7621e057bd71abdbe2f2480b69935" id="r_a37f7621e057bd71abdbe2f2480b69935"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzwrite_8c.html#a37f7621e057bd71abdbe2f2480b69935">gzputc</a> (<a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file, int c)</td></tr>
<tr class="separator:a37f7621e057bd71abdbe2f2480b69935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d37964a3a465f7eb3e14df58a68efba" id="r_a3d37964a3a465f7eb3e14df58a68efba"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzwrite_8c.html#a3d37964a3a465f7eb3e14df58a68efba">gzputs</a> (<a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *s)</td></tr>
<tr class="separator:a3d37964a3a465f7eb3e14df58a68efba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23cb6f01c1de1f861e22091d0ca092ef" id="r_a23cb6f01c1de1f861e22091d0ca092ef"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#af38d1853df635eee27f1a02f96457b22">ZEXPORTVA</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzwrite_8c.html#a23cb6f01c1de1f861e22091d0ca092ef">gzprintf</a> (<a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file, <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *<a class="el" href="color_8h.html#af4a3b7f252e457605de5440249a15699">format</a>, int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20)</td></tr>
<tr class="separator:a23cb6f01c1de1f861e22091d0ca092ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b70d5783d03b12adfd369bd9b7394a2" id="r_a6b70d5783d03b12adfd369bd9b7394a2"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzwrite_8c.html#a6b70d5783d03b12adfd369bd9b7394a2">gzflush</a> (<a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file, int flush)</td></tr>
<tr class="separator:a6b70d5783d03b12adfd369bd9b7394a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20e49f282c69489d3733593736212876" id="r_a20e49f282c69489d3733593736212876"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzwrite_8c.html#a20e49f282c69489d3733593736212876">gzsetparams</a> (<a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file, int level, int strategy)</td></tr>
<tr class="separator:a20e49f282c69489d3733593736212876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f657e5b498bef603821cdf41c8375d4" id="r_a6f657e5b498bef603821cdf41c8375d4"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gzwrite_8c.html#a6f657e5b498bef603821cdf41c8375d4">gzclose_w</a> (<a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a> file)</td></tr>
<tr class="separator:a6f657e5b498bef603821cdf41c8375d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a578bb1f539c1df875e6ebe887663d425" name="a578bb1f539c1df875e6ebe887663d425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a578bb1f539c1df875e6ebe887663d425">&#9670;&#160;</a></span>gz_comp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int gz_comp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flush</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzwrite_8c_source.html#l00065">65</a> of file <a class="el" href="gzwrite_8c_source.html">gzwrite.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>                                              {</div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordtype">int</span> ret, writ;</div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordtype">unsigned</span> have, put, <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a> = ((unsigned)-1 &gt;&gt; 2) + 1;</div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2zlib_8h.html#a6ede25c84d3c9f8632305866acffb1d6">z_streamp</a> strm = &amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm);</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    <span class="comment">/* allocate memory if this is the first time through */</span></div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size == 0 &amp;&amp; <a class="code hl_function" href="gzwrite_8c.html#a3fb2532b5691da6f2120dc0c8df10df3">gz_init</a>(state) == -1)</div>
<div class="line"><span class="lineno">   72</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>    <span class="comment">/* write directly if requested */</span></div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;direct) {</div>
<div class="line"><span class="lineno">   76</span>        <span class="keywordflow">while</span> (strm-&gt;avail_in) {</div>
<div class="line"><span class="lineno">   77</span>            put = strm-&gt;avail_in &gt; <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a> ? <a class="code hl_function" href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">max</a> : strm-&gt;avail_in;</div>
<div class="line"><span class="lineno">   78</span>            writ = <a class="code hl_function" href="namespacedetail.html#a29dacf26eedc9e3575fb57329a5ca0a3">write</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;fd, strm-&gt;next_in, put);</div>
<div class="line"><span class="lineno">   79</span>            <span class="keywordflow">if</span> (writ &lt; 0) {</div>
<div class="line"><span class="lineno">   80</span>                <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a3c66d64c427c0337c64e578537478737">Z_ERRNO</a>, <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#af252c05931f39dd0b297fe9b8e174b8b">zstrerror</a>());</div>
<div class="line"><span class="lineno">   81</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   82</span>            }</div>
<div class="line"><span class="lineno">   83</span>            strm-&gt;avail_in -= (unsigned)writ;</div>
<div class="line"><span class="lineno">   84</span>            strm-&gt;next_in += writ;</div>
<div class="line"><span class="lineno">   85</span>        }</div>
<div class="line"><span class="lineno">   86</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   87</span>    }</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="comment">/* check for a pending reset */</span></div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;reset) {</div>
<div class="line"><span class="lineno">   91</span>        <span class="comment">/* don&#39;t start a new gzip member unless there is data to write */</span></div>
<div class="line"><span class="lineno">   92</span>        <span class="keywordflow">if</span> (strm-&gt;avail_in == 0)</div>
<div class="line"><span class="lineno">   93</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   94</span>        <a class="code hl_function" href="StormLib_2src_2zlib_2deflate_8c.html#a4f17a4d330d76066b4b26c27f7cde5dc">deflateReset</a>(strm);</div>
<div class="line"><span class="lineno">   95</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;reset = 0;</div>
<div class="line"><span class="lineno">   96</span>    }</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>    <span class="comment">/* run deflate() on provided input until it produces no more output */</span></div>
<div class="line"><span class="lineno">   99</span>    ret = <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>;</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  101</span>        <span class="comment">/* write out current buffer contents if full, or if flushing, but if</span></div>
<div class="line"><span class="lineno">  102</span><span class="comment">           doing Z_FINISH then don&#39;t write until we get to Z_STREAM_END */</span></div>
<div class="line"><span class="lineno">  103</span>        <span class="keywordflow">if</span> (strm-&gt;avail_out == 0 || (flush != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  104</span>            (flush != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a> || ret == <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>))) {</div>
<div class="line"><span class="lineno">  105</span>            <span class="keywordflow">while</span> (strm-&gt;next_out &gt; <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next) {</div>
<div class="line"><span class="lineno">  106</span>                put = strm-&gt;next_out - <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next &gt; (int)max ? max :</div>
<div class="line"><span class="lineno">  107</span>                      (unsigned)(strm-&gt;next_out - <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;<a class="code hl_variable" href="namespaceG3D.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>.<a class="code hl_define" href="llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a>);</div>
<div class="line"><span class="lineno">  108</span>                writ = <a class="code hl_function" href="namespacedetail.html#a29dacf26eedc9e3575fb57329a5ca0a3">write</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;fd, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next, put);</div>
<div class="line"><span class="lineno">  109</span>                <span class="keywordflow">if</span> (writ &lt; 0) {</div>
<div class="line"><span class="lineno">  110</span>                    <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a3c66d64c427c0337c64e578537478737">Z_ERRNO</a>, <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#af252c05931f39dd0b297fe9b8e174b8b">zstrerror</a>());</div>
<div class="line"><span class="lineno">  111</span>                    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  112</span>                }</div>
<div class="line"><span class="lineno">  113</span>                <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next += writ;</div>
<div class="line"><span class="lineno">  114</span>            }</div>
<div class="line"><span class="lineno">  115</span>            <span class="keywordflow">if</span> (strm-&gt;avail_out == 0) {</div>
<div class="line"><span class="lineno">  116</span>                strm-&gt;avail_out = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size;</div>
<div class="line"><span class="lineno">  117</span>                strm-&gt;next_out = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out;</div>
<div class="line"><span class="lineno">  118</span>                <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out;</div>
<div class="line"><span class="lineno">  119</span>            }</div>
<div class="line"><span class="lineno">  120</span>        }</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>        <span class="comment">/* compress */</span></div>
<div class="line"><span class="lineno">  123</span>        have = strm-&gt;avail_out;</div>
<div class="line"><span class="lineno">  124</span>        ret = <a class="code hl_function" href="StormLib_2src_2zlib_2deflate_8c.html#aedba3a94d6e827d61b660443ae5b9f09">deflate</a>(strm, flush);</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">if</span> (ret == <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>) {</div>
<div class="line"><span class="lineno">  126</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>,</div>
<div class="line"><span class="lineno">  127</span>                      <span class="stringliteral">&quot;internal error: deflate stream corrupt&quot;</span>);</div>
<div class="line"><span class="lineno">  128</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  129</span>        }</div>
<div class="line"><span class="lineno">  130</span>        have -= strm-&gt;avail_out;</div>
<div class="line"><span class="lineno">  131</span>    } <span class="keywordflow">while</span> (have);</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    <span class="comment">/* if that completed a deflate stream, allow another to start */</span></div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">if</span> (flush == <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a>)</div>
<div class="line"><span class="lineno">  135</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;reset = 1;</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    <span class="comment">/* all done, no errors */</span></div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  139</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2deflate_8c_html_a4f17a4d330d76066b4b26c27f7cde5dc"><div class="ttname"><a href="StormLib_2src_2zlib_2deflate_8c.html#a4f17a4d330d76066b4b26c27f7cde5dc">deflateReset</a></div><div class="ttdeci">int ZEXPORT deflateReset(z_streamp strm)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2deflate_8c_source.html#l00353">deflate.c:353</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2deflate_8c_html_aedba3a94d6e827d61b660443ae5b9f09"><div class="ttname"><a href="StormLib_2src_2zlib_2deflate_8c.html#aedba3a94d6e827d61b660443ae5b9f09">deflate</a></div><div class="ttdeci">int ZEXPORT deflate(z_streamp strm, int flush)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2deflate_8c_source.html#l00582">deflate.c:582</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2gzguts_8h_html_af252c05931f39dd0b297fe9b8e174b8b"><div class="ttname"><a href="StormLib_2src_2zlib_2gzguts_8h.html#af252c05931f39dd0b297fe9b8e174b8b">zstrerror</a></div><div class="ttdeci">#define zstrerror()</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2gzguts_8h_source.html#l00133">gzguts.h:133</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a3c66d64c427c0337c64e578537478737"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a3c66d64c427c0337c64e578537478737">Z_ERRNO</a></div><div class="ttdeci">#define Z_ERRNO</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00176">zlib.h:176</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a6ede25c84d3c9f8632305866acffb1d6"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a6ede25c84d3c9f8632305866acffb1d6">z_streamp</a></div><div class="ttdeci">z_stream FAR * z_streamp</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00106">zlib.h:106</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a7d94a4a852228a899864a0053162e7a8"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a></div><div class="ttdeci">#define Z_STREAM_END</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00174">zlib.h:174</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a876a626ba14eb12eea4bbf6823b6ca50"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a></div><div class="ttdeci">#define Z_FINISH</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00168">zlib.h:168</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a8cb802b6a11e926478dc6547c514c65c"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a></div><div class="ttdeci">#define Z_OK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00173">zlib.h:173</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_aad97cde83a9a4bb77f5c3b03bb68e483"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a></div><div class="ttdeci">#define Z_STREAM_ERROR</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00177">zlib.h:177</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_ac3b62e37b9922d9496014515acd6083a"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a></div><div class="ttdeci">#define Z_NO_FLUSH</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00164">zlib.h:164</a></div></div>
<div class="ttc" id="agzwrite_8c_html_a3fb2532b5691da6f2120dc0c8df10df3"><div class="ttname"><a href="gzwrite_8c.html#a3fb2532b5691da6f2120dc0c8df10df3">gz_init</a></div><div class="ttdeci">local int gz_init(gz_statep state)</div><div class="ttdef"><b>Definition</b> <a href="gzwrite_8c_source.html#l00011">gzwrite.c:11</a></div></div>
<div class="ttc" id="allex_8c_html_a8ab976102fb046f9974c53caaf5a1995"><div class="ttname"><a href="llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a></div><div class="ttdeci">#define next(ls)</div><div class="ttdef"><b>Definition</b> <a href="llex_8c_source.html#l00032">llex.c:32</a></div></div>
<div class="ttc" id="anamespaceG3D_html_a08c0c3adc7299e964bea91de6cf24b8e"><div class="ttname"><a href="namespaceG3D.html#a08c0c3adc7299e964bea91de6cf24b8e">G3D::max</a></div><div class="ttdeci">T max(const T &amp;x, const T &amp;y)</div><div class="ttdef"><b>Definition</b> <a href="g3dmath_8h_source.html#l00320">g3dmath.h:320</a></div></div>
<div class="ttc" id="anamespaceG3D_html_a55ae91213b07da3a9e14fcd5068d497f"><div class="ttname"><a href="namespaceG3D.html#a55ae91213b07da3a9e14fcd5068d497f">G3D::x</a></div><div class="ttdeci">G3D::int16 x</div><div class="ttdef"><b>Definition</b> <a href="Vector2int16_8h_source.html#l00037">Vector2int16.h:37</a></div></div>
<div class="ttc" id="anamespacedetail_html_a29dacf26eedc9e3575fb57329a5ca0a3"><div class="ttname"><a href="namespacedetail.html#a29dacf26eedc9e3575fb57329a5ca0a3">detail::write</a></div><div class="ttdeci">auto write(OutputIt out, const std::tm &amp;time, const std::locale &amp;loc, char format, char modifier=0) -&gt; OutputIt</div><div class="ttdef"><b>Definition</b> <a href="chrono_8h_source.html#l00419">chrono.h:419</a></div></div>
<div class="ttc" id="anamespacedetail_html_ac742e301ae0a908dc31e49ac3a31fcc5"><div class="ttname"><a href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">detail::state</a></div><div class="ttdeci">state</div><div class="ttdef"><b>Definition</b> <a href="fmt_2include_2fmt_2core_8h_source.html#l02305">core.h:2305</a></div></div>
<div class="ttc" id="azlib_2gzguts_8h_html_a873d627259b4df4438401c293801c7eb"><div class="ttname"><a href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a></div><div class="ttdeci">void ZLIB_INTERNAL gz_error(gz_statep, int, const char *)</div><div class="ttdef"><b>Definition</b> <a href="gzlib_8c_source.html#l00529">gzlib.c:529</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a578bb1f539c1df875e6ebe887663d425_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a578bb1f539c1df875e6ebe887663d425_icgraph.svg" width="488" height="384"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3fb2532b5691da6f2120dc0c8df10df3" name="a3fb2532b5691da6f2120dc0c8df10df3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fb2532b5691da6f2120dc0c8df10df3">&#9670;&#160;</a></span>gz_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int gz_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzwrite_8c_source.html#l00011">11</a> of file <a class="el" href="gzwrite_8c_source.html">gzwrite.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   11</span>                                   {</div>
<div class="line"><span class="lineno">   12</span>    <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">   13</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2zlib_8h.html#a6ede25c84d3c9f8632305866acffb1d6">z_streamp</a> strm = &amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm);</div>
<div class="line"><span class="lineno">   14</span> </div>
<div class="line"><span class="lineno">   15</span>    <span class="comment">/* allocate input buffer (double size for gzprintf) */</span></div>
<div class="line"><span class="lineno">   16</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_function" href="zlib_2gzguts_8h.html#adacbf80ddc99f9a9e0f6aa2bbf1fb0e9">malloc</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;want &lt;&lt; 1);</div>
<div class="line"><span class="lineno">   17</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in == NULL) {</div>
<div class="line"><span class="lineno">   18</span>        <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a>, <span class="stringliteral">&quot;out of memory&quot;</span>);</div>
<div class="line"><span class="lineno">   19</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   20</span>    }</div>
<div class="line"><span class="lineno">   21</span> </div>
<div class="line"><span class="lineno">   22</span>    <span class="comment">/* only need output buffer and deflate state if compressing */</span></div>
<div class="line"><span class="lineno">   23</span>    <span class="keywordflow">if</span> (!<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;direct) {</div>
<div class="line"><span class="lineno">   24</span>        <span class="comment">/* allocate output buffer */</span></div>
<div class="line"><span class="lineno">   25</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_function" href="zlib_2gzguts_8h.html#adacbf80ddc99f9a9e0f6aa2bbf1fb0e9">malloc</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;want);</div>
<div class="line"><span class="lineno">   26</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out == NULL) {</div>
<div class="line"><span class="lineno">   27</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in);</div>
<div class="line"><span class="lineno">   28</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a>, <span class="stringliteral">&quot;out of memory&quot;</span>);</div>
<div class="line"><span class="lineno">   29</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   30</span>        }</div>
<div class="line"><span class="lineno">   31</span> </div>
<div class="line"><span class="lineno">   32</span>        <span class="comment">/* allocate deflate memory, set up for gzip compression */</span></div>
<div class="line"><span class="lineno">   33</span>        strm-&gt;zalloc = <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno">   34</span>        strm-&gt;zfree = <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno">   35</span>        strm-&gt;opaque = <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno">   36</span>        ret = <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a59b575a521efe7ea0d3b9dd3c8d315c1">deflateInit2</a>(strm, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;level, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a27a96226f3dc88e4743131c632adf32f">Z_DEFLATED</a>,</div>
<div class="line"><span class="lineno">   37</span>                           <a class="code hl_define" href="StormLib_2src_2zlib_2zconf_8h.html#abd2f406ac1f9c49236376115d78ccb5b">MAX_WBITS</a> + 16, <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a19c8e60fa32d4ddf303ce988ba97af61">DEF_MEM_LEVEL</a>, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strategy);</div>
<div class="line"><span class="lineno">   38</span>        <span class="keywordflow">if</span> (ret != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>) {</div>
<div class="line"><span class="lineno">   39</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out);</div>
<div class="line"><span class="lineno">   40</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in);</div>
<div class="line"><span class="lineno">   41</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a>, <span class="stringliteral">&quot;out of memory&quot;</span>);</div>
<div class="line"><span class="lineno">   42</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   43</span>        }</div>
<div class="line"><span class="lineno">   44</span>        strm-&gt;next_in = NULL;</div>
<div class="line"><span class="lineno">   45</span>    }</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>    <span class="comment">/* mark state as initialized */</span></div>
<div class="line"><span class="lineno">   48</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;want;</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>    <span class="comment">/* initialize write buffer if compressing */</span></div>
<div class="line"><span class="lineno">   51</span>    <span class="keywordflow">if</span> (!<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;direct) {</div>
<div class="line"><span class="lineno">   52</span>        strm-&gt;avail_out = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size;</div>
<div class="line"><span class="lineno">   53</span>        strm-&gt;next_out = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out;</div>
<div class="line"><span class="lineno">   54</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.next = strm-&gt;next_out;</div>
<div class="line"><span class="lineno">   55</span>    }</div>
<div class="line"><span class="lineno">   56</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   57</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2gzguts_8h_html_a19c8e60fa32d4ddf303ce988ba97af61"><div class="ttname"><a href="StormLib_2src_2zlib_2gzguts_8h.html#a19c8e60fa32d4ddf303ce988ba97af61">DEF_MEM_LEVEL</a></div><div class="ttdeci">#define DEF_MEM_LEVEL</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2gzguts_8h_source.html#l00149">gzguts.h:149</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zconf_8h_html_abd2f406ac1f9c49236376115d78ccb5b"><div class="ttname"><a href="StormLib_2src_2zlib_2zconf_8h.html#abd2f406ac1f9c49236376115d78ccb5b">MAX_WBITS</a></div><div class="ttdeci">#define MAX_WBITS</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zconf_8h_source.html#l00220">zconf.h:220</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a27a96226f3dc88e4743131c632adf32f"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a27a96226f3dc88e4743131c632adf32f">Z_DEFLATED</a></div><div class="ttdeci">#define Z_DEFLATED</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00205">zlib.h:205</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a59b575a521efe7ea0d3b9dd3c8d315c1"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a59b575a521efe7ea0d3b9dd3c8d315c1">deflateInit2</a></div><div class="ttdeci">#define deflateInit2(strm, level, method, windowBits, memLevel, strategy)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l01550">zlib.h:1550</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_ad15afa2776b41b2f4d8582dd152bd736"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a></div><div class="ttdeci">#define Z_NULL</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00208">zlib.h:208</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_ae2be6be871e377c6e2c25a7296ce320c"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a></div><div class="ttdeci">#define Z_MEM_ERROR</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00179">zlib.h:179</a></div></div>
<div class="ttc" id="azlib_2gzguts_8h_html_a6d9b026f3a32ae4cad5d108f9ee45986"><div class="ttname"><a href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a></div><div class="ttdeci">void free(voidpf ptr)</div></div>
<div class="ttc" id="azlib_2gzguts_8h_html_adacbf80ddc99f9a9e0f6aa2bbf1fb0e9"><div class="ttname"><a href="zlib_2gzguts_8h.html#adacbf80ddc99f9a9e0f6aa2bbf1fb0e9">malloc</a></div><div class="ttdeci">voidp malloc(uInt size)</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a3fb2532b5691da6f2120dc0c8df10df3_cgraph.svg" width="314" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a3fb2532b5691da6f2120dc0c8df10df3_icgraph.svg" width="602" height="338"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af73b41937514710ee55fca44e1e38417" name="af73b41937514710ee55fca44e1e38417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af73b41937514710ee55fca44e1e38417">&#9670;&#160;</a></span>gz_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> <a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> gz_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a7db54413d7060e4b57868c2b23c0ec1c">voidpc</a>&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzwrite_8c_source.html#l00173">173</a> of file <a class="el" href="gzwrite_8c_source.html">gzwrite.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  173</span>                                                                   {</div>
<div class="line"><span class="lineno">  174</span>    <a class="code hl_typedef" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> put = len;</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>    <span class="comment">/* if len is zero, avoid unnecessary operations */</span></div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">if</span> (len == 0)</div>
<div class="line"><span class="lineno">  178</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>    <span class="comment">/* allocate memory if this is the first time through */</span></div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size == 0 &amp;&amp; <a class="code hl_function" href="gzwrite_8c.html#a3fb2532b5691da6f2120dc0c8df10df3">gz_init</a>(state) == -1)</div>
<div class="line"><span class="lineno">  182</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>    <span class="comment">/* check for seek request */</span></div>
<div class="line"><span class="lineno">  185</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek) {</div>
<div class="line"><span class="lineno">  186</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek = 0;</div>
<div class="line"><span class="lineno">  187</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="gzwrite_8c.html#a6fad277f0035b7b2048f6187bb03692c">gz_zero</a>(state, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;skip) == -1)</div>
<div class="line"><span class="lineno">  188</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  189</span>    }</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    <span class="comment">/* for small len, copy to input buffer, otherwise compress directly */</span></div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordflow">if</span> (len &lt; state-&gt;size) {</div>
<div class="line"><span class="lineno">  193</span>        <span class="comment">/* copy to input buffer, compress when full */</span></div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  195</span>            <span class="keywordtype">unsigned</span> have, <a class="code hl_function" href="ltm__desc_8c.html#ad88f68a4e6f0c7334e93eebf7ddbb2d3">copy</a>;</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>            <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.avail_in == 0)</div>
<div class="line"><span class="lineno">  198</span>                <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.next_in = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in;</div>
<div class="line"><span class="lineno">  199</span>            have = (unsigned)((<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.next_in + <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.avail_in) -</div>
<div class="line"><span class="lineno">  200</span>                              <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in);</div>
<div class="line"><span class="lineno">  201</span>            <a class="code hl_function" href="ltm__desc_8c.html#ad88f68a4e6f0c7334e93eebf7ddbb2d3">copy</a> = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size - have;</div>
<div class="line"><span class="lineno">  202</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="ltm__desc_8c.html#ad88f68a4e6f0c7334e93eebf7ddbb2d3">copy</a> &gt; len)</div>
<div class="line"><span class="lineno">  203</span>                <a class="code hl_function" href="ltm__desc_8c.html#ad88f68a4e6f0c7334e93eebf7ddbb2d3">copy</a> = (unsigned)len;</div>
<div class="line"><span class="lineno">  204</span>            memcpy(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in + have, <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, <a class="code hl_function" href="ltm__desc_8c.html#ad88f68a4e6f0c7334e93eebf7ddbb2d3">copy</a>);</div>
<div class="line"><span class="lineno">  205</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.avail_in += <a class="code hl_function" href="ltm__desc_8c.html#ad88f68a4e6f0c7334e93eebf7ddbb2d3">copy</a>;</div>
<div class="line"><span class="lineno">  206</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.pos += <a class="code hl_function" href="ltm__desc_8c.html#ad88f68a4e6f0c7334e93eebf7ddbb2d3">copy</a>;</div>
<div class="line"><span class="lineno">  207</span>            <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a> = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a> + <a class="code hl_function" href="ltm__desc_8c.html#ad88f68a4e6f0c7334e93eebf7ddbb2d3">copy</a>;</div>
<div class="line"><span class="lineno">  208</span>            len -= <a class="code hl_function" href="ltm__desc_8c.html#ad88f68a4e6f0c7334e93eebf7ddbb2d3">copy</a>;</div>
<div class="line"><span class="lineno">  209</span>            <span class="keywordflow">if</span> (len &amp;&amp; <a class="code hl_function" href="gzwrite_8c.html#a578bb1f539c1df875e6ebe887663d425">gz_comp</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>) == -1)</div>
<div class="line"><span class="lineno">  210</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  211</span>        } <span class="keywordflow">while</span> (len);</div>
<div class="line"><span class="lineno">  212</span>    }</div>
<div class="line"><span class="lineno">  213</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  214</span>        <span class="comment">/* consume whatever&#39;s left in the input buffer */</span></div>
<div class="line"><span class="lineno">  215</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.avail_in &amp;&amp; <a class="code hl_function" href="gzwrite_8c.html#a578bb1f539c1df875e6ebe887663d425">gz_comp</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>) == -1)</div>
<div class="line"><span class="lineno">  216</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>        <span class="comment">/* directly compress user buffer to file */</span></div>
<div class="line"><span class="lineno">  219</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.next_in = (<a class="code hl_define" href="zlib_2zconf_8h.html#a8dc97a57ad456f3016c710ee6507dbee">z_const</a> <a class="code hl_typedef" href="StormLib_2src_2zlib_2zconf_8h.html#aeb722a888064be47e12d05f692e0f407">Bytef</a> *)<a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>;</div>
<div class="line"><span class="lineno">  220</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  221</span>            <span class="keywordtype">unsigned</span> n = (unsigned)-1;</div>
<div class="line"><span class="lineno">  222</span>            <span class="keywordflow">if</span> (n &gt; len)</div>
<div class="line"><span class="lineno">  223</span>                n = (unsigned)len;</div>
<div class="line"><span class="lineno">  224</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm.avail_in = n;</div>
<div class="line"><span class="lineno">  225</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.pos += n;</div>
<div class="line"><span class="lineno">  226</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="gzwrite_8c.html#a578bb1f539c1df875e6ebe887663d425">gz_comp</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>) == -1)</div>
<div class="line"><span class="lineno">  227</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  228</span>            len -= n;</div>
<div class="line"><span class="lineno">  229</span>        } <span class="keywordflow">while</span> (len);</div>
<div class="line"><span class="lineno">  230</span>    }</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>    <span class="comment">/* input was all buffered or compressed */</span></div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">return</span> put;</div>
<div class="line"><span class="lineno">  234</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2zconf_8h_html_aeb722a888064be47e12d05f692e0f407"><div class="ttname"><a href="StormLib_2src_2zlib_2zconf_8h.html#aeb722a888064be47e12d05f692e0f407">Bytef</a></div><div class="ttdeci">Byte FAR Bytef</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zconf_8h_source.html#l00342">zconf.h:342</a></div></div>
<div class="ttc" id="agzwrite_8c_html_a578bb1f539c1df875e6ebe887663d425"><div class="ttname"><a href="gzwrite_8c.html#a578bb1f539c1df875e6ebe887663d425">gz_comp</a></div><div class="ttdeci">local int gz_comp(gz_statep state, int flush)</div><div class="ttdef"><b>Definition</b> <a href="gzwrite_8c_source.html#l00065">gzwrite.c:65</a></div></div>
<div class="ttc" id="agzwrite_8c_html_a6fad277f0035b7b2048f6187bb03692c"><div class="ttname"><a href="gzwrite_8c.html#a6fad277f0035b7b2048f6187bb03692c">gz_zero</a></div><div class="ttdeci">local int gz_zero(gz_statep state, z_off64_t len)</div><div class="ttdef"><b>Definition</b> <a href="gzwrite_8c_source.html#l00143">gzwrite.c:143</a></div></div>
<div class="ttc" id="altm__desc_8c_html_ad88f68a4e6f0c7334e93eebf7ddbb2d3"><div class="ttname"><a href="ltm__desc_8c.html#ad88f68a4e6f0c7334e93eebf7ddbb2d3">copy</a></div><div class="ttdeci">static int copy(void *a, void *b)</div><div class="ttdef"><b>Definition</b> <a href="ltm__desc_8c_source.html#l00075">ltm_desc.c:75</a></div></div>
<div class="ttc" id="aspewG_8c_html_a997189b95e4c22de59cfb3605f755787"><div class="ttname"><a href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a></div><div class="ttdeci">char buf[N_BUF]</div><div class="ttdef"><b>Definition</b> <a href="spewG_8c_source.html#l00036">spewG.c:36</a></div></div>
<div class="ttc" id="azlib_2zconf_8h_html_a8dc97a57ad456f3016c710ee6507dbee"><div class="ttname"><a href="zlib_2zconf_8h.html#a8dc97a57ad456f3016c710ee6507dbee">z_const</a></div><div class="ttdeci">#define z_const</div><div class="ttdef"><b>Definition</b> <a href="zlib_2zconf_8h_source.html#l00240">zconf.h:240</a></div></div>
<div class="ttc" id="azlib_2zconf_8h_html_ac049a4b91bbe1112841d2890b206b890"><div class="ttname"><a href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a></div><div class="ttdeci">unsigned long z_size_t</div><div class="ttdef"><b>Definition</b> <a href="zlib_2zconf_8h_source.html#l00257">zconf.h:257</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_af73b41937514710ee55fca44e1e38417_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_af73b41937514710ee55fca44e1e38417_icgraph.svg" width="211" height="184"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6fad277f0035b7b2048f6187bb03692c" name="a6fad277f0035b7b2048f6187bb03692c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fad277f0035b7b2048f6187bb03692c">&#9670;&#160;</a></span>gz_zero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="StormLib_2src_2zlib_2adler32_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a> int gz_zero </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#ab9923767082c7a76924b31493e60d42c">z_off64_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzwrite_8c_source.html#l00143">143</a> of file <a class="el" href="gzwrite_8c_source.html">gzwrite.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  143</span>                                                  {</div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="namespacedetail.html#a02319a3deb124802b88b61f85987df5e">first</a>;</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordtype">unsigned</span> n;</div>
<div class="line"><span class="lineno">  146</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2zlib_8h.html#a6ede25c84d3c9f8632305866acffb1d6">z_streamp</a> strm = &amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm);</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    <span class="comment">/* consume whatever&#39;s left in the input buffer */</span></div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">if</span> (strm-&gt;avail_in &amp;&amp; <a class="code hl_function" href="gzwrite_8c.html#a578bb1f539c1df875e6ebe887663d425">gz_comp</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>) == -1)</div>
<div class="line"><span class="lineno">  150</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    <span class="comment">/* compress len zeros (len guaranteed &gt; 0) */</span></div>
<div class="line"><span class="lineno">  153</span>    <a class="code hl_function" href="namespacedetail.html#a02319a3deb124802b88b61f85987df5e">first</a> = 1;</div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordflow">while</span> (len) {</div>
<div class="line"><span class="lineno">  155</span>        n = <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a87ad28552e786eaa1c31fed1950fdff4">GT_OFF</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size) || (<a class="code hl_define" href="StormLib_2src_2zlib_2zconf_8h.html#ab9923767082c7a76924b31493e60d42c">z_off64_t</a>)<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size &gt; len ?</div>
<div class="line"><span class="lineno">  156</span>            (<span class="keywordtype">unsigned</span>)len : <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size;</div>
<div class="line"><span class="lineno">  157</span>        <span class="keywordflow">if</span> (first) {</div>
<div class="line"><span class="lineno">  158</span>            memset(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in, 0, n);</div>
<div class="line"><span class="lineno">  159</span>            <a class="code hl_function" href="namespacedetail.html#a02319a3deb124802b88b61f85987df5e">first</a> = 0;</div>
<div class="line"><span class="lineno">  160</span>        }</div>
<div class="line"><span class="lineno">  161</span>        strm-&gt;avail_in = n;</div>
<div class="line"><span class="lineno">  162</span>        strm-&gt;next_in = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in;</div>
<div class="line"><span class="lineno">  163</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.pos += n;</div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="gzwrite_8c.html#a578bb1f539c1df875e6ebe887663d425">gz_comp</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>) == -1)</div>
<div class="line"><span class="lineno">  165</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  166</span>        len -= n;</div>
<div class="line"><span class="lineno">  167</span>    }</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  169</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2gzguts_8h_html_a87ad28552e786eaa1c31fed1950fdff4"><div class="ttname"><a href="StormLib_2src_2zlib_2gzguts_8h.html#a87ad28552e786eaa1c31fed1950fdff4">GT_OFF</a></div><div class="ttdeci">#define GT_OFF(x)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2gzguts_8h_source.html#l00217">gzguts.h:217</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zconf_8h_html_ab9923767082c7a76924b31493e60d42c"><div class="ttname"><a href="StormLib_2src_2zlib_2zconf_8h.html#ab9923767082c7a76924b31493e60d42c">z_off64_t</a></div><div class="ttdeci">#define z_off64_t</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zconf_8h_source.html#l00400">zconf.h:400</a></div></div>
<div class="ttc" id="anamespacedetail_html_a02319a3deb124802b88b61f85987df5e"><div class="ttname"><a href="namespacedetail.html#a02319a3deb124802b88b61f85987df5e">detail::first</a></div><div class="ttdeci">auto first(const T &amp;value, const Tail &amp;...) -&gt; const T &amp;</div><div class="ttdef"><b>Definition</b> <a href="compile_8h_source.html#l00060">compile.h:60</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a6fad277f0035b7b2048f6187bb03692c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a6fad277f0035b7b2048f6187bb03692c_icgraph.svg" width="360" height="320"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6f657e5b498bef603821cdf41c8375d4" name="a6f657e5b498bef603821cdf41c8375d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f657e5b498bef603821cdf41c8375d4">&#9670;&#160;</a></span>gzclose_w()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzclose_w </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzwrite_8c_source.html#l00595">595</a> of file <a class="el" href="gzwrite_8c_source.html">gzwrite.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  595</span>                                   {</div>
<div class="line"><span class="lineno">  596</span>    <span class="keywordtype">int</span> ret = <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>;</div>
<div class="line"><span class="lineno">  597</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  601</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>;</div>
<div class="line"><span class="lineno">  602</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>    <span class="comment">/* check that we&#39;re writing */</span></div>
<div class="line"><span class="lineno">  605</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a357c4f5723c26966ed9d68c9bd6490c0">GZ_WRITE</a>)</div>
<div class="line"><span class="lineno">  606</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>;</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>    <span class="comment">/* check for seek request */</span></div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek) {</div>
<div class="line"><span class="lineno">  610</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek = 0;</div>
<div class="line"><span class="lineno">  611</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="gzwrite_8c.html#a6fad277f0035b7b2048f6187bb03692c">gz_zero</a>(state, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;skip) == -1)</div>
<div class="line"><span class="lineno">  612</span>            ret = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err;</div>
<div class="line"><span class="lineno">  613</span>    }</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>    <span class="comment">/* flush, free memory, and close file */</span></div>
<div class="line"><span class="lineno">  616</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="gzwrite_8c.html#a578bb1f539c1df875e6ebe887663d425">gz_comp</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a>) == -1)</div>
<div class="line"><span class="lineno">  617</span>        ret = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err;</div>
<div class="line"><span class="lineno">  618</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size) {</div>
<div class="line"><span class="lineno">  619</span>        <span class="keywordflow">if</span> (!<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;direct) {</div>
<div class="line"><span class="lineno">  620</span>            (void)<a class="code hl_function" href="StormLib_2src_2zlib_2deflate_8c.html#ada68769789b1d84de7e708d6e848a075">deflateEnd</a>(&amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm));</div>
<div class="line"><span class="lineno">  621</span>            <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;out);</div>
<div class="line"><span class="lineno">  622</span>        }</div>
<div class="line"><span class="lineno">  623</span>        <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in);</div>
<div class="line"><span class="lineno">  624</span>    }</div>
<div class="line"><span class="lineno">  625</span>    <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>, NULL);</div>
<div class="line"><span class="lineno">  626</span>    <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;path);</div>
<div class="line"><span class="lineno">  627</span>    <span class="keywordflow">if</span> (close(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;fd) == -1)</div>
<div class="line"><span class="lineno">  628</span>        ret = <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a3c66d64c427c0337c64e578537478737">Z_ERRNO</a>;</div>
<div class="line"><span class="lineno">  629</span>    <a class="code hl_function" href="zlib_2gzguts_8h.html#a6d9b026f3a32ae4cad5d108f9ee45986">free</a>(state);</div>
<div class="line"><span class="lineno">  630</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  631</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2deflate_8c_html_ada68769789b1d84de7e708d6e848a075"><div class="ttname"><a href="StormLib_2src_2zlib_2deflate_8c.html#ada68769789b1d84de7e708d6e848a075">deflateEnd</a></div><div class="ttdeci">int ZEXPORT deflateEnd(z_streamp strm)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2deflate_8c_source.html#l00895">deflate.c:895</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2gzguts_8h_html_a15adc208a26903dbfe8c57720cf401c8"><div class="ttname"><a href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a></div><div class="ttdeci">gz_state FAR * gz_statep</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2gzguts_8h_source.html#l00202">gzguts.h:202</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2gzguts_8h_html_a357c4f5723c26966ed9d68c9bd6490c0"><div class="ttname"><a href="StormLib_2src_2zlib_2gzguts_8h.html#a357c4f5723c26966ed9d68c9bd6490c0">GZ_WRITE</a></div><div class="ttdeci">#define GZ_WRITE</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2gzguts_8h_source.html#l00161">gzguts.h:161</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a6f657e5b498bef603821cdf41c8375d4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a6f657e5b498bef603821cdf41c8375d4_icgraph.svg" width="219" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6b70d5783d03b12adfd369bd9b7394a2" name="a6b70d5783d03b12adfd369bd9b7394a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b70d5783d03b12adfd369bd9b7394a2">&#9670;&#160;</a></span>gzflush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzflush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flush</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzwrite_8c_source.html#l00528">528</a> of file <a class="el" href="gzwrite_8c_source.html">gzwrite.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  528</span>                                            {</div>
<div class="line"><span class="lineno">  529</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  532</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  533</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>;</div>
<div class="line"><span class="lineno">  534</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>    <span class="comment">/* check that we&#39;re writing and that there&#39;s no error */</span></div>
<div class="line"><span class="lineno">  537</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a357c4f5723c26966ed9d68c9bd6490c0">GZ_WRITE</a> || <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>)</div>
<div class="line"><span class="lineno">  538</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>;</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>    <span class="comment">/* check flush parameter */</span></div>
<div class="line"><span class="lineno">  541</span>    <span class="keywordflow">if</span> (flush &lt; 0 || flush &gt; <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a>)</div>
<div class="line"><span class="lineno">  542</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>;</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>    <span class="comment">/* check for seek request */</span></div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek) {</div>
<div class="line"><span class="lineno">  546</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek = 0;</div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="gzwrite_8c.html#a6fad277f0035b7b2048f6187bb03692c">gz_zero</a>(state, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;skip) == -1)</div>
<div class="line"><span class="lineno">  548</span>            <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err;</div>
<div class="line"><span class="lineno">  549</span>    }</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>    <span class="comment">/* compress remaining data with requested flush */</span></div>
<div class="line"><span class="lineno">  552</span>    (void)<a class="code hl_function" href="gzwrite_8c.html#a578bb1f539c1df875e6ebe887663d425">gz_comp</a>(state, flush);</div>
<div class="line"><span class="lineno">  553</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err;</div>
<div class="line"><span class="lineno">  554</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a6b70d5783d03b12adfd369bd9b7394a2_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="abbc1f2c9217d3f887a2038216a38893f" name="abbc1f2c9217d3f887a2038216a38893f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbc1f2c9217d3f887a2038216a38893f">&#9670;&#160;</a></span>gzfwrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzfwrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a7db54413d7060e4b57868c2b23c0ec1c">voidpc</a>&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a>&#160;</td>
          <td class="paramname"><em>nitems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzwrite_8c_source.html#l00261">261</a> of file <a class="el" href="gzwrite_8c_source.html">gzwrite.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  262</span>                                       {</div>
<div class="line"><span class="lineno">  263</span>    <a class="code hl_typedef" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> len;</div>
<div class="line"><span class="lineno">  264</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  268</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  269</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <span class="comment">/* check that we&#39;re writing and that there&#39;s no error */</span></div>
<div class="line"><span class="lineno">  272</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a357c4f5723c26966ed9d68c9bd6490c0">GZ_WRITE</a> || <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>)</div>
<div class="line"><span class="lineno">  273</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>    <span class="comment">/* compute bytes to read -- error on overflow */</span></div>
<div class="line"><span class="lineno">  276</span>    len = nitems * size;</div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">if</span> (size &amp;&amp; len / size != nitems) {</div>
<div class="line"><span class="lineno">  278</span>        <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>, <span class="stringliteral">&quot;request does not fit in a size_t&quot;</span>);</div>
<div class="line"><span class="lineno">  279</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  280</span>    }</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    <span class="comment">/* write len bytes to buf, return the number of full items written */</span></div>
<div class="line"><span class="lineno">  283</span>    <span class="keywordflow">return</span> len ? <a class="code hl_function" href="gzwrite_8c.html#af73b41937514710ee55fca44e1e38417">gz_write</a>(state, <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, len) / size : 0;</div>
<div class="line"><span class="lineno">  284</span>}</div>
<div class="ttc" id="agzwrite_8c_html_af73b41937514710ee55fca44e1e38417"><div class="ttname"><a href="gzwrite_8c.html#af73b41937514710ee55fca44e1e38417">gz_write</a></div><div class="ttdeci">local z_size_t gz_write(gz_statep state, voidpc buf, z_size_t len)</div><div class="ttdef"><b>Definition</b> <a href="gzwrite_8c_source.html#l00173">gzwrite.c:173</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_abbc1f2c9217d3f887a2038216a38893f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a23cb6f01c1de1f861e22091d0ca092ef" name="a23cb6f01c1de1f861e22091d0ca092ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23cb6f01c1de1f861e22091d0ca092ef">&#9670;&#160;</a></span>gzprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#af38d1853df635eee27f1a02f96457b22">ZEXPORTVA</a> gzprintf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a5</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a6</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a7</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a8</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a9</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a10</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a11</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a12</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a13</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a14</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a15</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a16</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a17</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a18</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a19</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a20</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzwrite_8c_source.html#l00443">443</a> of file <a class="el" href="gzwrite_8c_source.html">gzwrite.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  446</span>                                                           {</div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordtype">unsigned</span> len, <a class="code hl_variable" href="lparser_8c.html#a3584754acc5e91c03d6fc91359eefd78">left</a>;</div>
<div class="line"><span class="lineno">  448</span>    <span class="keywordtype">char</span> *<a class="code hl_define" href="llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a>;</div>
<div class="line"><span class="lineno">  449</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  450</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2zlib_8h.html#a6ede25c84d3c9f8632305866acffb1d6">z_streamp</a> strm;</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  453</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  454</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>;</div>
<div class="line"><span class="lineno">  455</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  456</span>    strm = &amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm);</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>    <span class="comment">/* check that can really pass pointer in ints */</span></div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) != <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *))</div>
<div class="line"><span class="lineno">  460</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>;</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>    <span class="comment">/* check that we&#39;re writing and that there&#39;s no error */</span></div>
<div class="line"><span class="lineno">  463</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a357c4f5723c26966ed9d68c9bd6490c0">GZ_WRITE</a> || <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>)</div>
<div class="line"><span class="lineno">  464</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>;</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>    <span class="comment">/* make sure we have some buffer space */</span></div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size == 0 &amp;&amp; <a class="code hl_function" href="gzwrite_8c.html#a3fb2532b5691da6f2120dc0c8df10df3">gz_init</a>(state) == -1)</div>
<div class="line"><span class="lineno">  468</span>        <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;error;</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>    <span class="comment">/* check for seek request */</span></div>
<div class="line"><span class="lineno">  471</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek) {</div>
<div class="line"><span class="lineno">  472</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek = 0;</div>
<div class="line"><span class="lineno">  473</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="gzwrite_8c.html#a6fad277f0035b7b2048f6187bb03692c">gz_zero</a>(state, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;skip) == -1)</div>
<div class="line"><span class="lineno">  474</span>            <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;error;</div>
<div class="line"><span class="lineno">  475</span>    }</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>    <span class="comment">/* do the printf() into the input buffer, put length in len -- the input</span></div>
<div class="line"><span class="lineno">  478</span><span class="comment">       buffer is double-sized just for this function, so there is guaranteed to</span></div>
<div class="line"><span class="lineno">  479</span><span class="comment">       be state-&gt;size bytes available after the current contents */</span></div>
<div class="line"><span class="lineno">  480</span>    <span class="keywordflow">if</span> (strm-&gt;avail_in == 0)</div>
<div class="line"><span class="lineno">  481</span>        strm-&gt;next_in = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in;</div>
<div class="line"><span class="lineno">  482</span>    <a class="code hl_define" href="llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a> = (<span class="keywordtype">char</span> *)(strm-&gt;next_in + strm-&gt;avail_in);</div>
<div class="line"><span class="lineno">  483</span>    <a class="code hl_define" href="llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a>[<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size - 1] = 0;</div>
<div class="line"><span class="lineno">  484</span><span class="preprocessor">#ifdef NO_snprintf</span></div>
<div class="line"><span class="lineno">  485</span><span class="preprocessor">#  ifdef HAS_sprintf_void</span></div>
<div class="line"><span class="lineno">  486</span>    <a class="code hl_function" href="printf_8h.html#aa7d2e7e454d3fe606a71504a119dc894">sprintf</a>(<a class="code hl_define" href="llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a>, <a class="code hl_function" href="color_8h.html#af4a3b7f252e457605de5440249a15699">format</a>, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12,</div>
<div class="line"><span class="lineno">  487</span>            a13, a14, a15, a16, a17, a18, a19, a20);</div>
<div class="line"><span class="lineno">  488</span>    <span class="keywordflow">for</span> (len = 0; len &lt; size; len++)</div>
<div class="line"><span class="lineno">  489</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a>[len] == 0)</div>
<div class="line"><span class="lineno">  490</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  491</span><span class="preprocessor">#  else</span></div>
<div class="line"><span class="lineno">  492</span>    len = <a class="code hl_function" href="printf_8h.html#aa7d2e7e454d3fe606a71504a119dc894">sprintf</a>(<a class="code hl_define" href="llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a>, <a class="code hl_function" href="color_8h.html#af4a3b7f252e457605de5440249a15699">format</a>, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11,</div>
<div class="line"><span class="lineno">  493</span>                  a12, a13, a14, a15, a16, a17, a18, a19, a20);</div>
<div class="line"><span class="lineno">  494</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno">  495</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  496</span><span class="preprocessor">#  ifdef HAS_snprintf_void</span></div>
<div class="line"><span class="lineno">  497</span>    snprintf(<a class="code hl_define" href="llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a>, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size, <a class="code hl_function" href="color_8h.html#af4a3b7f252e457605de5440249a15699">format</a>, a1, a2, a3, a4, a5, a6, a7, a8, a9,</div>
<div class="line"><span class="lineno">  498</span>             a10, a11, a12, a13, a14, a15, a16, a17, a18, a19, a20);</div>
<div class="line"><span class="lineno">  499</span>    len = strlen(<a class="code hl_define" href="llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a>);</div>
<div class="line"><span class="lineno">  500</span><span class="preprocessor">#  else</span></div>
<div class="line"><span class="lineno">  501</span>    len = snprintf(<a class="code hl_define" href="llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a>, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size, <a class="code hl_function" href="color_8h.html#af4a3b7f252e457605de5440249a15699">format</a>, a1, a2, a3, a4, a5, a6, a7, a8,</div>
<div class="line"><span class="lineno">  502</span>                   a9, a10, a11, a12, a13, a14, a15, a16, a17, a18, a19, a20);</div>
<div class="line"><span class="lineno">  503</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno">  504</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>    <span class="comment">/* check that printf() results fit in buffer */</span></div>
<div class="line"><span class="lineno">  507</span>    <span class="keywordflow">if</span> (len == 0 || len &gt;= <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size || <a class="code hl_define" href="llex_8c.html#a8ab976102fb046f9974c53caaf5a1995">next</a>[<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size - 1] != 0)</div>
<div class="line"><span class="lineno">  508</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>    <span class="comment">/* update buffer and position, compress first half if past that */</span></div>
<div class="line"><span class="lineno">  511</span>    strm-&gt;avail_in += len;</div>
<div class="line"><span class="lineno">  512</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.pos += len;</div>
<div class="line"><span class="lineno">  513</span>    <span class="keywordflow">if</span> (strm-&gt;avail_in &gt;= <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size) {</div>
<div class="line"><span class="lineno">  514</span>        <a class="code hl_variable" href="lparser_8c.html#a3584754acc5e91c03d6fc91359eefd78">left</a> = strm-&gt;avail_in - <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size;</div>
<div class="line"><span class="lineno">  515</span>        strm-&gt;avail_in = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size;</div>
<div class="line"><span class="lineno">  516</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="gzwrite_8c.html#a578bb1f539c1df875e6ebe887663d425">gz_comp</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>) == -1)</div>
<div class="line"><span class="lineno">  517</span>            <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err;</div>
<div class="line"><span class="lineno">  518</span>        memmove(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in + <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size, <a class="code hl_variable" href="lparser_8c.html#a3584754acc5e91c03d6fc91359eefd78">left</a>);</div>
<div class="line"><span class="lineno">  519</span>        strm-&gt;next_in = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in;</div>
<div class="line"><span class="lineno">  520</span>        strm-&gt;avail_in = <a class="code hl_variable" href="lparser_8c.html#a3584754acc5e91c03d6fc91359eefd78">left</a>;</div>
<div class="line"><span class="lineno">  521</span>    }</div>
<div class="line"><span class="lineno">  522</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)len;</div>
<div class="line"><span class="lineno">  523</span>}</div>
<div class="ttc" id="acolor_8h_html_af4a3b7f252e457605de5440249a15699"><div class="ttname"><a href="color_8h.html#af4a3b7f252e457605de5440249a15699">format</a></div><div class="ttdeci">auto format(const text_style &amp;ts, const S &amp;format_str, const Args &amp;... args) -&gt; std::basic_string&lt; Char &gt;</div><div class="ttdef"><b>Definition</b> <a href="color_8h_source.html#l00543">color.h:543</a></div></div>
<div class="ttc" id="alparser_8c_html_a3584754acc5e91c03d6fc91359eefd78"><div class="ttname"><a href="lparser_8c.html#a3584754acc5e91c03d6fc91359eefd78">left</a></div><div class="ttdeci">lu_byte left</div><div class="ttdef"><b>Definition</b> <a href="lparser_8c_source.html#l01237">lparser.c:1237</a></div></div>
<div class="ttc" id="aprintf_8h_html_aa7d2e7e454d3fe606a71504a119dc894"><div class="ttname"><a href="printf_8h.html#aa7d2e7e454d3fe606a71504a119dc894">sprintf</a></div><div class="ttdeci">auto sprintf(const S &amp;fmt, const T &amp;... args) -&gt; std::basic_string&lt; Char &gt;</div><div class="ttdef"><b>Definition</b> <a href="printf_8h_source.html#l00612">printf.h:612</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a23cb6f01c1de1f861e22091d0ca092ef_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a37f7621e057bd71abdbe2f2480b69935" name="a37f7621e057bd71abdbe2f2480b69935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f7621e057bd71abdbe2f2480b69935">&#9670;&#160;</a></span>gzputc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzputc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzwrite_8c_source.html#l00287">287</a> of file <a class="el" href="gzwrite_8c_source.html">gzwrite.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  287</span>                                       {</div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordtype">unsigned</span> have;</div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>[1];</div>
<div class="line"><span class="lineno">  290</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  291</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2zlib_8h.html#a6ede25c84d3c9f8632305866acffb1d6">z_streamp</a> strm;</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  294</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  295</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  296</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  297</span>    strm = &amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm);</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>    <span class="comment">/* check that we&#39;re writing and that there&#39;s no error */</span></div>
<div class="line"><span class="lineno">  300</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a357c4f5723c26966ed9d68c9bd6490c0">GZ_WRITE</a> || <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>)</div>
<div class="line"><span class="lineno">  301</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>    <span class="comment">/* check for seek request */</span></div>
<div class="line"><span class="lineno">  304</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek) {</div>
<div class="line"><span class="lineno">  305</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek = 0;</div>
<div class="line"><span class="lineno">  306</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="gzwrite_8c.html#a6fad277f0035b7b2048f6187bb03692c">gz_zero</a>(state, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;skip) == -1)</div>
<div class="line"><span class="lineno">  307</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  308</span>    }</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>    <span class="comment">/* try writing to input buffer for speed (state-&gt;size == 0 if buffer not</span></div>
<div class="line"><span class="lineno">  311</span><span class="comment">       initialized) */</span></div>
<div class="line"><span class="lineno">  312</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size) {</div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">if</span> (strm-&gt;avail_in == 0)</div>
<div class="line"><span class="lineno">  314</span>            strm-&gt;next_in = <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in;</div>
<div class="line"><span class="lineno">  315</span>        have = (unsigned)((strm-&gt;next_in + strm-&gt;avail_in) - <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in);</div>
<div class="line"><span class="lineno">  316</span>        <span class="keywordflow">if</span> (have &lt; state-&gt;size) {</div>
<div class="line"><span class="lineno">  317</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;in[have] = (<span class="keywordtype">unsigned</span> char)c;</div>
<div class="line"><span class="lineno">  318</span>            strm-&gt;avail_in++;</div>
<div class="line"><span class="lineno">  319</span>            <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;x.pos++;</div>
<div class="line"><span class="lineno">  320</span>            <span class="keywordflow">return</span> c &amp; 0xff;</div>
<div class="line"><span class="lineno">  321</span>        }</div>
<div class="line"><span class="lineno">  322</span>    }</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    <span class="comment">/* no room in buffer or not initialized, use gz_write() */</span></div>
<div class="line"><span class="lineno">  325</span>    <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>[0] = (<span class="keywordtype">unsigned</span> char)c;</div>
<div class="line"><span class="lineno">  326</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="gzwrite_8c.html#af73b41937514710ee55fca44e1e38417">gz_write</a>(state, <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, 1) != 1)</div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  328</span>    <span class="keywordflow">return</span> c &amp; 0xff;</div>
<div class="line"><span class="lineno">  329</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a37f7621e057bd71abdbe2f2480b69935_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3d37964a3a465f7eb3e14df58a68efba" name="a3d37964a3a465f7eb3e14df58a68efba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d37964a3a465f7eb3e14df58a68efba">&#9670;&#160;</a></span>gzputs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzputs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzwrite_8c_source.html#l00332">332</a> of file <a class="el" href="gzwrite_8c_source.html">gzwrite.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  332</span>                                               {</div>
<div class="line"><span class="lineno">  333</span>    <a class="code hl_typedef" href="zlib_2zconf_8h.html#ac049a4b91bbe1112841d2890b206b890">z_size_t</a> len, put;</div>
<div class="line"><span class="lineno">  334</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  338</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  339</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>    <span class="comment">/* check that we&#39;re writing and that there&#39;s no error */</span></div>
<div class="line"><span class="lineno">  342</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a357c4f5723c26966ed9d68c9bd6490c0">GZ_WRITE</a> || <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>)</div>
<div class="line"><span class="lineno">  343</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>    <span class="comment">/* write string */</span></div>
<div class="line"><span class="lineno">  346</span>    len = strlen(s);</div>
<div class="line"><span class="lineno">  347</span>    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)len &lt; 0 || (<span class="keywordtype">unsigned</span>)len != len) {</div>
<div class="line"><span class="lineno">  348</span>        <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>, <span class="stringliteral">&quot;string length does not fit in int&quot;</span>);</div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  350</span>    }</div>
<div class="line"><span class="lineno">  351</span>    put = <a class="code hl_function" href="gzwrite_8c.html#af73b41937514710ee55fca44e1e38417">gz_write</a>(state, s, len);</div>
<div class="line"><span class="lineno">  352</span>    <span class="keywordflow">return</span> put &lt; len ? -1 : (int)len;</div>
<div class="line"><span class="lineno">  353</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a3d37964a3a465f7eb3e14df58a68efba_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a20e49f282c69489d3733593736212876" name="a20e49f282c69489d3733593736212876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20e49f282c69489d3733593736212876">&#9670;&#160;</a></span>gzsetparams()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzsetparams </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strategy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzwrite_8c_source.html#l00557">557</a> of file <a class="el" href="gzwrite_8c_source.html">gzwrite.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  557</span>                                                              {</div>
<div class="line"><span class="lineno">  558</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  559</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2zlib_8h.html#a6ede25c84d3c9f8632305866acffb1d6">z_streamp</a> strm;</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  562</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  563</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>;</div>
<div class="line"><span class="lineno">  564</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  565</span>    strm = &amp;(<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strm);</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>    <span class="comment">/* check that we&#39;re writing and that there&#39;s no error */</span></div>
<div class="line"><span class="lineno">  568</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a357c4f5723c26966ed9d68c9bd6490c0">GZ_WRITE</a> || <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> || <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;direct)</div>
<div class="line"><span class="lineno">  569</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>;</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>    <span class="comment">/* if no change is requested, then do nothing */</span></div>
<div class="line"><span class="lineno">  572</span>    <span class="keywordflow">if</span> (level == <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;level &amp;&amp; strategy == <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strategy)</div>
<div class="line"><span class="lineno">  573</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>;</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>    <span class="comment">/* check for seek request */</span></div>
<div class="line"><span class="lineno">  576</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek) {</div>
<div class="line"><span class="lineno">  577</span>        <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;seek = 0;</div>
<div class="line"><span class="lineno">  578</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="gzwrite_8c.html#a6fad277f0035b7b2048f6187bb03692c">gz_zero</a>(state, <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;skip) == -1)</div>
<div class="line"><span class="lineno">  579</span>            <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err;</div>
<div class="line"><span class="lineno">  580</span>    }</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>    <span class="comment">/* change compression parameters for subsequent input */</span></div>
<div class="line"><span class="lineno">  583</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;size) {</div>
<div class="line"><span class="lineno">  584</span>        <span class="comment">/* flush previous input with previous parameters before changing */</span></div>
<div class="line"><span class="lineno">  585</span>        <span class="keywordflow">if</span> (strm-&gt;avail_in &amp;&amp; <a class="code hl_function" href="gzwrite_8c.html#a578bb1f539c1df875e6ebe887663d425">gz_comp</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a73e5f4c24156c63ba863014396685062">Z_BLOCK</a>) == -1)</div>
<div class="line"><span class="lineno">  586</span>            <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err;</div>
<div class="line"><span class="lineno">  587</span>        <a class="code hl_function" href="StormLib_2src_2zlib_2deflate_8c.html#a6be3d26b7e317aa4db6c7870b1911d4d">deflateParams</a>(strm, level, strategy);</div>
<div class="line"><span class="lineno">  588</span>    }</div>
<div class="line"><span class="lineno">  589</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;level = level;</div>
<div class="line"><span class="lineno">  590</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;strategy = strategy;</div>
<div class="line"><span class="lineno">  591</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>;</div>
<div class="line"><span class="lineno">  592</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2deflate_8c_html_a6be3d26b7e317aa4db6c7870b1911d4d"><div class="ttname"><a href="StormLib_2src_2zlib_2deflate_8c.html#a6be3d26b7e317aa4db6c7870b1911d4d">deflateParams</a></div><div class="ttdeci">int ZEXPORT deflateParams(z_streamp strm, int level, int strategy)</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2deflate_8c_source.html#l00412">deflate.c:412</a></div></div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a73e5f4c24156c63ba863014396685062"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a73e5f4c24156c63ba863014396685062">Z_BLOCK</a></div><div class="ttdeci">#define Z_BLOCK</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00169">zlib.h:169</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a20e49f282c69489d3733593736212876_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a93323ef1288f105db8a89e80f2764d3b" name="a93323ef1288f105db8a89e80f2764d3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93323ef1288f105db8a89e80f2764d3b">&#9670;&#160;</a></span>gzwrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> gzwrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zlib_8h.html#acd0143ddd532551631ecc7093fd7adfc">gzFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="StormLib_2src_2zlib_2zconf_8h.html#a7db54413d7060e4b57868c2b23c0ec1c">voidpc</a>&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gzwrite_8c_source.html#l00237">237</a> of file <a class="el" href="gzwrite_8c_source.html">gzwrite.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  237</span>                                                           {</div>
<div class="line"><span class="lineno">  238</span>    <a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a> <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>;</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>    <span class="comment">/* get internal structure */</span></div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  243</span>    <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a> = (<a class="code hl_typedef" href="StormLib_2src_2zlib_2gzguts_8h.html#a15adc208a26903dbfe8c57720cf401c8">gz_statep</a>)file;</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>    <span class="comment">/* check that we&#39;re writing and that there&#39;s no error */</span></div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;mode != <a class="code hl_define" href="StormLib_2src_2zlib_2gzguts_8h.html#a357c4f5723c26966ed9d68c9bd6490c0">GZ_WRITE</a> || <a class="code hl_enumeration" href="namespacedetail.html#ac742e301ae0a908dc31e49ac3a31fcc5">state</a>-&gt;err != <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>)</div>
<div class="line"><span class="lineno">  247</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>    <span class="comment">/* since an int is returned, make sure len fits in one, otherwise return</span></div>
<div class="line"><span class="lineno">  250</span><span class="comment">       with an error (this avoids a flaw in the interface) */</span></div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)len &lt; 0) {</div>
<div class="line"><span class="lineno">  252</span>        <a class="code hl_function" href="zlib_2gzguts_8h.html#a873d627259b4df4438401c293801c7eb">gz_error</a>(state, <a class="code hl_define" href="StormLib_2src_2zlib_2zlib_8h.html#a9eda83d428a71752d148f38b5dbe04f2">Z_DATA_ERROR</a>, <span class="stringliteral">&quot;requested length does not fit in int&quot;</span>);</div>
<div class="line"><span class="lineno">  253</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  254</span>    }</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    <span class="comment">/* write len bytes from buf (the return value will fit in an int) */</span></div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code hl_function" href="gzwrite_8c.html#af73b41937514710ee55fca44e1e38417">gz_write</a>(state, <a class="code hl_variable" href="spewG_8c.html#a997189b95e4c22de59cfb3605f755787">buf</a>, len);</div>
<div class="line"><span class="lineno">  258</span>}</div>
<div class="ttc" id="aStormLib_2src_2zlib_2zlib_8h_html_a9eda83d428a71752d148f38b5dbe04f2"><div class="ttname"><a href="StormLib_2src_2zlib_2zlib_8h.html#a9eda83d428a71752d148f38b5dbe04f2">Z_DATA_ERROR</a></div><div class="ttdeci">#define Z_DATA_ERROR</div><div class="ttdef"><b>Definition</b> <a href="StormLib_2src_2zlib_2zlib_8h_source.html#l00178">zlib.h:178</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="gzwrite_8c_a93323ef1288f105db8a89e80f2764d3b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5a65adb78194d8b06ca6fd510af8357a.html">AscEmu</a></li><li class="navelem"><a class="el" href="dir_d0fc04153d74feb886fd2096a57dc87f.html">dep</a></li><li class="navelem"><a class="el" href="dir_62373ccef041463ec4d8d69fb4f796a7.html">zlib</a></li><li class="navelem"><a class="el" href="gzwrite_8c.html">gzwrite.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
